<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>3D Scene - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19387" />
    <link rel="next" href="../?id=19387&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=19387">3D Scene</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=19387&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=19387&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="19387" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=19387&amp;page=2">&gt;</a><a href="../?id=19387&amp;page=3">&raquo;</a></form>   <div class="post" id="post-149573">
    <div class="subject"><a href="#post-149573">3D Scene</a></div>
    <div class="body">well first of all i'm new in this forum and i think is great!.<br />now, i'm trying to do a DirectX program that moves a plane in a 3D scene, it's very basic what i wanna do but i'm having some problems: i don't know how to make coherent the plane rotation (or direction) with its movement, actually i made a procedure that rotates the x, y and z axis of a vertex buffer by trigonometry, but my problem is, for example, if i have PI radians of rotation in the x axis the plane is supposed to go backwards but i have to count the y axis rotation too which changes the z position as well, and suppose it's zero (the y rotation) then it'd counteract with the x rotation and the plane will stand still, so that's my first and main problem and my other little problem is how to create a light bulb-like light, i tried to create a point light but it looks very fake!<br /><br />well if someone can help me or tell me an other way to do those things i'd be very grateful :alright:<br /><br />thanks</div>
    <div class="meta">Posted on 2004-09-10 20:41:48 by gallo</div>
   </div>
   <div class="post" id="post-149590">
    <div class="subject"><a href="#post-149590">3D Scene</a></div>
    <div class="body">You like to do things the hard way :)<br />Why not use a Mesh object and let DX handle the dirty work?</div>
    <div class="meta">Posted on 2004-09-11 03:07:40 by Homer</div>
   </div>
   <div class="post" id="post-149591">
    <div class="subject"><a href="#post-149591">3D Scene</a></div>
    <div class="body">for rotating you'll need quaternions. i have a copy of a webpage that went down, see attachment.<br /><br />for the lightbulb: well, just play with the properties of the pointlight (attenuation0 and such).<br /><br />good luck!</div>
    <div class="meta">Posted on 2004-09-11 03:07:53 by lifewire</div>
   </div>
   <div class="post" id="post-149625">
    <div class="subject"><a href="#post-149625">3D Scene</a></div>
    <div class="body">thank you guys for the replies :) <br /><br /><div class="quote">Why not use a Mesh object and let DX handle the dirty work?</div>well actually i'm loading a mesh from a *.x file, first i call the D3DXLoadMeshFromX function and then i load each material and each texture, and finally i get the vertex buffer from the D3DXMesh obj, so i guess i can use the method you said....but i dunno how nor which is, would you please show me how??<br /><br /><div class="quote">for rotating you'll need quaternions.</div>well i didn't understand very well how to use &quot;quaternions&quot;...<br /><br /><div class="quote">for the lightbulb: well, just play with the properties of the pointlight (attenuation0 and such).</div>well i guess that's what i have to do with lights, so thanks for the advice<br /><br />thanks :alright:</div>
    <div class="meta">Posted on 2004-09-11 17:57:29 by gallo</div>
   </div>
   <div class="post" id="post-149791">
    <div class="subject"><a href="#post-149791">3D Scene</a></div>
    <div class="body">hey why don't u just rotate the whole matrix and then advance the vector ViewFrom (camera position)??</div>
    <div class="meta">Posted on 2004-09-14 19:49:07 by blank</div>
   </div>
   <div class="post" id="post-149933">
    <div class="subject"><a href="#post-149933">3D Scene</a></div>
    <div class="body">hello,<br />well it could be a good idea to rotate and to advance the world matrix, but i'm trying to rotate a single vertex buffer and to advance it, not to rotate the whole &quot;world&quot; and then to advance it, but anyway thanks for the advice....and by the way i'd like EvilHomer2k to answer me.... :oops:</div>
    <div class="meta">Posted on 2004-09-17 16:50:14 by gallo</div>
   </div>
   <div class="post" id="post-149962">
    <div class="subject"><a href="#post-149962">3D Scene</a></div>
    <div class="body">You have two choices, quaternions or matrices.<br />Using them is similar, so I won't get into the details of the difference.<br />First you need to create either a quaternion or a matrix that contains &quot;your rotation values&quot;.<br />You can use DX functions to do this.<br />Then you apply the resulting matrix (or quat) to the mesh, again using DX functions.<br />Now your object is rotated, you can Render it.<br />Simple, aint it?<br />You don't need to rotate all the vertices yourself :)</div>
    <div class="meta">Posted on 2004-09-18 06:15:55 by Homer</div>
   </div>
   <div class="post" id="post-149963">
    <div class="subject"><a href="#post-149963">3D Scene</a></div>
    <div class="body">I just wanted to add that you can use the same notion to rotate THE WORLD AROUND YOUR VIEWPOINT by creating a matrix or quat that contains &quot;the camera orientation as rotations&quot; and applying the resulting matrix as the &quot;World Transformation&quot;.</div>
    <div class="meta">Posted on 2004-09-18 06:19:44 by Homer</div>
   </div>
   <div class="post" id="post-149964">
    <div class="subject"><a href="#post-149964">3D Scene</a></div>
    <div class="body">I also wanted to add that is possible to create matrices that (rather than rotate) can Translate (move in +/- XYZ) and Scale (also in XYZ but as a multiplier) your objects and/or camera, and that these matrices can be &quot;CONCATENATED&quot; to produce a single matrix that can rotate, scale and position an object in the world, etc etc, lots of possibilities :)<br />It makes you start thinking in terms of object INSTANCES, doesn't it?<br />You can redraw the same object at different locations, scales and orientations ;)</div>
    <div class="meta">Posted on 2004-09-18 06:24:28 by Homer</div>
   </div>
   <div class="post" id="post-149981">
    <div class="subject"><a href="#post-149981">3D Scene</a></div>
    <div class="body">hi EvilHomer2k,<br />first of all thank you for you help! :alright: <br /><br />well that was exactly what i need for my test app, i think (please correct me if i'm wrong) that i have to use D3DXMatrixRotaion? to rotate in ? axis but how can i use the function D3DXMatrixTranslation to make movement coherent with the rotation?, and something more: how do i say to the vertex buffer that it has to rotate and move according to a matrix?<br /><br />i would really love some sample code :oops: <br /><br />thanks</div>
    <div class="meta">Posted on 2004-09-18 18:06:04 by gallo</div>
   </div>
   <div class="post" id="post-149982">
    <div class="subject"><a href="#post-149982">3D Scene</a></div>
    <div class="body">What about this one http://historical.library.cornell.edu/cgi-bin/cul.math/docviewer?did=01140002&amp;view=50&amp;frames=0&amp;seq=11 the section of rotation.. or all...<br /><br />Altought you should find information about operations on matrices :) (normally only multiplication of a transition matrix by the points that you whant to translate...)</div>
    <div class="meta">Posted on 2004-09-18 19:27:02 by rea</div>
   </div>
   <div class="post" id="post-149984">
    <div class="subject"><a href="#post-149984">3D Scene</a></div>
    <div class="body">I think yes, it would be best to start with Matrices.<br />You can try Quaternions later on (they can be faster).<br /><br />Let's talk first about Translation of objects and the World Transformation.<br />I want you to start thinking in terms of a 3D pen or cursor that you will move to a place in your world to draw the object.<br />Let's say for example that we want to draw an object at World Location (10, -20, 5)<br />In order to do this we need to move THE WORLD by the opposite amount.<br />Yes, in order to move the object to +10 in X, we need to MOVE THE WORLD by -10 in X, Draw the object, THEN MOVE BACK WHERE WE WERE.<br />How do we do this?<br />First, we need to make a note of the CURRENT WORLD TRANSFORM so we can put it back when we are done. Now we make a Translation Matrix for moving the object. We apply it not to the object, but to the WORLD !!<br />Now we Render our object, then we set the World Transform back to its original matrix that we stored earlier.<br />Now we can use that logic to place all our objects RELATIVE TO THE ORIGIN OF THE WORLD.<br /><br />Matrices are about nothing if not relativity.<br /><br />How do we rotate AND place our objects?<br />First we need to define what rotation is. Are we rotating each object around its OWN origin, or are they orbiting some fixed point in space?<br />(Note - again, rotations should be made negative, and applied as the World Transformation, rotating the World around the Object by minus the desired angles)<br />Let's assume we want to rotate each object around its OWN origin, as well as place it in world space.<br />To do this, we need to rotate the object BEFORE we translate it.<br />We need to create TWO matrices for each object, one Translation and one Rotation matrix. Then we need to CONCATENATE them into a single matrix, apply it to the world, draw the object, then unapply it.<br />How do we know if we are rotating then translating, or translating then rotating? Simple - when we concatenate the matrices, THE ORDER IS VERY IMPORTANT. Experimentation here will make this clear.<br />Source can be found on Scronty's site.</div>
    <div class="meta">Posted on 2004-09-18 20:23:13 by Homer</div>
   </div>
   <div class="post" id="post-149985">
    <div class="subject"><a href="#post-149985">3D Scene</a></div>
    <div class="body">What happens if we don't reapply the old world transform inbetween processing each object?<br /><br />The next object will be translated and rotated WITH RESPECT TO THE LAST ONE.<br /><br />COOL, HUH?<br /><br />This is called Relative Rotation and Translation.<br />We can use this to make things orbit each other and other coolness.</div>
    <div class="meta">Posted on 2004-09-18 20:25:36 by Homer</div>
   </div>
   <div class="post" id="post-149986">
    <div class="subject"><a href="#post-149986">3D Scene</a></div>
    <div class="body">The greatest use for relative rotation and translation is when it comes to Articulated objects like Skinned Meshes.<br /><br />Think about something with moving joints, the joints are rotation origins.</div>
    <div class="meta">Posted on 2004-09-18 20:28:11 by Homer</div>
   </div>
   <div class="post" id="post-149987">
    <div class="subject"><a href="#post-149987">3D Scene</a></div>
    <div class="body">It's pretty easy to come up with a DrawObject procedure that <br />A) saves the current world xform<br />B) applies the object xform to the world<br />C) renders the object<br />D) applies the saved world xform<br /><br />Now you can call that for each object, make life easy :)</div>
    <div class="meta">Posted on 2004-09-18 20:31:05 by Homer</div>
   </div>
   <div class="post" id="post-149989">
    <div class="subject"><a href="#post-149989">3D Scene</a></div>
    <div class="body">I should point out that when we manipulate &quot;The World&quot;, nothing is really being manipulated that already is rendered - the manipulation only applies to what is yet to be rendered, ok?<br /><br />We are not physically rotating every vertex in the known universe around one origin each time we draw stuff using the method provided, so don't panic when I talk in those terms.</div>
    <div class="meta">Posted on 2004-09-18 20:36:25 by Homer</div>
   </div>
   <div class="post" id="post-149996">
    <div class="subject"><a href="#post-149996">3D Scene</a></div>
    <div class="body">The composition of a matrix :), you know composition of functions??<br /><br />g(x) = x^2<br />f(x) = 2*x+2<br /><br />f(g(x)) = 2*g(x)+2 = 2*x^2+2<br /><br />Is nearly the same with matrices.. You have your translation matris T and your rotation matrix R<br /><br />TR = M<br />RT = M^(-1)<br />You get the the rotation  oand translation in only one matrix and the inverse if you do the multiplication in the other order... you aply first one transformation for move the objet and aply the inverse for undo the transformation, and because they are square matriz the multiplition (or transformation) will always have a inverse. Mean that.<br />MM^(-1) = I<br />You get the identity matrix or no modifications.</div>
    <div class="meta">Posted on 2004-09-19 09:20:25 by rea</div>
   </div>
   <div class="post" id="post-150000">
    <div class="subject"><a href="#post-150000">3D Scene</a></div>
    <div class="body">hello hgb,<br />thanks for your explanation and the web site, now i understand mathematically how to rotate a solid object :alright:<br /><br />hello EvilHomer2k,<br />that's awesome!!, thank you very much :alright: <br />now, i have noticed one thing: you said that if i want to move an object for example to (10,0,0) i have to move the world matrix to (-10,0,0) then i render the object and finally i move the matrix again to (0,0,0) but when i do this the object appears in (-10,0,0) is this correct? or am i doing somethig wrong???<br />and something more: i have made tests with rotation and translation, as you taught me, and they worked exacly how i expected, but i don't know how to apply both movements, i mean, i don't know which function &quot;concatenates&quot; the both matrices (rotation and movement), would you please tell me which is???<br /><br />thanks</div>
    <div class="meta">Posted on 2004-09-19 11:46:42 by gallo</div>
   </div>
   <div class="post" id="post-150089">
    <div class="subject"><a href="#post-150089">3D Scene</a></div>
    <div class="body">Simple.<br />D3DXMatrixMultiply is the one you are looking for.<br /><br />When we &quot;multiply&quot; two input matrices, we get one &quot;concatenated&quot; output matrix.<br /><br />The params for the function are from memory, <br />param1= ptr to output matrix<br />param2= ptr to input matrix#1<br />param3= ptr to input matrix#2<br /><br />The order of the input matrices is very important, especially when we begin concatenating MORE than just two matrices.<br />If my memory serves me correctly, the last matrix operation applied to a concatenated matrix can be considered the first one applied when we apply the matrix to an object (via applying it to the worldtransform).<br />So if input1 is translationmatrix and input2 is rotationmatrix , we can imagine we are first rotating the object (about the world origin, which just happens to coincide with the objects origin when its at 0,0,0), then translating it in XYZ. This is most often going to be what you want.<br /><br />As for why its moving in -X when you build the worldtransform as I stipulated, that depends on whether you built a right or left handed viewmatrix :)</div>
    <div class="meta">Posted on 2004-09-21 01:37:16 by Homer</div>
   </div>
   <div class="post" id="post-150090">
    <div class="subject"><a href="#post-150090">3D Scene</a></div>
    <div class="body">Also, you don't &quot;move&quot; the world back to 0,0,0<br />What you do is &quot;get the current world transform and store it&quot;<br />then &quot;set the world transform to a matrix which represents MINUS the objectposition and rotation, and draw the object&quot;<br />and finally &quot;set the worldtransform to whatever it was before (since we saved it)&quot;</div>
    <div class="meta">Posted on 2004-09-21 01:41:49 by Homer</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=19387&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=19387&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="19387" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=19387&amp;page=2">&gt;</a><a href="../?id=19387&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
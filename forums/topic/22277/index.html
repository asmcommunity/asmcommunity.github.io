<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>APIC, need help getting irq's working - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22277" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=22277">APIC, need help getting irq's working</a></p>
   <div class="post" id="post-167413">
    <div class="subject"><a href="#post-167413">APIC, need help getting irq's working</a></div>
    <div class="body">Hi,<br /><br />I am bizy on my own operating system. its all working fine and all, but i also want to be able to use the APIC so i can get into SMM-mode (system management mode).  (To get into SMM-mode i need to generate an SMI and there for i need the APIC)<br /><br />I got some info on the local Apic from the basic intel proc. manuels. so i know how to turn the local APIC on. i just dont know how to use the I/O APIC (or Global Apic), which handels the external interupts (the IRQ&#39;s).<br /><br />Does any one have some info on the Local/Global or I/O APIC.<br /><br /><br />Regards.<br />PyroMathic<br /><br /></div>
    <div class="meta">Posted on 2005-11-01 14:24:44 by pyr0_mathic</div>
   </div>
   <div class="post" id="post-167508">
    <div class="subject"><a href="#post-167508">Re: APIC, need help getting irq's working</a></div>
    <div class="body">Hi,<br /><br />Well i found a doc about the IO-Apic, (look at attachment).<br /><br />The base addr is FEC0.xy00 according to the Doc. (x = 0 to F, y =0/4/8/C)<br />and then there is a reference to the &quot;APIC Base Relocation Register&quot;, which should be located on the PIIX3.<br /><br />But how can i get to the PIIX3? so how can i get the base of the IO-APIC&#39;s  memory mapped registers.<br /><br /><br />Any Comment is appriciated<br /><br /><br />Regards.<br />PyroMathic</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1141" target="_blank">APIC.pdf</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-11-03 16:58:48 by pyr0_mathic</div>
   </div>
   <div class="post" id="post-167513">
    <div class="subject"><a href="#post-167513">Re: APIC, need help getting irq's working</a></div>
    <div class="body">Try to get the developers manual of your Chipset!<br />If your chipset is from Intel, it will be easy to find ...<br /><br />Regards,<br />Opc0de</div>
    <div class="meta">Posted on 2005-11-03 21:32:48 by Opcode</div>
   </div>
   <div class="post" id="post-168394">
    <div class="subject"><a href="#post-168394">Re: APIC, need help getting irq's working</a></div>
    <div class="body">hi, once more...<br /><br />Whell, i got a Soltek main-board, and i have 2 soltek-pc&#39;s. on both the io-apic, isnt where it should have been, at FEC0.0000.<br /><br />i also tested it on my intel-(P4C800) mainboard, on that one i was able to write to the io-apic.<br /><br />But the problem is i cant find much about Soltek-main boards.<br /><br />Regards.<br />PyroMathic</div>
    <div class="meta">Posted on 2005-11-30 06:09:58 by pyr0_mathic</div>
   </div>
   <div class="post" id="post-168443">
    <div class="subject"><a href="#post-168443">Re: APIC, need help getting irq's working</a></div>
    <div class="body">here <a target="_blank" href="http://mitglied.lycos.de/shiceisdasdoch/pci.rar">http://mitglied.lycos.de/shiceisdasdoch/pci.rar</a> are 2 pdfs that describe how to get the content of the &quot;APIC Base Relocation Register&quot; i tried the method described in 290476.pdf by accessing I/O address 22/23 but i think the data i got wasnt correct.i think i82371FB.pdf is a newer document and you should try this one to get the relocations.if you figure out how to do it pls tell me!</div>
    <div class="meta">Posted on 2005-12-01 07:59:17 by sHice</div>
   </div>
   <div class="post" id="post-168450">
    <div class="subject"><a href="#post-168450">Re: APIC, need help getting irq's working</a></div>
    <div class="body">lo,<br /><br />thx, for the link. am reading it right now, (it seems to be promesing). and yes when i find out how to use the io-apic ill tell u how it can be done.<br /><br />Regards.<br />PyroMathic</div>
    <div class="meta">Posted on 2005-12-01 14:31:23 by pyr0_mathic</div>
   </div>
  </div>
 </body>
</html>
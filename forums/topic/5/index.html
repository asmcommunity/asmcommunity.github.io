<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Re: 3. A Simple Window - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=17">Iczelion's Tutorials</a> &raquo; <a href="../?id=5">Re: 3. A Simple Window</a></p>
   <div class="post" id="post-34107">
    <div class="subject"><a href="#post-34107">Re: 3. A Simple Window</a></div>
    <div class="body">**********<br />HINSTANCE and LPSTR, are really new names for DWORD<br />**********<br />so can we declare them as a dword? if no then why not?<br /><br /><br />**********<br />WndProc proc hWnd:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br />**********<br />when did we actually invoke the procedure WndProc? I don't see it invoked anywhere in the program insted it was used in the following instruction<br /><br /><br />**********<br />mov wc.lpfnWndProc, OFFSET WndProc <br />**********<br />which leads me to the next question, since wc.lpfnWndProc is a dword data type how does it call aprocedure? or does windows call the WndProc when we register our window class?<br /><br />I'm very confused?!?!:stupid:</div>
    <div class="meta">Posted on 2002-04-20 06:13:49 by code1101</div>
   </div>
   <div class="post" id="post-34108">
    <div class="subject"><a href="#post-34108">Re: Re: 3. A Simple Window</a></div>
    <div class="body"><div class="quote"><em>Originally posted by code1101 </em><br />**********<br />HINSTANCE and LPSTR, are really new names for DWORD<br />**********<br />so can we declare them as a dword? if no then why not?<br /></div><br />Yes you can use a DWORD, as HINSTANCE and LPSTR are just typedef'ed in windows.inc as DWORDs<br /><br /><br /><div class="quote"><br />**********<br />WndProc proc hWnd:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br />**********<br />when did we actually invoke the procedure WndProc? I don't see it invoked anywhere in the program insted it was used in the following instruction<br /><br /><br />**********<br />mov wc.lpfnWndProc, OFFSET WndProc <br />**********<br />which leads me to the next question, since wc.lpfnWndProc is a dword data type how does it call aprocedure?</div><br />It doesn't call the procedure, it moves the offset of the procedure into the lpfnWndProc member of wc. <br /><br /><div class="quote">or does windows call the WndProc when we register our window class?</div><br />Yes, windows calls the procedure at the offset you specified (mov wc.lpfnWndProc, offset WndProc) whenever a message is sent to the window.<br /><br /><strong>edit:</strong><em> windows does not call this when you *register* the window class, but when you *create* a window and while it exists.</em><br />Thomas</div>
    <div class="meta">Posted on 2002-04-20 06:23:35 by Thomas</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>server &amp; client don't connect - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30703" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=30703">server &amp; client don't connect</a></p>
   <div class="post" id="post-215205">
    <div class="subject"><a href="#post-215205">server &amp; client don't connect</a></div>
    <div class="body">Hi, I write client&amp;server on masm. But I have some question. How do I start the server in the background? Should I be using the CreateProcess function?<br /><br />http://pastebin.com/jDucFXra<br /><br />I opened my server in OllyDBG and saw that bind function returns FFFFFF...h (-1d), although the program does not issue an error.<br /><br />Please help. Where&#039;s my error?<br /></div>
    <div class="meta">Posted on 2011-10-13 15:58:51 by Omenus</div>
   </div>
   <div class="post" id="post-215210">
    <div class="subject"><a href="#post-215210">Re: server &amp; client don't connect</a></div>
    <div class="body">You can&#039;t use CreateProcess until you have an application running, which means you already have a process, lol.<br />No, there is no background, you just don&#039;t create, or don&#039;t SHOW, the application window on a windows OS. There is more, you can do networking via Services, but this is not what you asked, and let&#039;s keep it simple and make it work, then move on to something else huh.<br /></div>
    <div class="meta">Posted on 2011-10-14 06:13:59 by Homer</div>
   </div>
   <div class="post" id="post-215211">
    <div class="subject"><a href="#post-215211">Re: server &amp; client don't connect</a></div>
    <div class="body">I forgot to ask why the server needs to be &quot;invisible&quot; in the first place, and didn&#039;t mention the tray or anything, I blame it on Friday.<br />And the bug? HTONS what that doing? and why? and what are you shoving?<br />Answer these to yourself the answer will stare you in the eye ok :)<br /><br />Have a nice day :)<br /></div>
    <div class="meta">Posted on 2011-10-14 06:15:26 by Homer</div>
   </div>
   <div class="post" id="post-215212">
    <div class="subject"><a href="#post-215212">Re: server &amp; client don't connect</a></div>
    <div class="body">Virus&#039;/Trojans shouldn&#039;t be easily discovered, Homer. <br /><br />C:\VirLog.txt ? poor choice...</div>
    <div class="meta">Posted on 2011-10-14 06:26:25 by JimmyClif</div>
   </div>
   <div class="post" id="post-215219">
    <div class="subject"><a href="#post-215219">Re: server &amp; client don't connect</a></div>
    <div class="body">No this don&#039;t virus. This just winsock example. <br />Ok Homer The htons - function converts a u_short from host to TCP/IP network byte order (which is big-endian). <br />http://msdn.microsoft.com/en-us/library/windows/desktop/ms738557%28v=vs.85%29.aspx<br /><br />I want the program to not close after opening. And it closes because bind function returns an error (-1e) to register them. So I want to know why the port is not binded and where I was wrong.<br /><br /><div class="quote">C:\VirLog.txt</div><br />So funny)) :lol:</div>
    <div class="meta">Posted on 2011-10-14 14:29:44 by Omenus</div>
   </div>
   <div class="post" id="post-215220">
    <div class="subject"><a href="#post-215220">Re: server &amp; client don't connect</a></div>
    <div class="body"><a target="_blank" href="http://xmages.net/i/3156129"><img src="http://xmages.net/storage/10/1/0/b/e/upload/1ec19ec3.png" /></a></div>
    <div class="meta">Posted on 2011-10-14 14:43:27 by Omenus</div>
   </div>
   <div class="post" id="post-215224">
    <div class="subject"><a href="#post-215224">Re: server &amp; client don't connect</a></div>
    <div class="body">Most professional programmers I know use either Windbg for Windows or gdb on Linux.&nbsp; Not a knock again Oleh ( a very talented individual ) or his debugger but whenever I see a newly registered user on this forum discussing his debugger usage the first thing that comes to mind is wannabe newbie cracker...&nbsp; Maybe it&#039;s just me...</div>
    <div class="meta">Posted on 2011-10-14 20:11:39 by p1ranha</div>
   </div>
   <div class="post" id="post-215226">
    <div class="subject"><a href="#post-215226">Re: server &amp; client don't connect</a></div>
    <div class="body">No choice of debugger private matter. Windbg Softice or IDA or what&#039;s the difference than to debug your program.</div>
    <div class="meta">Posted on 2011-10-15 00:44:26 by Omenus</div>
   </div>
   <div class="post" id="post-215227">
    <div class="subject"><a href="#post-215227">Re: server &amp; client don't connect</a></div>
    <div class="body">I repeat, the problem is how you are storing the result from htons !!<br />I can&#039;t help you more without knowing more about your intended application.<br /></div>
    <div class="meta">Posted on 2011-10-15 04:06:32 by Homer</div>
   </div>
   <div class="post" id="post-215236">
    <div class="subject"><a href="#post-215236">Re: server &amp; client don't connect</a></div>
    <div class="body"><div class="quote">Ok Homer The htons - function converts a u_short from host to TCP/IP network byte order (which is big-endian).<br />http://msdn.microsoft.com/en-us/library/windows/desktop/ms738557%28v=vs.85%29.aspx</div><br /><br />I repeated</div>
    <div class="meta">Posted on 2011-10-15 13:38:25 by Omenus</div>
   </div>
   <div class="post" id="post-215238">
    <div class="subject"><a href="#post-215238">Re: server &amp; client don't connect</a></div>
    <div class="body">Sorry but as a right? :shock:<br />??<br />Thats right : <pre><code>invoke htons, 5000</code></pre><br /><br />But port don&#039;t binded ..... And Error WSAENOTSOCK.</div>
    <div class="meta">Posted on 2011-10-15 16:12:58 by Omenus</div>
   </div>
   <div class="post" id="post-215239">
    <div class="subject"><a href="#post-215239">Re: server &amp; client don't connect</a></div>
    <div class="body">Thats because you stored a 16 bit value using a 32 bit register(!) and trashed the socketaddress structure.</div>
    <div class="meta">Posted on 2011-10-15 17:55:07 by Homer</div>
   </div>
   <div class="post" id="post-215247">
    <div class="subject"><a href="#post-215247">Re: server &amp; client don't connect</a></div>
    <div class="body">Thanks Homer. I am finished my program! This be very hard!! 8) 8)</div>
    <div class="meta">Posted on 2011-10-17 13:09:50 by Omenus</div>
   </div>
   <div class="post" id="post-215310">
    <div class="subject"><a href="#post-215310">Re: server &amp; client don't connect</a></div>
    <div class="body">Everything is hard until you do it once.<br />Then it is easy.<br />Strange, but true.<br /></div>
    <div class="meta">Posted on 2011-11-03 02:32:20 by Homer</div>
   </div>
  </div>
 </body>
</html>
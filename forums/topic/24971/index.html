<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Problem with DebugCenter - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24971" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24971">Problem with DebugCenter</a></p>
   <div class="post" id="post-182716">
    <div class="subject"><a href="#post-182716">Problem with DebugCenter</a></div>
    <div class="body">Hi Biterider,<br /><br />I have a problem with DebugCenter.<br />On a Pentium IV, WinXP SP2 machine, I am using RadAsm 2.1.0.8, and ObjAsm 1.3e.<br /><br />First I executed Make_Lib_P3.bat, and after that I built the DebugCenter Project.<br />Then I tried your Demo01A, which should send some output to the DebugCenter.<br />The only output which is sent to the DebugCenter is:<br /><br /><pre><code>Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0</code></pre><br /><br /><br />I also tried it on another machine, with the same results.<br /><br /><br />The next try was in a project of my own, <br />Although I set up the debug system with:<br />	<br /><pre><code>SysSetup OOP_WINDOWS, DEBUG(WND)</code></pre><br /><br />the following line didn&#39;t send a message to the DebugCenter.<br /><br /><pre><code>DbgText &quot;Debug&quot;</code></pre><br /><br />The only result was the same result as before.<br /><br />What can be wrong?<br /><br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-01 14:43:12 by mdevries</div>
   </div>
   <div class="post" id="post-182740">
    <div class="subject"><a href="#post-182740">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi mdevries<br />ObjectID = 250 is the Registry Key that has problems reading something.<br /><br />I guess that something went wrong on the installation. Please check 2 things:<br />- The installer should have created 3 environment variables: <br />&nbsp; &nbsp; MASM32_PATH=C:\Masm32<br />&nbsp; &nbsp; OA32_PATH=H:\ObjAsm32<br />&nbsp; &nbsp; INCLUDE=H:\ObjAsm32;H:\ObjAsm32\Resources;H:\ObjAsm32\Resources\Dialogs<br />&nbsp; &nbsp; Check if they were created and if the paths are correct for your system.<br />- The registry key was wrong<br />Registry Key: HKEY_LOCAL_MACHINE\SOFTWARE\MASM32\DebugCenter<br />String entry: Path=H:\ObjAsm32\Projects\DebugCenter\DebugCenter.exe<br />Check them also and the paths for your system.<br /><br />In the Help directory you will find a detailed explanation of the installation process that can help you (install.txt).<br /><br />If the problem persists, send me an extract of the registry key.<br /><br />Regards,<br /><br />Bitrider<br /></div>
    <div class="meta">Posted on 2006-07-02 00:40:18 by Biterider</div>
   </div>
   <div class="post" id="post-182741">
    <div class="subject"><a href="#post-182741">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi Biterider,<br /><br />I checked the 3 environment variables.<br />They all exist, and the paths are correct.<br /><br /><pre><code>MASM32_PATH=&quot;C:\Masm32&quot;<br />OA32_PATH=&quot;C:\Masm32\ObjAsm32&quot;<br />INCLUDE=&quot;C:\masm32\include;C:\Masm32\ObjAsm32;C:\Masm32\ObjAsm32\Resources;C:\Masm32\ObjAsm32\Resources\Dialogs&quot;</code></pre><br /><br />The only thing different is that the Include environment variable has an extra: C:\masm32\include<br /><br /><br />This is an extract of the registry key:<br /><br /><pre><code>Windows Registry Editor Version 5.00<br /><br /><br />&quot;Path&quot;=&quot;C:\\masm32\\ObjAsm32\\Projects\\DebugCenter\\DebugCenter.exe&quot;</code></pre><br /><br /><br />As you can see I installed the ObjAsm32 package under c:\masm32<br /><br />During installation of ObjAsm32 I followed the guidelines in the install.txt file you mention. I checked the file again.<br />As far as I can see, nothing went wrong, but maybe I am mistaken.<br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-02 01:27:47 by mdevries</div>
   </div>
   <div class="post" id="post-182742">
    <div class="subject"><a href="#post-182742">Re: Problem with DebugCenter</a></div>
    <div class="body">Apparently there&#39;s something odd going on with the OA32 installer - it seems that sometimes not ALL the keys are created.<br />I am not sure that&#39;s the problem in your case, but regardless, please find attached a .REG file sent from Biterider to me which contains all the registry keys.. note that if you decide to install these keys, you may have to edit some of them using RegEdit depending on your filepaths.<br />Also note that this file won&#39;t set the Environmental Variables.<br />Finally, note that I had to rename the file extension (from .REG to .TXT) in order to attach the file here, please correct this yourself.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1765" target="_blank">oa32reg.txt</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-07-02 01:49:29 by Homer</div>
   </div>
   <div class="post" id="post-182749">
    <div class="subject"><a href="#post-182749">Re: Problem with DebugCenter</a></div>
    <div class="body">Also, you can edit those paths before you merge the .reg there and eliminate the need to use regedit... Just open it as txt edit them, rename to .reg, and merge it.</div>
    <div class="meta">Posted on 2006-07-02 02:38:16 by Bobbias</div>
   </div>
   <div class="post" id="post-182755">
    <div class="subject"><a href="#post-182755">Re: Problem with DebugCenter</a></div>
    <div class="body">Thanks Homer,<br /><br />I used the registry file you attached, and after the update the key looks like this:<br /><br /><pre><code>Windows Registry Editor Version 5.00<br /><br /><br />&quot;Path&quot;=&quot;C:\\masm32\\ObjAsm32\\Projects\\DebugCenter\\DebugCenter.exe&quot;<br />&quot;State&quot;=dword:00000003<br />&quot;Top&quot;=dword:00000052<br />&quot;Bottom&quot;=dword:00000352<br />&quot;TxtZoom&quot;=dword:00000040<br />&quot;Directory&quot;=&quot;C:\\&quot;<br />&quot;Left&quot;=dword:00000003<br />&quot;Right&quot;=dword:0000007e<br />&quot;Language&quot;=dword:00000352<br />&quot;BmpZoom&quot;=dword:00000040<br />&quot;Version&quot;=&quot;1.0.1&quot;</code></pre><br /><br />Now it works.<br />So I agree, something must have gone wrong during the installation of ObjAsm32.<br />I guess it must be intrigueing for Biterider to find the reason why, and correct it in the installation process.<br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-02 03:07:37 by mdevries</div>
   </div>
   <div class="post" id="post-183375">
    <div class="subject"><a href="#post-183375">I found the same problem, too</a></div>
    <div class="body">I had the same problem, using RADASM and OBJASM32, when compling demo01a.rap. My computer&#39;s OS is Windows ME.<br />After using Homer&#39;s solution, things became better:<br /><br /><br />&quot;State&quot;=dword:00000003<br />&quot;Top&quot;=dword:00000052<br />&quot;Bottom&quot;=dword:00000352<br />&quot;TxtZoom&quot;=dword:00000040<br />&quot;Directory&quot;=&quot;C:\\&quot;<br /><br /></div>
    <div class="meta">Posted on 2006-07-11 00:39:13 by guidry</div>
   </div>
   <div class="post" id="post-183376">
    <div class="subject"><a href="#post-183376">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi guidry<br />What is your current problem. From your registry extract, I see that you have some missing entries.<br />First try to run DC from its DebugCenter.exe. <br />If it doesn&#39;t help, complete the entries manually like the printout of mdevries post.<br /><br />Regards,<br /><br />Biterider</div>
    <div class="meta">Posted on 2006-07-11 00:57:00 by Biterider</div>
   </div>
   <div class="post" id="post-183381">
    <div class="subject"><a href="#post-183381">Re: Problem with DebugCenter</a></div>
    <div class="body">Thank you. These keys are HOMER&#39;s solution, not mine. <br />I added these keys, and my problems seems get resloved.<br /><br /><br />&quot;State&quot;=dword:00000003<br />&quot;Top&quot;=dword:00000052<br />&quot;Bottom&quot;=dword:00000352<br />&quot;TxtZoom&quot;=dword:00000040<br />&quot;Directory&quot;=&quot;C:\\&quot;<br /><br />I¦nbsp; encountered the same problem as Mdevries&#39;s. <br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />Object ID = 0, Error Code = 0<br />Object ID = 250, Error Code = 2<br />.....<br />Then I surfed on the web, logged in here and found the solution by Homer.<br />After that I entered these register keys and solved my problem.<br />And I post above in the hope that you could possibly take a look and have a check at OBJASM installer, to make OBJASM better.<br /><br />Then you logged in, and gave me an advice.<br />It&#39;s so nice of you to help the newbees like me.<br />OBJASM is very cool. It&#39;s not easy for a single person to design such<br />great project, OOP in ASM. I appreciate you and your work.<br />I wish you could keep the good work on.<br />Microsoft has released their new Assembler, but limited the licence to educational purpose only.<br />So I am eager to know how will you do? Do you have any plan for another Assembler? Keep going on. Hope to see OBJASM is growing forever.<br /></div>
    <div class="meta">Posted on 2006-07-11 01:46:41 by guidry</div>
   </div>
   <div class="post" id="post-183595">
    <div class="subject"><a href="#post-183595">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi Biterider,<br /><br />I found something peculiar on DbgText, DbgWarning etc.<br /><br />Because I have some problems getting Homer&#39;s GameDev demo&#39;s running on my laptop, I put some extra DbgText lines in his code like the following, in order to find the source of the trouble.<br /><br />Consider these lines:<br /><br /><pre><code>pushf<br />pusha<br />DbgText &quot;Test 1&quot;<br />popa<br />popf</code></pre><br /><br />It seems a little too much to do the pushes and the pops, because your debug macro&#39;s do the same at the beginning and the end of the macro&#39;s, but nevertheless this should not be a problem, should it?<br /><br />I found the following results:<br />- If DebugCenter is already running, there is no output to DebugCenter.<br />- If DebugCenter is not yet running, the following error message pops up:<br /><br /><pre><code>Registration error.<br />Start DebugCenter manually...</code></pre><br /><br />I was curious whether the problem came from pushf or from pusha, or maybe from both:<br />The results after a few tests with different pushes:<br />- Only pushf was the source of the error.<br /><br />I can&#39;t figure out why the pushf would be a problem?<br />Do you see the same strange behaviour on your computer?<br />I tested it on my desktop, and on my laptop, both with the same results.<br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-16 09:17:19 by mdevries</div>
   </div>
   <div class="post" id="post-183612">
    <div class="subject"><a href="#post-183612">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi mdevries<br />There is a simple reason why this happens. When you use pushf + pusha you are pushing (1 + 8 ) 9 words onto the stack. That means that the stack remains unaligned and some of the internals of the macros doesn’t work correctly. Usually you use pushfd + pushad that pushes 9 dwords onto stack and it keeps aligned.<br />Now if you remove the pushf all is OK again!<br /><br />Basically, the DbgXXX macros are designed to do not alter the context in witch they are executed, so they don’t require to save any register or flags.<br /><br />Regards,<br /><br />Biterider<br /></div>
    <div class="meta">Posted on 2006-07-16 14:33:08 by Biterider</div>
   </div>
   <div class="post" id="post-183613">
    <div class="subject"><a href="#post-183613">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi Biterider,<br /><br /><div class="quote">When you use pushf + pusha you are pushing (1 +?&nbsp; 9 words onto the stack.</div><br /><br />Thanks for your explanation. I understand the pushf problem now: I used is the 16 bit version. Stupid!&nbsp; :lol:<br />I have to keep the stack aligned on a 32 bit boundary: pushfd does just that.<br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-16 15:02:55 by mdevries</div>
   </div>
   <div class="post" id="post-183770">
    <div class="subject"><a href="#post-183770">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi mdevries<br />I modified the debug macros to make them insensible to stack missalignments. Attached you can find the 2 modified files. <br /><br />Regards,<br /><br />Biterider</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1886" target="_blank">DebugDX.inc</a></li>
      <li><a href="../../attachments/?id=1885" target="_blank">Debug.inc</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-07-20 03:36:38 by Biterider</div>
   </div>
   <div class="post" id="post-183777">
    <div class="subject"><a href="#post-183777">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi Biterider,<br /><br />I appreciate it. Thanks.<br /><br />Friendly regards,<br />mdevries.</div>
    <div class="meta">Posted on 2006-07-20 13:12:44 by mdevries</div>
   </div>
   <div class="post" id="post-184346">
    <div class="subject"><a href="#post-184346">Re: Problem with DebugCenter</a></div>
    <div class="body">BiteRider,<br /><br />I had the same problem as well when I reinstalled everything (on my new computer).&nbsp;  I eventually got it working, but through alot of fumbling around trying to determine if it was the DegubCenter or something in the compile.&nbsp; If I remember correctly, I manually called it to resize from the taskbar and the next time I ran it it worked.<br /><br />From what I&#39;m reading above, it would appear I did not get the registry key installed properly either.&nbsp; Maybe you should have &#39;first time&#39; check and add the key programatically from DebugCenter.<br /><br />Regards,<br />:NaN:</div>
    <div class="meta">Posted on 2006-08-08 22:22:02 by NaN</div>
   </div>
   <div class="post" id="post-184355">
    <div class="subject"><a href="#post-184355">Re: Problem with DebugCenter</a></div>
    <div class="body">Hi<br />I&#39;m working on it. <br /><br />Regards,<br /><br />Biterider</div>
    <div class="meta">Posted on 2006-08-09 05:08:02 by Biterider</div>
   </div>
  </div>
 </body>
</html>
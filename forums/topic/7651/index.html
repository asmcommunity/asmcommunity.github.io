<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>N00b Problem with Dialog - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7651" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=17">Iczelion's Tutorials</a> &raquo; <a href="../?id=7651">N00b Problem with Dialog</a></p>
   <div class="post" id="post-55667">
    <div class="subject"><a href="#post-55667">N00b Problem with Dialog</a></div>
    <div class="body">I get an error in the following code from Iczelion's tutorial on Dialog Boxes. I'm sure I typed everything write, and I've traced through my .IF ... .ENDIF blocks and I can't find the error. THe error is: C:\masm32\BIN\Proj\dialog_1.asm(115) : fatal error A1010: unmatched block nesting : WndProc<br /><br /><pre><code><br />wndProc proc hWnd&#58;HWND, uMsg&#58;UINT, wParam&#58;WPARAM, lParam&#58;LPARAM<br />    .IF uMsg == WM_DESTROY<br />        invoke PostQuitMessage, NULL<br />    .ELSEIF uMsg == WM_COMMAND<br />        mov eax, wParam<br />        .IF lParam == 0<br />            .IF ax == IDM_GETTEXT<br />                invoke GetDlgItemText, hWnd, IDC_EXIT, ADDR buffer, 512<br />                invoke MessageBox, NULL, ADDR buffer, ADDR AppName, MB_OK<br />            .ELSEIF ax == IDM_CLEAR<br />                invoke SetDlgItemText, hWnd, IDC_EXIT,NULL<br />            .ELSE <br />                invoke DestroyWindow, hWnd<br />            .ENDIF<br />        .ELSE<br />            mov edx, wParam<br />            shr edx, 16<br />            .IF dx == BN_CLICKED<br />                .IF ax == IDC_BUTTOM<br />                    invoke SetDlgItemText, hWnd, IDC_EXIT, ADDR TestString<br />                .ELSEIF ax == IDC_EXIT<br />                    invoke SendMessage, hWnd, WM_COMMAND, IDM_EXIT,0<br />                .ENDIF<br />            .ENDIF<br />        .ENDIF<br />    .ELSE<br />        invoke DefWindowProc, hWnd, uMsg, wParam, lParam<br />        ret<br />    .ENDIF<br />    xor eax, eax<br />    ret<br />WndProc endp<br /></code></pre><br /><br />This is driving me crazy. It should work, but it doesn't. Anyone know the problem?</div>
    <div class="meta">Posted on 2002-08-31 22:27:20 by devilmech</div>
   </div>
   <div class="post" id="post-55668">
    <div class="subject"><a href="#post-55668">N00b Problem with Dialog</a></div>
    <div class="body">Dunno...<br /><br />Did you try renaming the wndProc to WndProc ? <br /><br /><pre><code><br />wndProc proc hWnd&#58;HWND, uMsg&#58;UINT, wParam&#58;WPARAM, lParam&#58;LPARAM<br />...<br />WndProc endp<br /></code></pre><br /><br />Try that !</div>
    <div class="meta">Posted on 2002-08-31 22:54:25 by JimmyClif</div>
   </div>
   <div class="post" id="post-55686">
    <div class="subject"><a href="#post-55686">N00b Problem with Dialog</a></div>
    <div class="body">Yes, that would have helped. I wrote all that earlier while under the influence, so after correcting a few errors, it now compiles. But it doesn't show up on screen. I'm now trying some stuff to see what is wrong. Do you know of a utility that compares two text files and outputs the lines that are different? This might help me</div>
    <div class="meta">Posted on 2002-09-01 04:26:28 by devilmech</div>
   </div>
   <div class="post" id="post-55700">
    <div class="subject"><a href="#post-55700">N00b Problem with Dialog</a></div>
    <div class="body">Only one I know of is <em>FC</em><br /><br />Type &quot;command&quot; in Start -&gt; Run<br />Then type &quot;FC /?&quot; for options</div>
    <div class="meta">Posted on 2002-09-01 09:29:13 by JimmyClif</div>
   </div>
  </div>
 </body>
</html>
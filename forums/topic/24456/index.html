<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>16-bit ASM and File Handling - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24456" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24456">16-bit ASM and File Handling</a></p>
   <div class="post" id="post-178625">
    <div class="subject"><a href="#post-178625">16-bit ASM and File Handling</a></div>
    <div class="body">Hi, im coding a program that reads a string from input and converts it to a valid DOS address, then opens the file if it exists and print its content to the screen, the problem is that im using TASM to compile the program and my buffer 1024 bytes long, as for TASM, the string is terminated where a dollar sign (&quot;$&quot;) is found, so what if im reading a file that contains dollar signs ? then i wouldnt be able to print it onto the screen, can anybody help ? (i have tried printing one character at a time to the console and it worked, but i wanna know how i can use bigged buffers)</div>
    <div class="meta">Posted on 2006-03-25 22:16:36 by XCHG</div>
   </div>
   <div class="post" id="post-178640">
    <div class="subject"><a href="#post-178640">Re: 16-bit ASM and File Handling</a></div>
    <div class="body">Humm, the $ termianted strings is because of the int21 call you use, right?<br /><br />Iirc you can use the int21 &quot;write to file&quot; instead, to write to standard output - then you can write anything, since it doesn&#39;t depend on terminators, but requires you to pass size.</div>
    <div class="meta">Posted on 2006-03-26 04:37:20 by f0dder</div>
   </div>
   <div class="post" id="post-178703">
    <div class="subject"><a href="#post-178703">Re: 16-bit ASM and File Handling</a></div>
    <div class="body">the AH = 40h / INT 21h would write to a file i think, but the BX has got to be filled with the file handle, what do i set it to write to the STD ?</div>
    <div class="meta">Posted on 2006-03-28 22:31:30 by XCHG</div>
   </div>
   <div class="post" id="post-178708">
    <div class="subject"><a href="#post-178708">Re: 16-bit ASM and File Handling</a></div>
    <div class="body">Iirc file handles 0/1/2 would be stdin,stdout,stderr - perhaps with stdin/stdout swapped. But it&#39;s been ages since I did any DOS coding :)<br /><br />If you&#39;re limited to DOS not limited to 16bit, you might want to try out some 32bit DOS extender with PE executable support, btw - that&#39;s how I did DOS programming in the final years before moving to windows :)</div>
    <div class="meta">Posted on 2006-03-29 03:27:17 by f0dder</div>
   </div>
   <div class="post" id="post-178745">
    <div class="subject"><a href="#post-178745">Re: 16-bit ASM and File Handling</a></div>
    <div class="body">I haven&#39;t fiddled around with this yet but thanks anyway. i&#39;ll try it</div>
    <div class="meta">Posted on 2006-03-30 03:23:04 by XCHG</div>
   </div>
  </div>
 </body>
</html>
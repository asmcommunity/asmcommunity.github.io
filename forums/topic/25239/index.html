<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>macro help? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25239" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25239">macro help?</a></p>
   <div class="post" id="post-184658">
    <div class="subject"><a href="#post-184658">macro help?</a></div>
    <div class="body">reports error at the first line, could someone help with make these macros working?<br /><br />macros with a testfile<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2024" target="_blank">cyl1.inc</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-08-21 09:24:11 by daydreamer</div>
   </div>
   <div class="post" id="post-184769">
    <div class="subject"><a href="#post-184769">wavefront obj=&gt;inc</a></div>
    <div class="body">here is a working solution to include wavefront .obj <br />could someone explain how I make use of those index numbers to recreate object into vertices for hardware rendering, obviously coordinates are reused somehow <br /><pre><code>;grid.inc (renamed from grid.obj)<br />v struct DWORD<br />&nbsp; &nbsp; &nbsp; &nbsp; x&nbsp; &nbsp; &nbsp;  FLOAT ?<br />&nbsp; &nbsp; &nbsp; &nbsp; y&nbsp; &nbsp; &nbsp;  FLOAT ?<br />&nbsp; &nbsp; &nbsp; &nbsp; z&nbsp; &nbsp; &nbsp;  FLOAT ?<br />&nbsp; &nbsp; &nbsp; &nbsp; v ENDS<br />vt struct DWORD<br />&nbsp; &nbsp; &nbsp; &nbsp; u FLOAT ?<br />&nbsp; &nbsp; &nbsp; &nbsp; v FLOAT ?<br />&nbsp; &nbsp; &nbsp; &nbsp; ENDS<br />f struct DWORD<br />&nbsp; &nbsp; &nbsp; &nbsp; i1&nbsp;  DWORD ?<br />&nbsp; &nbsp; &nbsp; &nbsp; i2&nbsp;  DWORD ?<br />&nbsp; &nbsp; &nbsp; &nbsp; i3&nbsp;  DWORD ?<br />&nbsp; &nbsp; &nbsp; &nbsp; i4&nbsp;  DWORD ?<br />&nbsp; &nbsp; &nbsp; &nbsp; f ENDS<br /><br />.data<br /><br />vgrid v &lt;-5.64316f,13.0555f,0.0f&gt; <br />v &lt;5.23553,13.0555,0.0&gt; <br />v &lt;-5.64316,3.76406,0.0&gt; <br />v &lt;5.23553,3.76406,0.0&gt; <br />v &lt;-0.203816,13.0555,0.0&gt; <br />v &lt;-5.64316,8.40977,0.0&gt; <br />v &lt;5.23553,8.40977,0.0&gt; <br />v &lt;-0.203816,3.76406,0.0&gt; <br />v &lt;-0.203816,8.40977,0.0&gt; <br />v &lt;-2.92349,13.0555,0.0&gt; <br />v &lt;-5.64316,10.7326,0.0&gt; <br />v &lt;2.51586,13.0555,0.0&gt; <br />v &lt;5.23553,10.7326,0.0&gt; <br />v &lt;-5.64316,6.08692,0.0&gt;<br />v &lt;-2.92349,3.76406,0.0&gt; <br />v &lt;5.23553,6.08692,0.0&gt; <br />v &lt;2.51586,3.76406,0.0&gt; <br />v &lt;-0.203816,10.7326,0&gt; <br />v &lt;-2.92349,8.40977,0&gt; <br />v &lt;2.51586,8.40977,0&gt; <br />v &lt;-0.203816,6.08692,0.0&gt; <br />v &lt;-2.92349,6.08692,0.0&gt; <br />v &lt;2.51586,6.08692,0.0&gt; <br />v &lt;2.51586,10.7326,0.0&gt; <br />v &lt;-2.92349,10.7326,0.0&gt; <br />;usemtl mat-1<br />vgindex f &lt;8, 21, 22, 15&gt; <br />f &lt;9, 19, 22, 21&gt; <br />f &lt;6, 14, 22, 19&gt; <br />f &lt;3, 15, 22, 14&gt; <br />f &lt;7, 20, 23, 16&gt; <br />f &lt;9, 21, 23, 20&gt; <br />f &lt;8, 17, 23, 21&gt; <br />f &lt;4, 16, 23, 17&gt; <br />f &lt;5, 18, 24, 12&gt; <br />f &lt;9, 20, 24, 18&gt; <br />f &lt;7, 13, 24, 20&gt; <br />f &lt;2, 12, 24, 13&gt; <br />f &lt;6, 19, 25, 11&gt; <br />f &lt;9, 18, 25, 19&gt; <br />f &lt;5, 10, 25, 18&gt; <br />f &lt;1, 11, 25, 10&gt; <br /></code></pre></div>
    <div class="meta">Posted on 2006-08-24 11:52:51 by daydreamer</div>
   </div>
   <div class="post" id="post-184774">
    <div class="subject"><a href="#post-184774">Re: macro help?</a></div>
    <div class="body">I don&#39;t know about coping with D3D/OGL, but you should note that when you have UV coords, you&#39;ll be getting interesting &quot;f&quot; declarations:<br /><pre><code><br />usemtl Default<br />vt 0.338028 0.480000<br />vt 0.000000 0.740000<br />vt 0.000000 0.480000<br />f 1/-1 65/-2 63/-3<br />vt 0.338028 0.480000<br />vt 0.676056 0.480000<br />vt 0.338028 0.740000<br />f 64/-1 2/-2 63/-3<br /></code></pre><br />the negative numbers mean&nbsp;  UVcoordIndex = <br /></div>
    <div class="meta">Posted on 2006-08-24 12:42:12 by Ultrano</div>
   </div>
   <div class="post" id="post-184784">
    <div class="subject"><a href="#post-184784">Re: macro help?</a></div>
    <div class="body"><div class="quote"><br />I don&#39;t know about coping with D3D/OGL, but you should note that when you have UV coords, you&#39;ll be getting interesting &quot;f&quot; declarations:<br /><pre><code><br />usemtl Default<br />vt 0.338028 0.480000<br />vt 0.000000 0.740000<br />vt 0.000000 0.480000<br />f 1/-1 65/-2 63/-3<br />vt 0.338028 0.480000<br />vt 0.676056 0.480000<br />vt 0.338028 0.740000<br />f 64/-1 2/-2 63/-3<br /></code></pre><br />the negative numbers mean?&nbsp; ?&nbsp;UVcoordIndex = <br /><br /></div><br />thanks, looks like assumed texture is repeatedly tiled<br />also need to include info in corresponding .mtl file, which holds all filenames for textures<br />so if I multiply f-numbers with 12, I get the right indirection to 4 coordinates for each quad?so I should use trianglelist or trianglestrip?<br /> <br /></div>
    <div class="meta">Posted on 2006-08-24 21:49:22 by daydreamer</div>
   </div>
   <div class="post" id="post-184786">
    <div class="subject"><a href="#post-184786">Re: macro help?</a></div>
    <div class="body">If D3D handles vertex-indices premultiplied by 12, yes - but I doubt it. You&#39;ll have to use &quot;custom FVF&quot;. <br /><br />Trianglelists should be used, and do not merge vertices. 3D designers like taking triangles out of the solid mesh, to set unique UV coords to vertices, because otherwise the skinning is awful/impossible in many cases. For instance, I have made no 3D model, where all vertices with same x:y:z coords have same u:v. But vertex-merging can be done if you compare both x:y:z and u:v for vertices. </div>
    <div class="meta">Posted on 2006-08-24 22:13:57 by Ultrano</div>
   </div>
   <div class="post" id="post-184788">
    <div class="subject"><a href="#post-184788">Re: macro help?</a></div>
    <div class="body">I posted code on this board (twice now) for importing OBJ which optimizes the vertex data to remove duplicate vertices (renumber indices) and so on.<br />It always pays to search the board first :)<br /></div>
    <div class="meta">Posted on 2006-08-25 01:18:57 by Homer</div>
   </div>
   <div class="post" id="post-184843">
    <div class="subject"><a href="#post-184843">Re: macro help?</a></div>
    <div class="body"><div class="quote"><br />I posted code on this board (twice now) for importing OBJ which optimizes the vertex data to remove duplicate vertices (renumber indices) and so on.<br />It always pays to search the board first :)<br /><br /></div><br />thanks, lot easier to search when keyword is &quot;homer&quot; than search on &quot;obj&quot;, you end up with all kinds of objasm and linker problems<br />but dead link to Ultrano.com<br />also been busy sketching some &quot;trianglefan-art&quot;<br /></div>
    <div class="meta">Posted on 2006-08-27 17:23:20 by daydreamer</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Register - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18645" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=18645">Register</a></p>
   <div class="post" id="post-144443">
    <div class="subject"><a href="#post-144443">Register</a></div>
    <div class="body">What is the register EBP used for, besides creating stack frames? We can't store values in it because the program crashes. Have EBP any utility?<br /><br />Thanks</div>
    <div class="meta">Posted on 2004-06-21 19:10:58 by Marginais</div>
   </div>
   <div class="post" id="post-144446">
    <div class="subject"><a href="#post-144446">Register</a></div>
    <div class="body">EBP is normally used for stack frames, but if you save it's value you can use it as any other 32bit register - of course this would also mean that procedure arguments and local variables are inaccessible from masm, and that you would have to use direct ESP references to access these.</div>
    <div class="meta">Posted on 2004-06-21 19:34:26 by f0dder</div>
   </div>
   <div class="post" id="post-144449">
    <div class="subject"><a href="#post-144449">Register</a></div>
    <div class="body">As f0dder says it is used in conjuction with the stack. It really just makes stack frames a little easier by providing a static base pointer to calculate addresses from for example since the value of EBP on entry into a procedure is changed to the base of the procedural stack...<br /><br />PUSH  ; Local DWORD 1<br />PUSH  ; Local DWORD 2 <br /><br />You could calculate this using ESP however your assembler would have to keep track of every push and pop and every invoke in order to know the displacement from equilibrium. For example...<br /><br />push VAR1<br /> = VAR1<br />push VAR2<br /> = VAR1<br /> = VAR2<br /><br />As you can see the displacement for VAR1 changed as a result of the PUSH. It is not an impossible task to handle this in an assembler but it is much easier with a fixed base pointer to work with.</div>
    <div class="meta">Posted on 2004-06-21 19:46:52 by donkey</div>
   </div>
   <div class="post" id="post-144470">
    <div class="subject"><a href="#post-144470">Register</a></div>
    <div class="body">You can use ebp for anything so long you restore its value.. The same goes to esp, esi, edi and ebx.</div>
    <div class="meta">Posted on 2004-06-22 02:34:46 by roticv</div>
   </div>
  </div>
 </body>
</html>
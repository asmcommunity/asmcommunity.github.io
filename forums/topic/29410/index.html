<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Pointers and assembly in Visual Studio - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29410" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29410">Pointers and assembly in Visual Studio</a></p>
   <div class="post" id="post-207632">
    <div class="subject"><a href="#post-207632">Pointers and assembly in Visual Studio</a></div>
    <div class="body">Hello,<br /><br />I&#039;m sorry if this is all ready answered somewhere, but I don&#039;t quite know what to search for and what I&#039;ve been searching for hasn&#039;t really answered my specific problem. I&#039;m dealing with Visual Studio 2008 and I believe x86 assembly thereby.<br /><br />My problem is I&#039;ve got a function:<br /><br /><pre><code>_declspec(naked) void<br />f(unsigned int input,unsigned int *output)<br />{<br />	__asm<br />	{<br />		.... code ...<br />	}<br />}</code></pre><br /><br />I really don&#039;t know how to change the value of output. I&#039;m really new to assembly and I&#039;m really new to C++, so I&#039;m not quite understanding how to change the data inside the *output pointer. I&#039;ve seen during debugging that *output has a hex address, but I don&#039;t know how to move it into a register, and then use the register to change the value that *output points to...<br /><br />If anyone can help, I would really appreciate it. I&#039;ve been trying to look it up everywhere, but I haven&#039;t found anything explicit, or anything I understand!<br /><br />Thanks,<br />FXL</div>
    <div class="meta">Posted on 2009-05-18 12:19:09 by feminaexlux</div>
   </div>
   <div class="post" id="post-207633">
    <div class="subject"><a href="#post-207633">Re: Pointers and assembly in Visual Studio</a></div>
    <div class="body"><pre><code><br />_declspec(naked) void<br />f(unsigned int input,unsigned int *output)<br />{<br />	__asm<br />	{<br />		mov edx,output<br />		mov eax,input<br />		mov ,eax<br />	}<br />}<br /></code></pre></div>
    <div class="meta">Posted on 2009-05-18 13:25:08 by Ultrano</div>
   </div>
   <div class="post" id="post-207637">
    <div class="subject"><a href="#post-207637">Re: Pointers and assembly in Visual Studio</a></div>
    <div class="body">Ultrano answer is perfect.<br /><br />You said that you are new in C++, here&#039;s how you do it in C++. You don&#039;t really want to use inline assembly when you can use proper C.<br /><br /><div class="quote">_declspec(naked) void<br />f(unsigned int input,unsigned int *output)<br />{<br />*output = input;<br />}<br /></div><br /></div>
    <div class="meta">Posted on 2009-05-18 14:22:33 by ChaperonNoir</div>
   </div>
   <div class="post" id="post-207639">
    <div class="subject"><a href="#post-207639">Re: Pointers and assembly in Visual Studio</a></div>
    <div class="body"><div class="quote"><br />Ultrano answer is perfect.<br /><br />You said that you are new in C++, here&#039;s how you do it in C++. You don&#039;t really want to use inline assembly when you can use proper C.</div><br /><br />Ah, it&#039;s actually for an assignment on recursion with assembly, so I can&#039;t code it out with just C++. The input is for computing factorials with a CALL procedure later in assembly, and the output is just to return the value stored in EAX from the CALL procedure.<br /><br />Thanks for the help, I didn&#039;t know it was relatively simple like that.</div>
    <div class="meta">Posted on 2009-05-18 14:53:43 by feminaexlux</div>
   </div>
  </div>
 </body>
</html>
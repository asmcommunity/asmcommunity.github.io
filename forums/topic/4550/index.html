<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Compressing an entire directory - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4550" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4550">Compressing an entire directory</a></p>
   <div class="post" id="post-31801">
    <div class="subject"><a href="#post-31801">Compressing an entire directory</a></div>
    <div class="body">I have searched the forum, and found many algorithms for compressing a file, but now I have a program that opens a specified directory and prompts the user where he wants to save the file, then adds the whole directoy and subdirectories to the archive.<br /><br />Which compression algorithm should I use, and how?</div>
    <div class="meta">Posted on 2002-03-31 09:45:31 by Nordbon</div>
   </div>
   <div class="post" id="post-31803">
    <div class="subject"><a href="#post-31803">Compressing an entire directory</a></div>
    <div class="body">Which compression algorithm to choose depends on the data you're<br />compressing. ZIP is a good allround algorithm, with reasonable<br />speed/compression balance, and sourcecode is available.<br />To store a whole directory in an archive, you'll obviously need some<br />file headers describing name, original and packed sizes, data, etc...<br />you can look at how .zip is structured for an example.<br /><br />If you're going to implement your own format, I recommend using<br />&quot;solid compression&quot;, as it can reduce filesize a lot.</div>
    <div class="meta">Posted on 2002-03-31 10:38:20 by f0dder</div>
   </div>
   <div class="post" id="post-31809">
    <div class="subject"><a href="#post-31809">Compressing an entire directory</a></div>
    <div class="body">It's a compression program designed to work together with Martin (go Denmark ;)) LightJockey, to transfer files (cues and sequences) between computers (it is implemented in LightJockey, but it doesn't work as good as expected), it's a couple of hundred small files (~1k).<br />In the earliest stage of this program (that was written in VB, to be ported to another language) I used an ActiveX control that created CAB files, and they could save a structure. I just wonder if there are any dll's or something like that I can use, I'm not going to write my own compression algorithm here.</div>
    <div class="meta">Posted on 2002-03-31 11:09:18 by Nordbon</div>
   </div>
   <div class="post" id="post-31859">
    <div class="subject"><a href="#post-31859">Compressing an entire directory</a></div>
    <div class="body">There is a very well written compression library in the example code of MASM32 by JIBZ that handles mixed binary and text data well.<br /><br />It is licenced as free for personal use and paid for with a modest sum for commercial usage so it may be worth you having a look at it.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-31 16:23:35 by hutch--</div>
   </div>
   <div class="post" id="post-31877">
    <div class="subject"><a href="#post-31877">Compressing an entire directory</a></div>
    <div class="body">aPLib is pretty nice, but it's main advantages are small decoder<br />size and fast decompression speed - the compressor is pretty slow.<br />Something like zip with solid compression sounds like a good idea<br />for &quot;a bunch&quot; of small files. But since you'd have to rework zip quite<br />a bit to do that, you might as well want to try your own compression,<br />fileformat etc - and aPLib is definitely worth giving a go.</div>
    <div class="meta">Posted on 2002-03-31 18:34:15 by f0dder</div>
   </div>
   <div class="post" id="post-31937">
    <div class="subject"><a href="#post-31937">Compressing an entire directory</a></div>
    <div class="body">Hutch--,<br /><br />I can se the aPLib is included in the MASM32 package, but isn't that compression just for one file? I want to compress n entire directory with it's subfolders down to a single archive. I can't see any other lib included with MASM32, or am I blind? ;)<br /><br />f0dder,<br /><br />Exactly, I need a compression like the Zip, Bzip2, Tar, Gzip, Ace, Rar, Cab, or any other compression like them, it don't have to be written in ASM, the source doesn't even have to be included, i just want something i can call from ASM (my program).</div>
    <div class="meta">Posted on 2002-04-01 02:58:48 by Nordbon</div>
   </div>
   <div class="post" id="post-31941">
    <div class="subject"><a href="#post-31941">Compressing an entire directory</a></div>
    <div class="body">Like f0dder said, to compress multiple files you'll have to design your own file format. Have a look at <a target="_blank" href="www.wotsit.org">www.wotsit.org</a> and read the ZIP or any other compressed file format description. You'll get an idea of what to do.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-04-01 03:25:58 by Thomas</div>
   </div>
   <div class="post" id="post-31949">
    <div class="subject"><a href="#post-31949">Compressing an entire directory</a></div>
    <div class="body">Nordbon,<br /><br />If you don't want to code the format yourself, Winrar will do what you are after through its command line interface. It is a commercial program that must be purchased but you will be hard pressed to improve on its compression ratio and you can make SFX modules with it as well that unpack in silent mode.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-04-01 06:02:11 by hutch--</div>
   </div>
   <div class="post" id="post-31959">
    <div class="subject"><a href="#post-31959">Compressing an entire directory</a></div>
    <div class="body">hutch,<br /><br />When this program was first ever built, it used the rar.exe to compress the directory, it was simple, it did the recursing of subfolders all by it self and such things. It had a few cons, though: I couldn't capture the error code, so if it failed with the compression, the program didn't knew this. It was limited to DOS 8.3 filenames, wich was very annoying, when you wanted to save something with a long name. So if there are any routines to capture the DOS output and get the exit code (which I know there are, but not how) I can go back to use that again.</div>
    <div class="meta">Posted on 2002-04-01 06:24:25 by Nordbon</div>
   </div>
   <div class="post" id="post-31965">
    <div class="subject"><a href="#post-31965">Compressing an entire directory</a></div>
    <div class="body">I use the 32 bit GUI version of winrar and it has command line support. Probably the easiest thing to do is download the trial version and have a play with it.<br /><br />I bought it myself as its the best I have seen and the SFX modules work well. Just be warned that the help file is russian english and its no joy to read but the technical data is there.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-04-01 06:51:16 by hutch--</div>
   </div>
   <div class="post" id="post-31968">
    <div class="subject"><a href="#post-31968">Compressing an entire directory</a></div>
    <div class="body">OK, I'll just download the WinRAR and see what I can do...<br /><br />Thanks everyone!</div>
    <div class="meta">Posted on 2002-04-01 07:15:26 by Nordbon</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Exception handler example wanted - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9090" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9090">Exception handler example wanted</a></p>
   <div class="post" id="post-66814">
    <div class="subject"><a href="#post-66814">Exception handler example wanted</a></div>
    <div class="body">Does anybody know where there is some example code to hook<br />into a CPU exception, put in my own code, then pass onto the default<br />Windows handler?<br />I want to &quot;talkback enable&quot; my program, post an email with an<br />error report to me. I got inspired by Mozilla, which does this.<br /><br />Regards,</div>
    <div class="meta">Posted on 2002-11-21 18:41:51 by bkauler</div>
   </div>
   <div class="post" id="post-66816">
    <div class="subject"><a href="#post-66816">Exception handler example wanted</a></div>
    <div class="body">You can change <strong>ErrorHandler</strong> to suit your needs and extended its simple <strong>MessageBox</strong> error display.</div>
    <div class="meta">Posted on 2002-11-21 18:45:58 by comrade</div>
   </div>
   <div class="post" id="post-66818">
    <div class="subject"><a href="#post-66818">Exception handler example wanted</a></div>
    <div class="body">Wow, that was quick, I just posted the question, got your reply<br />one minute later!<br />Thanks, comrade, I'll unzip and study the code!</div>
    <div class="meta">Posted on 2002-11-21 18:58:15 by bkauler</div>
   </div>
   <div class="post" id="post-66853">
    <div class="subject"><a href="#post-66853">Exception handler example wanted</a></div>
    <div class="body">Hi All! It's my .try-.catch-.finally macro<br /><br />Your comments...</div>
    <div class="meta">Posted on 2002-11-22 00:19:13 by Eviloid</div>
   </div>
   <div class="post" id="post-66857">
    <div class="subject"><a href="#post-66857">Exception handler example wanted</a></div>
    <div class="body">I have just found some more example code at Programmer's Heaven:<br /><br /><a target="_blank" href="http://www.programmersheaven.com/zone15/cat245/index.htm">http://www.programmersheaven.com/zone15/cat245/index.htm</a><br /><br />It's called &quot;except32.zip&quot; and is in assembly code.</div>
    <div class="meta">Posted on 2002-11-22 01:47:07 by bkauler</div>
   </div>
   <div class="post" id="post-66890">
    <div class="subject"><a href="#post-66890">Exception handler example wanted</a></div>
    <div class="body">I have worked out this really really really simple code:<br /><br />final_handler PROC STDCALL USES ebx esi edi, pexcept:DWORD<br />  invoke MessageBox,0,ADDR szfatalmess,0,MB_OK<br />  mov eax,1               ;=1 terminate process without showing system message box<br />  ret<br />final_handler ENDP<br /><br />start:<br />  ;i want to hook the fatal crash of app...<br />  invoke SetUnhandledExceptionFilter,ADDR final_handler<br /><br />..................<br />Right at program entry, I call SetUnhandledExceptionFilter().<br />For any fatal exception, I get my own messagebox and termination of my app.<br />This is all I need, except that I now need to expand it<br />-- I have to get the register values when it crashed and give option to<br />email them to me. I know how to do the email part, but getting the crash<br />data -- I presume that parameter &quot;pexcept&quot; -- a pointer to a data structure<br />-- has something to do with it.<br /><br />Regards,<br />Barry Kauler</div>
    <div class="meta">Posted on 2002-11-22 06:38:51 by bkauler</div>
   </div>
   <div class="post" id="post-67032">
    <div class="subject"><a href="#post-67032">Exception handler example wanted</a></div>
    <div class="body">Look at here:<br /><a target="_blank" href="http://spiff.tripnet.se/~iczelion/files/Ieh.zip">Intelligent Error Handling by Entro-P</a></div>
    <div class="meta">Posted on 2002-11-23 05:05:23 by Eviloid</div>
   </div>
   <div class="post" id="post-67045">
    <div class="subject"><a href="#post-67045">Exception handler example wanted</a></div>
    <div class="body">And here's <br /><br /><a target="_blank" href="http://spiff.tripnet.se/~iczelion/Exceptionhandling.html">a good article</a></div>
    <div class="meta">Posted on 2002-11-23 08:34:22 by david</div>
   </div>
  </div>
 </body>
</html>
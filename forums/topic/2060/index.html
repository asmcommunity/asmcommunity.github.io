<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>z180 AGAIN - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2060" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2060">z180 AGAIN</a></p>
   <div class="post" id="post-13106">
    <div class="subject"><a href="#post-13106">z180 AGAIN</a></div>
    <div class="body">Hello since the previous problem I have thouhgt of a new suggestion and wandering if it will work so here it is.THANKS if u can help.I want to  enter a three digit value from a keypad to the z180 board via assembly language.So if I make the  keypad enter three digits on the keypad screen and store this value in a register in assembly:<br /><br />in0     a,(Kpadvalue);<br />add    af,hl<br />push   af<br /><br /><br /><br />will it store the three digit number from the keypad in a three digit value in the accumulator as it should convert it to binary rite?eg<br /> 360 entered on keypad<br />then 360 will be converted into binary and stored in the accumulator?is this correct??      :confused:</div>
    <div class="meta">Posted on 2001-11-26 11:19:58 by thepineapple1</div>
   </div>
   <div class="post" id="post-13124">
    <div class="subject"><a href="#post-13124">z180 AGAIN</a></div>
    <div class="body">Hi again,<br /><br />About your previous question concerning registers, my answer is: probably. But it's a very small code, so perhaps you can optimize it to save one or even two registers, but I don't think so. Well, if you don't mind pushing and popping all around the code, you may just use four of them, but it would be better to push previously the registers you want to save, and pop them after.<br /><br />About your last question: no, you can't do it that way. The IN operand only retrieves an 8 bit value each time. But it depends on the characteristics of the Keypad you are using; maybe you can retrieve a bigger value using two consecutive IN, I have no way to know it. But, of course, you can retrieve values below 256.<br /><br />In the Z80 architecture (which the Z180 belongs to), the accumulator is the A register, and it's only 8 bits. So managing 16 bit values is a bit tricky. AF joins the A and F register for some 16 bits operations, like BC, HL, and DE.<br /><br />Sorry if it doesn't help, feel free to ask for further information.<br /><br />Regards,<br /><br />Wavemaker</div>
    <div class="meta">Posted on 2001-11-26 16:39:58 by Wavemaker</div>
   </div>
   <div class="post" id="post-13184">
    <div class="subject"><a href="#post-13184">z180 AGAIN</a></div>
    <div class="body">Is thecode use in Z80 the same as Z180 ?Also iwant to ask is after I use a particular register initially can i then store the value in memory so I can reuse the register??if so how?THANKS u have been very helpfull ....</div>
    <div class="meta">Posted on 2001-11-27 05:38:02 by thepineapple1</div>
   </div>
   <div class="post" id="post-13198">
    <div class="subject"><a href="#post-13198">z180 AGAIN</a></div>
    <div class="body">The only difference between the two instruction set operands is the behavior of the carry flag after RLD/RRD instructions and the result of DAA after a DEC instruction. There are other differences, mainly:<br /><br />Z80:<br /><br />2.5 MHz<br />64 K addressable<br />256 bytes I/O address<br /><br />Z180:<br /><br />11 Mhz<br />1 MB addressable<br />64 K I/O address<br /><br />The refresh cycle is also different. As you see, almost everything important remains the same.<br /><br />Of course, you can store the value of any register:<br /><br />PUSH (8bit register or 16bit register pair)<br /><br /><pre><code><br /><br />POP (8bit register or 16bit register pair)<br /><br />Or you can store it in a memory address (works with 16 and 8 bits registers):<br /><br />ld (nnnn),a ; save content of a register in nnnn (16 bit memory address<br /><br />And retrieve it later:<br /><br />ld a,(nnnn)<br /><br />If you want an opcode list I'll send it to you.<br /><br />Regards,<br /><br />Wavemaker</div>
    <div class="meta">Posted on 2001-11-27 07:19:21 by Wavemaker</div>
   </div>
   <div class="post" id="post-13369">
    <div class="subject"><a href="#post-13369">z180 AGAIN</a></div>
    <div class="body">Yes a opcode list would be very handy thanks</div>
    <div class="meta">Posted on 2001-11-28 10:10:04 by thepineapple1</div>
   </div>
   <div class="post" id="post-13380">
    <div class="subject"><a href="#post-13380">z180 AGAIN</a></div>
    <div class="body">I'd like an Z80 opcode list too please :) <br /><br />I've got a TI83 calculator and plan on trying some assembly on it some time (meanwhile I'll just download my programs from calc.org :tongue: )</div>
    <div class="meta">Posted on 2001-11-28 13:01:43 by Qweerdy</div>
   </div>
   <div class="post" id="post-13391">
    <div class="subject"><a href="#post-13391">z180 AGAIN</a></div>
    <div class="body">Well, I can't do it since your profile specifies that you don't want to receive messages thru the board, so... Anyway, try a search in google (z80.txt) and, of course, in <a target="_blank" href="www.zilog.com">www.zilog.com</a><br /><br />Bye,<br /><br />Wavemaker</div>
    <div class="meta">Posted on 2001-11-28 15:00:31 by Wavemaker</div>
   </div>
  </div>
 </body>
</html>
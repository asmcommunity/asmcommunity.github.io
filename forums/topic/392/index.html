<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>tm structure - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=392" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=392">tm structure</a></p>
   <div class="post" id="post-2187">
    <div class="subject"><a href="#post-2187">tm structure</a></div>
    <div class="body">I have a problem with the tm structure when invoking GetTextMetrics, the assembler always comes up with label not defined error. Is this not supported yet? or am I doing something wrong?<br />Mel:confused:</div>
    <div class="meta">Posted on 2001-07-27 14:44:00 by Mel</div>
   </div>
   <div class="post" id="post-2198">
    <div class="subject"><a href="#post-2198">tm structure</a></div>
    <div class="body">Make sure you included gdi32.inc, gdi32.lib, and the right windows.inc from the masm32 package. The function and structure are defined so if you include them correctly you shouldn't have any problems.<br /><br />Thomas</div>
    <div class="meta">Posted on 2001-07-27 16:58:50 by Thomas</div>
   </div>
   <div class="post" id="post-2231">
    <div class="subject"><a href="#post-2231">tm structure</a></div>
    <div class="body">I've found the function in gdi32.inc &amp; gdi32.lib:alright: I have includes for both of them, so that has at least narrowed it down to my code,<br />thanks Thomas</div>
    <div class="meta">Posted on 2001-07-28 03:51:59 by Mel</div>
   </div>
   <div class="post" id="post-2530">
    <div class="subject"><a href="#post-2530">tm structure</a></div>
    <div class="body">I'm still having trouble, where in MASM32 is the actual structure definition? I can't find it:mad:</div>
    <div class="meta">Posted on 2001-07-31 01:35:06 by Mel</div>
   </div>
   <div class="post" id="post-2536">
    <div class="subject"><a href="#post-2536">tm structure</a></div>
    <div class="body">TEXTMETRIC struct is defined in windows.inc (like all other structures)<br /><br />Here is an excerpt:<br /><br /><pre><code><br />TEXTMETRICA STRUCT<br />  tmHeight              DWORD      ?<br />  tmAscent              DWORD      ?<br />  tmDescent             DWORD      ?<br />  tmInternalLeading     DWORD      ?<br />  tmExternalLeading     DWORD      ?<br />  tmAveCharWidth        DWORD      ?<br />  tmMaxCharWidth        DWORD      ?<br />  tmWeight              DWORD      ?<br />  tmOverhang            DWORD      ?<br />  tmDigitizedAspectX    DWORD      ?<br />  tmDigitizedAspectY    DWORD      ?<br />  tmFirstChar           BYTE      ?<br />  tmLastChar            BYTE      ?<br />  tmDefaultChar         BYTE      ?<br />  tmBreakChar           BYTE      ?<br />  tmItalic              BYTE      ?<br />  tmUnderlined          BYTE      ?<br />  tmStruckOut           BYTE      ?<br />  tmPitchAndFamily      BYTE      ?<br />  tmCharSet             BYTE      ?<br />TEXTMETRICA ENDS<br /><br />TEXTMETRIC  equ  &lt;TEXTMETRICA&gt;<br /></code></pre><br /><br /><br />japheth</div>
    <div class="meta">Posted on 2001-07-31 04:43:26 by japheth</div>
   </div>
   <div class="post" id="post-2582">
    <div class="subject"><a href="#post-2582">tm structure</a></div>
    <div class="body">Thanks Japheth, I'm still finding my way around all the documentation, must have a rest from coding and have a good read of everything.</div>
    <div class="meta">Posted on 2001-07-31 13:08:34 by Mel</div>
   </div>
  </div>
 </body>
</html>
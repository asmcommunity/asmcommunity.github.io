<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>What is an invalid rectangle ?? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8664" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8664">What is an invalid rectangle ??</a></p>
   <div class="post" id="post-63723">
    <div class="subject"><a href="#post-63723">What is an invalid rectangle ??</a></div>
    <div class="body">Can anyone tell me what an 'invalid rectangle' is, probably a simple concept but the way its described in a tutorial im reading confuses the hell out of me.<br /><br />Thanks,<br /><br />Simon.</div>
    <div class="meta">Posted on 2002-10-27 16:35:59 by SNDHearn</div>
   </div>
   <div class="post" id="post-63728">
    <div class="subject"><a href="#post-63728">What is an invalid rectangle ??</a></div>
    <div class="body">Hi SNDHearn,<br />I'm just guessing but maybe you mean &quot;Invaildate Rectangle&quot;? If you invaildate a rectangle, it will be redrawn at the next WM_PAINT message.<br /><br />James:alright:</div>
    <div class="meta">Posted on 2002-10-27 17:57:29 by JamesE</div>
   </div>
   <div class="post" id="post-63731">
    <div class="subject"><a href="#post-63731">Some tip</a></div>
    <div class="body">Invaildate Rectangle is what area their &quot;Canvas&quot; is nolonger vailid.<br />Invaildate Rectangle some times were smaller than the Rectangle of a control,<br />for example if you drag a window to screen's side,the place outside the screen will be<br />out of Invaildate Rectangle.<br />So if one want redraw all windows(eg.skin) in repaint,<br />it's better to <br />invoke	GetClientRect,hWnd,addr ps.rcPaint<br />before you draw item.</div>
    <div class="meta">Posted on 2002-10-27 18:35:12 by Const.Ex</div>
   </div>
   <div class="post" id="post-63735">
    <div class="subject"><a href="#post-63735">What is an invalid rectangle ??</a></div>
    <div class="body">Cheers guys, im still a little confused though,<br /><br />according to this tutorial:<br /><br />&quot;Windows defines an invalid rectangle as the smallest rectangular area in the client area that needs to be repainted.&quot;<br /><br />Can someone explain that to me in simpler (dumber) terms please?<br /><br />Thanks,<br /><br />Simon.</div>
    <div class="meta">Posted on 2002-10-27 18:56:56 by SNDHearn</div>
   </div>
   <div class="post" id="post-63738">
    <div class="subject"><a href="#post-63738">What is an invalid rectangle ??</a></div>
    <div class="body">SNDHearn,<br /><br />It usually means that something has been moved over the part of the window so it will need to be redrawn next time it is displayed. Think of a monitor and it can only display and given pixel at a time, it cannot store multiple information. The operating system has to do that so if one window overlaps another, the one that is overlapped has to be redrawn one it is exposed again.<br /><br />The mechanics of the display in the operating system store the overlapped window's data while it is covered and it uses messages to effect the redraw once it is uncovered. This is how a window can be moved across a screen and look like the stuff under it is still there, it is being redrawn fast enough so it looks like that.<br /><br />Now if you want to force a window to be redrawn, you define the rectangle you want redrawn and then make a call to InvalidateRect and the OS will draw it again.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-10-27 19:14:07 by hutch--</div>
   </div>
   <div class="post" id="post-63747">
    <div class="subject"><a href="#post-63747">What is an invalid rectangle ??</a></div>
    <div class="body"><div class="quote"><br />SNDHearn,<br /><br />It usually means that something has been moved over the part of the window so it will need to be redrawn next time it is displayed. Think of a monitor and it can only display and given pixel at a time, it cannot store multiple information. The operating system has to do that so if one window overlaps another, the one that is overlapped has to be redrawn one it is exposed again.<br /><br />The mechanics of the display in the operating system store the overlapped window's data while it is covered and it uses messages to effect the redraw once it is uncovered. This is how a window can be moved across a screen and look like the stuff under it is still there, it is being redrawn fast enough so it looks like that.<br /><br />Now if you want to force a window to be redrawn, you define the rectangle you want redrawn and then make a call to InvalidateRect and the OS will draw it again.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a> </div><br /><br /><br />Well said.<br />It was M$s perfect way of saying you need to have everything in the visual field always...so we will controal and the hardware companies shall follow us. <br />What an artery clogger windows is.</div>
    <div class="meta">Posted on 2002-10-27 22:19:10 by IwasTitan</div>
   </div>
   <div class="post" id="post-63764">
    <div class="subject"><a href="#post-63764">What is an invalid rectangle ??</a></div>
    <div class="body"><strong>&quot;It was M$s perfect way of saying you need to have everything in the visual field always...so we will controal and the hardware companies shall follow us. &quot;</strong> &lt;----what's the point:confused: <br /><br /><br />It's as Hucth said the invalid rectangle is the portion of an applications window which needs re-painting.  However,you can ignore the invalid rectangle, and just repaint the entire window on receiveng WM_PAINT.</div>
    <div class="meta">Posted on 2002-10-28 03:43:16 by MArtial_Code</div>
   </div>
   <div class="post" id="post-63768">
    <div class="subject"><a href="#post-63768">What is an invalid rectangle ??</a></div>
    <div class="body">thats better, i think i was just complicating it in my head, now i can move on.<br /><br />Cheers,<br /><br />Simon.</div>
    <div class="meta">Posted on 2002-10-28 04:42:01 by SNDHearn</div>
   </div>
   <div class="post" id="post-63797">
    <div class="subject"><a href="#post-63797">What is an invalid rectangle ??</a></div>
    <div class="body">Also remember that InvalidateRect does not<br />always send a WM_PAINT message right away.<br />Windows buts the message into a queue.<br /><br />If you want the message to be sent right away<br />then just after sending the InvalidateRect message<br />you should send UpdateWindow, this will send the<br />message righ away.<br /><br />It is also good to note that the DC that is returned<br />from the Beginpaint message is only good for the<br />area that PAINTSTRUCT.rcPaint &lt;-- (a RECT Struct)<br />points to, so other drawing out side of his area<br />will be cliped and not drawn, you should make your<br />program draw only in this area.<br /><br />You can try to draw outside the area, but this clipping<br />detection that windows does will slow the Paint<br />prosses down.<br /><br />Also, I found that if I want My window to be fully<br />painted, I don't need to get a RECT of my window<br />just issue a InvalidateRect call without a RECT<br />like this:  InvalidateRect,hWin,0,TRUE<br /><br />Also note that the PAINT flag TRUE or FALSE will<br />cause windows to ERASE the area or not. <br />depending on your program you should use<br />FALSE, if you want no flicker, as TRUE will couse<br />windows to use the background brush to erase<br />the rect area then send you a paint message<br />and you paint in that area, not good to paint<br />2 times in some cases so FALSE will stop this<br />erasing effect.<br /><br />There is alot of tricks I found out about how windows<br />acts and how windows behaves with messages ect.<br />and I have played around enough to trick windows<br />just so I get the Desired effect I want. if you don't<br />want to use the DC and rect returned from BeginPaint<br />then you can get your own DC for the window Client<br />area or NC Area, it's up to you.<br /><br /><br />Zcoder....</div>
    <div class="meta">Posted on 2002-10-28 10:41:58 by Zcoder</div>
   </div>
   <div class="post" id="post-64022">
    <div class="subject"><a href="#post-64022">Yes</a></div>
    <div class="body">Yes,It's right<br />Draw In a valied rect takes no more effects on the hDC....<br />for example,If you want to delete and redraw some small area in you app,<br />if you send a full rect invalied message,Windows will be a flash(if you make lots work in WM_PAINT),<br />So can <br />mov rect.left,x<br />mov ......<br />call invaildedrect and push the rect pointer you want to redraw,<br />now only the rect will be redraw.<br />It's such usefull...<br />In the past some program's I usally place a static control in the rect and draw in WM_CTRCOLORSTATIC,<br />until I fround the InvaliedRect has a paramater :lpRect....<br />:stupid:</div>
    <div class="meta">Posted on 2002-10-30 20:08:40 by Const.Ex</div>
   </div>
   <div class="post" id="post-64131">
    <div class="subject"><a href="#post-64131">What is an invalid rectangle ??</a></div>
    <div class="body">If you need to do a little bit of processing in the paint proc itself (i.e. when doing a spreadsheet prog perhaps, so you need to determine how to output the contents of each cell whether as text or as number) it is recommended that the paint proc itself check the invalided rectangle to reduce processing as well as GDI calls.  You can thus know the range of cells that need to be redrawn and process only those cells for output.  Although GDI will not do slow screen accesses if it's outside the invalided area, it still has to check whether it should or shouldn't, and if you know it's definitely outside the invalided area, you can skip calling GDI.  This will help make the display snappier.<br /><br />The system was created in the mid-80's when computers were much slower, so that anything that could reduce the amount of processing, even a little, meant a noticeable improvement.</div>
    <div class="meta">Posted on 2002-10-31 21:15:17 by AmkG</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Data at virtual address 0 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6772" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6772">Data at virtual address 0</a></p>
   <div class="post" id="post-48908">
    <div class="subject"><a href="#post-48908">Data at virtual address 0</a></div>
    <div class="body">How can I put some data at virtual address 0? Is it possible at all? Both OMF and COFF object file formats seem to allow the absolute address of a section to be specified, I just need a compiler/assembler/linker/whatever that can create EXEs with such a section.</div>
    <div class="meta">Posted on 2002-07-19 22:24:15 by VP_</div>
   </div>
   <div class="post" id="post-48910">
    <div class="subject"><a href="#post-48910">Data at virtual address 0</a></div>
    <div class="body">Even if your compiler/linker will allow that - the loader will (hopefully) prevent it. Page 0 is read- and write protected in win32. And whats the benefit of that at all?</div>
    <div class="meta">Posted on 2002-07-19 23:49:46 by japheth</div>
   </div>
   <div class="post" id="post-48921">
    <div class="subject"><a href="#post-48921">Data at virtual address 0</a></div>
    <div class="body">I'm writing an emulator ? la WINE or LINE.<br />If I can't use page 0 in the address space created by Windows, how can I create my own address spaces?</div>
    <div class="meta">Posted on 2002-07-20 03:44:38 by VP_</div>
   </div>
   <div class="post" id="post-48940">
    <div class="subject"><a href="#post-48940">Data at virtual address 0</a></div>
    <div class="body">You can't really create &quot;your own address space&quot; - windows does that<br />for you when it loads your executable. I also doubt you can access page<br />0 under linux.</div>
    <div class="meta">Posted on 2002-07-20 06:18:34 by f0dder</div>
   </div>
   <div class="post" id="post-48962">
    <div class="subject"><a href="#post-48962">Data at virtual address 0</a></div>
    <div class="body">Ok, what about my own ring 0 driver that creates it? Or a whole VM? Anything?<br /><br />BTW: I'm not going to emulate Linux. And in Linux, access to page 0 is trivial:<br /><pre><code><br />#include &lt;unistd.h&gt;<br />#include &lt;sys/mman.h&gt;<br />main&#40;&#41; &#123;<br />    void *i = mmap&#40;0, 4096, PROT_READ | PROT_WRITE,<br />                   MAP_FIXED | MAP_PRIVATE | MAP_ANONYMOUS, 0, 0&#41;;<br />    printf&#40;&quot;%x\n&quot;, i&#41;;<br />    if &#40;i != MAP_FAILED&#41; printf&#40;&quot;%x\n&quot;, munmap&#40;i, 4096&#41;&#41;;<br />&#125;<br /></code></pre></div>
    <div class="meta">Posted on 2002-07-20 07:50:09 by VP_</div>
   </div>
  </div>
 </body>
</html>
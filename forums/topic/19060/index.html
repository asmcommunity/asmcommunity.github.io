<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Is this the same ?? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19060" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19060">Is this the same ??</a></p>
   <div class="post" id="post-147388">
    <div class="subject"><a href="#post-147388">Is this the same ??</a></div>
    <div class="body">I have the following in C, which btw I don't write in but need to translate..<br /><br />int minx = min(0,min(x1, min(x2,x3)));<br /><br />and have translated it as follows:<br /><br /><pre><code>	mov eax,&#91;x1&#93;<br />	cmp eax,&#91;x2&#93;<br />	jl &gt;<br />		mov eax,&#91;x2&#93;<br />		&#58;<br />		cmp eax,&#91;x3&#93;<br />		jl &gt;<br />		mov eax,&#91;x3&#93;<br />	&#58;<br />	cmp eax,0<br />	jl &gt;<br />	mov eax,0<br />	&#58;<br />	mov &#91;minx&#93;,eax</code></pre><br /><br />is this right ?</div>
    <div class="meta">Posted on 2004-08-04 16:02:24 by donkey</div>
   </div>
   <div class="post" id="post-147389">
    <div class="subject"><a href="#post-147389">Is this the same ??</a></div>
    <div class="body">I would work from inside the parenthesis on out..<br /><br /> compare x2,x3 first<br /> then x1 to result of x2,x3<br /> then finally 0 to result</div>
    <div class="meta">Posted on 2004-08-04 16:10:49 by drarem</div>
   </div>
   <div class="post" id="post-147390">
    <div class="subject"><a href="#post-147390">Is this the same ??</a></div>
    <div class="body">For min I would have assumed that it could not make a difference, it is to find the smallest of 3 variables and 0, what I need to know mostly is if it is a signed comparison or not.</div>
    <div class="meta">Posted on 2004-08-04 16:15:37 by donkey</div>
   </div>
   <div class="post" id="post-147391">
    <div class="subject"><a href="#post-147391">Is this the same ??</a></div>
    <div class="body">Doh, makes sense..  I'm just a cold logical person..<br /><br />INT is signed..<br /><br />to have it unsigned it must be declared:  UNSIGNED INT minx;<br /><br />here are some C/C++ datatypes:<br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccelng/htm/reftable_1.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccelng/htm/reftable_1.asp</a><br /><br />and why do I have to log in every 5 minutes to post something.. is it my browser settings or this forum, I don't seem to have trouble with other sites.</div>
    <div class="meta">Posted on 2004-08-04 16:22:37 by drarem</div>
   </div>
   <div class="post" id="post-147392">
    <div class="subject"><a href="#post-147392">Is this the same ??</a></div>
    <div class="body">Thanks drarem,<br /><br />That's what I needed to know, so it is a valid translation. You know you can always tell a C algorithm translated to assembly, there are a ton of LOCALs. C programmers seem to have the habit of declaring a variable for everything and it's dog. The pain is that 90% are declared inline so the LOCAL block just grows and grows as you move through the function. This one is 300+ lines of C and so far has around 50 LOCALs declared, that will drop down as I get rid of the useless ones.</div>
    <div class="meta">Posted on 2004-08-04 16:32:38 by donkey</div>
   </div>
   <div class="post" id="post-147397">
    <div class="subject"><a href="#post-147397">Is this the same ??</a></div>
    <div class="body">I generally assume that min() is implemented as a macro. That means the operand types determine whether it's a signed or unsigned compare. The function is not part of the C or C++ standard library, so I end up having to write a macro for it when I'm coding in non-Windows mode.<br /><br />If I remember correctly, signed can be promoted to unsigned, so a comparison with an unsigned value is always an unsigned compare.</div>
    <div class="meta">Posted on 2004-08-04 18:21:39 by tenkey</div>
   </div>
   <div class="post" id="post-147399">
    <div class="subject"><a href="#post-147399">Is this the same ??</a></div>
    <div class="body">In MASM, with the HLL directives, a macro can be created for the general case.  Then the type can be passed to the macro -- only the jump instruction changes during assemble-time.  Unsigned instructions operate on the carry flag, whereas signed instructions operate on sign &amp; overflow flags - the zero flag is used by both.</div>
    <div class="meta">Posted on 2004-08-04 18:39:00 by bitRAKE</div>
   </div>
   <div class="post" id="post-147400">
    <div class="subject"><a href="#post-147400">Is this the same ??</a></div>
    <div class="body">The C++ standard library does define a min() function template.</div>
    <div class="meta">Posted on 2004-08-04 18:40:27 by death</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>OS Development.. All out assembly or C? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21247" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=21247">OS Development.. All out assembly or C?</a></p>
   <div class="post" id="post-160784">
    <div class="subject"><a href="#post-160784">OS Development.. All out assembly or C?</a></div>
    <div class="body">Hi, I&#39;d like to know what you guys would use to develop an os.<br /><br />Also, is there a disadvantage to using C? <br />Would things be slower if they were coded in C instead of in assembly?<br /><br />Thanks.<br /><br />- ~Steve~ -</div>
    <div class="meta">Posted on 2005-06-05 01:16:45 by ~Steve~</div>
   </div>
   <div class="post" id="post-160786">
    <div class="subject"><a href="#post-160786">Re: OS Development.. All out assembly or C?</a></div>
    <div class="body">I use a mix of C/C++ and assembly.<br /><br />I wouldn&#39;t say there&#39;s any disadvantages to using C - unless you write very bad code and/or have a very bad compiler, you won&#39;t see much of a size/speed hit.<br /><br />If you want to use C++, you&#39;ll have to be careful, and you should probably avoid new/delete and especially exception handling until &quot;you know what you&#39;re doing&quot;.<br /><br />I used to think that an OS kernel should be coded in all-assembly, but I don&#39;t see any reason for this anymore. Some routines <strong>have</strong> to be coded in assembly though, and others <strong>should</strong>. Ie, code to set up descriptor tables and paging, as well as low-level context switching, more or less have to be done in assembly. Routines for clearing and copying pages <strong>should</strong> be coded in assembly, so you can take advantage of MMX, or the cache-bypassing stores of SSE.<br /><br /><div class="quote"><br />Would things be slower if they were coded in C instead of in assembly?<br /></div><br />That depends on the quality of the assembly code you would have written instead, as well as the quality of the C code, as well as the quality of the compiler. In most cases, you won&#39;t be able to notice a difference, and unless you put some effort into the assembly, the compiler will beat you.<br /></div>
    <div class="meta">Posted on 2005-06-05 01:25:55 by f0dder</div>
   </div>
   <div class="post" id="post-160787">
    <div class="subject"><a href="#post-160787">Re: OS Development.. All out assembly or C?</a></div>
    <div class="body">Thanks for the quick reply. :D <br /><br />Well, uh, not much else to say since you answered all the questions I had. I guess I&#39;ll just see what happens and go on from there.<br /><br />Thanks again.<br /><br />- ~Steve~ -<br /><br />EDIT: Ah, woops, wasn&#39;t sure what section this belonged in. Sorry!</div>
    <div class="meta">Posted on 2005-06-05 01:44:14 by ~Steve~</div>
   </div>
   <div class="post" id="post-160816">
    <div class="subject"><a href="#post-160816">Re: OS Development.. All out assembly or C?</a></div>
    <div class="body">I will not like to use C, I prefer to use asm, but Im not proud at it, and I know that is more posible that a compiler beat my asm code, but that will not stop me, tought Im thinking that perhaps I will write two versions of the same code, or start in asm then when the time come switch to a high level language, but I have my tought about it :D and I hope it will not be C/++, but that can change tought.</div>
    <div class="meta">Posted on 2005-06-05 19:59:24 by rea</div>
   </div>
   <div class="post" id="post-160817">
    <div class="subject"><a href="#post-160817">Re: OS Development.. All out assembly or C?</a></div>
    <div class="body">To me its simple, if your a better asm programmer than C programmer, make the whole OS in asm, but if you are better at C programming, do just the basic&#39;s in asm and the rest in C.<br /><br />My OS is full asm, but i do not for one moment think it will be faster than if writen in C, its a control thing, i like to control and understand what is going on under my programs, you can never understand fully whats go on in windows or linux, that why i am making my own OS in the first place.<br /><br />Dex4u.</div>
    <div class="meta">Posted on 2005-06-05 20:27:06 by Dex4</div>
   </div>
   <div class="post" id="post-160819">
    <div class="subject"><a href="#post-160819">Re: OS Development.. All out assembly or C?</a></div>
    <div class="body"><div class="quote"><br />Hi, I&#39;d like to know what you guys would use to develop an os.<br /><br />Also, is there a disadvantage to using C? <br />Would things be slower if they were coded in C instead of in assembly?<br /><br />Thanks.<br /><br />- ~Steve~ -<br /></div><br /><br />It depends:<br /><br />- What is your knowledge of particular language (i.e. there is no point to write assembly code if it will became worst than a compiler generated one...)<br />- What is the purpose of the os. For example:<br />? - OS for particular device. Limited functionality. No need in regular update/improvement. Hardware restrictions. --- here is assembly choice would be wise.<br />? - Big and complicated os. Requires regular features update. Portability is required. --- C.<br />? - And the list with various combinations of above goes on...<br /><br />Just don&#39;t forget, the most important decision is to choose the language you enjoy to use the most. It&#39;s all about fun afterall.<br /> </div>
    <div class="meta">Posted on 2005-06-05 22:58:19 by arafel</div>
   </div>
  </div>
 </body>
</html>
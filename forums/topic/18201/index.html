<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Bug report and wishlist for 3.0.1.3 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18201" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=41">WinAsm Studio</a> &raquo; <a href="../?id=18201">Bug report and wishlist for 3.0.1.3</a></p>
   <div class="post" id="post-140813">
    <div class="subject"><a href="#post-140813">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body"><em>Note: I made this bugs &amp; wish list for WinAsm 3.0.1.2, please check if this still applies to the current version.</em><br /><br /><strong><u>Bugs:</u></strong><br /><br />1. When the build had warnings (not <em>errors</em>, just warnings) WinAsm will refuse to run the output exe file. This is desirable when WinAsm is set to run the exe after a successful build, but it should let the user run the program anyway when clicking the Run button.<br /><br />2. Create a dialog box with the WS_EX_TRANSPARENT style. Select any control, then the parent dialog. The selection box will not be erase properly (uses the same brush as if the dialog was not transparent).<br /><br />3. Create a dialog box with the WS_EX_TRANSPARENT style. Cover WinAsm with another window and uncover it. The dialog will no longer look &quot;transparent&quot; until you select it again from the project window.<br /><br />4. Create several dialog boxes with the WS_EX_TRANSPARENT style. When switching from one to another, you will notice some severe flicker. Apparently the &quot;transparent&quot; (blue) brush is painted over the &quot;opaque&quot; (gray) one, with no backbuffering.<br /><br />5. When you have more than one control with the same ID, even across dialogs, deleting one of them removes the ID from the script. (I'm not sure if this one has been reported for earlier versions already, I'm posting just in case it hasn't).<br /><br />6. When pasting any code that should have a collapsible block, the block's button in the line number bar is not shown. Forcing WinAsm to redraw doesn't solve the problem, but hitting Enter to add a line before the &quot;missing&quot; block does.<br /><br />7. Running WinAsm through MemProof reveals 90 heap memory leaks (~200Kb), 35 user32 leaks, and 17 errors (16 faulty HeapFree calls, and 1 failed DestroyObject). It's not so bad since there are no GDI leaks, but I thought you might want to know. I'm attaching the MemProof report.<br /><br />8. When build errors are shown in the source files, blocks are expanded but their buttons do not reflect that change.<br /><br />9. Autocomplete for the TVINSERTITEM structure is wrong (instead of &quot;item&quot; it says &quot;ITEMTYPE&quot;). The problem is that windows.inc has it defined as a nameless union of two structures, and the union itself is declared as a type.<br /><br />10. This one is for PhoBos: autocomplete for GetDriveType is wrong, it's only parameter should be &quot;lpRootPathName&quot; and it says &quot;nDrive&quot; which can be misleading (it's an ASCIIZ string pointer, NOT an integer).<br /><br /><br /><strong><u>Wish list:</u></strong><br /><br />1. Unions could be collapsible (just like structs).<br /><br />2. There are a couple of things I miss from other IDEs: horizontal bars indicating the nesting level (counting tabs), and an info tooltip when writing a struct definition in the data section. :)<br /><br />3. There is little point in having an autocomplete box with local variable names when typing the &quot;OFFSET&quot; keyword... funny how we never noticed! :grin:<br /><br />4. An optimization to the addins manager, when retrieving the addins names and descriptions: load ALL the addins first, then get the strings, then unload them all. This speeds up the loading of the libraries since most of them will have many common dependencies.<br /><br />5. Addins have access only to the GUI, to the internals of WinAsm. For this reason addins coders quickly find a limit... there are some things you just cannot do. For example, after one of your replies where you suggested to make addins that replace existing dialog boxes (rather than subclassing them), I thought of making an addin to replace some WinAsm dialog boxes with wizards (to make the interface more intuitive for new users), and realized that it just <strong>couldn't be made</strong>... :(<br /><br />So, in my ideal world :grin: WinAsm should provide a way for addins to do this:<br /><br />	a) Full access to the project: not just getting the project info, but changing it. It is currently possible to manipulate existing project files, but not to add or remove them. It would also be great to be able to save a file (without having to bring it's MDI child window to the front and sending a WM_COMMAND message).<br /><br />	b) Full access to the resource editor: at least the ability to add resources to an existing script, without having to &quot;manually&quot; parse the file, would be great. It is currently impossible since files opened by WinAsm cannot be edited externally. Of course this should only work when visual mode can be enabled (in other words, when the script is 100% compatible with WinAsm).<br /><br />	c) Access to other addins: a way to enumerate currently loaded addins. Also a way to load and unload them could be useful (including the possibility of an addin that unloads itself). I can think of an application for this right now: an addin that, when the output filename corresponds to a currently loaded addin (other than iself, of course), automatically unloads and loads it when you make a build.<br /><br />	d) The ability to reload VAA and keyword files on runtime. This would be great, for example, for PhoBos to make his VAA editor as an addin (changes would be reflected immediately). Also one could make an addin to support other assembler flavors.<br /><br />	e) Easy ways to send text to the output window, add tabs to the project window, have addin menu items with icons, etc. (at least I don't know how to do it :confused: )<br /><br />	f) Locate menu popups by item number, not position. This would be useful if you want to make an addin that has it's own popup menu, without breaking other addins.<br /><br />I know it's asking a lot, I'm just posting this here to give you something to think about... ;)</div>
    <div class="meta">Posted on 2004-05-03 17:27:17 by QvasiModo</div>
   </div>
   <div class="post" id="post-140864">
    <div class="subject"><a href="#post-140864">Re: Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Hi QvasiModo,<br /><br /><div class="quote"><br /><strong><u>Bugs:</u></strong><br />1. When the build had warnings (not <em>errors</em>, just warnings) WinAsm will refuse to run the output exe file. This is desirable when WinAsm is set to run the exe after a successful build, but it should let the user run the program anyway when clicking the Run button.<br /></div><br />Ok, thanks<br /><br /><div class="quote"><br />2. Create a dialog box with the WS_EX_TRANSPARENT style. Select any control, then the parent dialog. The selection box will not be erase properly (uses the same brush as if the dialog was not transparent).<br /></div><br />Ok, thanks<br /><br /><div class="quote"><br />3. Create a dialog box with the WS_EX_TRANSPARENT style. Cover WinAsm with another window and uncover it. The dialog will no longer look &quot;transparent&quot; until you select it again from the project window.<br /></div><br />Ok, thanks<br /><br /><div class="quote"><br />4. Create several dialog boxes with the WS_EX_TRANSPARENT style. When switching from one to another, you will notice some severe flicker. Apparently the &quot;transparent&quot; (blue) brush is painted over the &quot;opaque&quot; (gray) one, with no backbuffering.<br /></div><br />Ok, thanks. It seems that the best solution for 2,3,4 is to exclude WS_EX_TRANSPARENT when creating the dialogs in design mode.<br /><br /><div class="quote"><br />5. When you have more than one control with the same ID, even across dialogs, deleting one of them removes the ID from the script. (I'm not sure if this one has been reported for earlier versions already, I'm posting just in case it hasn't).<br /></div><br />Yes, you've already posted this.<br /><br /><div class="quote"><br />6. When pasting any code that should have a collapsible block, the block's button in the line number bar is not shown. Forcing WinAsm to redraw doesn't solve the problem, but hitting Enter to add a line before the &quot;missing&quot; block does.<br /></div><br />Yes, you've already posted this.<br /><br /><div class="quote"><br />7. Running WinAsm through MemProof reveals 90 heap memory leaks (~200Kb), 35 user32 leaks, and 17 errors (16 faulty HeapFree calls, and 1 failed DestroyObject). It's not so bad since there are no GDI leaks, but I thought you might want to know. I'm attaching the MemProof report.<br /></div><br />failed DestroyObject makes me wonder. I 'll check it.<br /><br /><div class="quote"><br />8. When build errors are shown in the source files, blocks are expanded but their buttons do not reflect that change.<br /></div><br />Thanks<br /><br /><div class="quote"><br />9. Autocomplete for the TVINSERTITEM structure is wrong (instead of &quot;item&quot; it says &quot;ITEMTYPE&quot;). The problem is that windows.inc has it defined as a nameless union of two structures, and the union itself is declared as a type.<br /></div><br />Please post this to PhoBos<br /><br /><div class="quote"><br />10. This one is for PhoBos: autocomplete for GetDriveType is wrong, it's only parameter should be &quot;lpRootPathName&quot; and it says &quot;nDrive&quot; which can be misleading (it's an ASCIIZ string pointer, NOT an integer).<br /></div><br />Please post this to PhoBos<br /><br /><br />I 'll think about all your wishes and act accordingly, thanks very much<br /><br />Regards,<br /><br />akyprian</div>
    <div class="meta">Posted on 2004-05-04 09:22:58 by akyprian</div>
   </div>
   <div class="post" id="post-140880">
    <div class="subject"><a href="#post-140880">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Hi there :)<br /><br /><div class="quote">Please post this to PhoBos</div><br /><br />OK, i will take care of all QvasiModo comments</div>
    <div class="meta">Posted on 2004-05-04 12:47:05 by PhoBos</div>
   </div>
   <div class="post" id="post-140965">
    <div class="subject"><a href="#post-140965">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Great, thanks for your replies :)</div>
    <div class="meta">Posted on 2004-05-12 15:21:43 by QvasiModo</div>
   </div>
   <div class="post" id="post-141003">
    <div class="subject"><a href="#post-141003">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Hi there,<br /><br />Here are the modified vaa files. (v1.3a ;) )<br /><br />Enjoy</div>
    <div class="meta">Posted on 2004-05-13 01:32:38 by PhoBos</div>
   </div>
   <div class="post" id="post-141035">
    <div class="subject"><a href="#post-141035">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Cool :alright:</div>
    <div class="meta">Posted on 2004-05-13 10:49:01 by QvasiModo</div>
   </div>
   <div class="post" id="post-141081">
    <div class="subject"><a href="#post-141081">Bug report and wishlist for 3.0.1.3</a></div>
    <div class="body">Hi,<br /><br /><div class="quote"><br />Hi there,<br /><br />Here are the modified vaa files. (v1.3a ;) )<br /><br />Enjoy </div><br /><br />Keep up the great work.<br /><br />Regards,<br /><br />akyprian</div>
    <div class="meta">Posted on 2004-05-13 15:13:50 by akyprian</div>
   </div>
  </div>
 </body>
</html>
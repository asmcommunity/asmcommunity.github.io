<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Waitable Timers - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17740" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17740">Waitable Timers</a></p>
   <div class="post" id="post-136984">
    <div class="subject"><a href="#post-136984">Waitable Timers</a></div>
    <div class="body">Hey guys, does anyone have any experience with Waitable Timers cause I'm having a bit of bother with them.<br /><br />I create one with <span style="font-size:9px>(surprise surprise)</span>  CreateWaitableTimer, thats grand I get a handle. the set it with <span style="font-size:9px>(surprise surprise again)</span>  SetWaitableTimer and again everythings grand, I get back a none -ero value.<br /><br />Now if I call WaitForSingleObject evrything works, the thread suspend for appropiate timeout and then continues, the problem is that I really want to not suspend the thread but just have the callback routine called after the timeout but it just never gets called.<br /><br />I've read over msdn (heres the <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/base/setwaitabletimer.asp">link</a>  for those interested) and I can't see why it shouldn't work. Am I using this thing out of the context it's ment to be used?<br /><br />Thanks anyone if you can offer help, Eoin.</div>
    <div class="meta">Posted on 2004-03-25 15:10:11 by Eóin</div>
   </div>
   <div class="post" id="post-136985">
    <div class="subject"><a href="#post-136985">Waitable Timers</a></div>
    <div class="body"><div class="quote"><br />[...]and the thread that set the timer calls the completion routine when it enters an alertable wait state. <br /></div><br />That's how Async Procedure Calls are done... so I'm afraid you'll have to Sleep() (or do another action that puts you in a wait state).</div>
    <div class="meta">Posted on 2004-03-25 15:20:54 by f0dder</div>
   </div>
   <div class="post" id="post-136991">
    <div class="subject"><a href="#post-136991">Waitable Timers</a></div>
    <div class="body">Create a separate thread that waits and then triggers the callback?<br /><br />Otherwise like f0dder said you'll have to Sleep().  I think SleepEx() with bAlertable = TRUE will do this.</div>
    <div class="meta">Posted on 2004-03-25 16:20:02 by iblis</div>
   </div>
   <div class="post" id="post-137084">
    <div class="subject"><a href="#post-137084">Waitable Timers</a></div>
    <div class="body">Thanks guys, its a pity but I can think of a work around for my particular prob. Cheers.</div>
    <div class="meta">Posted on 2004-03-26 18:05:53 by Eóin</div>
   </div>
  </div>
 </body>
</html>
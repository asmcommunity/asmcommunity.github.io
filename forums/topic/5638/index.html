<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Ring0? Kernel Mode Driver? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5638" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5638">Ring0? Kernel Mode Driver?</a></p>
   <div class="post" id="post-40211">
    <div class="subject"><a href="#post-40211">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">Hi ppl,<br />     I would like to achieve ring0 so that my program has direct access to the physical memory.  Is making a Kernel Mode Driver the ONLY way to achieve this on WinNT?  Can someone please guide me on this because I have no idea where to start in writing a driver.  Even just a quick summary would be nice but detail will be MUCH appreciated!  I have heard that you have to create a service using your driver then call this service from your prog?  Is this true and how do I do this?<br /><br />Thanx in advance :)</div>
    <div class="meta">Posted on 2002-05-27 10:59:11 by Rama</div>
   </div>
   <div class="post" id="post-40219">
    <div class="subject"><a href="#post-40219">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">Hi, <br />no writing kernel mode driver is not the only way to look at physical memory - you must open &quot;\Device\PhysicalMemory&quot; via NT API Nt/ZwOpenSection (NT only, see example in Mark Russinovich's physmem.zip at SysInternals.com); or, more generally with Win32API OpenFileMapping in EliCZ's DumpXDT (<a target="_blank" href="http://www.anticracking.sk/EliCZ/export/DumpXDT.zip">http://www.anticracking.sk/EliCZ/export/DumpXDT.zip</a>)</div>
    <div class="meta">Posted on 2002-05-27 12:37:39 by Andycar</div>
   </div>
   <div class="post" id="post-40289">
    <div class="subject"><a href="#post-40289">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">Thanx! That PhysMem prog was a great help.  However I would still like to learn how to make a Kernel Mode Driver.  Anyone know how?</div>
    <div class="meta">Posted on 2002-05-28 04:18:23 by Rama</div>
   </div>
   <div class="post" id="post-40297">
    <div class="subject"><a href="#post-40297">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">Yes, i have done some KMD but in simple C, not yet in ASM, but i guess its not so hard as IMO they are just a DLL with special import/export and entry routines<br /><br />again sysinternals.com examples can help i guess</div>
    <div class="meta">Posted on 2002-05-28 05:48:09 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-40328">
    <div class="subject"><a href="#post-40328">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">BogdanOntanu: can u please send me some source on how u did this.  It would be much appreciated.  Thx :)<br /><br />roaknog: Thx, that looks useful :)</div>
    <div class="meta">Posted on 2002-05-28 13:13:08 by Rama</div>
   </div>
   <div class="post" id="post-40773">
    <div class="subject"><a href="#post-40773">Ring0? Kernel Mode Driver?</a></div>
    <div class="body">roaknog: i tried your code.  Am I correct in assuming that it should be running in ring0?  If so then why does it crash when I try to access physical memory directly: xor eax, eax   mov ebx, .  I thought it was ok to do this sort of thing in ring0 Kernel Mode Driver.  Anyone have any ideas?</div>
    <div class="meta">Posted on 2002-05-31 06:09:12 by Rama</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>PC to Stepper Motor interfacing - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12686" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=32">Electronics</a> &raquo; <a href="../?id=12686">PC to Stepper Motor interfacing</a></p>
   <div class="post" id="post-98066">
    <div class="subject"><a href="#post-98066">PC to Stepper Motor interfacing</a></div>
    <div class="body">I've build a small circuit to control a stepper motor from the PC paralel port &quot;directly&quot;. I use a darlington pair chip (ULN2003) to amplify the controlling signal from the parallel port to the stepper motor (a Tandon compatilbe stepper motor from the old IBM PC 5 1/4' floppy drive). Right now it can be controlled from Linux and Win 2K, since I've built the software for it :). The software only capable of continous rotation and stepping (1 step) . My problem is, I need someway to reset the position into some &quot;initial condition&quot; and to know the relative position of the motor from the initial position, I need some idea to accomplish this. Perhaps, do I need some MCU in the board to tell the PC the current position ? if yes then how ? or some other cheaper sollution :). Thanks</div>
    <div class="meta">Posted on 2003-04-19 21:32:28 by Pinczakko</div>
   </div>
   <div class="post" id="post-98068">
    <div class="subject"><a href="#post-98068">PC to Stepper Motor interfacing</a></div>
    <div class="body">Pinczakko, what a wierd name from Indonesia?<br /><br />hehe, btw, just use optocoupler to detect the limit. if you have used computer, then you wont need mcu.</div>
    <div class="meta">Posted on 2003-04-19 21:39:04 by dion</div>
   </div>
   <div class="post" id="post-98108">
    <div class="subject"><a href="#post-98108">PC to Stepper Motor interfacing</a></div>
    <div class="body">Unless you know where you left it last time (and the direction of the slack of what is hooked up to the motor), you have to home it in every time.<br /><br />Using the limit switches (optical or mechanical) is the simplest way.</div>
    <div class="meta">Posted on 2003-04-20 03:35:40 by eet_1024</div>
   </div>
   <div class="post" id="post-98267">
    <div class="subject"><a href="#post-98267">PC to Stepper Motor interfacing</a></div>
    <div class="body">quote:<br />________________________________________________________<br />The software only capable of continous rotation and stepping (1 step) .<br /><br />_______________________________________________________<br /><br />Don't you have to send multiple steps for your continuouse rotation.?<br /><br />Just count the steps in software then reverse.<br /><br />Stepper motors are pretty accurate when geared right. <br /><br />You could have a mechanical switch but that costs money for another part.</div>
    <div class="meta">Posted on 2003-04-20 20:25:19 by IwasTitan</div>
   </div>
   <div class="post" id="post-99630">
    <div class="subject"><a href="#post-99630">PC to Stepper Motor interfacing</a></div>
    <div class="body">Stepper motor controllers are available as IC's, you supply the switch-gear for high current motors (usually FETs), and the drive is made either by pulsing one of two digital inputs, or by driving them both with out of phase digital waveforms to determine the direction of the motor.<br />The IC keeps state and performs switch interfacing, you just pulse its inputs, much cleaner and more isolated from the motor.</div>
    <div class="meta">Posted on 2003-04-27 00:56:29 by Homer</div>
   </div>
   <div class="post" id="post-99676">
    <div class="subject"><a href="#post-99676">PC to Stepper Motor interfacing</a></div>
    <div class="body">I used this chip for a stepper driver: <br /><br /><a target="_blank" href="http://roboflag.carleton.ca/resources/technical/datasheets/sgs_l298_1773.pdf">L298</a><br /><br />And its companion wheel rotation driver:<br /><br /><a target="_blank" href="http://www.alltronics.com/download/1734.pdf">L297</a><br /><br />It worked quite well for me.  I used a PIC chip to drive the instructions to each wheel, by programming it to act on an 8 bit bus, and to retrieve drive instructions.  After a drive instruction was recieved, the pic did the rest until another drive instruction came in on its bus..  I managed to get multiple drive speeds and turning radius from this design.<br /><br />:NaN:</div>
    <div class="meta">Posted on 2003-04-27 10:03:02 by NaN</div>
   </div>
   <div class="post" id="post-99702">
    <div class="subject"><a href="#post-99702">PC to Stepper Motor interfacing</a></div>
    <div class="body">you cpuld drill a hole in one of the gears and use a <br />led + phototranstor to index the motor <br />or thr shaft of the motor but this could be off by 180 degrees</div>
    <div class="meta">Posted on 2003-04-27 15:19:37 by rob.rice</div>
   </div>
   <div class="post" id="post-99794">
    <div class="subject"><a href="#post-99794">PC to Stepper Motor interfacing</a></div>
    <div class="body"><div class="quote"><br />I used this chip for a stepper driver: <br />L298<br /><br />And its companion wheel rotation driver:<br />L297<br />:NaN: </div><br /><br />what a coincidence, eh? i just dl it yesterday because i was troubleshooting a sega machine, named &quot;saurus war&quot;. its motor was driven by those chip too, and because something unknown happen, the chip was blown up to pieces, and on this evening, i found that it affect the PAL chip too, and you guys know what, i swap it and it worked right now :grin: :grin: <br /><br />btw, after thinking and tinkering for a while for what/who cause the blown chip, i come to a conclusion that the motor was choked inside the gear and it makes the heat grew up and destroying the coil, and somehow it destroy the chip too. so be carefull when you design with something like this tho.</div>
    <div class="meta">Posted on 2003-04-28 06:20:21 by dion</div>
   </div>
   <div class="post" id="post-99895">
    <div class="subject"><a href="#post-99895">PC to Stepper Motor interfacing</a></div>
    <div class="body">Ya i've seen the L298 get toasted.  They are nice H-bridges for their ease in design, but they really are not all to fantanstic for efficiency.  As well they dont have alot of current ability.  They waste alot of power in heat i find.  But heh, if you want quick and dirty, and power is not an issue then i recommend them.  <br /><br />As well your circuit should have had a resistive choke on it.  This H-Bridge comes with a comparator feature to limit the current into the chip.  This is done by placing a high power, low resistance resistor in series with the drive current output to ground.  The comparator compares the resulting I*R voltage to a voltage divider (low current/high resistance) set point.  If the I*R voltage from the drive exceeds this setting, the H-bridge shuts down (to preserve it).   (Remember that I is considerably large for modest steppers running, so R is made small so it can be compared to a low voltage source).  Likewise the resistor must be a high power one, since P=[ I(max)^2 ]*R (LOTS of current == Lots of power).<br /><br />:NaN:</div>
    <div class="meta">Posted on 2003-04-28 21:50:35 by NaN</div>
   </div>
  </div>
 </body>
</html>
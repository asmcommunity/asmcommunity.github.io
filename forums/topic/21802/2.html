<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Simple assembly code gives me an error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21802" />
  <link rel="prev" href="../?id=21802&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21802">Simple assembly code gives me an error</a></p>
   <div class="post" id="post-183099">
    <div class="subject"><a href="#post-183099">Re: Simple assembly code gives me an error</a></div>
    <div class="body"><div class="quote"><br />I&#39;ve been trying to compile the code below, but with no luck. :sad:<br />It keeps giving this error:<br /> Assembling: D:\masm32\MattsAsm\mmxssetest.asm<br />D:\masm32\MattsAsm\mmxssetest.asm(21) : error A2088: END directive required at end of file<br /><br />here is the code:<br /><br /><pre><code>.686p<br />.model flat, C, stdcall<br />option casemap :none?&nbsp; ?&nbsp;; case sensitive<br />.xmm<br /><br />include \masm32\include\windows.inc<br />include \masm32\include\kernel32.inc<br />include \masm32\include\user32.inc<br /><br />includelib \masm32\lib\kernel32.lib<br />includelib \masm32\lib\user32.lib<br /><br />.data<br /><br />.code<br />main:<br />?&nbsp; ?&nbsp; movq mm0,<br />?&nbsp; ?&nbsp; movdqa xmm0,<br />?&nbsp; ?&nbsp; ret<br />end main</code></pre><br /></div><br /><br />I think that you should go to Windows.inc, and change the structure of IMPORT_OBJECT_HEADER as the following. I have tried with the version 8.00.50727.42 and I have no problem.<br /><br />IMPORT_OBJECT_HEADER STRUCT<br />&nbsp; &nbsp; Sig1 dw&nbsp; &nbsp;  ?<br />&nbsp; &nbsp; Sig2 dw&nbsp; &nbsp;  ?<br />&nbsp; &nbsp; Version dw&nbsp; ?<br />&nbsp; &nbsp; Machine dw&nbsp; ?<br />&nbsp; &nbsp; TimeDateStamp dd ?<br />&nbsp; &nbsp; SizeOfData dd&nbsp;  ?<br />&nbsp; &nbsp; rImport ImportRec &lt;&gt;<br />&nbsp; &nbsp; union <br />&nbsp; &nbsp; &nbsp; &nbsp; Ordinal dw&nbsp; ?<br />&nbsp; &nbsp; &nbsp; &nbsp; Hint dw&nbsp; &nbsp;  ?<br />&nbsp; &nbsp; ends<br />&nbsp; &nbsp; ;rImport ImportRec &lt;&gt;<br />IMPORT_OBJECT_HEADER ENDS<br />In conclusion, ML.EXE (8.00.50727.42) has the error when:<br /><strong>&nbsp; &nbsp; ends<br />&nbsp; &nbsp; rImport ImportRec &lt;&gt;</strong></div>
    <div class="meta">Posted on 2006-07-07 12:50:46 by nhnpresario</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Simple assembly code gives me an error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21802" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21802">Simple assembly code gives me an error</a></p>
   <div class="post" id="post-164497">
    <div class="subject"><a href="#post-164497">Simple assembly code gives me an error</a></div>
    <div class="body">I&#39;ve been trying to compile the code below, but with no luck. :sad:<br />It keeps giving this error:<br /> Assembling: D:\masm32\MattsAsm\mmxssetest.asm<br />D:\masm32\MattsAsm\mmxssetest.asm(21) : error A2088: END directive required at end of file<br /><br />here is the code:<br /><br /><pre><code>.686p<br />.model flat, C, stdcall<br />option casemap :none&nbsp;  ; case sensitive<br />.xmm<br /><br />include \masm32\include\windows.inc<br />include \masm32\include\kernel32.inc<br />include \masm32\include\user32.inc<br /><br />includelib \masm32\lib\kernel32.lib<br />includelib \masm32\lib\user32.lib<br /><br />.data<br /><br />.code<br />main:<br />&nbsp; &nbsp; movq mm0,<br />&nbsp; &nbsp; movdqa xmm0,<br />&nbsp; &nbsp; ret<br />end main</code></pre></div>
    <div class="meta">Posted on 2005-09-13 08:18:17 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164498">
    <div class="subject"><a href="#post-164498">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Use ML v6.15.8803 - Get it from vcpp5 (enter in google vcpp5, and press &quot;i&#39;m feeling lucky&quot; )</div>
    <div class="meta">Posted on 2005-09-13 08:51:03 by drizz</div>
   </div>
   <div class="post" id="post-164499">
    <div class="subject"><a href="#post-164499">Re: Simple assembly code gives me an error</a></div>
    <div class="body">I got my latest ML version from the visual c++ 2005 demo.<br />It seems to work ok, except for the error above.</div>
    <div class="meta">Posted on 2005-09-13 09:05:22 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164500">
    <div class="subject"><a href="#post-164500">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Is this correct? :?:<br /><br /><pre><code>.model flat, C, stdcall</code></pre><br /><br />Shouldn&#39;t it be either C or stdcall? What does it do when you specify both? (Sorry for the lame question...)</div>
    <div class="meta">Posted on 2005-09-13 10:02:28 by QvasiModo</div>
   </div>
   <div class="post" id="post-164501">
    <div class="subject"><a href="#post-164501">Re: Simple assembly code gives me an error</a></div>
    <div class="body">you are right for the error, something strange with that version, i&#39;ve put<br /><br />option proc:public   ; &quot;public main&quot; should work too<br /><br />and then it compiled (without inc files), and after that &lt;option proc:public&gt; code<br />was not neccessary anymore?!?!?<br /><br />:confused:</div>
    <div class="meta">Posted on 2005-09-13 10:14:59 by drizz</div>
   </div>
   <div class="post" id="post-164515">
    <div class="subject"><a href="#post-164515">Re: Simple assembly code gives me an error</a></div>
    <div class="body">quasimodo:<br />I don&#39;t know :|<br /><br />drizz:<br />tried everything you&#39;ve suggested and still doesn&#39;t work.<br />anybody else have any ideas?</div>
    <div class="meta">Posted on 2005-09-13 14:59:51 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164516">
    <div class="subject"><a href="#post-164516">Re: Simple assembly code gives me an error</a></div>
    <div class="body">assembles without any errors for me... (ml v6.15.8803) </div>
    <div class="meta">Posted on 2005-09-13 15:37:20 by arafel</div>
   </div>
   <div class="post" id="post-164517">
    <div class="subject"><a href="#post-164517">Re: Simple assembly code gives me an error</a></div>
    <div class="body"><pre><code>.686p<br />.xmm<br />.model flat,c<br />option casemap:none<br />option language:stdcall<br />include WINDOWS.INC; promblem with IMPORT_OBJECT_HEADER<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; rImport ImportRec &lt;&gt;,&lt;&gt;,&lt;&gt;<br />include kernel32.inc; assumes stdcall<br />includelib kernel32.lib<br />option language:c<br />.code<br />public start<br />start:<br />	pxor xmm0,xmm0<br />	movd eax,mm0<br />	invoke ExitProcess,eax<br />&nbsp; &nbsp; ret<br />end start</code></pre><br /><br />try to compile this , i must say that its strange, i had the same error at first but i cannot reproduce it again<br /><br /><strong>QvasiModo</strong>: it uses the last specified...</div>
    <div class="meta">Posted on 2005-09-13 16:03:50 by drizz</div>
   </div>
   <div class="post" id="post-164519">
    <div class="subject"><a href="#post-164519">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Use ML.exe from the official MASM32 package (www.movsd.com) <br />The latest ML is FULL with problems, I recommend you never again use it, for anything! <br /><br />That tricky bugger took me days to figure it&#39;s buggy as hell. Crashes randomly, misses lines of code, makes errors on correct syntaxis, locks up... it&#39;s hilarious how MS got it bugged. <br /><br />I use 6.14.8444, never had any problems with it for the past 3.5 years. </div>
    <div class="meta">Posted on 2005-09-13 17:16:18 by Ultrano</div>
   </div>
   <div class="post" id="post-164520">
    <div class="subject"><a href="#post-164520">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Ultrano,<br /><br /><div class="quote">The latest ML is FULL with problems, I recommend you never again use it, for anything!</div><br /><br />You are talking about ML.EXE version 8.00 that comes with the VC/C++ 2005 Beta, right?<br /><br /></div>
    <div class="meta">Posted on 2005-09-13 18:06:29 by Greg</div>
   </div>
   <div class="post" id="post-164522">
    <div class="subject"><a href="#post-164522">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Yes, 8.00.40607.16 . Was from beta 1. I received DVDs with beta2 from MS, but I haven&#39;t bothered to try it (and its ml.exe)<br /></div>
    <div class="meta">Posted on 2005-09-13 20:21:54 by Ultrano</div>
   </div>
   <div class="post" id="post-164524">
    <div class="subject"><a href="#post-164524">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Sooooo, thats the problem, buggy as hell! :P<br />Ok, thanks Ultrano, I&#39;ll go back to the original ML<br />Does the ML version that comes with latest masm32 install support sse/sse2 instruction set?</div>
    <div class="meta">Posted on 2005-09-13 21:16:49 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164525">
    <div class="subject"><a href="#post-164525">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Gorilla,<br /><br />The safe versions of ML.EXE are 6.14, 6.15, 7.00 and 7.10. Earlier have problems and te 8.00 beta stil has big problems.<br /><br />For SSE2 instructions you need to use 6.15 or higher. You can get it directly from Microsoft or from the masmforum web site to upgrade your version of VC6. If you don&#39;t want to use it in the VC6 environment, you can extract it with Winrar and plug it into MASM32.<br /><br />Regards,<br /><br />hutch at movsd dot com</div>
    <div class="meta">Posted on 2005-09-13 21:45:21 by hutch--</div>
   </div>
   <div class="post" id="post-164530">
    <div class="subject"><a href="#post-164530">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Well, I spoke too soon. :sad:&nbsp; I downloaded the latest original masm install version, re-installed it, and it compiled one file good, but then all other compiles generate the same error:<br />D:\masm32\MattsAsm\mmxssetest.asm(21) : error A2088: END directive required at end of file<br />I&#39;m about ready to give up on it :evil:</div>
    <div class="meta">Posted on 2005-09-14 06:29:13 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164532">
    <div class="subject"><a href="#post-164532">Re: Simple assembly code gives me an error</a></div>
    <div class="body"><br />wasn&#39;t there once a bug (or still is) in masm requiring a CR/LF behind the end directive?<br /><br />At least I would ensure that there is one.<br /></div>
    <div class="meta">Posted on 2005-09-14 07:49:28 by japheth</div>
   </div>
   <div class="post" id="post-164561">
    <div class="subject"><a href="#post-164561">Re: Simple assembly code gives me an error</a></div>
    <div class="body">I assembled your code from the first post - unchanged - with masm 6.15.8803 and didn&#39;t get any errors.<br /><br />Suggestion: comment out all &quot;include&quot; and includelib&quot; lines and see if the error still occurs.<br /></div>
    <div class="meta">Posted on 2005-09-15 08:04:49 by japheth</div>
   </div>
   <div class="post" id="post-164562">
    <div class="subject"><a href="#post-164562">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Hi,<br />&nbsp; &nbsp;  I&#39;ve managed to hunt down the problem :O. It was a bad windows.inc file, some commentary text at the very top of the include was not commented out and was causing the errors :roll:.&nbsp; So I commented them out and, aside from one other minor fix, everything is going fine now 8).&nbsp; And yes, Japheth, I did do that, which is what got me snooping around the include files.&nbsp; Thanks to everyone for trying to help :D</div>
    <div class="meta">Posted on 2005-09-15 08:43:49 by GorillaCoder</div>
   </div>
   <div class="post" id="post-164563">
    <div class="subject"><a href="#post-164563">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Gorilla,<br /><br />The character used at the top of the include file is a problem with ml 8.00 and it has many other problems as well. At the moment I would not go higher than the VC net version of ML 7.10 noting that 6.15 upwards support SSE2.</div>
    <div class="meta">Posted on 2005-09-15 09:23:49 by hutch--</div>
   </div>
   <div class="post" id="post-164570">
    <div class="subject"><a href="#post-164570">Re: Simple assembly code gives me an error</a></div>
    <div class="body">Hello hutch,<br />&nbsp; &nbsp;  So far I haven&#39;t had any problems with the ml i have (8.00.40607.16), what are the types of problems you are having with it?<br />right now most examples are compiling fine, but a few need a file called win32.asm, which I&#39;ll have to hunt down using google or something.<br />Take Care,<br />GorillaCoder</div>
    <div class="meta">Posted on 2005-09-15 14:48:42 by GorillaCoder</div>
   </div>
   <div class="post" id="post-166050">
    <div class="subject"><a href="#post-166050">Re: Simple assembly code gives me an error</a></div>
    <div class="body">I deleted all the replies in this thread that do not have anything to do with helping GorillaCoder&#39;s problem. Please do not post personal opinions that have nothing to do with solving the problem.</div>
    <div class="meta">Posted on 2005-09-17 09:19:41 by SpooK</div>
   </div>
  </div>
 </body>
</html>
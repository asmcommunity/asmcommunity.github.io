<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Disassembler - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14891" />
    <link rel="next" href="../?id=14891&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=22">Recruitment</a> &raquo; <a href="../?id=14891">Disassembler</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=14891&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=14891&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="14891" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=14891&amp;page=2">&gt;</a><a href="../?id=14891&amp;page=3">&raquo;</a></form>   <div class="post" id="post-115564">
    <div class="subject"><a href="#post-115564">Disassembler</a></div>
    <div class="body">Hi all,<br /><br />Currently I am working on a disassembly engine. I almost completed the full opcode set, leaving only fpu opcodes and 3dnow! opcodes undone. For now I am seeking people to help me test it out and inform me of which part of it is not properly done. (I know that the test bed is pretty crudely done, but then I was hasty :) ). I have attached the file for people to come and help me with the testing of it. Please come and test it out for me. <br /><br />Okay, furthermore I want to work on a disassembler. That's my next step. However I find it lonely to work on the project alone, thus I am in this forum recuiting people that is interested in helping me in the coding of the disassembler and some other stuffs which I had not thought of. For example:<br />1) Name of the disassembler. I need some suggestions or soemthing like that.<br />2) GUI of the disassembler. I need some ideas on how you guys want my disassembler to look like.<br />3) What addition functions that the disassembler should have?<br />4) I need some inspiration for icons and so on. <br /><br />People, please come forward and give me some of your suggestion or anything. I just need some help here (I am not really a GUI person, more into algorithm).</div>
    <div class="meta">Posted on 2003-08-26 11:18:43 by roticv</div>
   </div>
   <div class="post" id="post-115566">
    <div class="subject"><a href="#post-115566">Disassembler</a></div>
    <div class="body">Hi roticv,<br /><br />I'm not bad at GUI design, I have some ideas for a disassembler design that is a radical departure from the normal 5 or 6 MDI child design. I have always found that interface cumbersome. My idea is for a procedural disassembler, one where the main focus is procedures and data blocks.<br /><br />The GUI would require that you supply disassembled code in a buffer encompassing a single procedure (entry to leave) also a table of addresses that were expressly addressed (i.e. mov edi,Mem32 not the inc edi ones).<br /><br />The program can then be broken down into a treeview control with editable labels, each subitem representing a procedure. The root items would be the segments of the program. This would allow the user to create a list of labels for the procedures. The data would be sorted by address and become the subitems of the data segment root, again editable labels. When you select a treeview root item a summary of the contents of the segment is displayed, when you select a subitem the code or data for that block is displayed with references to other sub items.<br /><br />I am knee deep in TBPaint right now but I would be glad to participate when you are ready to start the GUI.</div>
    <div class="meta">Posted on 2003-08-26 11:49:18 by donkey</div>
   </div>
   <div class="post" id="post-115601">
    <div class="subject"><a href="#post-115601">Disassembler</a></div>
    <div class="body">One question, will the dissasembled code be in MASM or FASM  syntax?<br /><br />Here's a litte sugestion for a name:    ; (Maybe it isn't taht good - but hey you asked for suggestions ;))<br />Rigda - <strong>R</strong>ot<strong>i</strong>cv's <strong>G</strong>raphical <strong>D</strong>iss<strong>a</strong>sembler</div>
    <div class="meta">Posted on 2003-08-26 14:54:36 by scientica</div>
   </div>
   <div class="post" id="post-115677">
    <div class="subject"><a href="#post-115677">Disassembler</a></div>
    <div class="body">Hey scientica,<br /><br />Thanks for your suggestion. I will add it into my list of names. I tried to make the disassembled code be as generic as possible. But of course the code that is disassembled would not be properly assembled with masm or fasm without some adjustment. So the answer should be neither, until someone request for some change in the output. I will be willing to make changes. <br /><br />I got some question for you. Would prefer<br /><br /><pre><code>movs dword ptr ES&#58;&#91;edi&#93;,dword ptr ES&#58;&#91;esi&#93;</code></pre><br />or <pre><code>movsd</code></pre><br /><br />And is the following FASM compatible?<br /><pre><code>add byte ptr &#91;eax&#93;, al</code></pre> <br />and stuffs like that?<br /><br />Hey donkey,<br /><br />I certainly do like your idea about using a treeview control. Very nice idea I must say. Thanks. :) I got a question, do you have any suggestion on where the disassembled code be placed in? In an editbox? In a richedit (with some syntax highlighting)? In a listbox? Or some other weird controls. :rolleyes: <br /><br /> :<br />I made a mistake with the opcodes fxsave and fxstor. But then again the chances of one spotting it would be 1/256*1/256*2/256 :grin: Oh yes, one thing to note is that my engine is only compatible for PII and above because of the usage of cmov (was trying to cut down on conditional jmps). I was also be planning to be using mmx in the disassembler.</div>
    <div class="meta">Posted on 2003-08-27 03:26:02 by roticv</div>
   </div>
   <div class="post" id="post-115716">
    <div class="subject"><a href="#post-115716">Disassembler</a></div>
    <div class="body">My suggestion for the name: <strong>dissect</strong><br /><br />I agree with donkey, there is a need for a more advanced GUI than actual ones. In addition to treeview, it will be nice to have graphical (live) jumps and calls to both visualize and navigate through the code. It means neither listboxes or editboxes, but an ownerdraw working space. Such a control will be useful also to edit source code. I will prepare an example to show you what I mean.</div>
    <div class="meta">Posted on 2003-08-27 08:08:53 by pelaillo</div>
   </div>
   <div class="post" id="post-115723">
    <div class="subject"><a href="#post-115723">Disassembler</a></div>
    <div class="body">Hi Pelaillo,<br /><br /><div class="quote">In addition to treeview, it will be nice to have graphical (live) jumps and calls to both visualize and navigate through the code. It means neither listboxes or editboxes, but an ownerdraw working space. </div> <br />Actually this reminds me of IDA pro, which has its own custom control which when you double click on the data, you would be &quot;teleported&quot; to the data section containing the data, and when you click on the jmp/call, you would be &quot;teleported&quot; to that code. Of course I am interested to see your example (Eagerly awaiting). Thanks.<br /><br />I was thinking about the gui. Is there a need to show the actually hex values for the disassembler? When looking at disassemblers that lack that feature, the first thing that runs into my head is what's the hex value of this opcode. :) But of course different people have different opinions. Thus I am waiting for people to express their opinions on this issue. <br /><br />There are many nice features in other disassemblers. My idea now is to incorporate them all into my disassembler (whatever that is possible of course). It would be nice for people to inform me what they want, and I would add it to the &quot;things-to-do&quot; list for this project. Of course I have not started on it yet. Still in the &quot;brainstorming&quot; session. School's taking alot of my time currently.</div>
    <div class="meta">Posted on 2003-08-27 08:35:12 by roticv</div>
   </div>
   <div class="post" id="post-115727">
    <div class="subject"><a href="#post-115727">Disassembler</a></div>
    <div class="body">Hi roticv,<br /><br />Yeah I like pelaillo's idea for a custom control. The graphical links in the control will make it alot easier to analyze code. Suggestion for the name - ProDis (Procedural Disassembler)</div>
    <div class="meta">Posted on 2003-08-27 08:40:18 by donkey</div>
   </div>
   <div class="post" id="post-115738">
    <div class="subject"><a href="#post-115738">Disassembler</a></div>
    <div class="body">First of all:<br /><strong>movsd</strong> - there are opcode/instruction references.. :) The other form is IMO more confusing - movsd is better than movs <br /><br />As for &quot;add byte ptr , al&quot;, it will compile (correct - verified) if &quot;ptr&quot; is 'fix'ed (may work with equ too, but I prefer fix here):<br /><pre><code>ptr fix<br />add byte ptr &#91;eax&#93;,al</code></pre><br />It's only needed to fix ptr once in the sources<br /><br />You're not interested in participating in Fresh? (Hopefully there will be a built in debugger - and a debugger needs a disassembler, right?)</div>
    <div class="meta">Posted on 2003-08-27 09:24:33 by scientica</div>
   </div>
   <div class="post" id="post-115751">
    <div class="subject"><a href="#post-115751">Disassembler</a></div>
    <div class="body">Hey scientica,<br /><br />To make the code work on both masm and fasm I think there is a need for some slight changes (for example in the parser code to remove the &quot;offset&quot; and so on). <br /><br /><div class="quote">You're not interested in participating in Fresh? (Hopefully there will be a built in debugger - and a debugger needs a disassembler, right?)</div> <br />I have yet to learn the fasm syntax (just need some motivation, which I lack now :) ) That's why I am not really interested in participating in Fresh for now. But of course my decision will sway due to some other factors. I don't mind sharing the core of my engine, but of course it is in masm. Prehaps I can generate a dll that you can use for Fresh.   <br /><br />I have attached my code for you to have a look. But take care, since the code is uncommented and looks &quot;not normal&quot;. Just about more than 6000 lines of code. :) Some codes/data are pretty useless because I could not be bothered to remove them/comment them out (Came from my older version of the engine).</div>
    <div class="meta">Posted on 2003-08-27 09:43:52 by roticv</div>
   </div>
   <div class="post" id="post-115757">
    <div class="subject"><a href="#post-115757">Disassembler</a></div>
    <div class="body"><div class="quote"><em>Originally posted by roticv </em><br />I have yet to learn the fasm syntax (just need some motivation, which I lack now :) )</div><br />Hehe, I could write a &quot;little&quot; list with reasons... (but that would just be a &quot;why-I-think-fasm-is-best&quot;-list, not a direct motivation speach, so I'll spare your eyes from teh reading :grin: ;) )<br />But it's really not that hard to learn the syntax, at least I felt that it was more natural.<br /><br /><div class="quote"><em>Originally posted by roticv </em><br />Prehaps I can generate a dll that you can use for Fresh.</div><br />Maybe, but that is something that JohnFound should answer. (Since it would involve some changes to the project). And for the second I think pelaillo is working on the debugger part - I'm currently working with the styles editor.<br />But personaly I think that it could work fine, but at the sametime, it feels a bit like Fresh is for fasm, and should be written in it.</div>
    <div class="meta">Posted on 2003-08-27 09:56:10 by scientica</div>
   </div>
   <div class="post" id="post-115773">
    <div class="subject"><a href="#post-115773">Disassembler</a></div>
    <div class="body"><div class="quote"><br />movsd</strong> - there are opcode/instruction references.. :) The other form is IMO more confusing - movsd is better than movs <br /></div><br />But then how to differentiate these three instructions?<br /><pre><code><br />movs dword &#91;edi&#93;,&#91;esi&#93;<br />movs dword &#91;di&#93;,&#91;si&#93;      ; has the 67h prefix<br />movs dword &#91;edi&#93;,&#91;fs&#58;esi&#93; ; has the 64h prefix<br /></code></pre><br />And about the 'ptr' syntax: fasm, when no macros nor 'fix'es are applied, it accepts the following two forms:<br /><pre><code><br />add byte ptr eax, al<br />add byte &#91;eax&#93;, al<br /></code></pre><br />combining them into one instruction is for fasm just the same as doubling the square brackets.</div>
    <div class="meta">Posted on 2003-08-27 10:48:37 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-115777">
    <div class="subject"><a href="#post-115777">Disassembler</a></div>
    <div class="body"><div class="quote"><br /><br />But then how to differentiate these three instructions?<br /><pre><code><br />movs dword &#91;edi&#93;,&#91;esi&#93;<br />movs dword &#91;di&#93;,&#91;si&#93;      ; has the 67h prefix<br />movs dword &#91;edi&#93;,&#91;fs&#58;esi&#93; ; has the 64h prefix<br /></code></pre></div><br />To be honest: I didn't know one could do that :o<br />But in that case then the above would be good, but for &quot;standard movsd&quot; (movs dowrd ,) simply movsd should be used IMO.</div>
    <div class="meta">Posted on 2003-08-27 10:55:18 by scientica</div>
   </div>
   <div class="post" id="post-115778">
    <div class="subject"><a href="#post-115778">Disassembler</a></div>
    <div class="body">Hey Privalov,<br /><br />If I remember correctly, string functions can only operate in the data segment ES (Stated in the Intel Manual if I am not wrong). So prefix_64h does nothing actually.</div>
    <div class="meta">Posted on 2003-08-27 10:56:03 by roticv</div>
   </div>
   <div class="post" id="post-115781">
    <div class="subject"><a href="#post-115781">Disassembler</a></div>
    <div class="body">The destination (edi) cannot be prefixed, the source can.<br />Even fasm's docs cover this syntax option. ;)</div>
    <div class="meta">Posted on 2003-08-27 11:08:33 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-115782">
    <div class="subject"><a href="#post-115782">Disassembler</a></div>
    <div class="body">This is a draft, but the ideas are:<br />1. The interface is a grid (or a goup of collapsible grids distributed in the working space)<br />2. The result is a plain text file that can be compiled on-the-fly (this is the reason for the column distribution and the <strong>:</strong> &amp; <strong>;</strong><br />3. Referenced labels are marked out.<br />4. Ability to rename a label and all references through the code are renamed accordingly.<br />5. Jumps and calls are live links.</div>
    <div class="meta">Posted on 2003-08-27 11:08:37 by pelaillo</div>
   </div>
   <div class="post" id="post-115934">
    <div class="subject"><a href="#post-115934">Disassembler</a></div>
    <div class="body">Hey pelaillo,<br /><br />Thanks for sharing your opinion on how you want the gui to look like. I will look into it and try my best to add your model in. Thanks. <br /><br />Hey Privalov,<br /><br />My mistake not raeding the intel manuals properly. Now I think I need to recode the string opcodes.</div>
    <div class="meta">Posted on 2003-08-28 07:14:57 by roticv</div>
   </div>
   <div class="post" id="post-116060">
    <div class="subject"><a href="#post-116060">Disassembler</a></div>
    <div class="body">The same scheme applies to xlat instruction.</div>
    <div class="meta">Posted on 2003-08-29 01:43:03 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-116399">
    <div class="subject"><a href="#post-116399">Disassembler</a></div>
    <div class="body">Hey scientica,<br /><br />I think your suggestion for the name sounds quite nice. But of course I was thinking it is better for Rigda to mean Roticv's Interactive Graphical DisAssembler. Long name I know. <br /><br />Hey Privalov,<br /><br />Thanks for informing me. I did not know about xlat.</div>
    <div class="meta">Posted on 2003-08-31 21:12:57 by roticv</div>
   </div>
   <div class="post" id="post-116432">
    <div class="subject"><a href="#post-116432">Disassembler</a></div>
    <div class="body"><div class="quote"><br />I will look into it and try my best to add your model in.</div><br /><br />I am currently doing the custom control (&quot;asmgrid&quot;) for edition purposes, but it will fit your needs as well. I will post here the sources as soon as it gets working.<br /><br />Thanks,</div>
    <div class="meta">Posted on 2003-09-01 03:03:46 by pelaillo</div>
   </div>
   <div class="post" id="post-119547">
    <div class="subject"><a href="#post-119547">Disassembler</a></div>
    <div class="body">Anything new on this topic?</div>
    <div class="meta">Posted on 2003-09-26 00:42:23 by Tommy</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=14891&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=14891&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="14891" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=14891&amp;page=2">&gt;</a><a href="../?id=14891&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
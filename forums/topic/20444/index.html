<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Library of functions for complex numbers - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20444" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=20444">Library of functions for complex numbers</a></p>
   <div class="post" id="post-156325">
    <div class="subject"><a href="#post-156325">Library of functions for complex numbers</a></div>
    <div class="body">I am considering the preparation of a library of functions which would cover the arithmetic, trigonometric, hyperbolic, logarithmic, exponential and a few other operations on COMPLEX NUMBERS.<br /><br />The flag parameter would indicate the size of the operand(s) (and result), allowing either SINGLE, DOUBLE or EXTENDED DOUBLE precision. The flag parameter would also indicate if operand(s) (and result) are in cartesian or polar coordinates. The operand(s) source and the result destination would also be indicated by the flag parameter as from/to the FPU or memory.<br /><br />A detailed Help file (API style) would also be made available along with the source code of all the modules.<br /><br />The library would not be intended for beginners in assembly. The user will need to be familiar with the management of the FPU registers to insure that the required number of registers are free before calling any of the functions.<br /><br />This is a survey to find out if it is worth my time and effort to prepare such a library.<br /><br />Raymond</div>
    <div class="meta">Posted on 2005-01-26 21:29:23 by Raymond</div>
   </div>
   <div class="post" id="post-156327">
    <div class="subject"><a href="#post-156327">Library of functions for complex numbers</a></div>
    <div class="body">If it covers larger types (N-bit binary giants for example) I am interested.</div>
    <div class="meta">Posted on 2005-01-26 22:36:04 by Homer</div>
   </div>
   <div class="post" id="post-157016">
    <div class="subject"><a href="#post-157016">Library of functions for complex numbers</a></div>
    <div class="body">The complex number library is completed. You can get it from:<br /><br />http://www.ray.masmcode.com/index.html#znum<br /><br />If you don't know what complex numbers are, the above link also includes a brief description of that &quot;complex&quot; subject.<br /><br />Within the next few weeks, I will also make my fractal program available from the same link. I'm currently reworking its help file to reflect the use of threads in the revised program. (Fractal art makes extensive use of complex numbers.)<br /><br />Enjoy<br /><br />Raymond</div>
    <div class="meta">Posted on 2005-02-13 21:29:03 by Raymond</div>
   </div>
   <div class="post" id="post-185571">
    <div class="subject"><a href="#post-185571">Re: Library of functions for complex numbers</a></div>
    <div class="body">Hi! Ideas in ZTest.asm are really nice.</div>
    <div class="meta">Posted on 2006-09-27 16:24:12 by inFinie</div>
   </div>
   <div class="post" id="post-185580">
    <div class="subject"><a href="#post-185580">Re: Library of functions for complex numbers</a></div>
    <div class="body">Glad you liked it and may have been of some help.<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2006-09-27 21:14:28 by Raymond</div>
   </div>
   <div class="post" id="post-185589">
    <div class="subject"><a href="#post-185589">Re: Library of functions for complex numbers</a></div>
    <div class="body">hi, nice library.<br /><br />i am (in very early stage) developing library for FASM, and i think i might be able to use your code (as optional addon) if you permit me to.<br /><br />since you seem not to be using many MASM-specific features, i will just write few macros that will &quot;emulate&quot; MASM enviroment, and include your sources.<br /><br />surely not now, i have more important things to do with library, but it would be very nice addition some time. and also interesting FASM macro project. are you interested?</div>
    <div class="meta">Posted on 2006-09-28 03:49:39 by vid</div>
   </div>
   <div class="post" id="post-185595">
    <div class="subject"><a href="#post-185595">Re: Library of functions for complex numbers</a></div>
    <div class="body">vid<br /><br />Would you also intend to rewrite the accompanying Help file to be compatible with FASM or reuse it as is?<br /><br />Would you include the test program (including source code modified for FASM) and the fractal program in the package?<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2006-09-28 20:45:19 by Raymond</div>
   </div>
   <div class="post" id="post-185597">
    <div class="subject"><a href="#post-185597">Re: Library of functions for complex numbers</a></div>
    <div class="body">i will have to &quot;wrap&quot; your functions with my common wrapper. because i return error in CF, not with specific value (it&#39;s more flexible when you are in assembler). I will also have to parse your errors maybe, or catch those which you don&#39;t catch.<br /><br />i will probably write docs with this my calling standard, and refer to your docs for details.<br /><br />test program will be surely required, i don&#39;t release source without some test script which tries to test every possibility. It just is not possible to write bug-free code without that.<br /><br />and once more: this won&#39;t be in the default package, because of it&#39;s MASM nature. defualt package will be &quot;clean&quot;. This will be optional add-on.<br /><br />i just planned it for future, because this seems interesting and one will hardly find asm library for complex numbers. There is one limitation i could have problem to overcome with FASM macros - you access proc arguments using syntax &quot;mov eax, value&quot;. But in case you would use second version &quot;mov eax, &quot; too, my macros won&#39;t work. This includes accessing low order byte of dword with &quot;mov al, byte ptr &quot;. MASM has just confusion with these syntaxes...</div>
    <div class="meta">Posted on 2006-09-29 03:17:26 by vid</div>
   </div>
   <div class="post" id="post-185607">
    <div class="subject"><a href="#post-185607">Re: Library of functions for complex numbers</a></div>
    <div class="body"><div class="quote">i return error in CF</div><br /><br />I am &quot;assuming&quot; at this time that the functions would be called as procedures with parameters on the stack. If so, would you not be concerned that the CF flag may get modified on exit from a standard proc when the stack is usually corrected for the pushed parameters by &quot;add esp,xx&quot;?<br /><br /><div class="quote">There is one limitation i could have problem to overcome with FASM macros</div><br /><br />If you are going to translate from MASM syntax to some other syntax, you must thus be very familiar with the MASM syntax. Therefore you must know that, in MASM, &quot;mov eax, value&quot; and &quot;mov eax, &quot; are interpreted as identical instructions, i.e. move the <u>content</u> of the &quot;value&quot; variable into EAX. I would thus never use the &quot;mov eax, &quot; variant in my source code. If I need to get the address of the variable, I normally use &quot;lea eax,value&quot; because it works with both global and local variables and I don&#39;t have to ask myself which type of variable it is (&quot;mov eax,offset value&quot; works only with global variables).<br /><br />As for an instruction such as &quot;mov al, byte ptr &quot;, I would <u>never</u> use anything similar in my source code. I would always load whatever register size is required for the declared size of the variable.<br /><br /><div class="quote">test program will be surely required</div><br /><br />I agree with your philisophy but the test program I was referring to is the small app included with the Zlib package. It&#39;s only designed to help the user visualize the type of result which could be obtained from the various operations on complex numbers entered by the user. Its source code is also an example on how the library can be used.<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2006-09-29 11:39:13 by Raymond</div>
   </div>
  </div>
 </body>
</html>
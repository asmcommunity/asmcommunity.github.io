<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to make a self modifing app - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3534" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3534">How to make a self modifing app</a></p>
   <div class="post" id="post-23456">
    <div class="subject"><a href="#post-23456">How to make a self modifing app</a></div>
    <div class="body">I need an idea how to make application which will be able to patch itself, to change a few variables in data or code section,<br />and to save those changes.<br /><br />Thank you</div>
    <div class="meta">Posted on 2002-02-08 17:18:37 by dJed_mRaz</div>
   </div>
   <div class="post" id="post-23458">
    <div class="subject"><a href="#post-23458">How to make a self modifing app</a></div>
    <div class="body">If somebody think that i want to write virii or something like this that is not a case. I just want to save a few status flags without creating an external data file.</div>
    <div class="meta">Posted on 2002-02-08 17:25:16 by dJed_mRaz</div>
   </div>
   <div class="post" id="post-23461">
    <div class="subject"><a href="#post-23461">How to make a self modifing app</a></div>
    <div class="body">Never fear,<br /><br />there are legitimate uses for self modifying code. There is an example in the MASM32 examples that does this by one technique. The basics of SMC is building the EXE with the .CODE section writable which is a build option.<br /><br />Once this is done, you can write changes to the code section but be careful, the offsets are hard coded in by the assembler and you will have to know what you are doing with jumps and variable reference.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-08 17:49:51 by hutch--</div>
   </div>
   <div class="post" id="post-23463">
    <div class="subject"><a href="#post-23463">How to make a self modifing app</a></div>
    <div class="body">I check SMC code, but how can i save those changes to my HD. This example just show how to modify code section in run time, but real question is how to write those changes permanent.</div>
    <div class="meta">Posted on 2002-02-08 18:07:14 by dJed_mRaz</div>
   </div>
   <div class="post" id="post-23467">
    <div class="subject"><a href="#post-23467">How to make a self modifing app</a></div>
    <div class="body">Normally an application cannot change its own disk image as it only has read access to the disk file while it is running. I cannot think of an easy way to do what you are after, its the same problem as a file that needs to delete itself, the OS will not allow the access.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-08 18:16:41 by hutch--</div>
   </div>
   <div class="post" id="post-23497">
    <div class="subject"><a href="#post-23497">How to make a self modifing app</a></div>
    <div class="body">The Only way i can think of doing this would involve creating 2 temporary external files. After your file has modified itself it could save the changed copy and then create a batch file that will delete the origonal and replace it with the changed one then the batch file would delete itself. The problem with this is that saved file would be a copy of the file after it has been loaded into memory...</div>
    <div class="meta">Posted on 2002-02-08 21:28:55 by Quantum</div>
   </div>
   <div class="post" id="post-23522">
    <div class="subject"><a href="#post-23522">How to make a self modifing app</a></div>
    <div class="body">That seems like a lot of trouble just to save some values.... why don't you use the registry instead?</div>
    <div class="meta">Posted on 2002-02-09 04:22:45 by sluggy</div>
   </div>
   <div class="post" id="post-23547">
    <div class="subject"><a href="#post-23547">delete own process</a></div>
    <div class="body">hi<br /><br />in elicz.cjb.net, there's a dll that allow the process delete itself (and probably self-modify).<br /><br />ancev</div>
    <div class="meta">Posted on 2002-02-09 10:45:02 by ancev</div>
   </div>
   <div class="post" id="post-23754">
    <div class="subject"><a href="#post-23754">How to make a self modifing app</a></div>
    <div class="body"><div class="quote"><br />That seems like a lot of trouble just to save some values.... why don't you use the registry instead? </div>because you can't easily transfer the values you saved in the registry to another computer. for example, if i have a cool little app and i wanna give it to my friend, it's so much easier to just copy one exe file than exporting the registry key, copy the .reg along with the .exe, then ask him to import it into his registry...</div>
    <div class="meta">Posted on 2002-02-10 20:15:52 by cynix</div>
   </div>
   <div class="post" id="post-23781">
    <div class="subject"><a href="#post-23781">How to make a self modifing app</a></div>
    <div class="body">dJed_mRaz,<br /><br />My own approach to this problem of not wanting to write to the registry and keeping a program portable across windows versions without having a seperate INI file is a seperate setings editor that writes directly to the EXE file. You have to set up where you write the data but the rest is simple.<br /><br />All you have to work out is the offset to read it from when the app is running. Value of hInstance + the offset you wrote the data to if its in the DOS header.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-11 00:35:27 by hutch--</div>
   </div>
   <div class="post" id="post-23859">
    <div class="subject"><a href="#post-23859">How to make a self modifing app</a></div>
    <div class="body">I would like to thank you all for your help.<br />This forum is great place.<br />thx</div>
    <div class="meta">Posted on 2002-02-11 10:46:21 by dJed_mRaz</div>
   </div>
  </div>
 </body>
</html>
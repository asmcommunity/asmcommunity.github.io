<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>GlobalAlloc: fixed or movable - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7089" />
  <link rel="prev" href="../?id=7089&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7089">GlobalAlloc: fixed or movable</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=7089&amp;page=1" style="">&laquo;</a><a href="../?id=7089&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="7089" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-51391">
    <div class="subject"><a href="#post-51391">GlobalAlloc: fixed or movable</a></div>
    <div class="body">Well, the compiler &quot;might&quot; ignore __inline, while forceinline is &quot;usually&quot; honored, at least when it can be. Ignoring __inline doesn't mean the compiler won't inline, though; rather it will use it's optimization heuristics to determine whether to inline or not. I believe VC++ lets you select how to treat inline and the like, there's a compiler switch somewhere.<br /><br />But you're right, #define can be a better solution - however, doing it as functions allows me to set a breakpoint on halloc or hfree or whatever. (And with some `#ifdef DEBUG', it can be implemented as defines anyway).<br /><br />A single global variable is not bad, as long as you can avoid name/scope problems. &quot;static HANDLE ghHeap;&quot; in halloc.cpp, if you only need the handle there. I usually keep it global though, so I can avoid GetProcessHeap calls elsewhere.<br /><br />I usually only do this for &quot;raw win32 api&quot; style programs; when I do &quot;real&quot; programs, I tend to use the libc runtime, and in debug builds, paul nettles memory leak tracking wrapper solution stuff (my name for it, not his ;)). It makes leaks and buffer over/underruns *so* much easier tracking...</div>
    <div class="meta">Posted on 2002-08-02 14:07:43 by f0dder</div>
   </div>
   <div class="post" id="post-51471">
    <div class="subject"><a href="#post-51471">GlobalAlloc: fixed or movable</a></div>
    <div class="body">I think there is an advantage of the function over #define though... it will appear in codeaware/intellisense/codecompletion while I don't think the #define will... but that is not a &quot;code-level&quot; argument... and a inline function will appear in codeaware...<br />My policy is usually to #define when the code isn't more one line long and to inline when it is more longer... as functions are much more readable than multi-lines #defines...<br /><br />I will play with __inline and forceinline a bit more and compare the results with the assembly listing output.<br /><br />Thanks for the answers. ;)</div>
    <div class="meta">Posted on 2002-08-03 06:15:57 by JCP</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=7089&amp;page=1" style="">&laquo;</a><a href="../?id=7089&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="7089" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
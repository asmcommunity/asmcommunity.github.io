<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Critical section limit? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13139" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13139">Critical section limit?</a></p>
   <div class="post" id="post-102061">
    <div class="subject"><a href="#post-102061">Critical section limit?</a></div>
    <div class="body">Does anybody know if there's a limit to the amount of critical section objects you can have? (excluding memory limits of course)<br /><br />I can't find any documentation that mentions it so I assume no.  I was hoping maybe somebody here would know.<br /><br />The things that lead me to believe there is no limit include the fact that the caller must provide the memory, and the fact that the critical section functions raise an exception instead of returning an error.<br /><br />But I don't know exactly what goes on under the hood when a thread waits on a critical section, so I could be way off base.<br /><br />Answers and comments appreciated.</div>
    <div class="meta">Posted on 2003-05-08 21:27:25 by iblis</div>
   </div>
   <div class="post" id="post-102090">
    <div class="subject"><a href="#post-102090">Critical section limit?</a></div>
    <div class="body">I have never personally used a critical section, but i have never heard of there being a limit for them either.<br /><br />As for brhaviour, only one thread can access the section at a time. Any other threads get queued (in a suspended state) until it is their turn.</div>
    <div class="meta">Posted on 2003-05-09 02:13:36 by sluggy</div>
   </div>
   <div class="post" id="post-102091">
    <div class="subject"><a href="#post-102091">Critical section limit?</a></div>
    <div class="body">I understand how they work and what they're for.<br />What I meant by 'under the hood' was what the OS does when you call one of the critical section APIs.   If I knew that I'd have a better idea of what to make of the limitations.<br /><br />I guess I should just write a program that initializes a huge array of critical sections and see how many I can create before it raises an exception.</div>
    <div class="meta">Posted on 2003-05-09 02:30:42 by iblis</div>
   </div>
   <div class="post" id="post-102098">
    <div class="subject"><a href="#post-102098">Critical section limit?</a></div>
    <div class="body">What it all boils down to is whether a critical section uses a kernel object or not - perhaps Inside Windows 2000 or a similar book has some insight?</div>
    <div class="meta">Posted on 2003-05-09 03:16:13 by f0dder</div>
   </div>
   <div class="post" id="post-102173">
    <div class="subject"><a href="#post-102173">Critical section limit?</a></div>
    <div class="body">Jeffrey Richter says that critical sections only make kernal objects when there is a contention for reasources.</div>
    <div class="meta">Posted on 2003-05-09 15:43:52 by Mecurius</div>
   </div>
   <div class="post" id="post-102179">
    <div class="subject"><a href="#post-102179">Critical section limit?</a></div>
    <div class="body"><a target="_blank" href="http://phoenix.liunet.edu/~mdevi/win32/CriticalSection.htm">This page</a> and <a target="_blank" href="http://www.cascv.brown.edu/compute/cxxmanual/glossary/c.htm">this page</a> both say, &quot;A critical section <strong>is not</strong> a kernel object.&quot;<br /><br />And then <a target="_blank" href="http://www.symbian.com/developer/techlib/v70docs/SDL_v7.0/doc_source/reference/cpp/CriticalSections/RCriticalSectionClass.html">this page</a> says, &quot; A critical section itself <strong>is</strong> a Kernel object.&quot;<br /><br />:confused:<br /><br /><br />What resources in particular are you referring to Mecurius?  I thought two or more threads contending for resources was the whole point of critical sections in the first place. ;)</div>
    <div class="meta">Posted on 2003-05-09 17:25:26 by iblis</div>
   </div>
   <div class="post" id="post-102337">
    <div class="subject"><a href="#post-102337">Critical section limit?</a></div>
    <div class="body">A critical section is a structure, a user-mode syncronization tool. So it's not a kernel object.<br />In fact, kernel object are those that can be shared between process's, and all of them can have a name.<br /><br />Mecurius:<br />Where does Richter say that?<br />You use CS's only when you know for sure there will be contention. If not, why would you need them? You can just access the resource.<br /><br />Bye.</div>
    <div class="meta">Posted on 2003-05-10 20:35:44 by GogetaSSJ4</div>
   </div>
  </div>
 </body>
</html>
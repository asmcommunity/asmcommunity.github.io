<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>About TrackPopupMenuEx function - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17138" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17138">About TrackPopupMenuEx function</a></p>
   <div class="post" id="post-132896">
    <div class="subject"><a href="#post-132896">About TrackPopupMenuEx function</a></div>
    <div class="body">hi everyone.<br />i have a question:<br />i use TrackPopupMenuEx function to pop up a menu.the menu can pop up,but the menu cannot disappear when <br />i dont click the item of menu.But Accroading to the Programer's References,if the foutrh parameter is NULL,it means that if i click the area out of the menu bound the menu disappear.<br />Could you tell me where i am wrong!Thank you!</div>
    <div class="meta">Posted on 2004-02-08 06:06:00 by Rey</div>
   </div>
   <div class="post" id="post-132897">
    <div class="subject"><a href="#post-132897">About TrackPopupMenuEx function</a></div>
    <div class="body">Use these flags together: <br />TPM_RIGHTBUTTON or TPM_RETURNCMD or TPM_NONOTIFY</div>
    <div class="meta">Posted on 2004-02-08 06:10:12 by Ultrano</div>
   </div>
   <div class="post" id="post-132929">
    <div class="subject"><a href="#post-132929">About TrackPopupMenuEx function</a></div>
    <div class="body">Well, if you're trying to popup a menu on your tray icon, this may help:<br /><pre><code><br />        invoke SetForegroundWindow, hWnd<br />        invoke TrackPopupMenu, hSubMenu, 0, p.x, p.y, 0, hWnd, NULL<br />        invoke PostMessage, hWnd, WM_NULL, 0, 0<br /></code></pre></div>
    <div class="meta">Posted on 2004-02-08 14:30:01 by Morris</div>
   </div>
   <div class="post" id="post-133007">
    <div class="subject"><a href="#post-133007">About TrackPopupMenuEx function</a></div>
    <div class="body">Hi :)<br />Just curious, why are you setting the target window to foreground, and posting a WM_NULL message? I've been using tray icon menus and never had to do that. :confused:</div>
    <div class="meta">Posted on 2004-02-09 10:43:13 by QvasiModo</div>
   </div>
   <div class="post" id="post-133008">
    <div class="subject"><a href="#post-133008">About TrackPopupMenuEx function</a></div>
    <div class="body">Hm, isn't that a trick to fix bugs with older windows versions? I think I saw it in MSDN somewhere.</div>
    <div class="meta">Posted on 2004-02-09 10:51:15 by f0dder</div>
   </div>
   <div class="post" id="post-133018">
    <div class="subject"><a href="#post-133018">About TrackPopupMenuEx function</a></div>
    <div class="body">Yeah, this is an MSDN &quot;trick&quot;.<br /><a target="_blank" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;135788">http://support.microsoft.com/default.aspx?scid=kb;en-us;135788</a></div>
    <div class="meta">Posted on 2004-02-09 13:36:32 by Morris</div>
   </div>
   <div class="post" id="post-133120">
    <div class="subject"><a href="#post-133120">About TrackPopupMenuEx function</a></div>
    <div class="body">Thanks for the link :alright:</div>
    <div class="meta">Posted on 2004-02-10 15:48:49 by QvasiModo</div>
   </div>
   <div class="post" id="post-133163">
    <div class="subject"><a href="#post-133163">About TrackPopupMenuEx function</a></div>
    <div class="body">I think Morris is correct.<br />but coule you tell me the meaning of message &quot;WM_NULL&quot;.<br />Thank you!</div>
    <div class="meta">Posted on 2004-02-10 21:40:25 by Rey</div>
   </div>
   <div class="post" id="post-133184">
    <div class="subject"><a href="#post-133184">About TrackPopupMenuEx function</a></div>
    <div class="body">Go to <a target="_blank" href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/menus/menureference/menufunctions/trackpopupmenu.asp">http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/resources/menus/menureference/menufunctions/trackpopupmenu.asp</a> and read the Remarks section.</div>
    <div class="meta">Posted on 2004-02-11 01:52:55 by Morris</div>
   </div>
   <div class="post" id="post-133205">
    <div class="subject"><a href="#post-133205">About TrackPopupMenuEx function</a></div>
    <div class="body">Thanks for the link.<br />I've already try,it really worked.Thank you again.</div>
    <div class="meta">Posted on 2004-02-11 07:09:26 by Rey</div>
   </div>
  </div>
 </body>
</html>
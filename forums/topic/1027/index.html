<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Fastest way to create a large file? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1027" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1027">Fastest way to create a large file?</a></p>
   <div class="post" id="post-6685">
    <div class="subject"><a href="#post-6685">Fastest way to create a large file?</a></div>
    <div class="body">I want to create a large file (several GB!). I have used CreateFile,  SetFilePointer, WriteFile and CloseHandle to achive this, but it takes a long time. <br /><br />How can I speed this up?<br /><br /><br /><br />/Delight</div>
    <div class="meta">Posted on 2001-09-09 15:08:11 by Delight</div>
   </div>
   <div class="post" id="post-6687">
    <div class="subject"><a href="#post-6687">Re: Fastest way to create a large file?</a></div>
    <div class="body">With a faster harddisk :grin: <br /><br />Or perhaps direct file system writing :-)<br /><br />(Sorry, could not resist)</div>
    <div class="meta">Posted on 2001-09-09 15:35:23 by bazik</div>
   </div>
   <div class="post" id="post-6724">
    <div class="subject"><a href="#post-6724">Fastest way to create a large file?</a></div>
    <div class="body">If you want to create a large file than it MUST have it's purpose this meens that you have something to write in that file .(Right ? than what is the file for ? Do you have to write the file more than once ?)<br />             That meens you can not write faster than it's phisicaly (system speed )  possible (if HDD is fragmented).<br />              If the HDD your writing at is empty then you could optimize some proc to alocate the space for the whole file .<br />And after that write the data. The best scenario would be to have your own internal file structure to acces  your data by asm code directly (phisicaly) . Your own internal structures in the file can  be optimized .<br /><br />Conclusion (Tell more to let us know the whole problem )</div>
    <div class="meta">Posted on 2001-09-10 05:31:21 by Rosky</div>
   </div>
   <div class="post" id="post-6728">
    <div class="subject"><a href="#post-6728">Fastest way to create a large file?</a></div>
    <div class="body">I want to do some experiments with the up/download speed of files of different sizes and with mixed content (empty/random data/...). <br /><br />I read somewhere that the download speed is increased several times if the file being downloaded is empty. I also want to check if the same thing happens in a local network.<br /><br /><br />/Delight:grin:</div>
    <div class="meta">Posted on 2001-09-10 06:34:03 by Delight</div>
   </div>
   <div class="post" id="post-6739">
    <div class="subject"><a href="#post-6739">Fastest way to create a large file?</a></div>
    <div class="body">The fastest way to create a big file I can think of is using SetFilePointer and SetEndOfFile. The file's content can then be pretty much anything, though.</div>
    <div class="meta">Posted on 2001-09-10 09:57:56 by Tola</div>
   </div>
   <div class="post" id="post-6798">
    <div class="subject"><a href="#post-6798">Fastest way to create a large file?</a></div>
    <div class="body">The download speed being faster for an empty (but not zero length) file is do to compression by the TCP/IP stack; maybe at the hardware level.</div>
    <div class="meta">Posted on 2001-09-10 20:03:07 by eet_1024</div>
   </div>
   <div class="post" id="post-7126">
    <div class="subject"><a href="#post-7126">Fastest way to create a large file?</a></div>
    <div class="body">If you'r interested just in speed you could &quot;download&quot; the file in memory And test the speed of download . You have two posibilities :<br /><br />1) Create your own program that downloads in memory  or<br />2) Create a Ram Drive and download in that  ...</div>
    <div class="meta">Posted on 2001-09-14 13:54:43 by Rosky</div>
   </div>
   <div class="post" id="post-7171">
    <div class="subject"><a href="#post-7171">Fastest way to create a large file?</a></div>
    <div class="body">eet_1024: compression in the TCP/IP stack? At hardware level? Both<br />sound pretty unlikely to me. Ok, this is often done on dialup, but not<br />when you're on an ethernet media.</div>
    <div class="meta">Posted on 2001-09-15 03:41:24 by f0dder</div>
   </div>
   <div class="post" id="post-7192">
    <div class="subject"><a href="#post-7192">Fastest way to create a large file?</a></div>
    <div class="body">Thank's for all the answers!<br /><br />I still have a question though. What will the file contain  when using SetEndOfFile? Is just old deleted files?<br /><br /><br />/Delight</div>
    <div class="meta">Posted on 2001-09-15 10:17:42 by Delight</div>
   </div>
   <div class="post" id="post-7193">
    <div class="subject"><a href="#post-7193">Fastest way to create a large file?</a></div>
    <div class="body"><div class="quote">What will the file contain when using SetEndOfFile? Is just old deleted files?</div><br />I guess so, yes.</div>
    <div class="meta">Posted on 2001-09-15 10:20:57 by Tola</div>
   </div>
   <div class="post" id="post-7195">
    <div class="subject"><a href="#post-7195">Fastest way to create a large file?</a></div>
    <div class="body">OK. Thank's Tola, I'll try using it<br /><br /><br />/Delight</div>
    <div class="meta">Posted on 2001-09-15 10:36:05 by Delight</div>
   </div>
   <div class="post" id="post-7223">
    <div class="subject"><a href="#post-7223">Fastest way to create a large file?</a></div>
    <div class="body">Why isn't this working?????????????????????<br /><br />;--------------------------------------------<br />invoke CreateFile,CTXT(&quot;C:\MYFILE.TXT&quot;),GENERIC_WRITE,0,NULL,CREATE_ALWAYS\<br />,FILE_ATTRIBUTE_NORMAL or FILE_FLAG_OVERLAPPED,NULL<br /><br />mov eax,CreateFileHandle<br />...<br />invoke SetFilePointer,CreateFileHandle,4,NULL,FILE_BEGIN<br />...<br />invoke SetEndOfFile,CreateFileHandle<br />invoke CloseHandle,CreateFileHandle<br /><br />;----------------------------------------------<br /><br />Shouldn't this create a 4 bytes large file named myfile.txt in the root of c: ??????</div>
    <div class="meta">Posted on 2001-09-15 17:01:04 by Delight</div>
   </div>
   <div class="post" id="post-7225">
    <div class="subject"><a href="#post-7225">Fastest way to create a large file?</a></div>
    <div class="body">I guess this is just an error you made when posting?<br /><br />mov eax,CreateFileHandle<br /><br />If it is not then this is your problem.<br /><br />KetilO</div>
    <div class="meta">Posted on 2001-09-15 17:09:53 by KetilO</div>
   </div>
   <div class="post" id="post-7226">
    <div class="subject"><a href="#post-7226">Fastest way to create a large file?</a></div>
    <div class="body">AAARGH!!!!! How could I be so blind? You found the &quot;bug&quot; !  <br /><br />Thank you!<br /><br /><br />/Delight<br /><br /><br />:stupid:</div>
    <div class="meta">Posted on 2001-09-15 17:19:12 by Delight</div>
   </div>
  </div>
 </body>
</html>
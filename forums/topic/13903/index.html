<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Keyboard Buffer Woes - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13903" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=13903">Keyboard Buffer Woes</a></p>
   <div class="post" id="post-107476">
    <div class="subject"><a href="#post-107476">Keyboard Buffer Woes</a></div>
    <div class="body">Hi all,<br /><br />Can anyone tell me if it's possible to clear the keyboard buffer and if so how potentially dangerous this could be, or indeed not.<br /><br />Basically I wish to use keyboard input in a game and I'm trying to avoid hitting the legendary buffer overflow problems.  However I don't want to just resort to having to be selective about the keyboard configuration<br /><br />I've scoured Google and Gamedev.net and found many articles, some saying &quot;process the windows message pump correctly&quot; but from the tests I've tried eg: using GetASyncKeyState() while still processing keyboard input (case WM_KEYDOWN: return 0; ) it appears that even the windows message system does not control the actual keyboard buffer in the way i need to. This is also a problem when using DInput I believe.<br /><br />I'm no asm specialist but I'm happy to have a stab at it and interested also which is why I'm posting here.<br /><br />My current way of thinking is...during the input phase, read the current keyboard states into a table, then clear/reset the keyboard buffer, if it's possible.  Thus avoiding an overflow by clearing the buffer per game frame.<br /><br />Thanks in advance for ANY suggestions....it's been asked before but I can't find a definative answer.  Hopefully one of you guys can offer one.<br /><br />Thanks!! =0)</div>
    <div class="meta">Posted on 2003-06-18 11:23:14 by GCoder</div>
   </div>
   <div class="post" id="post-107477">
    <div class="subject"><a href="#post-107477">Keyboard Buffer Woes</a></div>
    <div class="body">Maybe you can set a hook to the keyboard, and stop every keystroke you don't need...</div>
    <div class="meta">Posted on 2003-06-18 11:30:28 by JohnFound</div>
   </div>
   <div class="post" id="post-107479">
    <div class="subject"><a href="#post-107479">Keyboard Buffer Woes</a></div>
    <div class="body">Thanks for the post!<br /><br />I'll give that some thought. I wonder if the buffer could still overflow though?...at least then the chances would be far reduced.</div>
    <div class="meta">Posted on 2003-06-18 11:32:28 by GCoder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Using .bmp File Data For Direct Draw - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8809" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=8809">Using .bmp File Data For Direct Draw</a></p>
   <div class="post" id="post-64722">
    <div class="subject"><a href="#post-64722">Using .bmp File Data For Direct Draw</a></div>
    <div class="body">HELP!!!<br />     I have a .BMP file which displays a WWI fighter plane cockpit instrument panel.  The panel<br />is brownish wood.  When I use the BitBlt function it displays as it should.  The .BMP file header<br />indicates the image has 256 RGBQUAD arrays &amp; in the Color-Index array a pixel is represented<br />by 8 bits.  I built my own file for direct draw, deleted the 2 BITMAP header arrays, transfered<br />the 256 DWORDS of the RGBQUAD array (as is) &amp; the Color-Index array (from top down<br />instead of bottom up).  I use the RGBQUAD array in the direct draw CreatePalette &amp; <br />SetPalette functions.  When I &quot;draw&quot; the cockpit on the screen it looks fine EXCEPT the<br />BROWNISH wood instrument panel is now BLUEISH wood.  I suspect theres some MF<br />(magical firmware) trick I should be doing to each RGBQUAD DWORD before I invoke the<br />CreatePalette function.  <br />     Any help from any GURU'S out there would be greately appreciated. my E-MAIL ADR<br /><a href="mailto:junbobr@cs.com">junbobr@cs.com</a><br />     Thanks<br />                                                                                   BOBR<br />                                                                                   BLUE PROGRAMMER</div>
    <div class="meta">Posted on 2002-11-05 12:17:13 by bobr_bak</div>
   </div>
   <div class="post" id="post-64755">
    <div class="subject"><a href="#post-64755">Using .bmp File Data For Direct Draw</a></div>
    <div class="body">Afternoon, bobr.<br /><br />Sounds like the red and blue colour values are reversed.<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2002-11-05 17:10:26 by Scronty</div>
   </div>
   <div class="post" id="post-64835">
    <div class="subject"><a href="#post-64835">Using .bmp File Data For Direct Draw</a></div>
    <div class="body">Many thanks Scronty.  Actually I had thought of that and during the coding of flop/flopping<br />bytes 0 &amp; 2 upon transfering them I developed a real bad brain cramp &amp; transfered bytes<br />1 &amp; 3.  Anyway now that I've fixed the code it works fine.  Bloody great shame nobody <br />bothered to document that little bit.</div>
    <div class="meta">Posted on 2002-11-06 13:17:00 by bobr_bak</div>
   </div>
  </div>
 </body>
</html>
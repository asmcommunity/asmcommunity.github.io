<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Another newbie question... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15304" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15304">Another newbie question...</a></p>
   <div class="post" id="post-118858">
    <div class="subject"><a href="#post-118858">Another newbie question...</a></div>
    <div class="body">What's the name of the function that a process can call to release the rest of its timeslice?<br /><br />I'm writing a program that suspends itself when the user switches away from it, and it seems to be a waste for the program to be using 97% of my CPU cycles running the message pump and waiting for the window to gain focus again.  I figure that, if the process is suspended and there are no messages pending, the program should be able to tell the kernel to let other processes have a bigger share.  I know I've seen something about it somewhere, but I can't remember what it was or where I saw it, and all my searches turn up blank.</div>
    <div class="meta">Posted on 2003-09-21 07:10:03 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-118876">
    <div class="subject"><a href="#post-118876">Another newbie question...</a></div>
    <div class="body">would a loop to check if your window has focus and invoke Sleep,0<br />if it's not, work?</div>
    <div class="meta">Posted on 2003-09-21 10:24:42 by ASMMike</div>
   </div>
   <div class="post" id="post-119000">
    <div class="subject"><a href="#post-119000">Another newbie question...</a></div>
    <div class="body">There was such a function, I don't remember the name either but it was in the WIN32.HLP file. It was NT-only, though. Anyway Sleep,0 should work fine, as stated by ASMMike.<br /><br />Anyway it's strange.. mind if I ask, what do you mean &quot;switching away from it&quot;? GUI applications do not really need to call functions like this since GetMessage already puts the calling thread in a suspended state until an input event occurs.</div>
    <div class="meta">Posted on 2003-09-22 14:19:31 by QvasiModo</div>
   </div>
   <div class="post" id="post-119015">
    <div class="subject"><a href="#post-119015">Another newbie question...</a></div>
    <div class="body"><div class="quote"><br />There was such a function, I don't remember the name either but it was in the WIN32.HLP file. It was NT-only, though. Anyway Sleep,0 should work fine, as stated by ASMMike. </div><br />Guess you're talking about SwitchToThread ;)</div>
    <div class="meta">Posted on 2003-09-22 19:22:58 by Tola</div>
   </div>
   <div class="post" id="post-119147">
    <div class="subject"><a href="#post-119147">Another newbie question...</a></div>
    <div class="body"><div class="quote"><br /><br />Guess you're talking about SwitchToThread ;) </div><br />Yes, that was it. :)</div>
    <div class="meta">Posted on 2003-09-23 10:18:37 by QvasiModo</div>
   </div>
   <div class="post" id="post-120176">
    <div class="subject"><a href="#post-120176">Another newbie question...</a></div>
    <div class="body"><div class="quote">Anyway it's strange.. mind if I ask, what do you mean &quot;switching away from it&quot;? GUI applications do not really need to call functions like this since GetMessage already puts the calling thread in a suspended state until an input event occurs.</div><br />It's for a multimedia demo using DirectX.  Anyhow, I tried using Sleep, 0, but for some reason it doesn't seem to return any cycles at all.  My program still eats up 95% of the resources, even though it's supposed to be suspended.  Maybe I should use Sleep, 1000 to make sure the program sleeps for one second between PeekMessage checks?</div>
    <div class="meta">Posted on 2003-10-01 01:01:28 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-120178">
    <div class="subject"><a href="#post-120178">Another newbie question...</a></div>
    <div class="body">Testing shows that invoking Sleep, 1000 produces the desired result (no cycles used on program suspension) but causes a long delay when switching back to the program.  Calling Sleep, 100 produces the same result and allows faster switching.<br /><br />Thanks for the help!</div>
    <div class="meta">Posted on 2003-10-01 01:22:41 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-120216">
    <div class="subject"><a href="#post-120216">Another newbie question...</a></div>
    <div class="body">Using a event object maybe.<br />involving CreateEvent, WaitForSingleObject ...</div>
    <div class="meta">Posted on 2003-10-01 10:08:13 by optimus</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Opcode #3 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8982" />
  <link rel="prev" href="../?id=8982&amp;page=2" />  <link rel="next" href="../?id=8982&amp;page=4" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=8982">Opcode #3</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=8982&amp;page=1" style="">&laquo;</a><a href="../?id=8982&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="8982" /><input type="number" name="page" min="1" max="5" step="1" value="3" onchange="this.form.submit();" /><a href="../?id=8982&amp;page=4">&gt;</a><a href="../?id=8982&amp;page=5">&raquo;</a></form>   <div class="post" id="post-66945">
    <div class="subject"><a href="#post-66945">Opcode #3</a></div>
    <div class="body"><strong><br />I don't see what this has to do with '(n-1)/2 = sumdigits((n+1)^2)' though.<br /></strong><br /><br /><br />iblis,<br />     Nothing at all.  I was just answering Svin's inquiry.  Ratch</div>
    <div class="meta">Posted on 2002-11-22 13:34:15 by Ratch</div>
   </div>
   <div class="post" id="post-66984">
    <div class="subject"><a href="#post-66984">Opcode #3</a></div>
    <div class="body"><div class="quote"><br />How do you call Minor Theorem?</div>Found it!<br /><a target="_blank" href="http://www.spd.dcu.ie/johnbcos/download/Public%20and%20other%20lectures/Fermat's%20little%20theorem/Flt4.html">http://www.spd.dcu.ie/johnbcos/download/Public%20and%20other%20lectures/Fermat's%20little%20theorem/Flt4.html</a><br /><br />:grin:<br /><br />(Prime) p = 1 (mod 4) = a^2 + b^2<br /><br />Let (p) be any prime, and (a) be any integer not divisible by (p), then a^(p-1) leaves remainder 1 on division by (p).<br /><br />I did not know this was Fermat, and have had great fun reading his biographies on the web.</div>
    <div class="meta">Posted on 2002-11-22 19:38:07 by bitRAKE</div>
   </div>
   <div class="post" id="post-67000">
    <div class="subject"><a href="#post-67000">Opcode #3</a></div>
    <div class="body">bitRake,<br />have you found solution to<br />if there is number = (n+1)^2 <br />where sum of digits = n(n-1)/2<br />?</div>
    <div class="meta">Posted on 2002-11-22 21:59:23 by The Svin</div>
   </div>
   <div class="post" id="post-67003">
    <div class="subject"><a href="#post-67003">Opcode #3</a></div>
    <div class="body">n = 2<br /><br />(n+1)^2 = 9<br /><br />Sum of digits (base 3) = 1<br /><br />n(n-1)/2 = 1<br /><br />------------------------------------------<br /><br />n = 2<br /><br />(n+1)^2 = 9<br /><br />Sum of digits (base 9) = 1<br /><br />n(n-1)/2 = 1<br /><br /><br />Thank you :)</div>
    <div class="meta">Posted on 2002-11-22 23:19:03 by bitRAKE</div>
   </div>
   <div class="post" id="post-67006">
    <div class="subject"><a href="#post-67006">Opcode #3</a></div>
    <div class="body">Dudes,<br /><br />Yes, but the 5 bytes code? :grin:<br /><br />That would be interesting to see too. ;)</div>
    <div class="meta">Posted on 2002-11-23 00:48:29 by Maverick</div>
   </div>
   <div class="post" id="post-67077">
    <div class="subject"><a href="#post-67077">Opcode #3</a></div>
    <div class="body">yea, show us the * code :D<br /><br />please :)</div>
    <div class="meta">Posted on 2002-11-23 16:37:52 by nyook</div>
   </div>
   <div class="post" id="post-67140">
    <div class="subject"><a href="#post-67140">Opcode #3</a></div>
    <div class="body">I'm saying it again (hopefully for the last time):<br />It's for you to find the answer or prove that there is no answer (that it is impossible).<br />It's not reference book or cook recepies, it's training tutorials.<br />The way to find out answer here is more important than the answer itself.<br />And asking me for the answer is not the way :)<br />If you are getting string feeling that there is no answer, you shuld prove it:<br />There are two obvious ways to do it.<br />1. Analitic approach:<br />You need to do yourself job kinda I do it the info part of the tutorials:<br />   Collect info that can be used in solving the task.<br />   Structurize it: <br />	Ways to set bits in EAX, AX<br />	Ways to use PF<br />	Ways to overlap code<br />etc.<br />And show that there are no ways :)<br />2. Brute force method:<br />	Write brute force also that would check 2^48 possible values, if<br />	there is (or are) some that do the job.<br />Use SEH to pass by exeption of unkown code<br />and code modifining method (make code section ERW)<br />to iterate through those values.<br /><br />I say it again: I don't belive ANY book could teach anything,<br />book only can be used in learning when you use it for practical things:<br />creating and observing examples, doing exersizes and using ideas from it real<br />practice.<br />In other word doing something with your hands and brain, using the book as<br />helper, not solver.</div>
    <div class="meta">Posted on 2002-11-24 00:03:52 by The Svin</div>
   </div>
   <div class="post" id="post-67143">
    <div class="subject"><a href="#post-67143">Opcode #3</a></div>
    <div class="body">Svin, remember you said, &quot;Oh It's no problem, I could admit anything.   I've proved it before.&quot;<br /><br /><em>&quot;I've proved it before.&quot;</em><br /><br /><br />So you obviously know the answer, right?  You've either proved it to be impossible or proved it to be possible.  Either way, you know.<br /><br />I don't know how many people believe you, but perhaps as a sign of good faith, you could write down either the 'disproof' or the 5 byte solution in a .txt file and zip it in a password-protected .zip file and upload it now.  Kind of like a 'sealed envelope'  ;)<br /><br />Then when one of us proves/disproves it, you can give us the password to the .zip file and we can check it out.  ...Or you could just admit you don't know the answer and join us all in the search for it.  ;)<br /><br /><br /><br />Anybody else like this idea?  :grin:</div>
    <div class="meta">Posted on 2002-11-24 00:52:10 by iblis</div>
   </div>
   <div class="post" id="post-67144">
    <div class="subject"><a href="#post-67144">Opcode #3</a></div>
    <div class="body">I have faith in <strong>Svin</strong> and we gain either way.  Like <strong>Svin</strong> stated we must do the work if we are to learn - it is the process which is important.  If <strong>Svin</strong> has not done the work then he would only gain an answer and not the experience of the process - <u>he is not that man</u>.  Although, I can see your point <strong>iblis</strong> - I do not see why it is important that <strong>Svin</strong> have the answer.  <strong>Svin</strong> is trying to provoke discussion to deepen our understanding - not unlike <strong>Fermat</strong>! :)  Can you see how this problem is not about <strong>Svin</strong> - he is a selfless man.  He is <u>not</u> saying, &quot;I have completed this great puzzle - see if you are great, too!&quot; OTOH, if <strong>Svin</strong> did post an encrypted answer to the problem then the challenge would be more concret to some.  <strong>iblis</strong> already has outline a good approach to eliminating most possiblities.</div>
    <div class="meta">Posted on 2002-11-24 01:17:20 by bitRAKE</div>
   </div>
   <div class="post" id="post-67153">
    <div class="subject"><a href="#post-67153">Opcode #3</a></div>
    <div class="body">Let us start analytic part of job:<br />Enamurate all thinkable possibilities to <br />set bits in eax, ax.<br />Do it in opcodes.<br />Spell size of it, and comments that you think might relate to the task.</div>
    <div class="meta">Posted on 2002-11-24 03:36:48 by The Svin</div>
   </div>
   <div class="post" id="post-67155">
    <div class="subject"><a href="#post-67155">Opcode #3</a></div>
    <div class="body">Hi <strong>The Svin</strong>, you wrote:<div class="quote"><strong>I'm saying it again (hopefully for the last time):<br />It's for you to find the answer or prove that there is no answer (that it is impossible).<br />It's not reference book or cook recepies, it's training tutorials.<br />The way to find out answer here is more important than the answer itself.<br />And asking me for the answer is not the way :)<br />If you are getting string feeling that there is no answer, you shuld prove it:<br />There are two obvious ways to do it.<br />1. Analitic approach:<br />You need to do yourself job kinda I do it the info part of the tutorials:<br />Collect info that can be used in solving the task.<br />Structurize it: <br />Ways to set bits in EAX, AX<br />Ways to use PF<br />Ways to overlap code<br />etc.</div>Theories have been proven wrong.. expecially those that make assumptions like &quot;the only ways to solve this problem fall into 3 cathegories: Setting bits in EAX, AX; Overlapping code, &quot;.. so I'm afraid the only proof that could be considered 100.0% reliable is brute forcing it. While it would be certainly doable, not everybody here has the (time) resources to do it.. that's why some would like to know at least if it's possible in 5 bytes, in order to invest their time more into finding the solution (assuming there is one). Take it only as an advice.. the thread is yours and I respect your choices. :alright:<br /><br />About brute forcing, I'd make an x86 emulator (we can make one in some days :grin: ), start/run a 40 bit counter, disassemble the 5 bytes sequence and rule it out immediately if it falls beyond the 5 bytes (e.g. an immediate value crosses the 5 bytes boundary), and apply further &quot;100% sure&quot; filters, as the CALL and long-JMP instructions, the MSR ones, etc.. the better the filter, the less real tests one has to perform in the emulator.<br />Hey, now that I think of it, if the development time for this tool wouldn't be justified for this single challenge, it would for many other projects. I'd invest some time on it if it wasn't that its true usefulness would be in finding shortest solution for a certain code sequence, and not the fastest one (something I'm certainly much more interested).<br /><br /><div class="quote"><strong>I say it again: I don't belive ANY book could teach anything,<br />book only can be used in learning when you use it for practical things:<br />creating and observing examples, doing exersizes and using ideas from it real<br />practice.<br />In other word doing something with your hands and brain, using the book as<br />helper, not solver.</div>I fully agree.. but you forgot to put &quot;time&quot; into the equation. ;)</div>
    <div class="meta">Posted on 2002-11-24 03:51:17 by Maverick</div>
   </div>
   <div class="post" id="post-67159">
    <div class="subject"><a href="#post-67159">Opcode #3</a></div>
    <div class="body"><div class="quote"><br />About brute forcing, I'd make an x86 emulator.</div><strong>Maverick</strong>, that is the slow method!  Why bother with weeding out illegal instructions?  Why bother with ensuring only five bytes?  These features are built into the CPU. Even if he cache was turned off (to test SMC code) it would be faster than an emulator.  It could be brute forced in less than a day.  The code would be under 4k (maybe ;) - not pretty).</div>
    <div class="meta">Posted on 2002-11-24 04:19:54 by bitRAKE</div>
   </div>
   <div class="post" id="post-67160">
    <div class="subject"><a href="#post-67160">Opcode #3</a></div>
    <div class="body">:)<br />OK let us then put rating of the problem as 50<br />according to D.Knuth rating table.<br />Who read D.Knuth can understand what I mean.<br />Anyway I'm not going to say &quot;I knew it!!!&quot;<br />if I see someone solution.<br />Let the one who'll find it feel himself as absolute winner.<br />For me it is very important that the man could feel himself as a winner.<br />Better than anyone in solution, including me :)<br />And that solution to be searching for and process to be provoken by reader inner intention.<br /><br />For now I'm working on training software for next tutors.</div>
    <div class="meta">Posted on 2002-11-24 04:26:26 by The Svin</div>
   </div>
   <div class="post" id="post-67161">
    <div class="subject"><a href="#post-67161">Opcode #3</a></div>
    <div class="body"><div class="quote"><br /><strong>Maverick</strong>, that is the slow method!  Why bother with weeding out illegal instructions?  Why bother with ensuring only five bytes?  These features are built into the CPU. Even if he cache was turned off (to test SMC code) it would be faster than an emulator.  It could be brute forced in less than a day.  The code would be under 4k (maybe ;) - not pretty). </div>Ricky, I'm afraid of exception costs under Win32, they may be very big. :rolleyes:</div>
    <div class="meta">Posted on 2002-11-24 04:27:58 by Maverick</div>
   </div>
   <div class="post" id="post-67164">
    <div class="subject"><a href="#post-67164">Opcode #3</a></div>
    <div class="body">Who said Win32?  Just a couple sectors on a floppy = hex bytes on screen...<br /><br /><span style="font-size:9px>(I'll have it done in a week or two - time permiting.)</span></div>
    <div class="meta">Posted on 2002-11-24 04:39:04 by bitRAKE</div>
   </div>
   <div class="post" id="post-67167">
    <div class="subject"><a href="#post-67167">Opcode #3</a></div>
    <div class="body">Cool :alright:<br /><br />But one more problems meets my mind: how do you handle boundaries? (e.g. for branch or JMP or CALL). You could easily do it on a per-page basis, i.e. behind the 5 bytes it's easy, but after ( and &lt;4096 ) it may be difficult.</div>
    <div class="meta">Posted on 2002-11-24 04:51:51 by Maverick</div>
   </div>
   <div class="post" id="post-67187">
    <div class="subject"><a href="#post-67187">Opcode #3</a></div>
    <div class="body">I offer for a change another task that easier.<br />I just want to know if people other than iblis and bitRake<br />understood what was tut #3 about.<br />So I ask iblis and bitRake don't publish their answers<br />to the following task for a while to see how others can<br />solve it (you can of course solve it but keep silence for a while).<br />Task simular to previous but with one exeption:<br />It is unknown what value is in eax but known that sign bit in eax = 1<br />(bit 31)<br />Now the same task:<br />set all bits in eax to 1 if PF=1<br />if PF=0 set only low 16 bits in eax (keep upper 16 bits untauched if PF=0)</div>
    <div class="meta">Posted on 2002-11-24 08:12:12 by The Svin</div>
   </div>
   <div class="post" id="post-67201">
    <div class="subject"><a href="#post-67201">Opcode #3</a></div>
    <div class="body">Hello, <strong>bitRAKE</strong>.<br /><div class="quote"><br /><strong>Ratch</strong>, I don't think it requires brute force for this problem - my ASM skills are better than my math. :)  I will try to work through the math though - I need the practice.  Good to see another person join in the discussion. </div><br />Brute force is unique solution. Realy this task must be written so:<br />(n+1)^2=sum(Di*B^i)<br />(n-1)/2=sum(Di),<br />where i - count of digit; Di - digits; B - base<br />Here unknowns very much = digit capacity(Di) + 1(n) + 1(B).<br />Math can found solution only for two unknowns (apply simplification):<br />(n+1)^2=Dx*B^x<br />(n-1)/2=Dx,<br />where x - one of digits position.<br />But is other task. For initial B=2, Dx=1 =&gt; x=4, n=3.<br /><br />Brute force can be speed up, if use singularity of equations.<br />Ex. you code would be double speed: start ESI from 1 and step 2, because n always odd.<br />---<br />Best regards,<br />Nexo.</div>
    <div class="meta">Posted on 2002-11-24 10:34:07 by Nexo</div>
   </div>
   <div class="post" id="post-67203">
    <div class="subject"><a href="#post-67203">Opcode #3</a></div>
    <div class="body"><div class="quote"><br />But one more problems meets my mind: how do you handle boundaries? (e.g. for branch or JMP or CALL). You could easily do it on a per-page basis, i.e. behind the 5 bytes it's easy, but after ( and &lt;4096 ) it may be difficult. </div>I see two methods:  fill the page with int3 instructions, or singe-step on branches tracing.  Both can be used, or the later could be turned off for faster execution.</div>
    <div class="meta">Posted on 2002-11-24 10:44:18 by bitRAKE</div>
   </div>
   <div class="post" id="post-67205">
    <div class="subject"><a href="#post-67205">Opcode #3</a></div>
    <div class="body"><div class="quote"><br />Brute force can be speed up, if use singularity of equations.<br />Ex. you code would be double speed: start ESI from 1 and step 2, because n always odd.</div>Good observation!</div>
    <div class="meta">Posted on 2002-11-24 10:46:36 by bitRAKE</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=8982&amp;page=1" style="">&laquo;</a><a href="../?id=8982&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="8982" /><input type="number" name="page" min="1" max="5" step="1" value="3" onchange="this.form.submit();" /><a href="../?id=8982&amp;page=4">&gt;</a><a href="../?id=8982&amp;page=5">&raquo;</a></form>  </div>
 </body>
</html>
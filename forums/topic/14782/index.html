<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>1kB Hello World with DialogBox - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14782" />
    <link rel="next" href="../?id=14782&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14782">1kB Hello World with DialogBox</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=14782&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=14782&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="14782" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=14782&amp;page=2">&gt;</a><a href="../?id=14782&amp;page=2">&raquo;</a></form>   <div class="post" id="post-114611">
    <div class="subject"><a href="#post-114611">1kB Hello World with DialogBox</a></div>
    <div class="body">Today I came up with a way to create a 1kB Hello World example using a dialog box. I don't think I have seen this before so I decided to post it here.<br /><br />It's so small is because all sections are merged and I don't use an extra .rsrc section for the dialog-data. The dialog is stored as a byte array in the merged section. I created the dialog-data using two programs. First I opened Resource Hacker (a freeware resource editor) and saved the dialog inside my original exe as a binary file. Then I used BINTODB to convert it to a format that can be assembled using masm. After that the only thing left was to change DialogBoxParam to DialogBoxIndirectParam and pass it a pointer to the dialog-data-byte-array.<br /><br />Edit: <strong>Fixed the alignment problem.</strong></div>
    <div class="meta">Posted on 2003-08-20 14:54:11 by Delight</div>
   </div>
   <div class="post" id="post-114618">
    <div class="subject"><a href="#post-114618">1kB Hello World with DialogBox</a></div>
    <div class="body">I get the standard 'improperly linked' message on Win98SE (under 1kb alignment)</div>
    <div class="meta">Posted on 2003-08-20 15:46:05 by NaN</div>
   </div>
   <div class="post" id="post-114682">
    <div class="subject"><a href="#post-114682">1kB Hello World with DialogBox</a></div>
    <div class="body">Thanks <strong>Delight</strong>,<br /><br />&quot;I get the standard 'improperly linked' message on Win98SE (under 1kb alignment)&quot;<br /><br />I got  &quot;C:\TEM\1KBDIALO.EXE file is improperly linked with alignment less than 0x1000.<br />Fix the error, and then link it it again.&quot;  on  my Windows ME<br /><br />On my WinXP Pro it doesn't work too<br />because the section and file alignments are 0x200 i.e. under 0x1000<br /><br />Regards,<br />Lingo</div>
    <div class="meta">Posted on 2003-08-20 20:57:22 by lingo12</div>
   </div>
   <div class="post" id="post-114685">
    <div class="subject"><a href="#post-114685">1kB Hello World with DialogBox</a></div>
    <div class="body"><div class="quote"><br />I get the standard 'improperly linked' message on Win98SE (under 1kb alignment) </div><br />so do I<br /><br />I think you're useing Win2k ;)</div>
    <div class="meta">Posted on 2003-08-20 21:29:14 by S.T.A.S.</div>
   </div>
   <div class="post" id="post-114706">
    <div class="subject"><a href="#post-114706">1kB Hello World with DialogBox</a></div>
    <div class="body">I thought it was safe to use 512b alignment :confused: It works fine on WinXP Home though.</div>
    <div class="meta">Posted on 2003-08-21 00:09:59 by Delight</div>
   </div>
   <div class="post" id="post-114708">
    <div class="subject"><a href="#post-114708">1kB Hello World with DialogBox</a></div>
    <div class="body">also works on my WinXP Pro SP1. nice :grin:</div>
    <div class="meta">Posted on 2003-08-21 00:25:20 by TBD</div>
   </div>
   <div class="post" id="post-114733">
    <div class="subject"><a href="#post-114733">1kB Hello World with DialogBox</a></div>
    <div class="body">This thing in C++ would cost 40k, in VB maybe 16k and in Delphi 200k :eek:  , though i like delphi cause it compiles to windows native :grin:<br /><br />running under Winnt 4.0 SP6</div>
    <div class="meta">Posted on 2003-08-21 05:22:14 by Ranma_at</div>
   </div>
   <div class="post" id="post-114734">
    <div class="subject"><a href="#post-114734">1kB Hello World with DialogBox</a></div>
    <div class="body">Works fine on Win2K SP4</div>
    <div class="meta">Posted on 2003-08-21 05:24:25 by donkey</div>
   </div>
   <div class="post" id="post-114756">
    <div class="subject"><a href="#post-114756">1kB Hello World with DialogBox</a></div>
    <div class="body">doesn't work on winme either, but then again w9x doesn't require any imports.<br /><br /><div class="quote"><em>Originally posted by Ranma_at </em><br />in Delphi 200k :eek:<br /></div><br /><br />you can do much less, see this attach</div>
    <div class="meta">Posted on 2003-08-21 07:32:42 by drizz</div>
   </div>
   <div class="post" id="post-114765">
    <div class="subject"><a href="#post-114765">1kB Hello World with DialogBox</a></div>
    <div class="body"><div class="quote"><br />you can do much less, see this attach </div><br /><br />Text1.Text:= &quot;I dont see the attach, and i ve uninstalled  Borlands Delphi 6,&quot;   <br />maybe the attach got too big ? :tongue:</div>
    <div class="meta">Posted on 2003-08-21 07:54:54 by Ranma_at</div>
   </div>
   <div class="post" id="post-114773">
    <div class="subject"><a href="#post-114773">1kB Hello World with DialogBox</a></div>
    <div class="body"><div class="quote"><br />This thing in C++ would cost 40k, in VB maybe 16k and in Delphi 200k </div><br /><br />In VB = 16 K + 1409 K :grin:</div>
    <div class="meta">Posted on 2003-08-21 08:30:35 by pelaillo</div>
   </div>
   <div class="post" id="post-114778">
    <div class="subject"><a href="#post-114778">1kB Hello World with DialogBox</a></div>
    <div class="body"><div class="quote"><em>Originally posted by Ranma_at </em><br />maybe the attach got too big ? :tongue: </div><br />its actually 7kb zip (with binaries and src)<br /><br />it seems i can't attach :stupid:</div>
    <div class="meta">Posted on 2003-08-21 08:47:50 by drizz</div>
   </div>
   <div class="post" id="post-114793">
    <div class="subject"><a href="#post-114793">1kB Hello World with DialogBox</a></div>
    <div class="body">You could get it down to 984 bytes by using /align:4 ;) <br />I guess files aligned on &lt;0x1000 run on NT-based systems only.<br /><br />Anyway, your example compiles to a 1024 bytes long exe even without using /align switch (ie. using standard alignment)</div>
    <div class="meta">Posted on 2003-08-21 10:27:23 by Morris</div>
   </div>
   <div class="post" id="post-114796">
    <div class="subject"><a href="#post-114796">1kB Hello World with DialogBox</a></div>
    <div class="body">cool :grin:</div>
    <div class="meta">Posted on 2003-08-21 10:37:32 by Delight</div>
   </div>
   <div class="post" id="post-114797">
    <div class="subject"><a href="#post-114797">1kB Hello World with DialogBox</a></div>
    <div class="body"><div class="quote">This thing in C++ would cost 40k, in VB maybe 16k and in Delphi 200k  , though i like delphi cause it compiles to windows native </div> <br /><br />Delphi 200K because you are using the VCL.<br />I dont use the VCL and my exe size is 8KB minimum =)<br />Delphi produces smaller executables than VC++</div>
    <div class="meta">Posted on 2003-08-21 11:10:08 by maCo</div>
   </div>
   <div class="post" id="post-114798">
    <div class="subject"><a href="#post-114798">1kB Hello World with DialogBox</a></div>
    <div class="body">I don't think Delphi can create smaller executables than 8-9kB, but I have seen 1kB examples written in VC++</div>
    <div class="meta">Posted on 2003-08-21 11:12:10 by Delight</div>
   </div>
   <div class="post" id="post-114802">
    <div class="subject"><a href="#post-114802">1kB Hello World with DialogBox</a></div>
    <div class="body">I dont know how to make the VC++ exe smaller than delphi.<br />but I wrote the same program on both products and Delphi6 = 8KB and VC++ = 20KB</div>
    <div class="meta">Posted on 2003-08-21 11:20:46 by maCo</div>
   </div>
   <div class="post" id="post-114803">
    <div class="subject"><a href="#post-114803">1kB Hello World with DialogBox</a></div>
    <div class="body"><a target="_blank" href="http://www.catch22.org.uk/tuts/minexe.asp">http://www.catch22.org.uk/tuts/minexe.asp</a></div>
    <div class="meta">Posted on 2003-08-21 11:22:26 by Delight</div>
   </div>
   <div class="post" id="post-114804">
    <div class="subject"><a href="#post-114804">1kB Hello World with DialogBox</a></div>
    <div class="body">Thank you.<br />BTW, nice smaller 1K exe, it works on my XP :alright:</div>
    <div class="meta">Posted on 2003-08-21 11:24:42 by maCo</div>
   </div>
   <div class="post" id="post-114805">
    <div class="subject"><a href="#post-114805">1kB Hello World with DialogBox</a></div>
    <div class="body">VC++ exes compiled with msvc++ are as small as MASM exes. All you have to do is disable incremental linking (under Projects--&gt; Settings), add &quot;msvcrt.lib&quot; into the set of linked libs, and then tell the linker to merge the sections via a #pragma, and your hello world msgboxes will be 1kb (1024 bytes actually) :). Also, make sure you are not using MFC...<br /><br />Delphi 6 using VCL is around 430k (somewhere around there?), and using CLX is a bit smaller, but that stills beat 2meg runtimes, plus it's 4x smaller if you think of it. And yet still, w/o using VCL, Delphi executables are smaller than VB ones :P (did i mention VB has the crappiest syntax/structure i've ever seen? :tongue: )<br /><br />i'm into the small-exe hype...so if anybody needs an example, i'll be happy to post one :)</div>
    <div class="meta">Posted on 2003-08-21 11:28:02 by Drocon</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=14782&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=14782&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="14782" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=14782&amp;page=2">&gt;</a><a href="../?id=14782&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
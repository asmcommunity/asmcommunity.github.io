<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>NEED HELP! SOS! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29612" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=115">DOS &amp; BIOS</a> &raquo; <a href="../?id=29612">NEED HELP! SOS!</a></p>
   <div class="post" id="post-209095">
    <div class="subject"><a href="#post-209095">NEED HELP! SOS!</a></div>
    <div class="body">hi. just made this code for my project.<br /><br />input: time-in, time-out and minimum wage. input will be stored in an array<br /><br />WAGE CALCULATIONS:<br />1. deduct 30 for every hour late. (8 am is the call time)<br />2. add 50 per hour overtime (5pm is the end of work, beyond that is overtime)<br /><br />NOW MY PROBLEM, the output is not a number. it will output certain characters that i dont understand.<br /><br />can someone with expertise in assembly language help me please? i highly appreciate any help from you. thank you:)<br /><br />by the way, HERE&#039;S MY CODE:<br /><pre><code><br /><br />;PROJECT SUMMARY:&nbsp; user inputs time-in and time-out (by hour).&nbsp; the usual time-in is 8AM and the time-out is 5PM.<br />;Base Salary is Php270.00<br />;A deduction of Php30.00 from the base salary will be done for every hour late<br />;An additional Php50.00 is given for every hour overtime (until 10PM only)<br />;Output the daily salary and the monthly salary (daily salary * 30)<br /><br />TITLE wcalcu.asm MICHELLE&#039;s WAGE CALCULATOR<br />.MODEL SMALL<br />.STACK 100H<br />.DATA<br />	NOTE db &#039;DO take note a 24-hour format is followed.&nbsp; $&#039;<br />	EXAMPLE db &#039;Ex: 08 corresponds to 8AM while 13 is 1pm.$&#039;<br />	MSG_IN db &#039;Enter time-in: $&#039;<br />	MSG_OUT db &#039;Enter time-out: $&#039;<br />	MSG_MIN db &#039;Enter minimum wage in your company.$&#039;<br />	DAILY_SAL db &#039;Your daily salary is $&#039;<br />	MONTHLY_SAL db &#039;Your monthly salary is $&#039;<br />	ERROR1 db &#039;Invalid Input (time-in!) $&#039;<br />	ERROR db &#039;Invalid Input (time-out!) $&#039;<br />	daily_wage db ?<br />	monthly_wage db ?<br />	time_in db ?<br />	time_out db ?<br />	<br />.CODE<br />main proc<br />;initialize ds<br />	mov ax, @data	<br />	mov ds, ax			;initialize data segment<br /><br />;**************************************************************************;<br />;---------------------------&nbsp; OPENING MSGS&nbsp; -------------------------------;<br />;**************************************************************************;<br /><br />;display NOTE<br />	lea dx, NOTE	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br /><br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br />	;execute<br /><br />;display example<br />	lea dx, EXAMPLE	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br /><br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br /><br />;display msg1 (asking for time-in)<br />	lea dx, msg_in	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br /><br />;**************************************************************************;<br />;------------------------- INPUT and STORING&nbsp; -----------------------------;<br />;**************************************************************************;<br /><br />;input and storing time-in<br />	MOV ah, 1		; read character function<br />	XOR BX, BX		; clear BX<br />	MOV CX, 0		; CX = 0<br />	<br />	INPUT:<br />	INT 21H			; execute<br />	MOV time_in, AL	; move contents of AL to BL<br />	INC CX			; increment CX by 1<br />	INC BX			; increase BX<br />	CMP CX, 2		; is CX = 2?<br />	JE NEXT			; if yes, go to NEXT<br />	JMP INPUT		; if not, loop until all digits are placed in array<br /><br />	NEXT:<br /><br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br /><br />;display second message (for time out)<br />	lea dx, msg_out	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br /><br />;input and storing time-out<br />	MOV ah, 1		; read character function<br />	XOR BX, BX		; clear BX<br />	MOV CX, 0		; CX = 0	<br /><br />	OUTPUT:<br />	INT 21H			; execute<br />	MOV time_out, AL	; move contents of AL to BL<br />	INC CX			; increment CX<br />	INC BX			; increase BX<br />	CMP CX, 2		; is CX = 2?<br />	JE NEXT2		; if yes, go to NEXT2<br />	JMP OUTPUT		; if not, loop until all digits are placed in array<br /><br />	NEXT2:<br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br /><br />;display third message (for minimum wage)<br />	lea dx, msg_min	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br /><br />;input and storing min wage<br />	MOV ah, 1		; read character function<br />	XOR BX, BX		; clear BX<br />	MOV CX, 0		; CX = 0	<br /><br />	WAGE:<br />	INT 21H			; execute<br />	MOV daily_wage, AL	; move contents of AL to BL<br />	INC CX			; increment CX<br />	INC BX			; increase BX<br />	CMP CX, 3		; is CX = 3?<br />	JE NEXT3		; if yes, go to NEXT3<br />	JMP WAGE		; if not, loop until all digits are placed in array<br /><br />	NEXT3:<br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br /><br />	<br /><br /><br />;**************************************************************************;<br />;---------------- CHECKING FOR VALIDITY OF INPUT (TIME-IN)-----------------;<br />;**************************************************************************;<br /><br />;checking for validity by comparing each digit in the array:<br /><br />	INPUT1_VALIDITY:<br />	XOR BX, BX		; clear BX<br />	<br />	MOV AL, time_in	; move contents of time_in to AL<br />	CMP AL, 31H		; is the first digit of the input less than or equal to 1?<br />	JG HANDLE_ERROR		; if not, ERROR!<br />	JL CHECK_UNDERTIME	; if less than, check undertime.<br />	JE CHECK_NEXTD		; if first digit = 1, check 2nd digit<br /><br />	CHECK_NEXTD:<br />	INC BX			; increment BX<br />	MOV AL, time_in	; move the contents of time_in to AL<br />	CMP AL, 37H		; is the second digit greater than 7?<br />	JG HANDLE_ERROR		; if yes, handle error <br />	JMP CHECK_UNDERTIME	; if no error in input1, check undertime due to tardiness<br />	<br />;handling errors<br />	HANDLE_ERROR:<br />	lea dx, ERROR1	;load effect data<br />	mov ah, 9	;displays data input<br />	int 21h<br />	JMP EXIT	; jump to exit!<br /><br /><br /><br />;**************************************************************************;<br />;----------------- CHECKING IF UNDERTIME DUE TO TARDINESS -----------------;<br />;**************************************************************************;<br /><br />; check if employee is late<br />	CHECK_UNDERTIME:<br />	XOR AX, AX		; clear AX<br />	XOR BX, BX		; clear BX<br />	<br />	MOV AL,time_in 	; move to AL<br />	CMP AL, 1		; is the first digit = 1?<br />	JE GET_NEXTD		; if yes, compute the number of hours late<br />	INC BX			; if no, incerement BX<br />	MOV AL, time_in	; move contents to AL<br />	CMP AL, 7		; if the first digit is not 1, is the next digit greater than 7?<br />	JG COMPUTE_LATE		; if yes, compute the number of hours late<br />	JMP INPUT2_VALIDITY	; if not, check if employee had an overtime<br /><br />; if time in is 1*<br />	GET_NEXTD:<br />	INC BX			; increment BX<br />	MOV AL, time_in	; AL = time_in<br />	CMP AL, 8		; is the second digit greater than 8?<br />	JG BORROW		; if yes, go to function borrow (subtraction through borrowing)<br />	JLE COMPUTE_LATE	; if not, subtract the simple way<br />	<br />; subtracting the simple way (no borrwing)<br />	COMPUTE_LATE:<br />	MOV AL, time_in	; AX = time_in[1]<br />	SUB AL, 8		; AX = AX - 8<br />	JMP UNDERTIME		; subtract salary per hour late		<br /><br />; subtracting through borrowing<br />	BORROW:<br />	MOV AL, 10		; AX = 10<br />	MOV DL, time_in	; DL = time_in<br />	ADD AL, DL		; AX = AX + DL<br />	SUB AL, 8		; AX = AX - 8<br />	JMP UNDERTIME		; subtract salary per time late	<br /><br />; deducting per hour LATE<br />	UNDERTIME:<br />	MOV BX, 2		; BX = 2<br /><br />	MOV AL, daily_wage	; move to AL<br />	SUB AL, 3		; subtract the digit 3 from the 2nd digit of the wage<br />	MOV daily_wage, AL	; copy to BX<br />	CMP AL, 3		; is the digit less than 3?<br />	DEC BX			; BX = 0<br />	JL BORROW2		; if yes, borrow from the 1st digit<br />	<br />	BORROW2:<br />	MOV AL, daily_wage	; move to AL<br />	DEC AL			; subtract 1 from AL<br />	MOV daily_wage, AL	; copy to array<br />	 <br />	JMP INPUT2_VALIDITY	; check validity of input 2<br /><br /><br />;**************************************************************************;<br />;---------------- CHECKING FOR VALIDITY OF INPUT (TIME-OUT)----------------;<br />;**************************************************************************;<br /><br />;checking for validity by comparing each digit in the array:<br />	INPUT2_VALIDITY:<br />	XOR BX, BX		; clear BX<br />	<br />	MOV AL, time_out	; move the contents of time_out to AL<br />	CMP AL, 32H		; is the first digit of the input equal to 2?<br />	JE CHECK_IF1		; if equal to 2, check if the next digit is &lt;= 3<br />	JG HANDLE_ERROR2	; if greater than, handle error<br />	JMP PRINT<br />	;JL CHECK_OVERTIME	; if it starts with 1, check if employee has OT<br />	<br />	CHECK_IF1:<br />	INC BX			; increase BX by 1<br />	MOV AL, time_out	; move the contents to AL<br />	CMP AL, 33H		; check if 2nd digit is less than or equal to 4<br />	JG HANDLE_ERROR2	; cut off time is 23:00<br />	JMP PRINT<br />	;JMP COMPUTE_OT		; compute no. of hours overtime<br />	<br />;handling errors<br />	HANDLE_ERROR2:<br />	lea dx, ERROR	; load effect data<br />	mov ah, 9	; displays data input<br />	int 21h		; execute<br />	JMP EXIT	; jump to exit!<br />	<br /><br />;**************************************************************************;<br />;------------------------PROCESSING OVERTIME ------------------------------;<br />;**************************************************************************;<br />;check for overtime<br />	<br />;**************************************************************************;<br />;------------------------ENDING THE PROGRAM&nbsp; ------------------------------;<br />;**************************************************************************;<br />PRINT:<br />;print output<br />	;display daily salary<br />	LEA DX, DAILY_SAL	; load effective data<br />	MOV AH, 9		; displays data input<br />	INT 21H			; execute	<br /><br />	XOR BX, BX		; clear BX<br />	PRINT2:<br />	lea dx, daily_wage	;load effect data<br />	mov ah, 9		;displays data input<br />	int 21h			;execute<br />	INC BX			; increment BX<br />	CMP BX, 3		; is BX = 3?<br />	JE EXIT			; exit if yes<br />	JMP PRINT2		; print until BX = 3.<br /><br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br />	<br />EXIT:			<br />;return to DOS<br />	EXIT:<br />	mov ah,4ch	;DOS exit function<br />	int 21h		;execute<br />main endp<br />	end main<br /></code></pre></div>
    <div class="meta">Posted on 2009-10-10 23:15:07 by lloydie</div>
   </div>
   <div class="post" id="post-209097">
    <div class="subject"><a href="#post-209097">Re: NEED HELP! SOS!</a></div>
    <div class="body">Hi :)<br /><br />You wish to print the ASCII CHARACTERS representing an integer value.<br /><br />Currently, the code is printing the raw BINARY values.<br />If you look at a table of ASCII values, you will see that the characters for 0 thru 9 are represented by the ASCII codes of 0x30 thru 0x39 (hex).<br />You will therefore need to add 30h to each value before trying to print it.<br /><br />Have a nice day :)<br /></div>
    <div class="meta">Posted on 2009-10-11 01:17:18 by Homer</div>
   </div>
   <div class="post" id="post-209098">
    <div class="subject"><a href="#post-209098">Re: NEED HELP! SOS!</a></div>
    <div class="body">oh. i see. thank you so much! i&#039;ll try it now! thank you! :)</div>
    <div class="meta">Posted on 2009-10-11 01:24:11 by lloydie</div>
   </div>
   <div class="post" id="post-209100">
    <div class="subject"><a href="#post-209100">Re: NEED HELP! SOS!</a></div>
    <div class="body">hey. i stored the digits for the salary in an array. to print the character i used this code:<br /><pre><code><br />PRINT:<br />;print output<br />	;display daily salary<br />	ADD_30H:<br />	ADD daily_wage, 30H	; add 30H to each character<br />	INC BX			; increment BX<br />	CMP BX, 33H		; is BX = 3?<br />	JE display_char		; if equal, display character<br />	JMP ADD_30H		; if not, loop	<br /><br />	display_char:<br />	MOV DL, BL		; retrieve character<br />	INT 21H<br />	LEA DX,daily_wage<br />	MOV AH,9<br />	INT 21h<br />; display character<br />	MOV DL, BL		; retrieve character<br />	INT 21H<br /><br /><br />;go to new line<br />	MOV AH, 2 	;display char function<br />	MOV DL, 0DH 	;carriage return<br />	INT 21H 	;execute<br /><br />	MOV DL, 0AH 	;line feed<br />	INT 21H 	;execute<br /></code></pre><br /><br />but when i tried it using cmd prompt, it reported an error.:(<br />IS THIS RIGHT??? </div>
    <div class="meta">Posted on 2009-10-11 01:46:38 by lloydie</div>
   </div>
   <div class="post" id="post-209101">
    <div class="subject"><a href="#post-209101">Re: NEED HELP! SOS!</a></div>
    <div class="body">No its not right.<br />Don&#039;t modify the data in the array, its bad coding practise to &#039;fudge source data&#039;.. instead just add 30h to each character IN THE REGISTER just as you are about to print it!<br />Make more sense?<br /></div>
    <div class="meta">Posted on 2009-10-11 02:39:52 by Homer</div>
   </div>
   <div class="post" id="post-209102">
    <div class="subject"><a href="#post-209102">Re: NEED HELP! SOS!</a></div>
    <div class="body"><div class="quote"><br />No its not right.<br />Don&#039;t modify the data in the array, its bad coding practise to &#039;fudge source data&#039;.. instead just add 30h to each character IN THE REGISTER just as you are about to print it!<br />Make more sense?<br /><br /></div><br /><br />oh! okay. thank you. :)<br /><br />hmmmm. can i ask you a favor sir? can you please check my code. the one with the &quot;check if undertime due to tardiness&quot;...<br /><br />please please sir. i would highly appreciate your help! :)</div>
    <div class="meta">Posted on 2009-10-11 03:04:10 by lloydie</div>
   </div>
   <div class="post" id="post-209103">
    <div class="subject"><a href="#post-209103">Re: NEED HELP! SOS!</a></div>
    <div class="body">This looks like homework.<br />I can&#039;t do your homework for you, I can only answer specific questions.<br />That&#039;s mentioned in our Rules.<br />Besides, if I solve all your current problems, how can you learn to solve future problems?<br />I would not be doing you any favors, I would be just spoon feeding you.<br />I think you deserve better.<br /></div>
    <div class="meta">Posted on 2009-10-11 03:47:56 by Homer</div>
   </div>
   <div class="post" id="post-209105">
    <div class="subject"><a href="#post-209105">Re: NEED HELP! SOS!</a></div>
    <div class="body">well, n that case..<br /><br />can i just ask you (if its ok) which part/s are wrong and i&#039;ll just try to find solutions for it myself?:)</div>
    <div class="meta">Posted on 2009-10-11 04:26:39 by lloydie</div>
   </div>
   <div class="post" id="post-209107">
    <div class="subject"><a href="#post-209107">Re: NEED HELP! SOS!</a></div>
    <div class="body">When you run your code through your compiler, it will give you error codes.<br /><br />Post those and we can help you with that.<br /><br /></div>
    <div class="meta">Posted on 2009-10-11 07:57:05 by skywalker</div>
   </div>
   <div class="post" id="post-209109">
    <div class="subject"><a href="#post-209109">Re: NEED HELP! SOS!</a></div>
    <div class="body">hi skywalker..<br /><br />can i ask... uhmmm. can we use registers (BX) to store the address of the array?<br /><br />when i have a multi-digit number stored in an array, how can i add/subtract that number to another number?<br /><br />i think that&#039;s what my problem is.<br /><br />multi-digit input and storage was not taught to us by our instructor. :(</div>
    <div class="meta">Posted on 2009-10-11 08:06:35 by lloydie</div>
   </div>
   <div class="post" id="post-209112">
    <div class="subject"><a href="#post-209112">Re: NEED HELP! SOS!</a></div>
    <div class="body">Maybe you should team up <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=29610.0">xxxlancexxx</a> and figure this out for your class, together :idea:</div>
    <div class="meta">Posted on 2009-10-11 12:43:55 by SpooK</div>
   </div>
  </div>
 </body>
</html>
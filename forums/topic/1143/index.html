<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>About .LIB files - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1143" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1143">About .LIB files</a></p>
   <div class="post" id="post-7469">
    <div class="subject"><a href="#post-7469">About .LIB files</a></div>
    <div class="body">Here is the context of my question:<br />I did a layered (semi-transparent) window. Ok, I admit it's not that impressive, but hey, I did it all by myself :)<br /><br />Anyway... To get a rid of those &quot;undefined symbols&quot; messages I previously got, I found that some functions and equates was effectively not defined in the USER32.LIB and USER32.INC files.<br /><br />So I added some equates in my source code... and I used the USER32.LIB from the platform SDK I just downloaded. After this, my file was assembled successfully, and a nice semi-transparent window popped on my screen.<br /><br />My main concern is about that USER32 lib file. Ok, it's a newer one, but it's also a smaller one (133K instead of 557K)<br /><br />Do this new lib miss some functions? Or maybe MicroSoft have optimized thier code :eek:</div>
    <div class="meta">Posted on 2001-09-18 20:41:31 by dotCODE</div>
   </div>
   <div class="post" id="post-7475">
    <div class="subject"><a href="#post-7475">About .LIB files</a></div>
    <div class="body">I remember reading somewhere something about changes to the lib files sometime back - I think your safe? :)  Oh, cool avatar!</div>
    <div class="meta">Posted on 2001-09-18 22:38:00 by bitRAKE</div>
   </div>
   <div class="post" id="post-7477">
    <div class="subject"><a href="#post-7477">thanks</a></div>
    <div class="body">You know &quot;HAL 9000&quot; ?<br />&quot;He's&quot; in one of my favorite movie (2001: a space oddyssey)<br /><br />My avatar is a scaled down version of a desktop background I made a while ago. If anybody wants it... just ask. The original is 1600x1200 in size.<br /><br />...and for now, every things I do using the &quot;new&quot; LIBs seems to work fine. I still wonder why the new LIBs are smaller in size <br />:confused:</div>
    <div class="meta">Posted on 2001-09-18 23:02:05 by dotCODE</div>
   </div>
   <div class="post" id="post-7492">
    <div class="subject"><a href="#post-7492">About .LIB files</a></div>
    <div class="body">The lib files have undergone a lot of changes from time to time :).<br />Their basic format is still the same, as far as I remember. Now, the<br />reason they are smaller...<br /><br />older library files are very &quot;explicit&quot;. For each exported symbol, they<br />have a lot of coff object files inside (3 or 5, can't remember). These<br />files define the various sections, and the section data, necessary<br />to create the import section. The reason each import generates<br />three or five files, is the complicated matter of only including the<br />symbols you use, and make this include the dll file, but only if at least<br />one of the symbols are used ...<br /><br />The &quot;new&quot; format is a short format, which... is different :). Here's<br />what MSDN has to say:<br /><br /><div class="quote"><br />In an import library with the long format, a single member contains the following information: <br /><br />     Archive member header<br />     File header<br />     Section headers<br />     Data corresponding to each of the section headers COFF symbol table<br />     Strings <br /><br />In contrast a short import library is written as follows: <br /><br />     Archive member header<br />     Import header<br />     Null-terminated import name string<br />     Null-terminated dll name string <br /><br />This is sufficient information to accurately reconstruct the entire contents of the member at the time of its use. <br /></div></div>
    <div class="meta">Posted on 2001-09-19 04:45:12 by f0dder</div>
   </div>
   <div class="post" id="post-7493">
    <div class="subject"><a href="#post-7493">About .LIB files</a></div>
    <div class="body">Oh yes, a little thing... if you use API calls that are win2k/me/xp-only,<br />like transparency, don't link to the directly, it is &quot;polite&quot; to use<br />GetProcAddress, so that your programs *can* run under 9x, but<br />will just get enhanced features under win2k and later.</div>
    <div class="meta">Posted on 2001-09-19 04:46:38 by f0dder</div>
   </div>
   <div class="post" id="post-7503">
    <div class="subject"><a href="#post-7503">About .LIB files</a></div>
    <div class="body">dotCODE,<br /><br />Fodders idea is a good one but if you want to be able to code directly with later windows versions, get the set of libraries for that version and then run the l2inca utility that comes with MASM32 to create a set of includes that match the libraries. This means for each library, you have the correct include file available.<br /><br />Regards,<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-09-19 05:54:20 by hutch--</div>
   </div>
   <div class="post" id="post-7523">
    <div class="subject"><a href="#post-7523">About .LIB files</a></div>
    <div class="body">F0dder:<br /><br />Thanks for the info; I guess if I pay more attention to the MSDN library (i.e: read it), I won't need to post that much &quot;useless&quot; messages :)<br /><br /><br /><br />hutch:<br /><br />Ok... now I know the use of this &quot;l2inca&quot; utility. Again, I realize that I'll have to be more careful and <strong>read</strong> before I ask something...<br /><br />BTW, is it normal that the l2inca crash while it process some directX-related libs ?! I removed them from the folder, and all the other libs was processed without any problems.<br /><br />More precisely, it's d3dx8 / d3dx8dt / d3dx / d3dxd libs who crash at the 2nd pass of l2inca...<br /><br />It's not a &quot;big&quot; problem; I'm really not close to the day I'll have to use them anyway!<br /><br /><br /><br />Again, thanks to you guys!</div>
    <div class="meta">Posted on 2001-09-19 10:09:47 by dotCODE</div>
   </div>
  </div>
 </body>
</html>
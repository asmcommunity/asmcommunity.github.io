<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>HLA v2.0 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10299" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=10299">HLA v2.0</a></p>
   <div class="post" id="post-77248">
    <div class="subject"><a href="#post-77248">HLA v2.0</a></div>
    <div class="body">At some point I'm going to return to work on the HLA v2.0 system.<br />But I thought that regular updates on HLA v2.0 (and why it's not<br />coming along very rapidly) would be in order.<br /><br />The big block on HLA v2.0 last year was a contract I signed in<br />May to produce a published version of &quot;The Art of Assembly<br />Language&quot;.  Between abridging the work (sorry, 1,500 pages<br />was a bit too much for the publisher, though the full electronic<br />version will still appear on the CD-ROM), merging the Windows<br />and Linux versions into a single edition, *lots and lots* of<br />proofreading, and other stuff, I was quite busy the remainder<br />of the year (in fact, I just shipped off approvals on the proofreading<br />of the appendicies a week ago;  all that's left now is the index).<br />I know a lot of people are going to be excited to have AoA available<br />in hard copy form, so that's been my priority the past six months.<br /><br />As I mentioned above, quite a bit of stuff had to be stripped out<br />of AoA to make it publishable.  Using the electronic version as<br />a guide, the published version contains the material from Volume I,<br />a sampling of the material from Volume II (machine organization,<br />important stuff, but not really assembly language *programming*),<br />and probably about 80% of the material from Volumes III and IV<br />(reorganized quite a bit).  It was a hard decision cutting out a lot of<br />the material on machine organization, but I had to chop the book<br />roughly in half (note: in published form, it will probably be longer than<br />750 pages because they're going to a smaller format than the<br />8-1/2&quot;x11&quot; pages that I used for the PDF files on Webster).  Furthermore,<br />whenever you hear someone discussing a major benefit of learning<br />assembly language as being great knowledge to have in order to<br />write better HLL code, much of what they're talking about is the<br />machine organzation information you pick up while learning assembly.<br />To make a long story short, I had several hundred pages of &quot;machine<br />organization&quot; information laying around that got cut from AoA (actually,<br />it's on the CD-ROM, it was just cut from the printed edition).  So I<br />convinced the publisher to do a second book entitled &quot;The Things<br />You Need To Know to Write Great Code&quot;.  I'm finishing off the very last<br />section of the very last chapter today and tomorrow (this is the first<br />draft, so there is still a lot of proofreading, etc., left to do).  This book<br />will consume quite a bit of time over the next couple of months.<br />That, of course, will also delay serious work on HLA v2.0 for the time<br />being.<br /><br />Of interest to this particular news board, I've also pretty much committed<br />to doing a &quot;Windows Programming in Assembly Language&quot; text.  I'm going<br />to get started on that as soon as I make the first proofreading pass on<br />&quot;Write Great Code&quot;.  I'll probably start putting those chapters up on Webster<br />as I write them so interested indivduals can follow along during the book's<br />development (not to mention, I'll get lots of free proofreading :-)).<br /><br />Another book project that *really* needs to get done is a &quot;Universal<br />Guide to x86 Assembly Language&quot; that provides a parallel reference<br />guide for several different popular assemblers.  This will allow someone<br />who is reading HLA code, for example, to translate it to MASM, NASM, FASM,<br />Gas, etc., (or from any of these assemblers to any of the others).  <br />Given the divergence of the x86 assembly language programming community,<br />this would be a good book to get out the door before the year is over.<br /><br />I've also been play &quot;rock star&quot; a bit too much recently (I write Christian<br />Parodies of popular tunes and I've been writing lyrics, recording the songs,<br />and performing them at local churches;  the recordings, especially, take quite<br />a bit of time;  you can check out the parodies on Webster, just visit<br /><a target="_blank" href="http://webster.cs.ucr.edu/Page_Christian/index.html">http://webster.cs.ucr.edu/Page_Christian/index.html</a>)<br /><br /><br />So those are the things lined up in front of HLA v2.0 at this point.<br />Oh, I forgot to mention, I've got a real job, too :-)<br />Fortunately, I don't have any kids...<br /><br />Well, I've spent a lot of time discussing why I haven't been working on HLA v2.0<br />lately (and why I'm not going to get a whole lot done on it in the immediate<br />future), I guess I should express some optimism here.  The AoA publication has<br />been rather critical, so I've been putting most of my effort into getting that ready.<br />I will not be devoting as much time to the next few book projects, so I'll be<br />able to get some &quot;time slicing&quot; in and start progressing on HLA v2.0 again.<br /><br />Todate, the lexical analyzer is mostly complete and I'm working on the<br />expression parser (for constants and addresses).  Quite frankly, it's been<br />so long since I've worked on HLA v2.0 that I'll have to spend about a week<br />refamiliarizing myself with the source code.  When I get around to that,<br />I will start discussing some of the features that will be found in HLA v2.0<br />and what I hope to achieve.  I will also start posting the HLA v2.0 source<br />code (written in HLA) on Webster so people who are interesting in learning<br />the source code can follow along from the beginning rather than get hit<br />with 100,000 lines of source code all at once.  Naturally, I'll more than<br />welcome any help on the project, subject to the requirement that all<br />participants (who want me to include their code with the HLA release)<br />release their code to the public domain.<br /><br />In any case, I've started this thread to begin discussing the available features,<br />report the status, and solicit suggestions for HLA v2.0<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-01-19 17:06:52 by rhyde</div>
   </div>
   <div class="post" id="post-77262">
    <div class="subject"><a href="#post-77262">HLA v2.0</a></div>
    <div class="body"><div class="quote">Of interest to this particular news board, I've also pretty much committed<br />to doing a &quot;Windows Programming in Assembly Language&quot; text. I'm going<br />to get started on that as soon as I make the first proofreading pass on<br />&quot;Write Great Code&quot;. I'll probably start putting those chapters up on Webster<br />as I write them so interested indivduals can follow along during the book's<br />development (not to mention, I'll get lots of free proofreading :-)).</div><br /><br />Will you use HLA for the examples in the book?</div>
    <div class="meta">Posted on 2003-01-19 17:33:39 by Hiroshimator</div>
   </div>
   <div class="post" id="post-77270">
    <div class="subject"><a href="#post-77270">HLA v2.0</a></div>
    <div class="body">Rock star huh ?<br /><br />One of the things that gets asked on a regular basis is if there are any good books for people to learn 32 bit windows assembler and currently the answer is no so if your publisher can see a viable demand, a book of this type would be welcome by people who &quot;like&quot; to learn from books rather than picking it out in bits across the internet.<br /><br />I am sure there are enough people around here who would be more than willing to lead you astray to get 32 bit windows assembler more widely known.<br /><br />Funny, I have never heard of an assembler programmer who can sing before, must be the Webster influence. :tongue: <br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-01-19 18:18:49 by hutch--</div>
   </div>
   <div class="post" id="post-77271">
    <div class="subject"><a href="#post-77271">HLA v2.0</a></div>
    <div class="body"><div class="quote"><br /><br /><br />Will you use HLA for the examples in the book? </div><br /><br /><br />Yes, of course.<br />Which points out the need for that &quot;Universal Assembly Guide&quot;<br />I was talking about :-)<br /><br />The only viable choices for such a book would be MASM32 or<br />HLA (because of support for include files, high-level API<br />invocations, stuff like that).  Naturally, I feel strongly about<br />HLA (having designed and implemented it myself) and, in<br />particular, I wrote HLA in order to provide a vehicle for teaching<br />assembly language programming (and not just &quot;beginning&quot;<br />assembly language programming, I'd point out).<br />Obviously, some might complain &quot;But I don't know HLA and<br />you'd have a bigger market if you used MASM32.&quot;<br />This is true, but I'm somewhat afraid of supporting MASM<br />at this time because Microsoft's support for assembly<br />programming and MASM seems to be waning rapidly.<br />I know that HLA will be supported as long as I need it to<br />be supported for a book project like this one :-)<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-01-19 18:31:49 by rhyde</div>
   </div>
   <div class="post" id="post-77273">
    <div class="subject"><a href="#post-77273">HLA v2.0</a></div>
    <div class="body">and what about making your examples as generic as possible? I know my old books supported masm, tasm and some other assembler (just to be sure I guess :grin: )</div>
    <div class="meta">Posted on 2003-01-19 18:34:27 by Hiroshimator</div>
   </div>
   <div class="post" id="post-77277">
    <div class="subject"><a href="#post-77277">HLA v2.0</a></div>
    <div class="body">All the great programmers are musical, except me,<br />pipe organs and all.</div>
    <div class="meta">Posted on 2003-01-19 18:41:43 by Roy Cline</div>
   </div>
   <div class="post" id="post-77279">
    <div class="subject"><a href="#post-77279">HLA v2.0</a></div>
    <div class="body"><div class="quote"><br />Rock star huh ?<br /><br />One of the things that gets asked on a regular basis is if there are any good books for people to learn 32 bit windows assembler and currently the answer is no so if your publisher can see a viable demand, a book of this type would be welcome by people who &quot;like&quot; to learn from books rather than picking it out in bits across the internet.<br /><br />I am sure there are enough people around here who would be more than willing to lead you astray to get 32 bit windows assembler more widely known.<br /></div><br /><br />One of the main reasons I'd wanted to get involved with this board<br />was specifically to learn more about Win32 Asm programming and have<br />a source of information where I could get help.  I've gone through a lot of the<br />bits and pieces found on the net and I agree 100% that coming up with a<br />structured, coherent, pedagogical plan is difficult when learning the stuff<br />from the internet (indeed, once you go through Iczelion's excellent tutorial<br />series, I've found the best way to learn Win32 Asm programming is by<br />reading all the C books on the subject).<br /><br />I've actually got a couple of books on Windows assembly programming,<br />but they're both Win16 based and spend most of their time discussing<br />how to write VxDs and Device Drivers in assembly language.  While those<br />may have been interesting subjects seven years ago, the information is<br />basically useless today.  I get a lot more out of Petzold's books than I<br />do out of those Windows assembly books.<br /><br /><br /><div class="quote"><br />Funny, I have never heard of an assembler programmer who can sing before, must be the Webster influence. :tongue: <br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a> </div><br /><br />You make the assumption that I actually *can* sing :-)<br />Seriously, though, I started writing the parodies for entertainment<br />and for my Children's Church program I was working with two years<br />ago.  I discovered real quick that a very large percentage of the<br />population can't read lyrics and imagine the melody and how the<br />parody lyrics would be sung.  I tried putting up some music recordings<br />with a melody track for a while; although that was better, a lot of people<br />still couldn't figure out how the parody lyrics were supposed to be sung.<br />A little over a year ago, I recorded a CD full of the songs (about 22 of them)<br />and distributed the CD to several friends.  Quite frankly, the vocal<br />performance was atrocious.  But, at least, people could hear how the<br />songs were intended to be sung.  After filling up five CDs with parody<br />recordings, I finally got sick and tired of embarrasing myself with these<br />recording attempts and I took a &quot;beginning singing&quot; class at the local<br />community college (in fact, I just finished the second six weeks of that<br />course in early December).  So volumes six and seven of the series are<br />markedly improved (I just finished re-recording most of the songs on<br />Volume I and I've put the MP3s up on Webster).  I've still got a *long*<br />ways to go before I'd ever reach &quot;professional&quot; calibre, but the vocals<br />are *vastly* improved over what I had before.<br /><br />As far as HLA v2.0 is concerned, the good news is that I've nearly<br />recorded all the parodies I've written to date (I've written almost<br />160 of the parodies, I've probably recorded over 120 of them).<br />Other than the fact that volumes two through five need to be<br />re-recorded, I've just about finished that project and it's not going<br />to consume as much time as it has in the past.<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-01-19 18:44:59 by rhyde</div>
   </div>
   <div class="post" id="post-77281">
    <div class="subject"><a href="#post-77281">HLA v2.0</a></div>
    <div class="body"><div class="quote"><br />and what about making your examples as generic as possible? I know my old books supported masm, tasm and some other assembler (just to be sure I guess :grin: ) </div><br /><br />Well, that's good advice for lots of reasons.<br /><br />Obviously, most of the machine instructions will be trivially convertable<br />to other assemblers.  &quot;MOV( 5, EAX);&quot; (and most assembly instructions)<br />is easy enough to convert to the syntax of your favorite assembler.<br />In those few instances where the conversion isn't obviously, well, don't<br />forget that HLA *is* a compiler and emits assembly source code for<br />further processing by an assembler like Gas, MASM, TASM, or FASM, so<br />the worst you would have to do is run the HLA examples through HLA<br />to see the syntax in your favorite assembler (someday, I may even finish<br />the NASM code generator, if I get the time).<br /><br />There are only two things I plan on using in the examples that don't<br />translate directly (manually) to other assemblers.<br /><br /><br />(1) I will use HLA's HLL-like calling sequence quite a bit.  MASM32 users<br />shouldn't have a problem with this since it's quite similar to INVOKE.<br />Of course, I will give examples of how to call the APIs manually<br />(because, quite frankly, the HLL-like calls  aren't<br />always as efficient as they could be and although a slight inefficiency<br />in a Win32 call isn't going to be a terrible thing, because the calls are<br />so slow anyway, this *is* going to be an assembly book and not<br />pointing out the possible inefficiencies of the approach would be<br />weak).<br /><br />(2) One advanced HLA feature I do intend to take advantage of<br />is HLA's &quot;context-free macro&quot; facilities.   HLA's macros are great<br />for various types of calls that must always occur in pairs, like<br />BeginPaint and EndPaint, e.g.,<br /><br />   w.BeginPaint( hwnd, ps, hdc );<br /><br />         &lt;&lt;calls that reference the paint structure&gt;&gt;<br /><br />   w.EndPaint;<br /><br />Using this macro facility achieves two things:<br />a. It saves a bit of typing because you don't have to supply the<br />    device context handle in every painting call.<br /><br />b. The painting calls (e.g., w.TextOut) are only &quot;callable&quot; between<br />    the w.BeginPaint and w.EndPaint macro invocations (HLA enforces<br />    this;  of course, you could always call the Win32 APIs directly, but<br />    it's kinda' nice that these macros do a little bit of error checking for<br />    you).<br /><br />At one time I was contemplating changing all the (horrible) names<br />for the Windows API and constants to better suit assembly language<br />programmers.  However, no single text on Windows programming<br />in assembly language can cover all the information an assembly<br />programmer is going to need to know, so other than a few minor<br />differences (like the BeginPaint/EndPaint macros above, that the<br />text will go into great pains to develop and describe), I'm going to<br />stick with MS identifiers, regardless of how appropriate they are<br />(of course, there are a few conflicts with HLA reserved words and<br />some MS identifiers that need to be dealt with, but that's a different<br />issue entirely).<br /><br />Other than that, I don't plan on using a lot of tricky, advanced,<br />HLA stuff.  After all, I'm targetting the book for the person who<br />has just made one pass through &quot;The Art of Assembly Language<br />Programming&quot; so I can't really expect the kind of sophisitication<br />that would be needed if I really pulled out the stops and used<br />a ton of advanced HLA features.<br /><br />Rest assured, the primary purpose of the book is to teach<br />Windows assembly language programming.  I have to use<br />an actual product for the examples, and you'll have to forgive<br />me for tooting my own horn here and using my own product :-),<br />but I'm cognizant of the fact that some people aren't going to<br />want to use HLA and may still want to learn from the book.<br /><br />I can say this, MASM32 programmers won't be *too* dissatisfied.<br />I will be using the same programming paradigm that common for<br />MASM32 examples.  As an example, take a look at the Iczelion<br />Tutorials I've converted to HLA<br />(<a target="_blank" href="http://webster.cs.ucr.edu/Page_win32/0_win32asm.html">http://webster.cs.ucr.edu/Page_win32/0_win32asm.html</a>).<br /><br />Though I won't be using the Iczelion tutorials directly in the text,<br />the comparison of the MASM32 code and the HLA code will give you<br />a good idea of the type of coding you will see in the book.<br /><br />Of course, if you're using NASM, FASM, or Gas (I wonder how many<br />people actually use Gas for Win32 asm programming?), then the<br />presence of IF and WHILE statements may be annoying, but for the<br />most part they'll be there just to make the code more readable and<br />their conversion to these other assemblers should prove fairly easy.<br /><br />Randy Hyde</div>
    <div class="meta">Posted on 2003-01-19 19:19:58 by rhyde</div>
   </div>
   <div class="post" id="post-78293">
    <div class="subject"><a href="#post-78293">Sneek peek at a new HLA v2.0 feature</a></div>
    <div class="body">One new feature that will appear in HLA v2.0 is<br />that the reserved words of HLA v1.x are only pseudo-reserved<br />words in HLA v2.0.<br /><br />This means that it is possible to create macros or other symbols<br />using identifiers that would normally be reserved by the compiler.<br />So if you really want to create a &quot;mov&quot; macro to extend the syntax<br />of the MOV instruction, for example, this will now be possible.<br /><br />HLA v2.0 achieves this in an interesting fashion.<br />First of all, HLA v2.0 really does have a set of reserved words,<br />they consist of the normal set of reserved words prefixed with<br />a tilde character ('~').  E.g., &quot;~mov&quot; is the reserved word that<br />would normally correspond to &quot;mov&quot;.  To allow the use of the<br />standard &quot;reserved words&quot; HLA effective defines text constants<br />for all the reserved words (e.g., &quot;mov&quot; is a synonym for &quot;~mov&quot;).<br />With a single directive, however, you can tell HLA to forget the fact<br />that &quot;mov&quot; is a reserved word and treat it as standard identifier.<br />You can reimplement the standard 80x86 MOV instruction with<br />a simple macro as follows:<br /><br />#macro mov(src, dest);<br />    ~mov(src,dest)<br />#endmacro<br /><br />Of course, by adding extra code to this macro, you can change<br />the semantics of the mov instruction (e.g., handle new versions<br />of the MOV instruction that Intel adds, prior to support by HLA).<br /><br />Another use of this feature is that you can reverse the operands<br />back to the Intel format if you can't really stand the &quot;src,dest&quot;<br />ordering, e.g.,<br /><br />#macro mov(dest,src);<br />  ~mov(src,dest)<br />#endmacro<br /><br />Yet another use for this feature is to embed the mnemonics<br />for a different assembly language into HLA;  e.g., you could<br />write a simple 8051 or 6805 assembler within HLA using<br />this feature.<br /><br />From time to time, I'll discuss additional features like this<br />one that you can expect to find in HLA v2.0<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-01-25 11:45:00 by rhyde</div>
   </div>
  </div>
 </body>
</html>
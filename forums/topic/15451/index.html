<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>QueryPerformanceCounter and RDTSC - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15451" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15451">QueryPerformanceCounter and RDTSC</a></p>
   <div class="post" id="post-120044">
    <div class="subject"><a href="#post-120044">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">Is QueryPerformanceCounter equal to RDTSC in function?</div>
    <div class="meta">Posted on 2003-09-29 23:39:20 by optimus</div>
   </div>
   <div class="post" id="post-120054">
    <div class="subject"><a href="#post-120054">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">RDTSC is a pentium instruction, ReaD Time Stamp Count</div>
    <div class="meta">Posted on 2003-09-30 02:29:20 by optimus</div>
   </div>
   <div class="post" id="post-120056">
    <div class="subject"><a href="#post-120056">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">Why write API that will emulate CPU instructions? ;)<br /><br />imho</div>
    <div class="meta">Posted on 2003-09-30 02:32:34 by S.T.A.S.</div>
   </div>
   <div class="post" id="post-120061">
    <div class="subject"><a href="#post-120061">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">hehe there are many (**some**) API that do just that:emulate CPU instructions.<br />To the above RTDSC one might add the winsock byte swap routines and also the DIV routines :D<br /><br />I presume this is done for languages that do not have inline ASM directive or to keep code portable to another CPU or network byte order</div>
    <div class="meta">Posted on 2003-09-30 03:06:49 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-120062">
    <div class="subject"><a href="#post-120062">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body"><div class="quote">I presume this is done for languages that do not have inline ASM directive or to keep code portable to another CPU or network byte order</div><br />Anyway I'm confused :grin: <br /><br />But this can help benchmarking some scripts :grin:</div>
    <div class="meta">Posted on 2003-09-30 03:15:24 by S.T.A.S.</div>
   </div>
   <div class="post" id="post-120063">
    <div class="subject"><a href="#post-120063">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">I thought QueryPerformanceCounter used &quot;whatever high-precision timer is available&quot;?</div>
    <div class="meta">Posted on 2003-09-30 03:25:57 by f0dder</div>
   </div>
   <div class="post" id="post-120078">
    <div class="subject"><a href="#post-120078">QueryPerformanceCounter and RDTSC</a></div>
    <div class="body">Yes indeed,<br /><br />The Querry performance counter API is supposed to use the hardware counter on the motherboard (aka 8253) and RDTSC reads the counter inside of the CPU :D<br /><br />So:<br />-Querry performance counter works at a fixed resolution (hence the need for QuerryPerformance Frequency API--used to find out this freq.) <br />-while will RDTSC run at CPU speed.<br /><br />Using both you can easyly detect CPU speed ;)</div>
    <div class="meta">Posted on 2003-09-30 06:10:19 by BogdanOntanu</div>
   </div>
  </div>
 </body>
</html>
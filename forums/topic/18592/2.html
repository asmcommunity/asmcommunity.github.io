<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>why is ASM faster? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18592" />
  <link rel="prev" href="../?id=18592&amp;page=1" />  <link rel="next" href="../?id=18592&amp;page=3" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18592">why is ASM faster?</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=18592&amp;page=1" style="">&laquo;</a><a href="../?id=18592&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="18592" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=18592&amp;page=3">&gt;</a><a href="../?id=18592&amp;page=3">&raquo;</a></form>   <div class="post" id="post-144039">
    <div class="subject"><a href="#post-144039">why is ASM faster?</a></div>
    <div class="body">Hello donkey,<br />The point is, that while C allows aliasing, FORTRAN doesn't.<br />This allows a FORTRAN compiler to make optimizations that a C compiler can't. Therefore, a FORTRAN compiler will generate better code in this case (assuming both compilers generate optimal code for their respective languages -- which I'm saying, isn't the same). It might be interesting to notice that some 'C compilers' CAN have an option to ignore aliasing rules of C (never by default). This, of course will change the meaning of the program, and will limit the C programmer. C99 (partially?) solved this issue by adding a new keyword: restrict.</div>
    <div class="meta">Posted on 2004-06-16 15:59:52 by death</div>
   </div>
   <div class="post" id="post-144041">
    <div class="subject"><a href="#post-144041">why is ASM faster?</a></div>
    <div class="body">Sun FORTRAN 90 allows aliasing, another good example speaking of C99, is the register keyword. It is supposed to place the value in a register for example..<br /><br />register INT pArray<br /><br />however most compilers will ignore this directive and take the optimal path even if it means placing that variable in a memory location instead. The language and the compiler have different interpretations.</div>
    <div class="meta">Posted on 2004-06-16 16:03:56 by donkey</div>
   </div>
   <div class="post" id="post-144045">
    <div class="subject"><a href="#post-144045">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br />Sun FORTRAN 90 allows aliasing, another good example speaking of C99, is the register keyword. It is supposed to place the value in a register for example..<br /><br />register INT pArray<br /><br />however most compilers will ignore this directive and take the optimal path even if it means placing that variable in a memory location instead. The language and the compiler have different interpretations. </div><br />Maybe Sun FORTRAN allows aliasing. Originally, FORTRAN didn't allow aliasing. Do you agree that this is a language rule that affects performance of generated code?<br /><br />As for the 'register' keyword - it has nothing to do with C99 in particular, it existed way before.<br />It is only a recommendation from the programmer, like 'inline' for example. Most modern compilers rightfully ignore it - in the old days it was more important than it is today. It was never a rule that 'register' will do what the programmer intends it to do.</div>
    <div class="meta">Posted on 2004-06-16 16:13:40 by death</div>
   </div>
   <div class="post" id="post-144055">
    <div class="subject"><a href="#post-144055">why is ASM faster?</a></div>
    <div class="body"><div class="quote">Do you agree that this is a language rule that affects performance of generated code?</div><br /><br />I will concede that one point however, there is no specific requirement to design these types of things into a language. Given that it is required to meet some standard, I am still not sure that a good compiler cannot still make some very efficient compiled code out of it, at which point it is no longer dependant on the language but on the quality of the compiler. Granted that some language design decisions can make writing a decent compiler difficult but that is the challenge of writing an excellent optimizer. Many of these types of things can be treated as special cases by the compiler and some system can be put into place to handle them effectively.</div>
    <div class="meta">Posted on 2004-06-16 17:40:32 by donkey</div>
   </div>
   <div class="post" id="post-144069">
    <div class="subject"><a href="#post-144069">why is ASM faster?</a></div>
    <div class="body">A lot of it is there are a lot of assumptions that the compiler can't make.  And having things like pointers make other optimizations be forced to be less aggressive because they can't assume that the location isn't an alias for another variable.  Also things like register spill code will be avoided for a hand-coded solution.  If you're aware of the optimizations that most compilers go through then it's easier to avoid writing the unoptimized way of coding a block.<br /><br />grv</div>
    <div class="meta">Posted on 2004-06-16 21:32:37 by grv575</div>
   </div>
   <div class="post" id="post-144070">
    <div class="subject"><a href="#post-144070">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br /><br /><br />I will concede that one point however, there is no specific requirement to design these types of things into a language. Given that it is required to meet some standard, I am still not sure that a good compiler cannot still make some very efficient compiled code out of it, at which point it is no longer dependant on the language but on the quality of the compiler. Granted that some language design decisions can make writing a decent compiler difficult but that is the challenge of writing an excellent optimizer. Many of these types of things can be treated as special cases by the compiler and some system can be put into place to handle them effectively. </div><br /><br />Java?</div>
    <div class="meta">Posted on 2004-06-16 21:37:30 by Mecurius</div>
   </div>
   <div class="post" id="post-144077">
    <div class="subject"><a href="#post-144077">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br /><br /><br />Java? </div><br /><br />You have to go back to my original post in this thread...<br /><br /><div class="quote"><em>Originally posted by donkey </em><br /><br />Assembly is not faster, and neither is C or C++ or any other compiled language <strong>(I am excluding JITs here)</strong></div></div>
    <div class="meta">Posted on 2004-06-16 23:37:21 by donkey</div>
   </div>
   <div class="post" id="post-144089">
    <div class="subject"><a href="#post-144089">why is ASM faster?</a></div>
    <div class="body">Java can be compiled to native code as well :) - I believe the GNU people have a java compiler that uses GCC as a backend (don't all their languages?)</div>
    <div class="meta">Posted on 2004-06-17 05:12:47 by f0dder</div>
   </div>
   <div class="post" id="post-144097">
    <div class="subject"><a href="#post-144097">why is ASM faster?</a></div>
    <div class="body">I can't wait for DonkeyC!! *swoon*<br /><br />:grin:</div>
    <div class="meta">Posted on 2004-06-17 06:13:37 by The Beginner</div>
   </div>
   <div class="post" id="post-144126">
    <div class="subject"><a href="#post-144126">Java????</a></div>
    <div class="body">To be honest, GCJ is crap. It compiles Java code into crap that has an even crappier file size (1.2 MB for a &quot;Hello, world!&quot;). No wonder GCJ is crap. Take a look at the platform  itself. CRAP! A for loop for 10000 counts takes minutes, while the same written in C takes a few seconds. ;) I think this should be framed on my walls:  &quot;The Java API is the crappiest! =P&quot;.</div>
    <div class="meta">Posted on 2004-06-17 14:25:32 by evil__donkey</div>
   </div>
   <div class="post" id="post-144127">
    <div class="subject"><a href="#post-144127">why is ASM faster?</a></div>
    <div class="body">Are you suggesting that a for-loop is an API?<br />Or that an API is the same as a language? Or that an API has an effect on the performance of a language in itself, even when not using the API?</div>
    <div class="meta">Posted on 2004-06-17 14:39:09 by Scali</div>
   </div>
   <div class="post" id="post-144129">
    <div class="subject"><a href="#post-144129">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br />Hello donkey,<br />The point is, that while C allows aliasing, FORTRAN doesn't.<br /></div><br />Hmmm....<br />It has been at least 25 years since I regularly programmed in FORTRAN,<br />but I distinctly remember this problem in a COMMON section that took me<br />weeks to figure out because the original programmer of some code aliased<br />a couple of variables in order to save a few bytes of memory.<br /><br />Yes, aliasing *is* possible in FORTRAN. Has been ever since they had<br />the COMMON statement (and I'm pretty sure COMMON goes back to<br />the early days of FORTRAN).<br /><br />Also, don't forget that prior to FORTRAN IV, most parameters were passed<br />by reference, which certainly allows aliasing.  Later versions of FORTRAN<br />started using pass by value/returned (or pass by value/result if you prefer<br />that name), largely because of problems with aliased parameters.<br /><br /><div class="quote"><br />This allows a FORTRAN compiler to make optimizations that a C compiler can't. <br /></div><br />There are many reasons FORTRAN programs have opportunities for optimization<br />that don't exist in C. But a lack of aliasing is not one of them. Unless FORTRAN<br />has changed dramatically behind my back, you can still declare variables in<br />a COMMON section (it may have changed, I don't know, but this is one of those<br />things I'd doubt as COMMON was far too popular in FORTRAN programs).<br /><br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2004-06-17 15:01:03 by rhyde</div>
   </div>
   <div class="post" id="post-144130">
    <div class="subject"><a href="#post-144130">why is ASM faster?</a></div>
    <div class="body">What I was talking about, was aliasing of the arguments in CALL statements.<br /><br /><div class="quote"><br /> The FORTRAN standard prohibits using the same variable (or array <br /> element) more than once in the same CALL statement, if one of the <br /> associated formal arguments (i.e. associated with the aliased <br /> actual arguments) is assigned a value during the subprogram call.<br /></div><br /><br />Taken from <a target="_blank" href="http://www.ibiblio.org/pub/languages/fortran/ch1-8.html#10">&quot;User Notes on Fortran Programming&quot;</a> .</div>
    <div class="meta">Posted on 2004-06-17 15:10:42 by death</div>
   </div>
   <div class="post" id="post-144133">
    <div class="subject"><a href="#post-144133">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br />What I was talking about, was aliasing of the arguments in CALL statements.<br /><br /><br /><br />Taken from <a target="_blank" href="http://www.ibiblio.org/pub/languages/fortran/ch1-8.html#10">&quot;User Notes on Fortran Programming&quot;</a> . </div><br /><br />I would be careful about relying on this document.<br />Consider <a target="_blank" href="http://www.ibiblio.org/pub/languages/fortran/ch1-8.html#01">http://www.ibiblio.org/pub/languages/fortran/ch1-8.html#01</a><br />This was a problem common in FORTRAN II programs. This is why<br />FORTRAN IV switched from pass by reference to pass by value/result<br />parameters. Mind you, I was using FORTRAN in the middle 1970's and<br />this problem had been corrected back then.<br /><br />As for the FORTRAN standard &quot;disallowing&quot; aliases in parameter<br />lists, this is just a simple way of saying &quot;the compiler is broken<br />and doesn't detect this case, it may very well generate erroneous<br />code if you go ahead and do it.&quot;  Maybe FORTRAN compilers have<br />gotten a bit smarter since the 1970's, bit *I've* never gotten<br />a diagnostic message when doing this stuff. Arrays, of course,<br />are passed by reference in FORTRAN (forgot about that), but<br />array elements are still passed by value/result. So, technically,<br />an alias does *not* exist when you pass a whole array and<br />an element of that same array in the same call. Passing COMMON<br />or EQUIVALENCE objects, of course, is a certain way to foul up<br />the compiler if it ignores the aliases.  But as I said, the phrase<br />you quoted simply seems to suggest that FORTRAN compiler<br />writers can make unsafe optimizations and assume it's the<br />programmer's fault rather than the compiler's fault when<br />optimizations screw things up.<br /><br />Bottom line: FORTRAN *does* allow aliases in parameter<br />lists. If the phrase you quote is actually from a standards<br />document for FORTRAN, this suggests that FORTRAN compiler<br />writers don't have to deal with aliases and it's the programmers'<br />responsibility to avoid them (sorta like it's the programmer's<br />responsibility to avoid changing loop control variables in Pascal<br />FOR loops).<br /><br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2004-06-17 15:59:51 by rhyde</div>
   </div>
   <div class="post" id="post-144136">
    <div class="subject"><a href="#post-144136">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br />Bottom line: FORTRAN *does* allow aliases in parameter<br />lists. If the phrase you quote is actually from a standards<br />document for FORTRAN, this suggests that FORTRAN compiler<br />writers don't have to deal with aliases and it's the programmers'<br />responsibility to avoid them (sorta like it's the programmer's<br />responsibility to avoid changing loop control variables in Pascal<br />FOR loops).</div><br />From the FORTRAN 77 Standard: <a target="_blank" href="http://www.fortran.com/fortran/F77_std/rjcnf-15.html#sh-15.9.3.6">&quot;15.9.3.6 Restrictions and Association of Entities&quot;</a><br /><br />Whether it is the programmer's responsibility to avoid the aliasing or the compiler's is not the issue. This is a language rule, stated in the FORTRAN standard.<br /><br />Some FORTRAN compilers do take advantage of this language rule and do optimize with the assumption that aliasing doesn't happen. If the results are not what the programmer expected because of that, it is the programmer's fault.</div>
    <div class="meta">Posted on 2004-06-17 16:37:07 by death</div>
   </div>
   <div class="post" id="post-144161">
    <div class="subject"><a href="#post-144161">why is ASM faster?</a></div>
    <div class="body">lol Scali. No. I mean to say, the language is beautiful, but the API and it's platform is slow and bloat. That's all.</div>
    <div class="meta">Posted on 2004-06-18 02:21:46 by evil__donkey</div>
   </div>
   <div class="post" id="post-144373">
    <div class="subject"><a href="#post-144373">why is ASM faster?</a></div>
    <div class="body">evildonkey, you can still get fairly decent things running in java... it's slower than native, sure, and the environment is somewhat bloated - because it supports a lot of stuff.<br /><br />I don't want to see a lot of stuff written in JAVA, because we're more or less forced to use sun's *very* slow and bloated JVM after the MS settlement... but it works well for online interactive stuff.<br /><br />Oh, and check out <a target="_blank" href="http://www.pouet.net/prod.php?which=10808">http://www.pouet.net/prod.php?which=10808</a> :)</div>
    <div class="meta">Posted on 2004-06-21 03:51:04 by f0dder</div>
   </div>
   <div class="post" id="post-144380">
    <div class="subject"><a href="#post-144380">why is ASM faster?</a></div>
    <div class="body">I keep Java turned off almost all of the time. When I turn it on I get this from a surprising number of sites, I'm sick of that virus delivery system.<br /><br />Source: C:\Documents and Settings\Administrator\Application Data\Sun\Java\Deployment\cache\javapi\v1.0\jar\classload.jar-1f5b6b54-24a83f49.zip <br />Click for more information about this virus : Trojan.ByteVerify<br /><br />Not that it can do me any harm, it is always caught by NAV and the security patch has been around since September last year, but it always makes me worry if others might get by unnoticed. Now if a site uses Java I pretty much throw it into &quot;never visit&quot; bin.</div>
    <div class="meta">Posted on 2004-06-21 05:58:51 by donkey</div>
   </div>
   <div class="post" id="post-144384">
    <div class="subject"><a href="#post-144384">why is ASM faster?</a></div>
    <div class="body">ewwww java :)<br />not that .net is any better ....</div>
    <div class="meta">Posted on 2004-06-21 06:19:18 by wizzra</div>
   </div>
   <div class="post" id="post-144413">
    <div class="subject"><a href="#post-144413">why is ASM faster?</a></div>
    <div class="body"><div class="quote"><br />Oh, and check out <a target="_blank" href="http://www.pouet.net/prod.php?which=10808">http://www.pouet.net/prod.php?which=10808</a> :) </div><br /><br />Wow f0dder, that absolutely rox!!!! :)</div>
    <div class="meta">Posted on 2004-06-21 11:34:37 by Scali</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=18592&amp;page=1" style="">&laquo;</a><a href="../?id=18592&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="18592" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=18592&amp;page=3">&gt;</a><a href="../?id=18592&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
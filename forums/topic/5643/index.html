<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>WinTool - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5643" />
    <link rel="next" href="../?id=5643&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=5643">WinTool</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=5643&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=5643&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="5643" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=5643&amp;page=2">&gt;</a><a href="../?id=5643&amp;page=2">&raquo;</a></form>   <div class="post" id="post-40247">
    <div class="subject"><a href="#post-40247">WinTool</a></div>
    <div class="body">This isin't are the gem, but all suggestions are welcome. WinTool: Litle system tray based utility that allow toggle windows topmost state.</div>
    <div class="meta">Posted on 2002-05-27 17:18:53 by Torak</div>
   </div>
   <div class="post" id="post-40270">
    <div class="subject"><a href="#post-40270">WinTool</a></div>
    <div class="body">Works fine for me :alright: : NaN did a similar utility there's few days, but the &quot;system tray menu way&quot; to select the window is much more user friendly imho...<br /><br />Just a suggestion : you should insert a seperator before the menu entry &quot;Exit&quot; : we might think it is a window...</div>
    <div class="meta">Posted on 2002-05-28 00:58:07 by JCP</div>
   </div>
   <div class="post" id="post-40299">
    <div class="subject"><a href="#post-40299">WinTool</a></div>
    <div class="body">Doesn't work in XP or I don't understand correctly what it should do ;)<br /><br />If I right click the icon in the system tray and select some window title from the opened menu, nothing happens.<br /><br />Sami</div>
    <div class="meta">Posted on 2002-05-28 07:03:44 by SamiP</div>
   </div>
   <div class="post" id="post-40325">
    <div class="subject"><a href="#post-40325">I find it great</a></div>
    <div class="body">Very interesting util :)</div>
    <div class="meta">Posted on 2002-05-28 12:57:52 by slop</div>
   </div>
   <div class="post" id="post-40336">
    <div class="subject"><a href="#post-40336">WinTool</a></div>
    <div class="body"><div class="quote"><em>Originally posted by SamiP </em><br />Doesn't work in XP or I don't understand correctly what it should do ;)</div><br /><br />1. Open notepad and calculator.<br />2. Use wintool to the calculator. <br />3. Maximize the notepad.<br /><br />Now if all is ok, you should see the calculator and notepad same time and there sould be litle mark in wintool before calculator name. The idea top most windows is it visible all the time over other windows.</div>
    <div class="meta">Posted on 2002-05-28 14:19:32 by Torak</div>
   </div>
   <div class="post" id="post-40377">
    <div class="subject"><a href="#post-40377">WinTool</a></div>
    <div class="body">works on XP, nice tool:alright:</div>
    <div class="meta">Posted on 2002-05-28 19:15:38 by NEMO</div>
   </div>
   <div class="post" id="post-40402">
    <div class="subject"><a href="#post-40402">WinTool</a></div>
    <div class="body">Now I can see what the WinTool does,  nice!<br /><br />My problem was that the windows that I used WinTool was minimized to Startbar and then it seem like nothing happens until the window is restored/maximized.<br /><br />Sami</div>
    <div class="meta">Posted on 2002-05-29 00:43:41 by SamiP</div>
   </div>
   <div class="post" id="post-40497">
    <div class="subject"><a href="#post-40497">Great Work...</a></div>
    <div class="body">Great work.. I will definitely be using this over my own  ;)<br /><br />My version was just a quick hack, but your shows you've put some thought into it... Thanx again! <img src="http://www.asmcommunity.net/board/images/icons/icon14.gif" /> <img src="http://www.asmcommunity.net/board/images/icons/icon14.gif" /> <br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-05-29 10:40:06 by NaN</div>
   </div>
   <div class="post" id="post-40512">
    <div class="subject"><a href="#post-40512">WinTool</a></div>
    <div class="body">I try to improvice (and fix) this tool but becose i am noob in asm i got problem. I tryed (couple hours, grr) to make little peace that strip of too longs windows names and put tree dots end of the name like menus usually. Can some show how to do this.<br /><br />If i remember right Win XP style servicate not effect menus, only common controls; can some one verify this ?</div>
    <div class="meta">Posted on 2002-05-29 11:58:40 by Torak</div>
   </div>
   <div class="post" id="post-40528">
    <div class="subject"><a href="#post-40528">WinTool</a></div>
    <div class="body">Heres a simple modification to do something like this.  It doesnt use an API tho, just a little ASM ;)<br /><br />It limits to 20 ASCII chars, and then places a '...', and NULL.  <br /><br />The upside is its easy to implement, the downside is its not 'symetrical' as the popup menu uses variable width characters.  But its ok like this for me ;)<br /><br />I've made comments where i added source code....<br />Enjoy.<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-05-29 13:24:14 by NaN</div>
   </div>
   <div class="post" id="post-40530">
    <div class="subject"><a href="#post-40530">WinTool</a></div>
    <div class="body">Ooops here is the attachment ;)</div>
    <div class="meta">Posted on 2002-05-29 13:27:58 by NaN</div>
   </div>
   <div class="post" id="post-40536">
    <div class="subject"><a href="#post-40536">WinTool</a></div>
    <div class="body">NaN,<br /><br />sorry but it crashes on my win2k sp2 box when I right click on the icon :<br /><br />---------------------------<br />WinTool: WinTool.exe - Erreur d'application<br />---------------------------<br />L'instruction ? &quot;0x77e07fae&quot; emploie l'adresse m?moire &quot;0xfffffff0&quot;. La m?moire ne peut pas ?tre &quot;read&quot;.<br /><br /><br />Cliquez sur OK pour terminer le programme.<br />Cliquez sur Annuler pour d?boguer le programme<br />---------------------------<br />OK   Annuler   <br />---------------------------<br /><br />Sorry, it is in french, but you understand what it means, and the important part is the address... (register preservation problem ?)</div>
    <div class="meta">Posted on 2002-05-29 14:16:39 by JCP</div>
   </div>
   <div class="post" id="post-40553">
    <div class="subject"><a href="#post-40553">WinTool</a></div>
    <div class="body">My bad.. i didnt test it under all conditions... all my windows i tested it with had names LONGER than 20 chars...<br /><br />Less then 20 chars and you will crash.. Sorry :rolleyes:<br /><br />Here is the source Fragment i added:<br /><pre><code>         invoke StrLen, addr buffer<br />         cmp eax, 20<br />         jb @F<br />         lea eax, buffer<br />         add eax, 20<br />         mov DWORD PTR &#91;eax&#93;, 002E2E2Eh   ; '...\0' is little endian&#58; 002E2E2E hex<br />     @@&#58;<br />         sub eax, 20                      ; Back to addr of buffer &#40;begining&#41;<br /></code></pre><br /><br />Here is the corrected fragment:<br /><pre><code><br />         cmp eax, 20<br />         jb @F<br />         lea eax, buffer<br />         add eax, 20<br />         mov DWORD PTR &#91;eax&#93;, 002E2E2Eh   ; '...\0' is little endian&#58; 002E2E2E hex<br />     @@&#58;<br />&#91;b&#93;         lea eax, buffer&#91;/b&#93;<br /></code></pre><br /><br />Change this one line, and recompile it will work fine for both cases... sorry again!  (my bad)<br /><br />NaN<br />:stupid:</div>
    <div class="meta">Posted on 2002-05-29 16:34:01 by NaN</div>
   </div>
   <div class="post" id="post-40554">
    <div class="subject"><a href="#post-40554">WinTool</a></div>
    <div class="body">I think that crashes problem was litle NAN trick to me becose i am so noob ;)<br /><br />Here is 0.3 version: some fixes, separator, and minizided windows will be restored when wanted topmost. I don't like icon (even these msg baord icon are better), and i dont have invited what to do in left mouse click.</div>
    <div class="meta">Posted on 2002-05-29 16:35:18 by Torak</div>
   </div>
   <div class="post" id="post-40557">
    <div class="subject"><a href="#post-40557">WinTool</a></div>
    <div class="body">Now, all is perfect... ;)</div>
    <div class="meta">Posted on 2002-05-29 17:02:02 by JCP</div>
   </div>
   <div class="post" id="post-40569">
    <div class="subject"><a href="#post-40569">WinTool</a></div>
    <div class="body">Naaa, we all make mistakes ;)<br /><br />Your code looks pretty good to me, i would stop knocking your self on this front...  The fact you even re-organized my suggestion into tighter code even show that... good work! <img src="http://www.asmcommunity.net/board/images/icons/icon14.gif" /> <br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-05-29 20:17:03 by NaN</div>
   </div>
   <div class="post" id="post-40647">
    <div class="subject"><a href="#post-40647">WinTool</a></div>
    <div class="body">Yah, the day was really bad. Getting two denied responed to jobs that you don't need experiense.</div>
    <div class="meta">Posted on 2002-05-30 09:24:57 by Torak</div>
   </div>
   <div class="post" id="post-40687">
    <div class="subject"><a href="#post-40687">WinTool</a></div>
    <div class="body">Can you add to your small tool 2 other functions ?<br /><br />1) Minimize window (some programs cannot be minimized during the run).<br /><br />2) Iconize window (put the icon in the tray bar).<br /><br />Thanks !<br /><br />JC</div>
    <div class="meta">Posted on 2002-05-30 14:01:21 by MCoder</div>
   </div>
   <div class="post" id="post-41808">
    <div class="subject"><a href="#post-41808">WinTool and Tooltips</a></div>
    <div class="body">Hi Torak: I thought your WinTool was going to be the answer for a problem I have with a dialog box. When I set it to top most window I lose the tool tip function. <br />I get the same result - no tool tips- when I invoke SetWindowPos in my code. <br />If I don't use WinTool or Invoke SetWindowPos everything works fine. Could this be because I'm using a dialog box rather than a regular window. I'm using Win98.<br />Any Information would be appreciated.<br />Regards Fumio</div>
    <div class="meta">Posted on 2002-06-06 19:36:21 by Fumio</div>
   </div>
   <div class="post" id="post-41831">
    <div class="subject"><a href="#post-41831">WinTool</a></div>
    <div class="body"><div class="quote"><br />Heres a simple modification to do something like this.  It doesnt use an API tho, just a little ASM ;)<br /></div><br /><br />There is an API for something like that. But I think it's only used for path's, to convert<br /><br /><pre><code><br />Z&#58;\mylongfoldername\myveeeerrrrrryyyyylongsubfoldername\my****tylongasmsourcefilename.asm<br /></code></pre><br /><br />to<br /><br /><pre><code><br />Z&#58;\mylongfoldern...asmsourcefilename.asm<br /></code></pre><br /><br />It's some message constant.... gotta look it up in my source archive...</div>
    <div class="meta">Posted on 2002-06-07 01:06:51 by bazik</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=5643&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=5643&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="5643" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=5643&amp;page=2">&gt;</a><a href="../?id=5643&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how to &quot;glue&quot; windows ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17735" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17735">how to &quot;glue&quot; windows ?</a></p>
   <div class="post" id="post-136943">
    <div class="subject"><a href="#post-136943">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">Hello,<br /><br />I' don't have any clues how to do it.<br /><br /><img src="http://neitsabes.free.fr/pic/windows2.jpg" /> <br /><br />1) If the user pop-up a new window (child) I want to glue the child window to the main window.<br /><br />2) If the child windows is moved near the main window (say 20 or 30 pixels) it will automaticaly glue to the main window.<br /><br />Does someone now what are the API's I have to use ?<br /><br />Thank you very much !<br /><br />Regards, Neitsa.</div>
    <div class="meta">Posted on 2004-03-25 06:37:18 by Neitsa</div>
   </div>
   <div class="post" id="post-136944">
    <div class="subject"><a href="#post-136944">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">Hello Neitsa<br />This feature was shown in Demo08 of the ObjAsm32 package. It was developed for MdiChilds but can be extended to any type of window. The requested behavior was implemented in the magnetism object. Take a look at it.<br /><br />Hope it helps :) <br /><br />Regards,<br /><br />Biterider</div>
    <div class="meta">Posted on 2004-03-25 07:21:58 by Biterider</div>
   </div>
   <div class="post" id="post-136956">
    <div class="subject"><a href="#post-136956">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">You can also just process the WM_WINDOWPOSCHANGING message. One of my current projects use an autodock type thing, this is the code for it snipped out. If the child window moves within 10 pixels of the left or right edge of main it will be aligned automatically.</div>
    <div class="meta">Posted on 2004-03-25 10:02:44 by donkey</div>
   </div>
   <div class="post" id="post-136970">
    <div class="subject"><a href="#post-136970">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">Thanx for your answers Biterider and Donkey.<br /><br />I'll study both example.<br /><br />Donkey, thank you very much for sharing your source code !<br /><br />Regards, Neitsa.</div>
    <div class="meta">Posted on 2004-03-25 11:15:49 by Neitsa</div>
   </div>
   <div class="post" id="post-136975">
    <div class="subject"><a href="#post-136975">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">Hi Donkey,<br /><br />There's a small bug in the code of the child window: when the child window is docked, and when the top side of the child window is &quot;grabbed&quot; with the mouse to change the height, then the resize of the child window happens in reverse order.<br /><br />Normally, when you move the mouse to the top of the screen the window should grow larger, but in your case it's the other way around.<br /><br />When the child window is undocked the resizing is normal again.<br /><br />Regards</div>
    <div class="meta">Posted on 2004-03-25 12:02:23 by Apprentice</div>
   </div>
   <div class="post" id="post-136979">
    <div class="subject"><a href="#post-136979">how to &quot;glue&quot; windows ?</a></div>
    <div class="body">That's not a bug really, as I said it was snipped from my code. In my program the size of the window is fixed. You can remove  the top alignment to stop the behavior. It is because the window is resized and then because it is docked the tops are aligned.<br /><br />Remove these lines from the docks<br /><pre><code>mov eax,&#91;prect.top&#93;<br />mov &#91;edi+WINDOWPOS.y&#93;,eax</code></pre></div>
    <div class="meta">Posted on 2004-03-25 12:23:28 by donkey</div>
   </div>
  </div>
 </body>
</html>
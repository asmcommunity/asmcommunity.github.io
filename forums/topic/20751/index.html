<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>OBJ --&gt; BSP Tree - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20751" />
    <link rel="next" href="../?id=20751&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=20751">OBJ --&gt; BSP Tree</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=20751&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=20751&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="20751" /><input type="number" name="page" min="1" max="4" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=20751&amp;page=2">&gt;</a><a href="../?id=20751&amp;page=4">&raquo;</a></form>   <div class="post" id="post-157960">
    <div class="subject"><a href="#post-157960">OBJ --&gt; BSP Tree</a></div>
    <div class="body">My OBJ File Importer project has grown a BSPTree Generator :)<br />I can now throw together static worlds in MAYA, save them to OBJ file format,<br />then use my BSPGenerator to load them and convert them to BSP.<br /><br />At the moment, I don&#39;t actually do anything with the completed BSPTree.<br />I don&#39;t even save it to a file - I&#39;m still trying to decide on the file format specifics, and I have not implemented surface textures completely in the OBJ importer.<br /><br />However, my debug logfile indicates that the tree is being generated correctly, and is being generated quickly due to precalculation of surfacenormals.<br /><br />I&#39;m using the &quot;exhaustive search&quot; method.<br />Each Node creates front and back Lists of polygons from an input List, then recurses them.<br />Front and back lists are derived by classifying the input List against the &quot;best splitter plane&quot;.<br />The &quot;best splitter plane&quot; is calculated by comparing every triangle&#39;s plane to every other triangle using two? heuristics (because we have two goals - fewest splits and best balance).<br /><br />My leaning for the BSP file format is towards the Quake formats, which store the binary tree as a binary string, and the rest of the data as &quot;chunks&quot;, with a &quot;chunk directory&quot; near the start of the file.<br /><br />In retrospect, the reason why this BSPGenerator project went smoothly is because I went for the heart of the beast, writing the core procedures first, testing each, then writing each driving layer of code around the previous, working my way back toward the entrypoint.<br /><br />http://homer.ultrano.com/Upload/BSPGenerator.zip<br /><br /></div>
    <div class="meta">Posted on 2005-03-15 09:08:15 by Homer</div>
   </div>
   <div class="post" id="post-157988">
    <div class="subject"><a href="#post-157988">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">Today I made a really heavily intersected test object in maya<br />http://www.homer.ultrano.com/Upload/intersection.jpg<br />and threw it at my BSPGenerator.<br /><br />It fell over.<br /><br />...but...<br /><br />I fixed it !!<br />The bug was due to me forgetting to store new UV values in RawUVArray when new Polygons are created due to Splits.<br />I now do so, and everything is wonderful - my BSPGenerator is no longer tripped up by complex intersections :)<br /><br /></div>
    <div class="meta">Posted on 2005-03-16 01:35:49 by Homer</div>
   </div>
   <div class="post" id="post-157993">
    <div class="subject"><a href="#post-157993">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body"><br />I added optimising of UV Coordinates, including those generated by Splits.<br />I&#39;m ready to write the Binary File Format, and the Save and then Load functions.<br />Before I do, I want to rename some of my existing structures, because they can be refined more than those required by the Importer, eg I&#39;ll rename BSPNode to BSPGeneratorNode, etc.<br /><br />After I write the save/load stuff, I&#39;ll write code to render the tree with respect to the Camera.<br />Does anyone care?<br /></div>
    <div class="meta">Posted on 2005-03-16 03:49:23 by Homer</div>
   </div>
   <div class="post" id="post-157996">
    <div class="subject"><a href="#post-157996">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I renamed stuff, added code for printing Console text via orthoquads and for loading the Font bmp from the exe&#39;s resources, reintroduced the MeshLoader and BSPGenerator code into an OpenGL Skeleton, and partially revived my old Console class.<br /><br />I designed the BSP binary file format, but did nothing about implementing it.<br /><br />I don&#39;t really want to write a BSPTreeRender until I&#39;ve written the Save/Load procs.<br /></div>
    <div class="meta">Posted on 2005-03-16 07:21:01 by Homer</div>
   </div>
   <div class="post" id="post-158037">
    <div class="subject"><a href="#post-158037">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">The BSP binary file format is complete.<br />The file format is as follows:<br /><br />dword HEADER = HBSP<br />dword VERSION = 1<br />dword NumTextures<br />stringarray TextureNames (a zeroterminated array of zeroterminated strings)<br />dword NumVectors<br />vec3array VectorsData (an array of Vec3 values for vertex Positions and Normals)<br />dword NumUVs<br />vec2array UVsData (an array of Vec2 values for TextureCoords)<br />dword NumFaces<br />facesarray FacesData (an array of POLYGONs stripped of their SurfaceNormals)<br />dword NumNodes<br />nodesarray NodesData (an array of NodeIDs in BSP Recursion Order)<br /><br />The NodeIDs are actually face indices for splittingplane polys.<br />Special NodeID -1 means LeafNode (terminal branch of tree).<br /><br />Note that a polygon is a triangle is a face.<br />When polygons are created, they are added to the PolygonManager, and their<br />index in order of creation is recorded within them as the PolygonID.<br />Thus face#0 has ID=0, face#1 has ID#1 etc<br /><br />When polygons are selected as SplittingPlanes, their PolygonID is recorded<br />as the current Node&#39;s NodeID ... thus a NodeID = a Face Index.<br /><br />The NodeIDs are recorded in order of appearance in the BSPTree.<br />The rootnode id is always first.<br />For each node, the front is recursed, then the back.<br />Thus the order of appearance of NodeIDs implies the BSPTree topology.<br /><br />Is anyone reading this?<br /><br /></div>
    <div class="meta">Posted on 2005-03-16 21:25:54 by Homer</div>
   </div>
   <div class="post" id="post-158044">
    <div class="subject"><a href="#post-158044">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I keep an eye on :)</div>
    <div class="meta">Posted on 2005-03-17 01:37:37 by TBD</div>
   </div>
   <div class="post" id="post-158051">
    <div class="subject"><a href="#post-158051">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">Joy - I have a total of one serious reader.<br />I know I haven&#39;t posted any source for this stuff yet - but nobody has asked yet either.<br />In fact, this is the first expression of interest in this topic at all, aside from a guy called zabnik who was interested in BSP around a year ago - as far as loading/rendering Quake files at any rate.<br /><br />I am seriously disappointed in the lack of interest in this topic among asmcoders in general, as BSP is a natural solution to a number of hierarchical storage solutions (disregarding the current implementation).<br />At the same time, I&#39;ve grown used to disappointment in others.<br />It&#39;s myself that I ride with a whip.<br /><br /></div>
    <div class="meta">Posted on 2005-03-17 03:46:23 by Homer</div>
   </div>
   <div class="post" id="post-158054">
    <div class="subject"><a href="#post-158054">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">yes, zabnik implementation of BSP (called ProbnikGl) was interesting, but unfortunately he disappeared after the beta release and no word from him since.<br />I think people will became more involved if they can &quot;see&quot; something - for example a simple map loaded from OBJ in a 3D viewer.<br /><br />zabnik&#39;s ProbnikGl had a &quot;wow&quot; factor but didn&#39;t atract much response either - too complicated ? hard to modify/mantain ?</div>
    <div class="meta">Posted on 2005-03-17 06:01:50 by TBD</div>
   </div>
   <div class="post" id="post-158056">
    <div class="subject"><a href="#post-158056">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">Actually, zabnik&#39;s version of a BSP loader/renderer was more simple than my first attempt.<br />It loaded the binary BSP file, then used its data directly.<br />I intend to follow his example when I write my (custom BSP file) loader and render code.<br />There&#39;s no need, for example, to create a Tree structure in memory to hold the BSP nodes.<br />It&#39;s possible to walk the nodes directly from the file data.<br /><br />Obviously, the main difference between my current attempt and the previous is that this time I have implemented the BSP generator itself, rather than just loading a BSP generated by someone else&#39;s tool.<br />This time I understand the format of the data in the BSP intrinsically and intimately. Last time I did not.<br />I was working blindly with linked structures of which I had little comprehension. He got it first time.<br /><br />Even though his code (and his approach) was quite naive, I nonetheless learned a lot from it.<br />Simple Is Good.</div>
    <div class="meta">Posted on 2005-03-17 06:54:55 by Homer</div>
   </div>
   <div class="post" id="post-158057">
    <div class="subject"><a href="#post-158057">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">A couple of years ago I was heavily involved in asm coding for graphics and looking into several tree structures.&nbsp; ( I used to work for Silicon Graphics and Pixar).&nbsp; Haven&#39;t done one thing since but always look at your stuff and am jealous I can&#39;t do what I really want to do right now.&nbsp; Too many other things going on...like making money.</div>
    <div class="meta">Posted on 2005-03-17 07:09:04 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-158058">
    <div class="subject"><a href="#post-158058">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I, as a user, don&#39;t care what is behind, that it used BSP nodes within Tree structure or another &quot;buzzwords&quot;.<br />I care that it works, it is easy to use and loads fast and I dont have to start multiple conversion programs to load my 3D.<br /><br />you took the right step in learning the BSP by creating a generator and not use already made BSPs. now you must take<br />the hardest part - create a user experience that is fun and enjoyable.<br /><br />I saw a lot of interesting implementation, with complicated algorithms and great results - but all were forgotten/moved to trash bin<br />as they complicated too much the user interface :(<br /><br />... as you said &quot;Simple Is Good&quot;. keep that in your mind and we are looking forward for the next steps.<br /></div>
    <div class="meta">Posted on 2005-03-17 07:10:57 by TBD</div>
   </div>
   <div class="post" id="post-158075">
    <div class="subject"><a href="#post-158075">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I found and fixed a small bug in the BSP generator today.<br />Normally, nodes are assigned the ID of the Polygon chosen for the splittingplane.<br />That is to say, a node chooses a polygon to use for splitting, then copies its ID.<br />If a node contains only one polygon, we don&#39;t bother choosing a splitting plane.<br />The ID of the ONLY polygon is assigned to such a node.<br />I&#39;d forgotten to do that, and as a result, I was not recursing the last node in each branch.<br />I was stopping one node short during BSP assessment, which meant that the last node<br />in each branch was not being recorded in the binary file.<br />I&#39;d become sloppy with my debug logging as I figured everything was right.<br />It looked right, it smelled right.<br />The debug logfile clearly showed that the last node wasn&#39;t being assessed, and I&#39;d not noticed.<br />It now contains so much information that the actual tree structure is apparent to the initiated.<br />I&#39;m quite proud of finding that last lurking quirk and fixing it so quickly and effortlessly.<br />Earlier on, I reworked some of the Console code so that it supports embedded colour codes in text strings.<br />This is pretty much a gamer standard, I used the ^ hat symbol to denote the start of an ascii hex value which is the colour code, and another ^ hat, a space, or indeed any non -&quot;capitalized ascii hex character&quot; to delimit it.<br />I got the idea from a couple of games that use numeric colour codes like ^1=green, but decided<br />that it would be much more powerful if full RGB colour statements could be embedded, and so<br />I decided to embed actual hex colour codes directly as ascii hex.<br />This means strings can look like &quot;^FF0000^Hello, and how are^FF YOU^8080^ today?&quot;<br />The format is RGB, but you can specify the colour dword in whatever length is suitable.<br />The first attempt wasn&#39;t good - I&#39;d made a wrapper for a procedure that prints whole lines, and consequently, the colour for a given line consists of the most recent colour only.<br />I have a solution to this problem which will allow multicolors on a single line, I expect to have it implemented later today.<br />At the moment the console is crippled - there&#39;s no keyboard input, no code to control it opening or closing, etc... most of that code was not stored in the Console class, and as a result it was too messy to import it into the current project. I will take the time to remedy this for future projects.<br /><br /></div>
    <div class="meta">Posted on 2005-03-17 15:53:01 by Homer</div>
   </div>
   <div class="post" id="post-158087">
    <div class="subject"><a href="#post-158087">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">As expected, I have finished implementing embedded colour tags in Console text.<br />Here&#39;s a screen shot (nothing extravagant, but you get the idea)<br />http://homer.ultrano.com/Upload/Console.JPG<br /></div>
    <div class="meta">Posted on 2005-03-17 19:07:48 by Homer</div>
   </div>
   <div class="post" id="post-158088">
    <div class="subject"><a href="#post-158088">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I reimplemented basic keyboard controls (esc=quit, F1=toggle fullscreen)<br />Had some annoying flickering when in fullscreen mode, resolved it by modifying messagepump.<br /><br />I&#39;ll probably add a few more keys for scrolling, opening and closing the console before I write code to render the BSP (directly from its filedata).<br />At that point, I&#39;ll want to revisit my Camera code once more.<br /></div>
    <div class="meta">Posted on 2005-03-17 23:18:55 by Homer</div>
   </div>
   <div class="post" id="post-158138">
    <div class="subject"><a href="#post-158138">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">This post isn&#39;t really in the right place, but I don&#39;t know who I&#39;m catering to any more, so here goes:<br /><br />My console is an implementation of orthographic textured tiles, via a DisplayList.<br />That is to say, each &quot;printed&quot; character is actually a 3D tile with the character&#39;s texture on it (taken from one &quot;font bmp&quot;), rendered with orthographic projection to some 2D screen coordinates.<br /><br />There is a &quot;glPrint&quot; function which is independant of the Console code (but Y is at screen bottom), then there is a &quot;ConsolePrint&quot; function which is a wrapper for the former (it corrects Y to screen top), then there is a &quot;ConsolePrintColour&quot; function which wraps ConsolePrint (it handles embedded colour codes).<br /><br />I create a DisplayList for all possible characters (0-255) as orthographic tile objects.<br />The glPrint function draws elements of the DisplayList as indexed by characters in an ascii string - cool, huh?<br /><br />Would anyone like to see a tutorial on printing text in OpenGL via DisplayLists and a font image?<br /><br /></div>
    <div class="meta">Posted on 2005-03-20 02:05:23 by Homer</div>
   </div>
   <div class="post" id="post-158141">
    <div class="subject"><a href="#post-158141">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">First, to say I always look at your posts with interest - but since you are always writing on topics I know almost nothing about, I dare not post <img src="http://www.ultrano.com/s2.gif" />. I don&#39;t ask about src because I probably won&#39;t understand - been trying to understand 3D by your code, but the fpu instructions make it hard for me now(I got too used to C). On top of that, I barely have time to code in x86 asm lately T_T, so I can&#39;t be of much help T_T. <br />Now I&#39;m finishing my last (not latest) PDA game - my 3D engine fit perfectly in it, been composing music for it all night, and I think I just have to improve my 2D artwork and add sfx. Won&#39;t be making any more PDA games, I&#39;m not even sure on what platform will be my next assignment - but anyway I really like making games. So after a few weeks I&#39;m planning to start making a complete x86 asm 3D game - a spaceship-shooter. I&#39;ll need to code a simple OpenGL engine, then I&#39;ll be much more open to your 3D code <img src="http://www.ultrano.com/s1.gif" />. But I doubt a BSP engine will be necessary ^^&quot;. <br /><br />On the topic: I read somewhere that portal engines are better for high-end PCs than BSP, is that actually true? <br />Could you send me your BSP src now <img src="http://www.ultrano.com/s1.gif" /> ? + the displaylists code <br />Ah, and I don&#39;t see you in ICQ anymore - do you use any IM (I have most of them) - it&#39;d be nice to chat again like in the old times <img src="http://www.ultrano.com/s1.gif" /><br /><br />Ah and don&#39;t be upset for the lack of interest here - my 2D engine &quot;Ilix&quot; got the same number of interested people, despite it being a very useful engine for MDI apps. Lots of C++ coders want DDraw-accelerated MDI, and lots of C++ coders want BSP code - yet the interest rate here is almost zero. </div>
    <div class="meta">Posted on 2005-03-20 05:10:59 by Ultrano</div>
   </div>
   <div class="post" id="post-158142">
    <div class="subject"><a href="#post-158142">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I&#39;ve emailed you directly.<br />I will put source on the ftp for you to survey.<br />I&#39;m interested in solutions for lightweight management of object lists.<br />At the moment, I feel drawn back toward LinkLists.<br /></div>
    <div class="meta">Posted on 2005-03-20 07:03:49 by Homer</div>
   </div>
   <div class="post" id="post-158168">
    <div class="subject"><a href="#post-158168">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">Portal rendering involves a heck of a lot of polgonal clipping (clipping polys against other polys), so I very much doubt it is faster than BSP, especially where PVS is involved.<br /><br />Think of a portal as a polygonal window, through which we can see a 3D space populated by yet more polygons. The way culling works in a portal engine is that we determine (by clipping against the frustum) firstly whether a Portal is at least partially visible. If not, we ignore it. But if so, we cull each polygon against both the viewfrustum and then the Portal polygon.<br /><br />Portals are useful in that they can be used to connect areas of world map which are not geometrically linked (&quot;teleportals&quot;), but are much more computationally expensive than a BSP with a PVS,&nbsp; or BSP without a PVS.<br /><br />BSP has one major drawback in that it is computationally expensive to generate the BSP (and PVS) in the first place, and it&#39;s therefore not suitable to being modified (blown up, morphed, etc) . That stuff is meant to be done beforehand, not in realtime.<br /><br />Therefore portal and octree and other engines still have merit, but only if you are willing to take advantage of the flexibility of being able to mutilate your geometry.<br /><br /></div>
    <div class="meta">Posted on 2005-03-21 01:29:33 by Homer</div>
   </div>
   <div class="post" id="post-158170">
    <div class="subject"><a href="#post-158170">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">I&#39;ve extended the Console class so that it internally handles Opening and Closing of the Console.<br /><br /><pre><code><br />? ? ? ? ? ? pcall pConsole.Toggle, fAppTime<br /><br /></code></pre><br /><br />should be called in response to a keystroke:<br /><pre><code><br />? ? ? ? .if keys[192]? ? ? ? ? ? ? ? ? ? ? ?;TILDE key (topleft, below ESCAPE)<br />? ? ? ? ? ? mov keys[192],FALSE<br />? ? ? ? ? ? invoke Timer, TIMER_GETAPPTIME<br />? ? ? ? ? ? fstp fblah<br />? ? ? ? ? ? pcall pConsole.Toggle, fblah<br />? ? ? ? .endif<br /></code></pre><br /><br />The first keypress will cause the Console to begin to scroll itself onto the screen.<br />If the Console is fully opened and the key is depressed again, it will begin closing.<br />If the key is depressed while the Console is opening or closing, it will pop open instantly (for the impatient user).<br /><br />The Console is starting to look pretty good :)<br />Internally, it uses an instance of ObjectList class to store stringpointers.<br />ObjectList class internally makes calls to Ultrano&#39;s new SmAlloc memory manager.<br />The ObjectList class manages one pageful of pointers, and provides methods for accessing them via index etc. It is naive to what kind of pointers are stored in it.<br />It&#39;s simply a container for a list of objects.<br />Thus, the Console has an extensive History :)<br /><br />I&#39;ve still not reimplemented its Scrolling methods but probably will later today.<br /><br />I did some work on the Loader for the binary files produced by the BSPGenerator.<br />It&#39;s pretty blunt stuff, so I haven&#39;t felt like doing it, but it needs doing, so yeah, I started.. wanna reload the BSP and write code to render the tree with respect to the camera.<br /></div>
    <div class="meta">Posted on 2005-03-21 01:57:28 by Homer</div>
   </div>
   <div class="post" id="post-158176">
    <div class="subject"><a href="#post-158176">Re: OBJ --&gt; BSP Tree</a></div>
    <div class="body">OK I&#39;ve written code to reload the BSP from the binary file.<br />I chose to use LinkedList of node objects.<br /><br />Hereis an extract from my logfile.<br />First is the log of the BSPTree being written to the binary,<br />then comes the log of the BSPTree being reconstructed from the binary.<br /><br /><div class="quote"><br />Root 2<br />Front of 2 = 1<br />Front of 1 = 0<br />Front of 0 = 24<br />Front of 24 = 9<br />Front of 9 = 10<br />Front of 10 = TERMINUS<br />Back of 10 = TERMINUS<br />Back of 9 = ***TERMINUS<br />Back of 24 = ***TERMINUS<br />Back of 0 = 35<br />Front of 35 = 38<br />Front of 38 = 41<br />Front of 41 = TERMINUS<br />Back of 41 = TERMINUS<br />Back of 38 = ***TERMINUS<br />Back of 35 = ***TERMINUS<br />Back of 1 = 26<br />Front of 26 = 42<br />Front of 42 = ***TERMINUS<br />Back of 42 = ***TERMINUS<br />Back of 26 = 18<br />Front of 18 = ***TERMINUS<br />Back of 18 = ***TERMINUS<br />Back of 2 = 7<br />Front of 7 = 3<br />Front of 3 = 6<br />Front of 6 = 12<br />Front of 12 = 15<br />Front of 15 = TERMINUS<br />Back of 15 = TERMINUS<br />Back of 12 = ***TERMINUS<br />Back of 6 = ***TERMINUS<br />Back of 3 = ***TERMINUS<br />Back of 7 = 4<br />Front of 4 = 20<br />Front of 20 = ***TERMINUS<br />Back of 20 = 13<br />Front of 13 = 16<br />Front of 16 = 23<br />Front of 23 = TERMINUS<br />Back of 23 = TERMINUS<br />Back of 16 = ***TERMINUS<br />Back of 13 = ***TERMINUS<br />Back of 4 = ***TERMINUS<br /><br />Node 2<br />Front of 2 = Node 1<br />Front of 1 = Node 0<br />Front of 0 = Node 24<br />Front of 24 = Node 9<br />Front of 9 = Node 10<br />Front of 10 = &lt;terminus&gt;<br />Back of 10 = &lt;terminus&gt;<br />Back of 9 = &lt;terminus&gt;<br />Back of 24 = &lt;terminus&gt;<br />Back of 0 = Node 35<br />Front of 35 = Node 38<br />Front of 38 = Node 41<br />Front of 41 = &lt;terminus&gt;<br />Back of 41 = &lt;terminus&gt;<br />Back of 38 = &lt;terminus&gt;<br />Back of 35 = &lt;terminus&gt;<br />Back of 1 = Node 26<br />Front of 26 = Node 42<br />Front of 42 = &lt;terminus&gt;<br />Back of 42 = &lt;terminus&gt;<br />Back of 26 = Node 18<br />Front of 18 = &lt;terminus&gt;<br />Back of 18 = &lt;terminus&gt;<br />Back of 2 = Node 7<br />Front of 7 = Node 3<br />Front of 3 = Node 6<br />Front of 6 = Node 12<br />Front of 12 = Node 15<br />Front of 15 = &lt;terminus&gt;<br />Back of 15 = &lt;terminus&gt;<br />Back of 12 = &lt;terminus&gt;<br />Back of 6 = &lt;terminus&gt;<br />Back of 3 = &lt;terminus&gt;<br />Back of 7 = Node 4<br />Front of 4 = Node 20<br />Front of 20 = &lt;terminus&gt;<br />Back of 20 = Node 13<br />Front of 13 = Node 16<br />Front of 16 = Node 23<br />Front of 23 = &lt;terminus&gt;<br />Back of 23 = &lt;terminus&gt;<br />Back of 16 = &lt;terminus&gt;<br />Back of 13 = &lt;terminus&gt;<br />Back of 4 = &lt;terminus&gt;<br /></div><br /><br />Who&#39;s a Happy Homer?<br /><br /></div>
    <div class="meta">Posted on 2005-03-21 08:48:57 by Homer</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=20751&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=20751&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="20751" /><input type="number" name="page" min="1" max="4" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=20751&amp;page=2">&gt;</a><a href="../?id=20751&amp;page=4">&raquo;</a></form>  </div>
 </body>
</html>
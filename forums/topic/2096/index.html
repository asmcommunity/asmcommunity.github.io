<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C to Asm problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2096" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2096">C to Asm problem</a></p>
   <div class="post" id="post-13343">
    <div class="subject"><a href="#post-13343">C to Asm problem</a></div>
    <div class="body">I am trying to write a tool to translate C-inc-Files into Asm syntax.<br /><br /><br />Sorry for the out of subject, but i don't read C and have problems<br />at understanding the Structures Declarations. Someone who speeks <br />chineese??? Usually the Structures are in the form of:<br /><br />&gt; typedef struct StructureName1 {<br />&gt; 	TYPE Name1;<br />&gt; 	TYPE Name2;<br />&gt; 	....;<br />&gt; } StructureName2,*StructureName3;<br /><br /><br />Most often, StructureName1 is in the form of &quot;_STRUCTURENAME&quot;<br /><br />*** What is this '_' for?<br /><br />*** What are &quot;StructureName2,*StructureName3&quot; for?<br /><br /><br />Now, sometimes, in these Files, i encount Structures without any title.<br />Example: <br /><br />&gt; typedef struct {               ; &lt;&lt;&lt;&lt;&lt;&lt;&lt; No Title!!!!<br />&gt; 	TYPE Name1;<br />&gt; 	TYPE Name2;<br />&gt; 	....;<br />&gt; } StructureName2,*StructureName3;<br /><br /><br />If first thaught it was an error, but, as i see this both in ReactOS<br />includes and in LCC-Win32 includes, it doesn't seem to be an error....<br /><br />*** Is &quot;StructureName2&quot; the rescue Structure Name in case of missing Title?<br /><br /><br />Betov.<br /><br />PS. Please, no link to any C tut, they turn me sea sick :))</div>
    <div class="meta">Posted on 2001-11-28 06:21:42 by Betov</div>
   </div>
   <div class="post" id="post-13346">
    <div class="subject"><a href="#post-13346">We fear what we don't understand</a></div>
    <div class="body">It's pretty easy. StructureName1 (with the underscore) is needed<br />if the structure needs to have a pointer to structure of it's own type.<br />Even when not, it's often included anyway. In pure C, you'd have<br />to declare a variable as &quot;struct StructureType1 myStructVariable;&quot;<br />to declare a struct var. However, because of the typedef, you can<br />use &quot;StructureType2 myStructVariable;&quot; instead. StructureName3<br />just makes a type for a pointer to the struct, so you can do<br />&quot;StructureName3 myStrPtr1, myStrPtr2, myStrPtr3;&quot; instead of<br />&quot;StructureName3 *myStrPtr1, *myStrPtr2, *myStrPtr3;&quot;.<br /><br />Have fun.</div>
    <div class="meta">Posted on 2001-11-28 06:50:02 by f0dder</div>
   </div>
   <div class="post" id="post-13347">
    <div class="subject"><a href="#post-13347">C to Asm problem</a></div>
    <div class="body">Its a typedef and a declaration rolled into one.<br /><br />It is easier to read (all the info in one place n all), and if there is only one declaration of the type, then it can be done without nameing the structure.<br /><br />So:<br />typedef struct blah {<br />int x;<br />int y;<br />} a, *b;<br /><br />Is a structure called blah, and two variables, one called <strong>a</strong> which is of type <strong>blah</strong>, and the other called <strong>b</strong> which is a <em>pointer</em> to a variable of type <strong>blah</strong>.<br /><br /><br />The second case:<br />typedef struct {<br />char x;<br />char y;<br />} a, *b<br /><br />This is the same as above, but the structure's name is anonymous, and so unavailable for general use (ie. other declarations etc.).<br /><br />The underscore before the name is just a naming convention as far as I am aware.<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-11-28 06:54:33 by Mirno</div>
   </div>
   <div class="post" id="post-13349">
    <div class="subject"><a href="#post-13349">C to Asm problem</a></div>
    <div class="body">Wrong, mirno, they are all type definitions :). However, if the &quot;typedef&quot;<br />had been missing before &quot;struct&quot;, I believe you would have been<br />right about the stuff following after the closing } of the struct would<br />have been variables.</div>
    <div class="meta">Posted on 2001-11-28 07:02:44 by f0dder</div>
   </div>
   <div class="post" id="post-13371">
    <div class="subject"><a href="#post-13371">C to Asm problem</a></div>
    <div class="body">StructureName1 is called the structure tag because the struct keyword can be used without a typedef.<br /><br />Simple but good explanation :<br /><br /><a target="_blank" href="http://www.scit.wlv.ac.uk/~jphb/cbook/html/chap10.structs.basic.html">http://www.scit.wlv.ac.uk/~jphb/cbook/html/chap10.structs.basic.html</a></div>
    <div class="meta">Posted on 2001-11-28 10:24:40 by jmp $FCE2</div>
   </div>
   <div class="post" id="post-13372">
    <div class="subject"><a href="#post-13372">C to Asm problem</a></div>
    <div class="body">Thanks to all....<br /><br />What is, too, the exact meaning of &quot;tag&quot;?<br /><br />(I don't even know this word in english...).<br /><br />Most StructureName1, are in Fact  in the form of &quot;tagSTRUCTURENAME&quot;<br /><br />(Wonderfull language, anyway :))</div>
    <div class="meta">Posted on 2001-11-28 10:48:43 by Betov</div>
   </div>
  </div>
 </body>
</html>
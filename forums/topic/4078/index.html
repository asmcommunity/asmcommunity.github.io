<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>WinXP kernel32 in shared mem? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4078" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4078">WinXP kernel32 in shared mem?</a></p>
   <div class="post" id="post-27840">
    <div class="subject"><a href="#post-27840">WinXP kernel32 in shared mem?</a></div>
    <div class="body">lo, i always thought that dll's were in shared memory. but if i change kernel32.dll in one process, all the others stay normal... am i right?</div>
    <div class="meta">Posted on 2002-03-08 07:35:36 by roeldebikkel</div>
   </div>
   <div class="post" id="post-28170">
    <div class="subject"><a href="#post-28170">WinXP kernel32 in shared mem?</a></div>
    <div class="body">Depends on OS and how you change the memory. Under NT kernels,<br />there's a sweet little thing called Copy On Write. Iirc, COW is effective<br />even in ring0 (on processors that honor the absence of page write<br />privileges even from ring0 - yeah, some processors are bugged.)<br /><br />If you want to change a library under NT, you need to write a KMD,<br />disabled write protect flag, modify stuff, enable wp flag. If you need<br />to allocate additional memory.... good luck ;).</div>
    <div class="meta">Posted on 2002-03-10 12:19:19 by f0dder</div>
   </div>
   <div class="post" id="post-28282">
    <div class="subject"><a href="#post-28282">WinXP kernel32 in shared mem?</a></div>
    <div class="body"><em>...If you want to change a library under NT, you need to write a KMD, <br />disabled write protect flag, modify stuff, enable wp flag. If you need...</em><br /><br />well, thats what i did ;( i wrote an app that was able to write into kernel32.dll, but it was only visible in the process i did that ;(<br /><br />well, thx anyway</div>
    <div class="meta">Posted on 2002-03-11 04:42:42 by roeldebikkel</div>
   </div>
   <div class="post" id="post-28309">
    <div class="subject"><a href="#post-28309">WinXP kernel32 in shared mem?</a></div>
    <div class="body">And you *did* disable copy-on-write?</div>
    <div class="meta">Posted on 2002-03-11 07:38:00 by f0dder</div>
   </div>
  </div>
 </body>
</html>
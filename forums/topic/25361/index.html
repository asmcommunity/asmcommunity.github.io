<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>other question : cluster for directory entries in fat - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25361" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25361">other question : cluster for directory entries in fat</a></p>
   <div class="post" id="post-185428">
    <div class="subject"><a href="#post-185428">other question : cluster for directory entries in fat</a></div>
    <div class="body">i&#39;ve read this : http://www.maverick-os.dk/FileSystemFormats/FAT32_FileSystem.html<br /><br />and get this :<br /><br /><div class="quote"><br />Each of these entries are 32 bytes long. The root directory can contain the number of entries as defined in the Boot Parameter Block in the boot sector. When creating a sub directory, one cluster will be assigned to it. This sub directory can then be filled with entries, until the cluster is full. If filled beyond the limit then <em><strong>another cluster will be allocated </strong></em>. The number of directory entries which can fit in each cluster, depends on the size of the cluster itself. Hence more space equals more 32 byte entries. This is the format of the directory entries:<br /></div><br /><br />i don&#39;t know which cluster will be allocated ? is the next cluster of cluster was assigned for this directory ?&nbsp; so what if &quot;the next cluster&quot; is in used ?<br />thanks for read this.</div>
    <div class="meta">Posted on 2006-09-21 22:15:17 by secmask</div>
   </div>
   <div class="post" id="post-185436">
    <div class="subject"><a href="#post-185436">Re: other question : cluster for directory entries in fat</a></div>
    <div class="body">I would assume that a scan is done for &quot;next free cluster&quot;... been a while since I read about the FATx filesystem though. Some good links for topics like this:<br /><br />http://www.osdev.org/<br />http://www.osdever.net/<br />http://www.nondot.org/sabre/os/articles</div>
    <div class="meta">Posted on 2006-09-22 02:25:03 by f0dder</div>
   </div>
   <div class="post" id="post-185443">
    <div class="subject"><a href="#post-185443">Re: other question : cluster for directory entries in fat</a></div>
    <div class="body"><div class="quote"><br />I would assume that a scan is done for &quot;next free cluster&quot;...<br /></div><br /><br />Absolutely right.&nbsp; If you wanted to get into avoidance of fragmentation, it can get more complex, but the easiest to do with decent effectiveness is just check if the cluster right after the last cluster of the directory is free, and if so, take it, else search elsewhere on the drive for a free cluster.<br /><br />In NTFS it&#39;s a lot faster to search, but a lot harder to do everything, just because it&#39;s not well-specified.<br /><br />Best of luck&nbsp; :)</div>
    <div class="meta">Posted on 2006-09-22 11:18:59 by hackulous</div>
   </div>
   <div class="post" id="post-185444">
    <div class="subject"><a href="#post-185444">Re: other question : cluster for directory entries in fat</a></div>
    <div class="body"><div class="quote"><br />In NTFS it&#39;s a lot faster to search, but a lot harder to do everything, just because it&#39;s not well-specified.<br /></div><br /><br />I would think that NTFS is well specified, but that the specification is only available to a select few ;)</div>
    <div class="meta">Posted on 2006-09-22 11:22:52 by f0dder</div>
   </div>
  </div>
 </body>
</html>
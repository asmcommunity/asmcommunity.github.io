<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Scrolling text from bottom to top: repainting problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2503" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2503">Scrolling text from bottom to top: repainting problem</a></p>
   <div class="post" id="post-15793">
    <div class="subject"><a href="#post-15793">Scrolling text from bottom to top: repainting problem</a></div>
    <div class="body">Hi @ll,<br />I'm currently working on a AboutBox. It's purpose is to show a window in which a text is scrolled from the bottom to the top. Finally the background shall be black and the text some kind of yellow or red. So far so good, I started a test program that creates a window and trys to scroll the text, as already said. Somehow it seems not to repaint the window while using DrawText to output the credits :(.<br /><br />Here's my code:<br /><pre><code><br />	;Initializing the timer and the rectangle<br />	invoke GetWindowRect, hWin, addr Rct<br />	mov Rct.left, 200<br />	mov Rct.right, 200<br /><br />	invoke SetTimer, hWin, NULL, 100, NULL<br /></code></pre><br /><pre><code><br />	;And heres the routine responding to WM_TIMER<br />	invoke GetDC, hWin<br />	mov hDC, eax<br /><br />	invoke SetBkMode, hDC, TRANSPARENT<br />	invoke DrawText, hDC, addr szCredits, -1, addr Rct, DT_CENTER or DT_NOCLIP<br />	sub Rct.top, 2<br />    	invoke ReleaseDC, hWnd, hDC<br /></code></pre><br /><br /><br />Any help is appreciated,<br />thx,<br />DaEagle99<br /><br />P.S.: Here's a screenshot so you can see my problem without compiling this ;) :</div>
    <div class="meta">Posted on 2001-12-22 13:08:01 by DaEagle99</div>
   </div>
   <div class="post" id="post-15800">
    <div class="subject"><a href="#post-15800">Scrolling text from bottom to top: repainting problem</a></div>
    <div class="body">you can check the keygen template source on my website (<a target="_blank" href="http://www.effervescence.com">http://www.effervescence.com</a>), there is a scroller like this =)</div>
    <div class="meta">Posted on 2001-12-22 13:39:14 by roy</div>
   </div>
  </div>
 </body>
</html>
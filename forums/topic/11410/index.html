<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Copy file extension - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11410" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=11410">Copy file extension</a></p>
   <div class="post" id="post-86288">
    <div class="subject"><a href="#post-86288">Copy file extension</a></div>
    <div class="body">I can't figure out how to copy what's after the period into extension.<br />Thanks.<br /><br /><br />extension   db    10 dup(?)<br />.....<br /><br />; Deal with periods in sub-directory names<br />;<br />; c:\work.1\temp\test.asm<br />;<br />chk_path:<br />       lea      si,<br />       xor      cx,cx<br />       mov      di,si<br />       mov      cl,<br />       <br />       mov      al,'\'<br />                                    ; c:\work.1\temp\test.asm<br />       add      di,cx<br />       std                          ; scan from right to left  &lt;------<br />       dec      di                  <br />       repne    scasb               ; zero flag set if &quot;\&quot;<br />       push     cx<br />       <br />       xor      di,di<br />       xor      si,si<br />       lea      si,<br />       pop      cx<br />       add      si,cx<br />       xor      cx,cx<br />       cld                          ; scan from left to right<br />       mov      di,si<br />       mov      cl,<br />       <br />       mov      al,'.'              ; if there is a period, everything<br />                                        ; after is the file extension<br />       repne    scasb           ; Zero flag set if &quot;.&quot;<br />                                        ; At this point, cx is pointing to the<br />                                        ; period in the file extension</div>
    <div class="meta">Posted on 2003-03-10 13:09:24 by skywalker</div>
   </div>
  </div>
 </body>
</html>
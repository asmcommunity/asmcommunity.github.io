<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Masm + C++ - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12352" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12352">Masm + C++</a></p>
   <div class="post" id="post-95273">
    <div class="subject"><a href="#post-95273">Masm + C++</a></div>
    <div class="body">Hello, could somebody tell me, how to call from a c++ prog a MASM-routine with parameter ?<br /><br />public _huhu<br />v1 equ +8<br />v2 equ +6<br /><br />.code <br />_huhu PROC FAR<br />      PUSH BP<br />      MOV BP, SP   ;&lt;-That does tha mean ?<br /><br />_huhu ENDP<br /><br />I want to call 2 string(string.h) parameter how does its work ?<br /><br /><br />thanks...</div>
    <div class="meta">Posted on 2003-04-10 18:54:48 by Forginforcer</div>
   </div>
   <div class="post" id="post-95335">
    <div class="subject"><a href="#post-95335">Masm + C++</a></div>
    <div class="body">i'm assuming you mean through a DLL?  because if it's in-line assembly, you just have (ignoring my bad syntax...  been using PHP and ASM too much):<br /><br />function bleh(*lpszArg1,*lpszArg2) {<br />asm {<br />mov eax,lpszArg1<br />mov ebx,lpszArg2<br />}<br /><br />}<br /><br /><br /><br />if you want to call a DLL, Iczelion has a good tute on them (#17).</div>
    <div class="meta">Posted on 2003-04-10 21:30:08 by jademtech</div>
   </div>
   <div class="post" id="post-95344">
    <div class="subject"><a href="#post-95344">Masm + C++</a></div>
    <div class="body">I guess you are using 16bit program.<br /><br />To understand mov bp,sp you have to understand the usage of the stack. Sp is stack pointer while Bp is the pointer to the stack. It allows you to access the LOCAL variables and parameters even through you changed the address of esp  (via push and pop).<br /><br />Most probably, the parameter is a dword. so i suppose calling it would be invoke _huhu,eax (just an example).</div>
    <div class="meta">Posted on 2003-04-10 21:45:22 by roticv</div>
   </div>
   <div class="post" id="post-95451">
    <div class="subject"><a href="#post-95451">Masm + C++</a></div>
    <div class="body">perhaps someone have an exxample.<br />Im nut realy sure how to get the parameters, its was just an try...</div>
    <div class="meta">Posted on 2003-04-11 04:26:51 by Forginforcer</div>
   </div>
  </div>
 </body>
</html>
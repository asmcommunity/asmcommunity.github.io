<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>irc bot studies - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11032" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=11032">irc bot studies</a></p>
   <div class="post" id="post-83127">
    <div class="subject"><a href="#post-83127">irc bot studies</a></div>
    <div class="body">Im making some tests with the irc protocol. I want to create a stable irc bot for the moment. My first question is more related to wsock generally: Is it bedder to check wether its winnt or 9x and use wsock32.dll for 9x and ws2_32.dll for nt ? Or is it not important becoz the ws2_32.dll in win98 uses the APIs of wsock32 ? The second problem i discovered is, how to check wether an irc server is online or not. GetInternetConnectedState() is not a solution, because i saw that it doesnt work correctly on each windows machine. So i decided to use a ping. Here comes the question: i found a raw sockets example how to create an icmp packet. Thats fine but does it work on win95 for example, or are raw sockets only for nt/2k/xp user? I know, windows has a special library for creating pings, but i dont want to use it!</div>
    <div class="meta">Posted on 2003-02-22 10:53:33 by belial</div>
   </div>
   <div class="post" id="post-83130">
    <div class="subject"><a href="#post-83130">Re: irc bot studies</a></div>
    <div class="body"><div class="quote">My first question is more related to wsock generally: Is it bedder to check wether its winnt or 9x and use wsock32.dll for 9x and ws2_32.dll for nt ?</div><br /><a target="_blank" href="http://www.madwizard.org/view.php?page=tutorials.networking.chapter3&amp;lang=asm">http://www.madwizard.org/view.php?page=tutorials.networking.chapter3&amp;lang=asm</a> (section 7 at the bottom of the page).<br /><br /><div class="quote">Or is it not important becoz the ws2_32.dll in win98 uses the APIs of wsock32 ?</div><br />It's the other way around, wsock32 is just a wrapper around ws2_32 on windows versions with winsock 2.<br /><br /><div class="quote">The second problem i discovered is, how to check wether an irc server is online or not. GetInternetConnectedState() is not a solution, because i saw that it doesnt work correctly on each windows machine. So i decided to use a ping. Here comes the question: i found a raw sockets example how to create an icmp packet. Thats fine but does it work on win95 for example, or are raw sockets only for nt/2k/xp user?</div><br />Yes win9x has no support for raw sockets.<br /><br /><div class="quote">I know, windows has a special library for creating pings, but i dont want to use it!</div><br />Why not?<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-02-22 11:49:15 by Thomas</div>
   </div>
   <div class="post" id="post-83275">
    <div class="subject"><a href="#post-83275">irc bot studies</a></div>
    <div class="body">Thanx for ur reply. Is this ping.dll already implemented in win98 ? And when raw sockets are not possible under 9x, how can i create udp or syn packets under 9x? Is this possible without raw sockets?</div>
    <div class="meta">Posted on 2003-02-23 07:58:15 by belial</div>
   </div>
   <div class="post" id="post-83276">
    <div class="subject"><a href="#post-83276">irc bot studies</a></div>
    <div class="body">why would you want to do your own SYN handling? it's much easier to let the protocol implementation take care of it :/</div>
    <div class="meta">Posted on 2003-02-23 08:05:46 by Hiroshimator</div>
   </div>
   <div class="post" id="post-83278">
    <div class="subject"><a href="#post-83278">irc bot studies</a></div>
    <div class="body">i was just thinking about socket coding and saw that my old port scanner can use syn stealth.  So it must be able to create syn packets and i asked myself, how he does it under 9x.</div>
    <div class="meta">Posted on 2003-02-23 08:24:00 by belial</div>
   </div>
   <div class="post" id="post-84931">
    <div class="subject"><a href="#post-84931">irc bot studies</a></div>
    <div class="body">hmm..so want to inject raw packets in your network. then forget about using winsocik. it just sucks. if you are really serious about injecting packets i will strongly suggest that you take a look at win pcap library.<br /><br />you can craft the packets on your own, but if you want to save time , you can use tried and tested library, libnet. a windows port of libnet is available.libnet will certainly save you from lots of trtoubles. it takes care of all packet crc etc..so you can concetrate on stuff you are doing.<br /><br />check out some great tuts on the net for winpcap and libnet.</div>
    <div class="meta">Posted on 2003-03-04 06:49:51 by himanshu</div>
   </div>
   <div class="post" id="post-86274">
    <div class="subject"><a href="#post-86274">irc bot studies</a></div>
    <div class="body">irc bot. raw sockets and SYN. ping, but not wanting to use the microsoft library.<br /><br />Am I the only one who think this smells a bit fishy? ;)<br /><br />Anyway, you don't have to use neither raw sockets nor &quot;ping.dll&quot;, there's &quot;semi-raw sockets&quot; (AF_INET, SOCK_RAW, IPPROTO_ICMP) which iirc also works on 9x.</div>
    <div class="meta">Posted on 2003-03-10 11:56:34 by f0dder</div>
   </div>
   <div class="post" id="post-86439">
    <div class="subject"><a href="#post-86439">irc bot studies</a></div>
    <div class="body">Certainly does look a bit strange to me. sending SYN packets, Ping without the ICMP API's, IRC Bot....:confused:</div>
    <div class="meta">Posted on 2003-03-11 03:25:23 by IRBMe</div>
   </div>
   <div class="post" id="post-86479">
    <div class="subject"><a href="#post-86479">irc bot studies</a></div>
    <div class="body">DoS ..... ;)</div>
    <div class="meta">Posted on 2003-03-11 07:03:08 by himanshu</div>
   </div>
   <div class="post" id="post-86831">
    <div class="subject"><a href="#post-86831">irc bot studies</a></div>
    <div class="body">dDoS ;)</div>
    <div class="meta">Posted on 2003-03-13 05:28:44 by IRBMe</div>
   </div>
   <div class="post" id="post-87558">
    <div class="subject"><a href="#post-87558">irc bot studies</a></div>
    <div class="body">Testing his network recources with some pings or coding an irc bot doesnt mean automaticly that im creating adDoS tool. Im working on an IRC bot which tests the internet connection via ping, becoz GetInternetConnectedState() has some bugs. The question about SYN wasnt neccessary for my bot, but i was interested in it. So please, 'mon amis', dont be so paranoid. ;)</div>
    <div class="meta">Posted on 2003-03-17 07:10:23 by belial</div>
   </div>
   <div class="post" id="post-88085">
    <div class="subject"><a href="#post-88085">irc bot studies</a></div>
    <div class="body">hey belial,<br /><br />if you need help, feel free to ask ne kind of question :)<br /><br />ppl in this forum are quite friendly :)<br /><br />and as far as handling syn etc is concerned , let the networking stack do the job for you :)<br /><br />try using some packet analyzer like ethereal for gathering more information. nothing beats a nice packet analyzer for network problems :)<br /><br />i am working on my own packet decoder .. but its in kinda alpha stage :)</div>
    <div class="meta">Posted on 2003-03-19 08:48:52 by himanshu</div>
   </div>
  </div>
 </body>
</html>
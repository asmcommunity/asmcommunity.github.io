<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Swap function - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30139" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30139">Swap function</a></p>
   <div class="post" id="post-212570">
    <div class="subject"><a href="#post-212570">Swap function</a></div>
    <div class="body">Hello,<br /><br />I&#039;m trying to code a SWAP_STRING procedure for an array of BYTEs<br /><br />does this seem correct?<br /><br />assuming below - i wanna swap the positions (parallel) of each array<br /><br />how do i return the swapped values?<br /><br />for example, if 1 and 2 gets swapped in Var1<br />then 1 and 2 from var2 gets swapped as well.<br /><br /><br />.data<br /><br />var1 BYTE 1,2,3<br />var2 BYTE 1,2,3<br /><br /><br />.code<br /><br />Swap_String PROC<br /><br />push ebp<br />mov ebp, esp<br />mov al, <br />mov bl, <br />mov , al<br />mov , bl<br />pop<br />ret <br /><br />Swap_String PROC</div>
    <div class="meta">Posted on 2010-08-06 16:18:16 by l flipboi l</div>
   </div>
   <div class="post" id="post-212571">
    <div class="subject"><a href="#post-212571">Re: Swap function</a></div>
    <div class="body">I can&#039;t really help you as far as MASM syntax goes, but you need to use pointers and you need to create a loop.<br /><br /><pre><code>Swap_String:<br />&nbsp; enter 0, 0<br />&nbsp; push esi<br />&nbsp; push edi<br /><br />&nbsp; &nbsp; mov edi, <br />&nbsp; &nbsp; mov esi, <br />&nbsp; &nbsp; mov ecx, <br />f01:<br />&nbsp; &nbsp; mov al, <br />&nbsp; &nbsp; mov ah, <br />&nbsp; &nbsp; mov , ah<br />&nbsp; &nbsp; mov , al<br />&nbsp; &nbsp; inc edi<br />&nbsp; &nbsp; inc esi<br />&nbsp; &nbsp; dec ecx<br />&nbsp; &nbsp; jnz f01<br /><br />&nbsp; pop edi<br />&nbsp; pop esi<br />&nbsp; leave<br />&nbsp; ret</code></pre><br /><br />This takes the OFFSET of each var and the length of how many bytes to swap as arguments.</div>
    <div class="meta">Posted on 2010-08-07 00:22:36 by Synfire</div>
   </div>
   <div class="post" id="post-212578">
    <div class="subject"><a href="#post-212578">Re: Swap function</a></div>
    <div class="body">Thanks!</div>
    <div class="meta">Posted on 2010-08-08 17:11:24 by l flipboi l</div>
   </div>
  </div>
 </body>
</html>
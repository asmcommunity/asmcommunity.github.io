<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Dotted line on buttons with focus - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14219" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14219">Dotted line on buttons with focus</a></p>
   <div class="post" id="post-110036">
    <div class="subject"><a href="#post-110036">Dotted line on buttons with focus</a></div>
    <div class="body">Quick question, is there an easy way to get rid of the little dotted rectangle buttons get when you're clicking them (and after being clicked)?  &quot;Easy&quot; being something quick like intercepting a message or setting a certain style. 8-T<br /><br />Thanks<br /><br /><br />ex:</div>
    <div class="meta">Posted on 2003-07-10 22:11:45 by jcsn</div>
   </div>
   <div class="post" id="post-110068">
    <div class="subject"><a href="#post-110068">Dotted line on buttons with focus</a></div>
    <div class="body">I have lost a good amount of hair trying to figure that one out and never managed to do it. I would be very interested in an answer as well.</div>
    <div class="meta">Posted on 2003-07-11 03:01:49 by donkey</div>
   </div>
   <div class="post" id="post-110076">
    <div class="subject"><a href="#post-110076">Dotted line on buttons with focus</a></div>
    <div class="body">windows provides an api to draw focus rects. they xor every second pixel of the rect-lines by 0x00ffffff (i.e. create the negative). if you intercept the painting message you let the normal button to be drawn and if you have a focus on your button you draw such a focus rect in same size and position on the button in order to create the <strong>negative of the negative</strong> (one pixel is xored by 0x00ffffff twice -&gt; the result is the same color like before) of the pixels and the focus rect should be disappeared.</div>
    <div class="meta">Posted on 2003-07-11 03:47:57 by hartyl</div>
   </div>
   <div class="post" id="post-110083">
    <div class="subject"><a href="#post-110083">Dotted line on buttons with focus</a></div>
    <div class="body">That dotted rectangle also serves as a marker for tab selection, so taking it out might confuse and alienate those users whom prefer to navigate with the keyboard when possible.  Make sure you have a good reason for removing it other than aesthetic.</div>
    <div class="meta">Posted on 2003-07-11 04:34:43 by iblis</div>
   </div>
   <div class="post" id="post-110418">
    <div class="subject"><a href="#post-110418">Dotted line on buttons with focus</a></div>
    <div class="body">Well apparently there are enough people out there who find them distracting/annoying since there is an option in win2k to turn that focus rectangle off.</div>
    <div class="meta">Posted on 2003-07-14 09:20:24 by Will</div>
   </div>
   <div class="post" id="post-110426">
    <div class="subject"><a href="#post-110426">Dotted line on buttons with focus</a></div>
    <div class="body">That's for the user to decide, not the program.</div>
    <div class="meta">Posted on 2003-07-14 10:07:33 by iblis</div>
   </div>
   <div class="post" id="post-110428">
    <div class="subject"><a href="#post-110428">Dotted line on buttons with focus</a></div>
    <div class="body">let's settle for the middleground:<br /><br />1. Draw the buttons using GDI or DX or GL or whatever... by doing this, you allow greater flexibility and control.<br />2. Create a settings window/whatever that will allow the user to choose whether to have the dotted lines or not. Depending on the settings is how you will draw the button states...<br /><br />of course it will be much harder(more code: loading/drawing images, determining the states of the button...). Sometimes there is no *easy* solution to everything. ;)<br /><br />Once you get the hang of it, manuallly doing everything would be a breeze. Just remember <strong>PtInRect</strong> is your favorite API function on this quest.<br /><br />:grin:</div>
    <div class="meta">Posted on 2003-07-14 10:12:28 by arkane</div>
   </div>
   <div class="post" id="post-110451">
    <div class="subject"><a href="#post-110451">Dotted line on buttons with focus</a></div>
    <div class="body">I'm just fantasing here so i do not know if its a good solution. But it's faster than Arkane's solution as i think. So when u click the button it gaines focus and this doted rectangle is appearing. So u just have to unfocus (or focus on youre main window) it but make some varible thet remember whitch button if any was clicked, It could be usefull for future use.</div>
    <div class="meta">Posted on 2003-07-14 13:52:04 by AceEmbler</div>
   </div>
   <div class="post" id="post-110455">
    <div class="subject"><a href="#post-110455">Dotted line on buttons with focus</a></div>
    <div class="body">Whoops, forgot about my post. :)  Quotes!<br /><br /><div class="quote"><br />windows provides an api to draw focus rects. they xor every second pixel of the rect-lines by 0x00ffffff (i.e. create the negative). if you intercept the painting message you let the normal button to be drawn and if you have a focus on your button you draw such a focus rect in same size and position on the button in order to create the <strong>negative of the negative</strong> (one pixel is xored by 0x00ffffff twice -&gt; the result is the same color like before) of the pixels and the focus rect should be disappeared. </div><br /><br />I'll give that a try. 8u)<br /><br /><div class="quote"><br />That dotted rectangle also serves as a marker for tab selection, so taking it out might confuse and alienate those users whom prefer to navigate with the keyboard when possible. Make sure you have a good reason for removing it other than aesthetic. </div><br /><br />Yeah, I don't wanna get rid of it completely, I just want it to not show up when a button's being clicked.  (still show up when being tabbed to, etc)<br /><br /><div class="quote"><br />Well apparently there are enough people out there who find them distracting/annoying since there is an option in win2k to turn that focus rectangle off.</div><br /><br />Ooo, where is this beautiful option?  I knew their had to be something like this because the computers in our labs don't have it. 8-)<br /><br /><div class="quote"><br />let's settle for the middleground:<br /><br />1. Draw the buttons using GDI or DX or GL or whatever... by doing this, you allow greater flexibility and control.<br />2. Create a settings window/whatever that will allow the user to choose whether to have the dotted lines or not. Depending on the settings is how you will draw the button states...<br /><br />of course it will be much harder(more code: loading/drawing images, determining the states of the button...). Sometimes there is no *easy* solution to everything. <br /><br />Once you get the hang of it, manuallly doing everything would be a breeze. Just remember PtInRect is your favorite API function on this quest.</div><br /><br />Eheh, if it comes to this, I'll keep the stupid dotted lines! :grin:<br /><br /><div class="quote"><br />I'm just fantasing here so i do not know if its a good solution. But it's faster than Arkane's solution as i think. So when u click the button it gaines focus and this doted rectangle is appearing. So u just have to unfocus (or focus on youre main window) it but make some varible thet remember whitch button if any was clicked, It could be usefull for future use.</div><br /><br />Yeah, I've done it this way before, except I think this way also eliminated being able to tab to buttons (i think).  Also tried getting rid of the focus on mousedown but that was a complete failure (as it should be).  :tongue:<br /><br /><br />Ok, longest post comprised of other peoples posts...ever :alright:</div>
    <div class="meta">Posted on 2003-07-14 14:44:03 by jcsn</div>
   </div>
   <div class="post" id="post-110575">
    <div class="subject"><a href="#post-110575">Dotted line on buttons with focus</a></div>
    <div class="body">Right click on the desktop, 'properties', 'Effects' tab, check 'Hide keyboard navigation indicators until I use the Alt key'.<br /><br />As for 'That's for the user to decide, not the program.'  All that I can say, is that if I'm writing a program I feel that I can do whatever the hell that I want.  ;)  It may not be the nicest attitude, but it's mine.  ....and apparently all of the authors of shareware programs that I've tried recently share this attitude as well.  An option for the user to select this change is a grand idea.</div>
    <div class="meta">Posted on 2003-07-15 10:16:01 by Will</div>
   </div>
   <div class="post" id="post-110579">
    <div class="subject"><a href="#post-110579">Dotted line on buttons with focus</a></div>
    <div class="body">For myself I would like it from time to time when using bitmapped buttons, it can affect the image &quot;look and feel&quot;. Also when the buttons are very small it will obscure the text,. Ofcourse you can always say that it prevents bad programming practices like buttons that are too small ;)</div>
    <div class="meta">Posted on 2003-07-15 10:42:22 by donkey</div>
   </div>
   <div class="post" id="post-110580">
    <div class="subject"><a href="#post-110580">Dotted line on buttons with focus</a></div>
    <div class="body">If you're writing a program for yourself, yeah.  You can paint the buttons flaming pink and make them act like a listbox for all I care.<br /><br />But when you're writing successful commercial software you have to keep the user in mind.  And not all users are going to appreciate a program that dictates to them what a button should do.</div>
    <div class="meta">Posted on 2003-07-15 10:46:42 by iblis</div>
   </div>
   <div class="post" id="post-110585">
    <div class="subject"><a href="#post-110585">Dotted line on buttons with focus</a></div>
    <div class="body">Flaming pink isn't my style but thanks for the suggestion. I don't write commercial software but was interested in how to do it on a regular dialog. The fact that it is not present in windows unless you use IsDialogMessage would suggest that it is an optional part of the user interface and not completely necessary as you suggest. Professional software that does not use it - I could name several hundred packages - any one that uses windows instead of dialogs would fit the bill. The option is always there to use dialog as window and leave out IsDialogMessage from the message loop, that is what I do right now if I don't want it. It is interesting to know if there is a method of removing this feature however.</div>
    <div class="meta">Posted on 2003-07-15 11:02:35 by donkey</div>
   </div>
   <div class="post" id="post-110594">
    <div class="subject"><a href="#post-110594">Dotted line on buttons with focus</a></div>
    <div class="body">Donkey that's fine, and the topic is entirely worth discussing.<br />I'm not saying 'This is how you have to do things.'<br />I'm not saying that at all.<br /><br />I'm not trying to dictate to anybody, rather I'm just offering some advice.  Some information to take into consideration.  I'm simply emphasizing the importance of these little 'features' some seem to find so annoying.  They are there for a reason.  And I want people to keep that in mind before they get too 'artistic'.   Of course this does not apply to those people who are programming just for shits and giggles.<br /><br />I myself navigate with the keyboard - a LOT.  I don't use the mouse if I don't have to.  I have nothing against the mouse, but I find that most tasks are faster without them.  And I am not alone.  Now, if I purchased a piece of software, and found that I could not navigate the dialogs with the keyboard, I would be a little frustrated, and might even consider taking the software back to the store for a refund if possible.<br /><br />A good, easy to use, extensible, and intuitive GUI has shown to be the life or death of a piece of software.<br /><br />There are also those users with physical disabilities to take into consideration.  Blind people for example, must rely on voice software that reads the contents of the screen to them.  These programs are set up to navigate through dialogs and read the titles on controls and menus, etc.  Imagine how useful it would be for them if your program were to remove the focus of the button, just to get rid of the annoying dotted line that they can't see anyway.<br /><br />And what about XP Styles or non XP users that have 3rd party programs installed that alter the standard Windows GUI to their liking?   Imagine their dismay when they see a XOR'd rectangle over their custom button where normally the selection mechanism would make the button glow or whatnot.<br /><br />Just think about all of your users when you write commercial software, that's all I'm saying.</div>
    <div class="meta">Posted on 2003-07-15 12:02:01 by iblis</div>
   </div>
   <div class="post" id="post-110595">
    <div class="subject"><a href="#post-110595">Dotted line on buttons with focus</a></div>
    <div class="body">Yeah, I use the keyboard alot to navigate as well. But it would be nice to replace it say with a small dot in the corner of the button or change the color slightly on a change of focus. There is nothing to say that when you get rid of it that you're not going to replace it with some more asthetically suited to your application. For myself I would like to make bitmapped buttons &quot;light up&quot; when tab is used, in the same way that a mouse-over would do it, it would make for a more consistent and pleasing user interface.</div>
    <div class="meta">Posted on 2003-07-15 12:17:53 by donkey</div>
   </div>
   <div class="post" id="post-110596">
    <div class="subject"><a href="#post-110596">Dotted line on buttons with focus</a></div>
    <div class="body">Aye, that would be good.  Any kind of feedback is better than none.</div>
    <div class="meta">Posted on 2003-07-15 12:21:16 by iblis</div>
   </div>
   <div class="post" id="post-110610">
    <div class="subject"><a href="#post-110610">Dotted line on buttons with focus</a></div>
    <div class="body">I'm not sure how windows 2000 handles the removal of the focus rectangle on buttons, but the focus 'shadow' is still there.  You can still tab away to your heart's content, and after the first tab, the focus rectangle reappears.  For me, the 'shadow' is quite enough to let me know which control has the focus currently.  Maybe in time, as I get older, my eyes will start failing me and I'll need the focus rectangle, but for now the 'shadow' is just fine.  That solution seems like it would satisfy any user of your software.</div>
    <div class="meta">Posted on 2003-07-15 14:07:36 by Will</div>
   </div>
   <div class="post" id="post-110616">
    <div class="subject"><a href="#post-110616">Dotted line on buttons with focus</a></div>
    <div class="body">can't you use DrawFocusRect somehow? subclass the button and wait for WM_SETFOCUS maybe?</div>
    <div class="meta">Posted on 2003-07-15 15:01:16 by Sloat</div>
   </div>
   <div class="post" id="post-110622">
    <div class="subject"><a href="#post-110622">Dotted line on buttons with focus</a></div>
    <div class="body">You can just wait for WM_CTLCOLORBTN, it is sent each time the focus rectangle is drawn but the problem is to erase it easily and draw your own. If you remove the button from the tab order it still shows up sometimes, pain in the a** that thing, like I said I searched quite a while for a way to get rid of it effectively and easily and couldn't find one.</div>
    <div class="meta">Posted on 2003-07-15 15:32:18 by donkey</div>
   </div>
   <div class="post" id="post-110735">
    <div class="subject"><a href="#post-110735">Dotted line on buttons with focus</a></div>
    <div class="body">Hello everybody,<br /><br />The dotted line indicates which button has the focus.  I find it useful in a Yes/No/Cancel dialog box where you, the programmer, can set the focus on the button which will execute the 'safest' routine.  For example set the focus on the 'Cancel' button and if the user accidentally presses &lt;Enter&gt; no harm is done.<br /><br />If the dialog box has an edit control set focus on it, cuz that's where you want it anyway, and then there's no dotted line around any button.<br /><br />This may sound like a hokey type of fix-it but I once had a dialog with a static control and a close button.  I couldn't remove the dotted line from around the close button by setting the focus on the static control so I changed the creation order of the static control and button in my resource script...voila!<br /><br />best regards,<br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-07-16 09:22:40 by czDrillard</div>
   </div>
  </div>
 </body>
</html>
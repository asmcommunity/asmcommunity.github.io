<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Removing listview icons ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18046" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18046">Removing listview icons ?</a></p>
   <div class="post" id="post-139302">
    <div class="subject"><a href="#post-139302">Removing listview icons ?</a></div>
    <div class="body">Hi,<br /><br />I have a listview with icons (generated in/with imagelist).<br />Now I want to remove the icons from listview and I use:<br /><br />invoke  SendMessage, listview, LVM_SETIMAGELIST, LVSIL_SMALL, 0   ;imagelisthandle = 0 = remove icons<br /><br />Works perfect, the icon were removed. But the places, where the icons were before, are still there !?<br />How can I remove the icons and the free iconplaces ?<br /><br />Sorry for my bad english. I hope, you could understand me...<br /><br />Greetings,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-18 07:43:46 by Nordwind64</div>
   </div>
   <div class="post" id="post-139336">
    <div class="subject"><a href="#post-139336">Removing listview icons ?</a></div>
    <div class="body">Hi,<br /><br />couldn't you understand me or is there no solution ?<br /><br />Best regards,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-18 13:44:09 by Nordwind64</div>
   </div>
   <div class="post" id="post-139337">
    <div class="subject"><a href="#post-139337">Removing listview icons ?</a></div>
    <div class="body">Perhaps you need to iterate through each item, and remove image flag from each LV_ITEM?</div>
    <div class="meta">Posted on 2004-04-18 13:45:18 by comrade</div>
   </div>
   <div class="post" id="post-139456">
    <div class="subject"><a href="#post-139456">Removing listview icons ?</a></div>
    <div class="body">Thanks, comrade !<br /><br />I tried it, but it don't work.<br />How to REMOVE image flag ? I tried 0 and -1 in iImage...<br /><br />Greetings,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-19 10:34:32 by Nordwind64</div>
   </div>
   <div class="post" id="post-139458">
    <div class="subject"><a href="#post-139458">Removing listview icons ?</a></div>
    <div class="body">There is a LVITEM struct member called iIndent, perhaps that's what you're looking for...<br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/en-us/shellcc/platform/commctls/listview/structures/lvitem.asp">http://msdn.microsoft.com/library/en-us/shellcc/platform/commctls/listview/structures/lvitem.asp</a></div>
    <div class="meta">Posted on 2004-04-19 10:57:57 by QvasiModo</div>
   </div>
   <div class="post" id="post-139487">
    <div class="subject"><a href="#post-139487">Removing listview icons ?</a></div>
    <div class="body">Hi QvasiModo,<br /><br />cool, thanks !!!<br />But sorry, could not erase the place where the icon was before.<br /><br />Regards,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-19 14:04:26 by Nordwind64</div>
   </div>
   <div class="post" id="post-139547">
    <div class="subject"><a href="#post-139547">Removing listview icons ?</a></div>
    <div class="body">Looks like you have to recreate the listview...</div>
    <div class="meta">Posted on 2004-04-20 05:58:20 by Vaxon</div>
   </div>
   <div class="post" id="post-139570">
    <div class="subject"><a href="#post-139570">Removing listview icons ?</a></div>
    <div class="body">Thanks you Vaxon.<br /><br />Seems, you're right. Grrr...<br /><br />Thanks !!!<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-20 10:48:46 by Nordwind64</div>
   </div>
   <div class="post" id="post-139645">
    <div class="subject"><a href="#post-139645">Removing listview icons ?</a></div>
    <div class="body">Your problem seems very mutch related to my experiances with listview controls.<br /><br />When you created the listview, is it a virtual list view? Look if it isn't then the listview retains a chace filled with display info... and the buffer doesn't seem to get flushed at any point {enumerating and browsing through my machine... and my app's memmory keeps on increasing}<br /><br />As far as i know, if a virtaul listview is created and the display of the listview is updated then an item query is sent to retrieve the image indexs and image text.<br /><br />So if you empty out all your images from the imagelist and refresh the contents of your listview, then each item will query for the text and imageindex fields. <br /><br />And so you can remove the images (at least as i understand it - still busy with it myself) without recreating the whole listview control.<br /><br />Regards,<br />Black iCE</div>
    <div class="meta">Posted on 2004-04-21 03:43:27 by Black iCE</div>
   </div>
   <div class="post" id="post-139646">
    <div class="subject"><a href="#post-139646">Removing listview icons ?</a></div>
    <div class="body">Oops, my blunder... i miss read your question.<br /><br />Recreate each listview item and DONT add in the LVIF_IMAGE into LVITEM.<br /><br />{try combining it with my previous post}</div>
    <div class="meta">Posted on 2004-04-21 03:48:47 by Black iCE</div>
   </div>
   <div class="post" id="post-139692">
    <div class="subject"><a href="#post-139692">Removing listview icons ?</a></div>
    <div class="body">Thanks, Black iCE<br /><br />I will try it tomorrow.<br />It is not a virtual listview !<br /><br />Greetings,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-21 15:08:20 by Nordwind64</div>
   </div>
   <div class="post" id="post-139971">
    <div class="subject"><a href="#post-139971">Removing listview icons ?</a></div>
    <div class="body">Hi,<br /><br />found a simple solution !!!<br /><br />invoke ImageList_SetIconSize,ilist&amp;,0,GetSystemMetrics(50) <br /><br />Greetings,<br />Nordwind64</div>
    <div class="meta">Posted on 2004-04-24 06:24:45 by Nordwind64</div>
   </div>
  </div>
 </body>
</html>
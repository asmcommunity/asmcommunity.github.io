<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>What is the Differences between .DATA and .DATA? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18026" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18026">What is the Differences between .DATA and .DATA?</a></p>
   <div class="post" id="post-139150">
    <div class="subject"><a href="#post-139150">What is the Differences between .DATA and .DATA?</a></div>
    <div class="body">I define a Matrix with<br /><br />.DATA?<br />bMatrix db 80 * 80 dup(?)<br /><br />after that when  I put about 3200 values into this matrix, my program become very slow. It seem that it causes a lot of memory problem.<br /><br />But, when i use<br /><br />.DATA<br />bMatrix db 80 * 80 dup(?)<br /><br />everything is ok.<br /><br />Could anybody tell me why it works like that?</div>
    <div class="meta">Posted on 2004-04-16 08:57:38 by IRET</div>
   </div>
   <div class="post" id="post-139151">
    <div class="subject"><a href="#post-139151">What is the Differences between .DATA and .DATA?</a></div>
    <div class="body">It's a just a masm bug.</div>
    <div class="meta">Posted on 2004-04-16 08:58:55 by roticv</div>
   </div>
   <div class="post" id="post-139152">
    <div class="subject"><a href="#post-139152">What is the Differences between .DATA and .DATA?</a></div>
    <div class="body">Hrm, you say your program becomes slow at runtime when using &quot;.data?&quot; but not &quot;.data&quot; ? That sounds pretty weird. If anything, the .data version should be a bit slower, as it will require paging in data from your EXE file (well, if it isn't paged in already).<br /><br />Do you have an example that shows the speed problem, that you can zip up and post here?</div>
    <div class="meta">Posted on 2004-04-16 09:07:05 by f0dder</div>
   </div>
   <div class="post" id="post-139163">
    <div class="subject"><a href="#post-139163">What is the Differences between .DATA and .DATA?</a></div>
    <div class="body">Maybe it's an aligning problem.<br />If you have a very big matrix and it's not page aligned (or other alignment) you need more r/w operation to access the whole memory and meybe your matrix may use 2 cache lines instead of one.<br /><br />You have to check if your matrix falls on a page boundary<br /><br />Try ALIGN statement</div>
    <div class="meta">Posted on 2004-04-16 14:42:05 by greenant</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How do toolbars, menus, status bars work? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4668" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4668">How do toolbars, menus, status bars work?</a></p>
   <div class="post" id="post-32765">
    <div class="subject"><a href="#post-32765">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Hi!<br />Here's my question:<br />There's been a number of occasions where I want to write<br />my own tool bar or menu (for example, a menu with a white<br />background). But I can't find a way for a child window to<br />behave like a toolbar would. i.e., sticking to the top or bottom<br />and *changing* the client area.<br /><br />Now, I *can* make a window that sits up on top of the<br />parent window but I still gotta fix up the client area if I want<br />to use draw in the parent window. But this still really isn't the<br />behavior I want. I know I can subclass these things but I'd<br />rather like to know how it's done in the first place?<br /><br />Can anyone tell me what's going on? How can I program<br />something like a menu class?<br /><br />thanks<br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-04-07 20:03:07 by chorus</div>
   </div>
   <div class="post" id="post-32776">
    <div class="subject"><a href="#post-32776">How do toolbars, menus, status bars work?</a></div>
    <div class="body">maybe you could use an ownerdrawn menu instead of making your own one...</div>
    <div class="meta">Posted on 2002-04-08 04:34:39 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-32795">
    <div class="subject"><a href="#post-32795">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Yeah... I know... :(<br />That's not what interests me though. I'm more interested in what<br />mechanism in win32 allows child windows (like a toolbar or<br />statusbar) to behave the way they do. Just specifying WS_CHILD<br />when creating a window obviously doesn't do it. And yet,<br />the class that toolbars are derived from TOOLBARCLASSNAME is<br />defined in the common controls DLL so there *must* be<br />something in there that we're missing...<br /><br />bleh.<br /><br />I guess for now I'll stick with your suggestion :)<br /><br />thanks <br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-04-08 11:48:30 by chorus</div>
   </div>
   <div class="post" id="post-32797">
    <div class="subject"><a href="#post-32797">How do toolbars, menus, status bars work?</a></div>
    <div class="body">perhaps WM_NCCALCSIZE ? Dunno really, I remember bumping into<br />that message while trying to do somewhat the same, but ended<br />up deciding child window stuff was a lot easier for my purpose.</div>
    <div class="meta">Posted on 2002-04-08 12:17:04 by f0dder</div>
   </div>
   <div class="post" id="post-32802">
    <div class="subject"><a href="#post-32802">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Menus are part of the non-clent area, and I think Windows does its own special processing of menus and such before it calls your Window.</div>
    <div class="meta">Posted on 2002-04-08 13:29:46 by iblis</div>
   </div>
   <div class="post" id="post-32860">
    <div class="subject"><a href="#post-32860">How do toolbars, menus, status bars work?</a></div>
    <div class="body">yeah..<br /><br />I guess what I really want to know then is: Can I make a child window that sits in the nonclient area? Is there a WS_ or WS_EX_ style that lets me do this?<br /><br />One thing I would really like to make is a toolbar that sits along the left side of the application window, or a toolbar along the top of my window that I can use to scroll a message or something like that. Things that I can't do by using toolbars or menus as they are defined with Windows.<br /><br />fodder:<br />  thanks for the tip about WM_NCCALCSIZE. I looked into it, and it sounds promising at first but then the more I read about it the less it seems to fit the problem. I'll try to test it out with some actual code to see what kind of results I get.<br /><br />Thanks all<br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-04-09 00:10:20 by chorus</div>
   </div>
   <div class="post" id="post-32867">
    <div class="subject"><a href="#post-32867">How do toolbars, menus, status bars work?</a></div>
    <div class="body">I dont have a definitive answer, but I would say you need to simply &quot;write&quot; the code yourself for such specific stuff.<br /><br />As well i seem to remember Ernie outlined an example on his website for a kitchen timer.  It was a custom window that was 'eningeered' to have a client and non-client area.  And thus effectively built his own close buttons etc.  You should be able to follow this approach and build a scrolling menu etc..<br /><br />Long story short, i would say what you want can be done, but the would require you to get your hands dirty.<br /><br />Best of luck...<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-04-09 01:55:41 by NaN</div>
   </div>
   <div class="post" id="post-32909">
    <div class="subject"><a href="#post-32909">How do toolbars, menus, status bars work?</a></div>
    <div class="body">I posted some code i'd written for office xp style menus to the source forum a while ago, but it's not there anymore. i can email it to you or post it again if you'd like.</div>
    <div class="meta">Posted on 2002-04-09 11:43:14 by Sloat</div>
   </div>
   <div class="post" id="post-32911">
    <div class="subject"><a href="#post-32911">How do toolbars, menus, status bars work?</a></div>
    <div class="body">That would be great!<br /> You can email me through my profile or just post it up, whatever's easier for you. Maybe post it if you want other people to check it out.<br /><br />Thanks<br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-04-09 11:48:10 by chorus</div>
   </div>
   <div class="post" id="post-32922">
    <div class="subject"><a href="#post-32922">Nods</a></div>
    <div class="body">There is no set windows style for what your trying to do.  They are hooking the messages before you see them to give them a default behaviour much like superclassing.  The best way to do it is to reserve some space in the non-client area of the window like suggested using the WM_NCCALCSIZE message.</div>
    <div class="meta">Posted on 2002-04-09 13:17:19 by Graebel</div>
   </div>
   <div class="post" id="post-32971">
    <div class="subject"><a href="#post-32971">How do toolbars, menus, status bars work?</a></div>
    <div class="body">here you go. it's not very clean or optimized cause i stopped working on it a few months ago.</div>
    <div class="meta">Posted on 2002-04-09 22:51:33 by Sloat</div>
   </div>
   <div class="post" id="post-32977">
    <div class="subject"><a href="#post-32977">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Your zip doesnt seem to have much in it :confused:<br /><br />:NaN:</div>
    <div class="meta">Posted on 2002-04-09 23:53:42 by NaN</div>
   </div>
   <div class="post" id="post-32978">
    <div class="subject"><a href="#post-32978">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Sloat... when I try to open the zip I just get a invalid file message from winzip... I thought that I dropped some bytes but I've tried to download it about 5 more times and I get nada... <br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-04-09 23:56:12 by chorus</div>
   </div>
   <div class="post" id="post-32992">
    <div class="subject"><a href="#post-32992">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Here's Sloat's file he uploaded Feb 13, 2002</div>
    <div class="meta">Posted on 2002-04-10 07:46:18 by gscundiff</div>
   </div>
   <div class="post" id="post-33018">
    <div class="subject"><a href="#post-33018">How do toolbars, menus, status bars work?</a></div>
    <div class="body">figures :rolleyes:<br /><br />i guess the upload got messed up somehow (maybe cause i am using opera).</div>
    <div class="meta">Posted on 2002-04-10 13:33:17 by Sloat</div>
   </div>
   <div class="post" id="post-33033">
    <div class="subject"><a href="#post-33033">How do toolbars, menus, status bars work?</a></div>
    <div class="body">Pretty cool Sloat :)<br /><br />I missed it the first time around, but i have to say it looks good..<br /><br />Im working on something simular ~ 80% finish a custom control for menu'd buttons like the one in IE 5 :) .  Just got to get the bumps out at this point...<br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-04-10 17:19:41 by NaN</div>
   </div>
  </div>
 </body>
</html>
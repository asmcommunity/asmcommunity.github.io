<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>select all in Edit - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19646" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19646">select all in Edit</a></p>
   <div class="post" id="post-151175">
    <div class="subject"><a href="#post-151175">select all in Edit</a></div>
    <div class="body">hii<br />i have subclassed an edit control. <br />and i want to select all text when it gets focus<br /><br />i tried several ways <br /><br /><br /><pre><code><br />; on WM_SETFOCUS<br />	invoke CallWindowProc,PtrEditProc,hwnd,EM_SETSEL,0,-1<br /></code></pre><br /><br />and have tried on Parent window <br /><br />on WM_COMMAND ,EN_SETFOCUS<br />the same code as above .. but still doesnt work . <br /><br />any ideas ?<br /><br />bye<br />thanks <br />eko</div>
    <div class="meta">Posted on 2004-10-10 13:26:39 by eko</div>
   </div>
   <div class="post" id="post-151178">
    <div class="subject"><a href="#post-151178">select all in Edit</a></div>
    <div class="body">eko,<br /><br />Look at EM_SETSEL<br /><br />hth<br /><br />farrier</div>
    <div class="meta">Posted on 2004-10-10 15:54:07 by farrier</div>
   </div>
   <div class="post" id="post-151180">
    <div class="subject"><a href="#post-151180">select all in Edit</a></div>
    <div class="body">Try this:<br /><br />invoke SendMessage,hEdit,EM_SETSEL,0,-1<br /><br /><br />And download MSDN or PSDK - these are very useful references for things like this.<br /><br /><br /><br />/siddhartha</div>
    <div class="meta">Posted on 2004-10-10 16:11:04 by siddhartha</div>
   </div>
   <div class="post" id="post-151206">
    <div class="subject"><a href="#post-151206">select all in Edit</a></div>
    <div class="body"><div class="quote">An application sends an EM_SETSEL message to select a range of characters in an edit control. <br /><br />EM_SETSEL <br />wParam = (WPARAM) (INT) nStart;    // starting position <br />lParam = (LPARAM) (INT) nEnd;      // ending position <br /> <br /><br />Parameters<br /><br />nStart<br /><br />Value of wParam. Specifies the starting character position of the selection. <br /><br />nEnd<br /><br />Specifies the ending character position of the selection. <br /><br />Return Values<br /><br />This message does not return a value. <br /><br />Remarks<br /><br />In a rich edit control, if the selection is not entirely contained in the first 64K, use the message EM_EXSETSEL.<br />If the nStart parameter is 0 and the nEnd parameter is -1, all the text in the edit control is selected. If nStart is -1, any current selection is removed. The caret is placed at the end of the selection indicated by the greater of the two values nEnd and nStart<br />. <br />In previous versions of Windows, the wParam parameter is a flag that is set to FALSE to scroll the caret into view or set to TRUE to omit the scrolling. A Win32-based application should use the EM_SCROLLCARET message to scroll the caret into view. <br /><br />In earlier versions of Windows, the starting and ending positions of the selection are indicated by the low- and high-order words, respectively, of the lParam parameter. </div><br /><br />just what i did . still nothing . <br />any ideas?<br />bye<br />thanks <br />eko</div>
    <div class="meta">Posted on 2004-10-11 15:53:52 by eko</div>
   </div>
   <div class="post" id="post-151218">
    <div class="subject"><a href="#post-151218">select all in Edit</a></div>
    <div class="body">eko,<br /><br />Give us a look at what you did, maybe something easy to fix.  Show us the relavent parts of your code.<br /><br />farrier</div>
    <div class="meta">Posted on 2004-10-12 00:17:17 by farrier</div>
   </div>
   <div class="post" id="post-151227">
    <div class="subject"><a href="#post-151227">select all in Edit</a></div>
    <div class="body">i have wrote what i did . .<br />subclassed the editwindow (invoke SetWindowLong,somehwnd,GWL_WNDPROC,offset someproc)<br /><br />and captured the WM_SETFOCUS then send message the to orginal window's proc with EM_SETSEL - this doesnt work ... <br /><br /><br />i tried also - capture WM_COMMAND ,EN_SETFOCUS then send EM_SETSEL to the orignal windows proc .and still - doesntwork . <br /><br />anyideas?<br /><br />bye<br />thanks<br />eko</div>
    <div class="meta">Posted on 2004-10-12 08:01:05 by eko</div>
   </div>
   <div class="post" id="post-151299">
    <div class="subject"><a href="#post-151299">select all in Edit</a></div>
    <div class="body">no reply ..... ;[ <br /><br />anyone knows how to get editbox selectalll when it gets focus?<br /><br /><br />thanks<br />bye<br /><br />eko</div>
    <div class="meta">Posted on 2004-10-15 08:13:49 by eko</div>
   </div>
   <div class="post" id="post-151326">
    <div class="subject"><a href="#post-151326">select all in Edit</a></div>
    <div class="body">It will be a lot easier for us if you show some code. It's hard to trace errors without looking at the source.<br /><br /><br /><br />/siddhartha</div>
    <div class="meta">Posted on 2004-10-15 21:27:14 by siddhartha</div>
   </div>
   <div class="post" id="post-151339">
    <div class="subject"><a href="#post-151339">select all in Edit</a></div>
    <div class="body">i dont have a code . <br />i just dont know how to select all when editbox getfocous. <br />i tried select all on WM_SETFOCUS like i wrote above . and this doesnt work</div>
    <div class="meta">Posted on 2004-10-16 13:34:04 by eko</div>
   </div>
   <div class="post" id="post-151345">
    <div class="subject"><a href="#post-151345">select all in Edit</a></div>
    <div class="body">Hi<br />What about<br /><br /><pre><code>Invoke SendMessage,hEdit,WM_GETTEXTLENGTH,0,0<br />Invoke SendMessage,hEdit,EM_SETSEL,0,EAX</code></pre><br /><br />Antonis</div>
    <div class="meta">Posted on 2004-10-16 16:54:37 by akyprian</div>
   </div>
   <div class="post" id="post-151346">
    <div class="subject"><a href="#post-151346">select all in Edit</a></div>
    <div class="body">thanks for reply <br /><br /> i just notice the main problem . it does a selectall both ways . <br /><br />but it flicks for a less than a sec and the selection gone . (NOT the text)<br /><br /><br />any ideas?</div>
    <div class="meta">Posted on 2004-10-16 19:00:48 by eko</div>
   </div>
   <div class="post" id="post-151347">
    <div class="subject"><a href="#post-151347">select all in Edit</a></div>
    <div class="body">I'll try one more time :) <br /><br />eko,<br /><br />Reply with an attachment showing us the relevant assembly code segments for your edit control.  Maybe we will see something you have missed.  You keep asking for help with your program, but we can't see it and therefore can't offer anything more than the correct suggestions you have already received.<br /><br /><div class="quote">i dont have a code . </div><br /><br />What do you mean by this?<br /><br />farrier</div>
    <div class="meta">Posted on 2004-10-16 20:06:10 by farrier</div>
   </div>
   <div class="post" id="post-151350">
    <div class="subject"><a href="#post-151350">select all in Edit</a></div>
    <div class="body">firsttry<br /><pre><code><br /><br />;subclassed the editproc &#40;setwindowlong - &#41;<br />Editproc proc hwnd&#58;DWORD,uMsg&#58;DWORD,wParam&#58;DWORD,lParam&#58;DWORD<br /><br />	invoke CallWindowProc,PtrEditProc,hwnd,uMsg,wParam,lParam<br /><br />	cmp uMsg,WM_SETFOCUS<br />         jnz _out<br />         invoke CallWindowProc,PtrEditProc,hwnd,EM_SETSEL,0,-1<br /><br />_out&#58;<br />ret<br />Editproc endp<br /></code></pre><br />2nd try<br /><pre><code><br /><br /><br />;subclassed the editproc &#40;setwindowlong - &#41;<br />Editproc proc hwnd&#58;DWORD,uMsg&#58;DWORD,wParam&#58;DWORD,lParam&#58;DWORD<br />	cmp uMsg,WM_SETFOCUS<br />         jnz @F<br />         invoke CallWindowProc,PtrEditProc,hwnd,EM_SETSEL,0,-1<br />         ;once with xoreax,eax and ret <br />         ;and once with outit<br />         @@&#58;<br /><br />	invoke CallWindowProc,PtrEditProc,hwnd,uMsg,wParam,lParam<br /><br />_out&#58;<br />ret<br />Editproc endp<br /><br /></code></pre><br />3rd try <br /><br /><pre><code><br />this time i subclassed the parent window of the editcontrol<br />PartentWindow hwnd&#58;DWORD,uMsg&#58;DWORD,wParam&#58;DWORD,lParam&#58;DWORD<br />	cmp uMsg,WM_COMMAND	<br />	jnz @F<br />	<br />	mov eax,wParam<br />	shr eax,16<br />	<br />	cmp eax,EN_SETFOCUS<br />	jnz @F<br />         mov ecx,lParam<br />	cmp ecx,edithwnd<br />	jnz @F<br /><br />         invoke CallWindowProc,PtrEditProc,edithwnd,EM_SETSEL,0,-1<br />         ;once with xoreax,eax and ret <br />         ; once with outit<br />         ; and one after the callwindowproc<br />         @@&#58;<br /><br />	invoke CallWindowProc,PtrPartentWindow,hwnd,uMsg,wParam,lParam<br /><br />_out&#58;<br />ret<br />PartentWindow endp<br /></code></pre><br /><br />all these methods make the editcontrolblink when it gets focus <br /><br />any ideas/soultions ?<br /><br />bye<br />thanks<br /><br />eko</div>
    <div class="meta">Posted on 2004-10-16 20:30:41 by eko</div>
   </div>
   <div class="post" id="post-151605">
    <div class="subject"><a href="#post-151605">select all in Edit</a></div>
    <div class="body">Well, I've just tried without subclassing - everything worked OK.<br />Then do nothing in sublass proc about it, just use SendMessage from parent.</div>
    <div class="meta">Posted on 2004-10-20 16:21:56 by The Svin</div>
   </div>
   <div class="post" id="post-151608">
    <div class="subject"><a href="#post-151608">select all in Edit</a></div>
    <div class="body"><strong>eko</strong>, try to call original window code then execute your sub-classed code.</div>
    <div class="meta">Posted on 2004-10-20 18:26:51 by bitRAKE</div>
   </div>
   <div class="post" id="post-151627">
    <div class="subject"><a href="#post-151627">select all in Edit</a></div>
    <div class="body">Hi,<br /><br />Attached is a working demo of both a multiline and a single line edit control.<br /><br />I hope it helps<br /><br />Antonis</div>
    <div class="meta">Posted on 2004-10-21 04:16:30 by akyprian</div>
   </div>
   <div class="post" id="post-151676">
    <div class="subject"><a href="#post-151676">select all in Edit</a></div>
    <div class="body">bitrake: have tired it , didnt work for me <br />svin,akyprian that's work  THANKS<br /><br />my problem was that after i proccess EN_SETFOCUS (under wm_command)<br /><br />i let orginal proc proccess the msg, (forgot the ret)<br /><br />thanks alot !<br /><br />bye<br /><br />eko</div>
    <div class="meta">Posted on 2004-10-22 09:41:12 by eko</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>fct param not masm friendly - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25224" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25224">fct param not masm friendly</a></p>
   <div class="post" id="post-184574">
    <div class="subject"><a href="#post-184574">fct param not masm friendly</a></div>
    <div class="body"><pre><code>invoke MoveWindow, , /3, 0, (1/4)*cxClient, (1/7)*cyClient, TRUE</code></pre><br /><br />arguments 2,4 and 5 are not masm friendly, how can i make this call in masm?</div>
    <div class="meta">Posted on 2006-08-19 02:49:33 by w0lfshad3</div>
   </div>
   <div class="post" id="post-184579">
    <div class="subject"><a href="#post-184579">Re: fct param not masm friendly</a></div>
    <div class="body">First: use 32bit registers, not 16bit (ie, ESI not SI).<br /><br />Second: you can&#39;t do HLL-style calculations, you need to do this maunally. Ie, you can&#39;t pass &quot;/3&quot; as an argument, you need do the DIV yourself.<br /></div>
    <div class="meta">Posted on 2006-08-19 03:38:22 by f0dder</div>
   </div>
   <div class="post" id="post-184580">
    <div class="subject"><a href="#post-184580">Re: fct param not masm friendly</a></div>
    <div class="body">Sure but in the end i need to pass the function 3 arguments thus i need 3 registers;<br />ecx is occupied counting since this is into a loop, si is occupied indexing the array, i am left with eax, ebx, edx and di should i pass them to the function(alltough i don&#39;t think i can use di)?<br /><br />EDIT: MASM doesn&#39;t even accept &quot;(1/4)*cxClient&quot; i tried supplying it before the function call to label and it said at assembly that it expected a constant, can&#39;t tell if its because of cxClient or the temp label i moved it into.</div>
    <div class="meta">Posted on 2006-08-19 03:52:15 by w0lfshad3</div>
   </div>
   <div class="post" id="post-184581">
    <div class="subject"><a href="#post-184581">Re: fct param not masm friendly</a></div>
    <div class="body">you can use temporary variables, or you can do the push/call manually instead of invoke... and there&#39;s no problem using EDI.<br /><br />Just remember that if you&#39;re in a callback (most common: wndproc/dlgproc), you need to preserve EBX,ESI,EDI.<br /></div>
    <div class="meta">Posted on 2006-08-19 03:56:46 by f0dder</div>
   </div>
  </div>
 </body>
</html>
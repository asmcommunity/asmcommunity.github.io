<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Conv. DWORD time value to user readable format - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=921" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=921">Conv. DWORD time value to user readable format</a></p>
   <div class="post" id="post-5940">
    <div class="subject"><a href="#post-5940">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Hello,<br /><br />Is there any API to convert DWORD time value to user readable format? I know there are lots of routines that convert FileTime to SystemTime and that sorts of APIs but none that I know of that deals with only one DWORD value.<br /><br />I mean that usri3_last_logon is like MSDN says:<br />Specifies a DWORD value that indicates when the last logon occured. This value is stored as the number of seconds that have elapsed since 00:00:00, January 1, 1970, GMT.<br /><br />This big number of seconds doesn't tell much. So I'm wondering is there API to convert this to something meaningfull and user friendly format. Or is the only way to make my own conversion routine?<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-03 08:34:56 by SamiP</div>
   </div>
   <div class="post" id="post-5984">
    <div class="subject"><a href="#post-5984">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Well, I don't think there is an API for this, but it's not so hard to do this from your own when you know the seconds.</div>
    <div class="meta">Posted on 2001-09-03 16:35:58 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-6000">
    <div class="subject"><a href="#post-6000">Conv. DWORD time value to user readable format</a></div>
    <div class="body">It ain't no api, but:</div>
    <div class="meta">Posted on 2001-09-03 21:29:07 by eet_1024</div>
   </div>
   <div class="post" id="post-6031">
    <div class="subject"><a href="#post-6031">Conv. DWORD time value to user readable format</a></div>
    <div class="body">There is the localtime function in the c runtime library.</div>
    <div class="meta">Posted on 2001-09-04 01:41:24 by Dr. Manhattan</div>
   </div>
   <div class="post" id="post-6082">
    <div class="subject"><a href="#post-6082">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Please, Karim, could you tell me how to use that localtime function? Is it some DLL that I use or what/how? I don't know C very well :(<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-04 08:15:16 by SamiP</div>
   </div>
   <div class="post" id="post-6105">
    <div class="subject"><a href="#post-6105">Conv. DWORD time value to user readable format</a></div>
    <div class="body">I figured out how to use that localtime function. I found out that it resides in msvcrt.dll, but next question is; is that dll distributed with every windows? With every windows I mean 95/98/ME/NT4/2000/XP, so that I don't need to distribute it with my prog, because it makes my little prog huge.<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-04 11:01:32 by SamiP</div>
   </div>
   <div class="post" id="post-6109">
    <div class="subject"><a href="#post-6109">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Sorry, I only have Win98SE. I have msvcrt.dll in my windows\system\directory but I don't know if it was installed by VC++ or Windows :confused:</div>
    <div class="meta">Posted on 2001-09-04 11:36:00 by Dr. Manhattan</div>
   </div>
   <div class="post" id="post-6124">
    <div class="subject"><a href="#post-6124">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Same problem here, I have Win2000 and msvcrt.dll in system32 folder, but is it installed by windows or by some other program?<br /><br />Does anybody know?<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-04 12:58:58 by SamiP</div>
   </div>
   <div class="post" id="post-6127">
    <div class="subject"><a href="#post-6127">Conv. DWORD time value to user readable format</a></div>
    <div class="body">There's a GetLocalTime api function. It fills out a structure with the date and time info.</div>
    <div class="meta">Posted on 2001-09-04 13:18:41 by Sloat</div>
   </div>
   <div class="post" id="post-6130">
    <div class="subject"><a href="#post-6130">Conv. DWORD time value to user readable format</a></div>
    <div class="body">Yep, GetLocalTime get systems current time.<br /><br />Problem is: I use NetUserGetInfo to get USER_INFO_3 structure. In USER_INFO_3 structure there are two interesting variables usri3_last_logon and usri3_last_logoff both are DWORD size and have value of seconds starting from 1.1.1970. So I get two huge seconds values.<br /><br />I need to convert those second values to something that user can understand.<br /><br />As Karim suggested there is localtime function in msvcrt.dll, and I have successfully used that function to convert seconds to understandable format. Now I want to know is that msvcrt.dll part of windows or do I need to distribute it myself.<br /><br />I think that doing a conversion routine by myself is too complicated, because of leapyears and that kind of things.<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-04 13:34:51 by SamiP</div>
   </div>
  </div>
 </body>
</html>
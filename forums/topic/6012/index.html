<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>KMD trouble!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6012" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6012">KMD trouble!!</a></p>
   <div class="post" id="post-43050">
    <div class="subject"><a href="#post-43050">KMD trouble!!</a></div>
    <div class="body">I am making a Kernel Mode Driver but I cannot use the normal windows API's.  Why is this?  It keeps saying &quot;Indicates the specified procedure address cannot be found in the DLL&quot; in a messagebox.  And what API's can I use then and where can I find them?  Also, does anyone know how to map physical memory so I can read and write to it?  Thx! :)</div>
    <div class="meta">Posted on 2002-06-13 05:30:39 by Rama</div>
   </div>
   <div class="post" id="post-43051">
    <div class="subject"><a href="#post-43051">KMD trouble!!</a></div>
    <div class="body">All functions that you can use in a KMD can be found in the DDK ;)</div>
    <div class="meta">Posted on 2002-06-13 05:34:55 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-43137">
    <div class="subject"><a href="#post-43137">KMD trouble!!</a></div>
    <div class="body">roaknog, remember: <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=5638&amp;highlight=ring0">http://www.asmcommunity.net/board/index.php?topic=5638&amp;highlight=ring0</a> ?  Do you have any ideas of how to access the physical memory from your KMD?  So this ZwQuerySystemInformation() gets the &quot;base address + image or symbol offset&quot;?  Or is there more to it?  And how do I get the value in the CR3 register for a certain app?</div>
    <div class="meta">Posted on 2002-06-13 10:27:17 by Rama</div>
   </div>
   <div class="post" id="post-43365">
    <div class="subject"><a href="#post-43365">KMD trouble!!</a></div>
    <div class="body">The first listing in my bibliography has source code for macros for working on a control register's bits and restoring them.  You have to read up on how many control and test registers and their bits have to be checked and the order you alter them.  I don't have any thoughts on conrol registers yet.  I am still working with some api's.</div>
    <div class="meta">Posted on 2002-06-14 16:21:01 by roaknog</div>
   </div>
   <div class="post" id="post-43367">
    <div class="subject"><a href="#post-43367">KMD trouble!!</a></div>
    <div class="body">I don't want to alter anything.  All I want is to be able to get the cr3 values for each running process so I can then look through their page tables etc.  Then I can read and write to that memory as I please.  When a task switch occurs the cpu writes these register state values to memory right?  So where is it?</div>
    <div class="meta">Posted on 2002-06-14 16:46:28 by Rama</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Everyone using CTEXT macro (READ) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8212" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8212">Everyone using CTEXT macro (READ)</a></p>
   <div class="post" id="post-60041">
    <div class="subject"><a href="#post-60041">Everyone using CTEXT macro (READ)</a></div>
    <div class="body">There have been errors found in MASM while using the previous version of this macro.  Those errors are hard to debug and you should discontinue use of that macro.  Luckily, a solution was found by <strong>Maelstrom</strong> and implemented looks like:<pre><code>CTEXT MACRO y&#58;VARARG<br />	LOCAL sym, &#91;b&#93;dummy&#91;/b&#93;<br />&#91;b&#93;	dummy EQU $	;; MASM error fix&#91;/b&#93;<br />	CONST segment<br />		IFIDNI &lt;y&gt;,&lt;&gt;<br />			sym db 0<br />		ELSE<br />			sym db y,0<br />		ENDIF<br />	CONST ends<br />	EXITM &lt;OFFSET sym&gt;<br />ENDM</code></pre>I have posted this here because there are several threads here because of this problem and maybe some people don't read all the threads.  If you use many macros then you should read <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=7797">the thread outlining the class of errors</a> created by MASM.</div>
    <div class="meta">Posted on 2002-09-29 22:43:46 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
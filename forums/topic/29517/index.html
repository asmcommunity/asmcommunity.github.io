<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Nested, named structures - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29517" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29517">Nested, named structures</a></p>
   <div class="post" id="post-208477">
    <div class="subject"><a href="#post-208477">Nested, named structures</a></div>
    <div class="body">WINDOW struct<br />&nbsp; struct win<br />&nbsp; &nbsp; handle HANDLE ?<br />&nbsp; ends<br />WINDOW ends<br /><br />mainwin WINDOW &lt;&gt;<br /><br />1. mov eax,.handle<br />2. mov eax,.win.handle<br /><br />Both [1] and [2] will work (and access the same field).<br /><br />What can I do to make masm acccept only [2] and produce<br />an error (eg. &#039;variable not found&#039;) on [1]?<br /><br /><br />Is there another way (switch?), except this:<br /><br />WIN struct<br />&nbsp; handle HANDLE ?<br />ends<br /><br />WINDOW struct<br />&nbsp; win WIN &lt;&gt;<br />WINDOW ends</div>
    <div class="meta">Posted on 2009-08-20 03:10:33 by aleksaZR</div>
   </div>
   <div class="post" id="post-208478">
    <div class="subject"><a href="#post-208478">Re: Nested, named structures</a></div>
    <div class="body"><br />Your last example is the standard way of building up more complex structs from simpler ones. It&#039;s not pretty, but its VERY easy to read and understand, and does not impact apon build times.<br /><br />Nonetheless, MASM&#039;s macro engine IS powerful enough to accomplish such a task.<br /><br />Generating an error is easy - detecting the error condition in the raw sourcecode at buildtime is going to be a huge job, Biterider has achieved something like what you want, be warned that you&#039;re going to write a LOT of macro code to achieve it, and that&#039;s going to have some impact on your build times.<br /><br /><br /></div>
    <div class="meta">Posted on 2009-08-20 03:32:58 by Homer</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Some miscellaneous questions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8154" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8154">Some miscellaneous questions</a></p>
   <div class="post" id="post-59693">
    <div class="subject"><a href="#post-59693">Some miscellaneous questions</a></div>
    <div class="body">Hi, I have a few questions I would like to clear out.<br />#1: <br />What is the diffrence between <br /><pre><code><br />1. MOV EAX,OFFSET VARNAME<br />and <br />2. LEA EAX,OFFSET VARNAME<br /></code></pre><br /><br />I will ask questions as they come to me, of if this thread goes far down I'll recreate a new one.</div>
    <div class="meta">Posted on 2002-09-26 17:18:04 by x86asm</div>
   </div>
   <div class="post" id="post-59697">
    <div class="subject"><a href="#post-59697">Some miscellaneous questions</a></div>
    <div class="body">different opcode, same result :)</div>
    <div class="meta">Posted on 2002-09-26 18:26:33 by Tola</div>
   </div>
   <div class="post" id="post-59698">
    <div class="subject"><a href="#post-59698">Some miscellaneous questions</a></div>
    <div class="body">mov eax,offset varname : only works if varname can be resolved during assembly (variables defined in the .data(?) sections, and therefore cannot be used with stack variables(local).<br /><br />lea:load effective adress is quite a versatile opcode<br /><br />lea eax,varname :is resolved at runtime so it can be used with both global(.data(?) and stack based variables<br /><br />lea can just as easily resolve calculations of the form.<br />lea eax, ebx+ecx*n+C  ;where n can be 1,2,4,8  and C is a constant<br /><br />the mov instruction has an equivalent complex addressing syntax but instead of loading the results of the calculation it loads the contents of the address resolved by the calculation<br /><br />e.g.<br /><br />ebx=1,ecx=2,n=4,c=5<br />ram address 14=20<br /><br />lea eax,ebx+ecx*4+5 ;puts 14 into eax<br />while<br />mov eax,ebx+ecx*4+5 ;puts the contents of address 14 into eax=20<br /><br />hope i didn't confuse you!</div>
    <div class="meta">Posted on 2002-09-26 18:33:34 by MArtial_Code</div>
   </div>
   <div class="post" id="post-59703">
    <div class="subject"><a href="#post-59703">Some miscellaneous questions</a></div>
    <div class="body">So the &quot;MOV&quot; instruction moves the value at the specified address and &quot;LEA&quot; loads the computed address of the variable?</div>
    <div class="meta">Posted on 2002-09-26 19:10:41 by x86asm</div>
   </div>
   <div class="post" id="post-59705">
    <div class="subject"><a href="#post-59705">Some miscellaneous questions</a></div>
    <div class="body">You got it, just like the name suggests, Load Effective Address :)</div>
    <div class="meta">Posted on 2002-09-26 19:59:59 by S/390</div>
   </div>
   <div class="post" id="post-59708">
    <div class="subject"><a href="#post-59708">Some miscellaneous questions</a></div>
    <div class="body">Thanks guys :D</div>
    <div class="meta">Posted on 2002-09-26 20:29:01 by x86asm</div>
   </div>
  </div>
 </body>
</html>
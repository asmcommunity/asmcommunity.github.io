<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Using existing C++ lib's in asm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25306" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25306">Using existing C++ lib's in asm</a></p>
   <div class="post" id="post-185091">
    <div class="subject"><a href="#post-185091">Using existing C++ lib's in asm</a></div>
    <div class="body">Hi All,<br />What would be involved with using existing C++ lib&#39;s with assembler? <br />Say you want to use a lib such as Qt or wxWidgets for a gui, you have to derive you own window object from one in their lib, how would you go about this in asm??<br />I&#39;m still learning asm and I&#39;d really like to use it for my development (particularly HLA) but I&#39;d like to stay OS independant, I have no problem with the win32 api but I think I need a bit more functionality than what X Windows offers for linux or is it basically the same as win32??<br />thanks,<br />Mick.</div>
    <div class="meta">Posted on 2006-09-04 17:46:33 by MickD</div>
   </div>
   <div class="post" id="post-185095">
    <div class="subject"><a href="#post-185095">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">Using a C lib from assembly is easy.<br /><br />Using C++ can get nasty because of name decoration, and -IMHO- isn&#39;t really worth it - better to use C++ with assembly, then.<br /></div>
    <div class="meta">Posted on 2006-09-04 19:14:37 by f0dder</div>
   </div>
   <div class="post" id="post-185099">
    <div class="subject"><a href="#post-185099">Re: Using existing C++ lib's in asm</a></div>
    <div class="body"><div class="quote"><br />Using a C lib from assembly is easy.<br /><br />Using C++ can get nasty because of name decoration, and -IMHO- isn&#39;t really worth it - better to use C++ with assembly, then.<br /><br /></div><br /><br />Thanks f0dder, I figured as much but it would&#39;ve be nice to keep it all into one language.<br /><br />If this was a bit easier in assembler I&#39;m sure there would be a lot more people using it. :)<br /><br /></div>
    <div class="meta">Posted on 2006-09-04 19:31:54 by MickD</div>
   </div>
   <div class="post" id="post-185100">
    <div class="subject"><a href="#post-185100">Re: Using existing C++ lib's in asm</a></div>
    <div class="body"><div class="quote"><br /><div class="quote"><br />Using a C lib from assembly is easy.<br /><br />Using C++ can get nasty because of name decoration, and -IMHO- isn&#39;t really worth it - better to use C++ with assembly, then.<br /><br /></div><br /><br />Thanks f0dder, I figured as much but it would&#39;ve be nice to keep it all into one language.<br /><br />If this was a bit easier in assembler I&#39;m sure there would be a lot more people using it. :)<br /></div><br /><br />Well, it CAN be done for most stuff - use &quot;SYSCALL&quot; for the MASM protos, figure out what kind of name mangling your compiler uses (this *will* differ from compiler to compiler), figure out where to put &quot;this&quot; (register or stack), etc... it&#39;s not pretty. Macros can probably help, but still.<br /></div>
    <div class="meta">Posted on 2006-09-04 19:33:42 by f0dder</div>
   </div>
   <div class="post" id="post-185103">
    <div class="subject"><a href="#post-185103">Re: Using existing C++ lib's in asm</a></div>
    <div class="body"><div class="quote"><br />Well, it CAN be done for most stuff - use &quot;SYSCALL&quot; for the MASM protos, figure out what kind of name mangling your compiler uses (this *will* differ from compiler to compiler), figure out where to put &quot;this&quot; (register or stack), etc... it&#39;s not pretty. Macros can probably help, but still.<br /></div><br /><br />Ok, would dumpbin be suitable for figuring out the name mangling?<br />It seems I have a lot of study to do to fully understand what&#39;s happening here and I will do a bit more searching through threads here, though if anyone has any usefull links to any articles of what&#39;s involved that would be great.<br /><br />thanks again.</div>
    <div class="meta">Posted on 2006-09-04 19:52:19 by MickD</div>
   </div>
   <div class="post" id="post-185104">
    <div class="subject"><a href="#post-185104">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">Doh!, I just seen the gtk/xwindows forum :shock:<br /><br />I will still do some study on this as it would be nice to use 3rd party libs when needed without haveing to chop and change languages.</div>
    <div class="meta">Posted on 2006-09-04 20:44:41 by MickD</div>
   </div>
   <div class="post" id="post-185125">
    <div class="subject"><a href="#post-185125">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">MickD,<br /><br />Have a look at this thread :<br /><br />Calling C++ functions from MASM :<br /><br />http://www.asmcommunity.net/board/index.php?topic=25265.0</div>
    <div class="meta">Posted on 2006-09-05 12:32:00 by Vortex</div>
   </div>
   <div class="post" id="post-185134">
    <div class="subject"><a href="#post-185134">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">Thanks Vortex, there&#39;s a bit there to soak up for me though :) I probably need to better understand how the inner workings of C++ classes work before the penny drops though. I have a good grip on OOP from using C#/++ for the last few years and I know that member functions are associated to vtables etc. but how they are mapped and how to inherit from or create instances of these objects and call their methods I need to get a grip on.<br />Cheers,<br />Mick.</div>
    <div class="meta">Posted on 2006-09-05 17:44:42 by MickD</div>
   </div>
   <div class="post" id="post-185186">
    <div class="subject"><a href="#post-185186">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">My way to learn C++&#39;s classes handling, in order to create an OOP extention to asm, was by making different types of simple classes and looking at the compilation output (the asm/disasm). The resulting extention to asm is &quot;ATC&quot; at ultranos.com/asm&nbsp; . ObjAsm32 seems to support arbitrary C++ classes, too. <br />The only problem is the decoration of class-method names - you have to manually find these decorated names from the .obj files. </div>
    <div class="meta">Posted on 2006-09-08 15:05:39 by Ultrano</div>
   </div>
   <div class="post" id="post-185187">
    <div class="subject"><a href="#post-185187">Re: Using existing C++ lib's in asm</a></div>
    <div class="body">Thanks for the tip, that sounds like a good plan.<br />I&#39;ll start with a very simple class as you say then build on it with inheritance etc. and see what goes on. <br />It is a bit daunting to just open up a huge asm file and start looking for answers&nbsp; :shock:<br /><br />Cheers,<br />Mick.</div>
    <div class="meta">Posted on 2006-09-08 22:59:44 by MickD</div>
   </div>
  </div>
 </body>
</html>
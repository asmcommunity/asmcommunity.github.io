<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Question about row major ordering and column major ordering in Array - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25962" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25962">Question about row major ordering and column major ordering in Array</a></p>
   <div class="post" id="post-189207">
    <div class="subject"><a href="#post-189207">Question about row major ordering and column major ordering in Array</a></div>
    <div class="body">Followed is the explaination in Randall Hyde&#39;s AoA book: <br />&nbsp; &nbsp; &nbsp; Column major ordering is the other function frequently used to compute the<br />&nbsp; &nbsp; &nbsp; address of an array element. FORTRAN and various dialects of BASIC (e.g.,&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; Microsoft) use this method to index arrays.<br />&nbsp; &nbsp; &nbsp; In row major ordering the rightmost index increased the fastest as you moved<br />&nbsp; &nbsp; &nbsp; through consecutive memory locations. In column major ordering the leftmost <br />&nbsp; &nbsp; &nbsp; index increases the fastest. Pictorially, a column major ordered array is <br />&nbsp; &nbsp; &nbsp; organized as shown in Figure 5.6.<br />&nbsp; &nbsp; &nbsp; The formulae for computing the address of an array element when using column<br />&nbsp; &nbsp; &nbsp; major ordering is very similar to that for row major ordering. You simply reverse <br />&nbsp; &nbsp; &nbsp; the indexes and sizes in the computation:<br />&nbsp; &nbsp; &nbsp; For a two-dimension column major array:<br />Element_Address = Base_Address + (rowindex * col_size + colindex) * Element_Size<br />I am wondering in overhead&nbsp; formulae whether the&nbsp; rowindex&nbsp; and the colindex should be exchanged&nbsp; each other as follow:<br />Element_Address=Base_Address +( colindex* col_size + rowindex) * Element_Size<br />&nbsp;  <br /> Would you please tell me which one is correct!</div>
    <div class="meta">Posted on 2007-05-13 00:34:18 by qlmi</div>
   </div>
   <div class="post" id="post-189209">
    <div class="subject"><a href="#post-189209">Re: Question about row major ordering and column major ordering in Array</a></div>
    <div class="body">Let&#39;s start by replacing the term &#39;Column&#39; with &#39;X&#39;, and &#39;Row&#39; with &#39;Y&#39;.<br />Here are the revised Column-Major formulae:<br /><div class="quote"><br />Address = Base + (Y * col_size + X) * Element_Size (Randy)<br />Address = Base + (X * col_size + Y) * Element_Size (Yours)<br /></div><br /><br />I think Randy is wrong, and you are right, in regards to Column Major Order.<br /><br />Guys, its late, you may disagree, and you may have reason to, but before you shoot me down, do note that the &#39;conventional&#39; array addressing scheme is Row Major, and for Row Major, Randy&#39;s Col-Maj formula would be correct, if we replaced col_size with row_size.<br /><br /><br /></div>
    <div class="meta">Posted on 2007-05-13 00:57:59 by Homer</div>
   </div>
   <div class="post" id="post-189212">
    <div class="subject"><a href="#post-189212">Re: Question about row major ordering and column major ordering in Array</a></div>
    <div class="body">Got it, thanks for you detail explaination. i can proceed to next section confidently.</div>
    <div class="meta">Posted on 2007-05-13 06:06:24 by qlmi</div>
   </div>
   <div class="post" id="post-189225">
    <div class="subject"><a href="#post-189225">Re: Question about row major ordering and column major ordering in Array</a></div>
    <div class="body">There&#39;s an ambiguity in the meaning of column size:<br /><br />1) the column dimension of the matrix, which is the number of columns<br />2) the length of a matrix column, which is the number of rows<br /><br />=====<br /><br />Row-major order:<br /><br />address = (row-index * columns-per-row + column-index) * element-size<br /><br />C and C++ use row-major order.<br /><br />=====<br /><br />Randy is right about Fortran - it uses column-major order:<br /><br />address = (column-index * rows-per-column + row-index) * element-size</div>
    <div class="meta">Posted on 2007-05-13 19:14:41 by tenkey</div>
   </div>
  </div>
 </body>
</html>
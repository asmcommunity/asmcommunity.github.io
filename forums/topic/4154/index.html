<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Funny thing.. NOP doesn't really exist. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4154" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4154">Funny thing.. NOP doesn't really exist.</a></p>
   <div class="post" id="post-28421">
    <div class="subject"><a href="#post-28421">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">Hello all,<br />While developing the optimizer for my compiler I noticed something funny:<br />The XCHG instruction (which came in so late in my compiler/optimizer back end because it's a slow and because of this almost useless instruction on modern CPU's), in the form XCHG EAX,EAX has the opcode $90. Surprise, that's just the one of NOP. Conclusion, NOP never existed on x86 CPU's.. it was just one form of the XCHG instruction (which did nothing, thus was suitable as a NOP). Yet *this* form of the XCHG instruction has been optimized in modern CPU's, unlike e.g. XCHG EBX,ECX. I felt it was quite funny.. and although unimportant, I wanted to share it. :)<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-03-11 16:07:48 by Maverick</div>
   </div>
   <div class="post" id="post-28428">
    <div class="subject"><a href="#post-28428">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">That is very true, and funny - two mnemonics for the same instruction.  There is a huge list of instructions that do nothing. :)</div>
    <div class="meta">Posted on 2002-03-11 16:23:40 by bitRAKE</div>
   </div>
   <div class="post" id="post-28433">
    <div class="subject"><a href="#post-28433">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">And different opcodes that do exactly the same thing (for example the mem,reg and reg,mem when mem is used as a reg) ;)</div>
    <div class="meta">Posted on 2002-03-11 16:29:56 by Maverick</div>
   </div>
   <div class="post" id="post-28435">
    <div class="subject"><a href="#post-28435">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">A feature I wanted to add to my assembler is optimization for compression using this kind of info, and parts of the code which don't have to be anything exact. ;)</div>
    <div class="meta">Posted on 2002-03-11 16:35:31 by bitRAKE</div>
   </div>
   <div class="post" id="post-28436">
    <div class="subject"><a href="#post-28436">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">maverick,<br /><br />Interesting observation, XCHG EAX,EAX is one of the old versions used to do the NOP operation a long time ago but they are not without their uses, depending on the padding requirement, dead instructions can sometimes help when designing a loop where you are after pairing or changing the instruction count.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-11 16:37:28 by hutch--</div>
   </div>
   <div class="post" id="post-28440">
    <div class="subject"><a href="#post-28440">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">Hutch: yup, for example, to pad 3 bytes I use LEA EAX,</div>
    <div class="meta">Posted on 2002-03-11 16:45:08 by Maverick</div>
   </div>
   <div class="post" id="post-28443">
    <div class="subject"><a href="#post-28443">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">bitRAKE: yup, code size is very important for speed, also (but not only) because it will make a better use of the cache.. which is very important.<br /><br />BTW: how's the development of your optimizer proceeding?</div>
    <div class="meta">Posted on 2002-03-11 16:48:38 by Maverick</div>
   </div>
   <div class="post" id="post-28444">
    <div class="subject"><a href="#post-28444">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">Slowly. :(</div>
    <div class="meta">Posted on 2002-03-11 16:51:23 by bitRAKE</div>
   </div>
   <div class="post" id="post-28446">
    <div class="subject"><a href="#post-28446">Funny thing.. NOP doesn't really exist.</a></div>
    <div class="body">Good things do not take 5 minutes to write. ;)</div>
    <div class="meta">Posted on 2002-03-11 17:05:26 by Maverick</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Build the entire .exe manually??? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8050" />
    <link rel="next" href="../?id=8050&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8050">Build the entire .exe manually???</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=8050&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=8050&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="8050" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=8050&amp;page=2">&gt;</a><a href="../?id=8050&amp;page=3">&raquo;</a></form>   <div class="post" id="post-58899">
    <div class="subject"><a href="#post-58899">Build the entire .exe manually???</a></div>
    <div class="body">I want to find out if it is possible to build an <strong>entire</strong> application manually. The reason I want to do that, is to understand everything inside the applications I write, and thus have more conclusiveness about it.<br /><br />   I didn't find any documents about how resources <strong>WORK</strong><br />or what is added to your OBJ file (wich I assume now that is a direcy transcription of the opcodes/values you put on your .asm file) so it can be called and executable file.<br /><br /> Any ideas?</div>
    <div class="meta">Posted on 2002-09-20 14:02:47 by wicr0s0ft</div>
   </div>
   <div class="post" id="post-58903">
    <div class="subject"><a href="#post-58903">Build the entire .exe manually???</a></div>
    <div class="body">sure it's possible... although to learn how a pe works i don't think building it manually is the best way to go, but suit yourself, to learn more about the coff obj formats, pe files, and resource files, goto wotsit.org</div>
    <div class="meta">Posted on 2002-09-20 14:40:52 by Asm_Freak</div>
   </div>
   <div class="post" id="post-58904">
    <div class="subject"><a href="#post-58904">Build the entire .exe manually???</a></div>
    <div class="body">oOoOoOoOooo!!! another one who wants to try to be a real man!!! well first off I have to tell you it's not easy.<br /><br />- have a look at the PE structure... study them<br />- look at the opcodes, mod r/m and sib bytes (Intel Manuals Volume 2). Study how opcodes are &quot;constructed&quot;<br /><br />as for resources, I haven't delved into this yet. :grin:</div>
    <div class="meta">Posted on 2002-09-20 14:41:57 by stryker</div>
   </div>
   <div class="post" id="post-58906">
    <div class="subject"><a href="#post-58906">Build the entire .exe manually???</a></div>
    <div class="body"><a target="_blank" href="www.wotsit.org">www.wotsit.org</a>, search for &quot;Portable Executable format description&quot;. The pe.txt file inside the zip shows how to write a PE exe manually using a hex editor.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-09-20 15:07:37 by Thomas</div>
   </div>
   <div class="post" id="post-58907">
    <div class="subject"><a href="#post-58907">Build the entire .exe manually???</a></div>
    <div class="body">Ok, I think I have really a LOTTA to read now (even more than the piles Im on right now :-D ) .... Ill hang!<br /><br />But I dont want to be a perfect nerd about it, I want to use that knowledge, in &quot;some&quot; practical manner. For example, it annoys me to open a executable file (like my fisrt asm programs) and see that they are mostly NULL bytes!!!! Come on!! Dowsn't  anyone cares about that like me?? I want to remove those, and also would be kinda cool to mess up with our .exe files <strong>directly</strong>, wouldn't it?? ;)<br /><br /><br /><div class="quote"><br />...and resource files, goto wotsit.org<br /></div><br /><br />:-o I was just browsing through this very site these days for file formats... :) ... good to know it will be more usefull than I thought at fisrt.<br /><br /><br /><div class="quote"><br />oOoOoOoOooo!!! another one who wants to try to be a real man!!! well first off I have to tell you it's not easy.</div><br /><br />:-[ ... ok, ok... I think it is good then... :) ... unfortunately will take lotta time, huh?<br /><br /><div class="quote"><br />as for resources, I haven't delved into this yet<br /></div><br /><br />Thats the sad part when you want to do something really wacky and almost unusefull ( for &quot;normal people&quot; only? ; ) ... there is NOT many information about it... on the other side, whoever does it, will be kinda legendary...<br /><br />------<br />See yaz!</div>
    <div class="meta">Posted on 2002-09-20 15:12:38 by wicr0s0ft</div>
   </div>
   <div class="post" id="post-58909">
    <div class="subject"><a href="#post-58909">Build the entire .exe manually???</a></div>
    <div class="body"><div class="quote"><br />Ok, I think I have really a LOTTA to read now (even more than the piles Im on right now :-D ) .... Ill hang!<br /><br />But I dont want to be a perfect nerd about it, I want to use that knowledge, in &quot;some&quot; practical manner. For example, it annoys me to open a executable file (like my fisrt asm programs) and see that they are mostly NULL bytes!!!! Come on!! Dowsn't  anyone cares about that like me?? I want to remove those, and also would be kinda cool to mess up with our .exe files <strong>directly</strong>, wouldn't it?? ;)</div><br /><br />Even if you write your executables using a Hex editor, you will still have these null bytes, al least if you want to make standard and fully win32 compliant PE files...<br />This is padding, and if you remove some bytes of it, the exe file is not garanteed to work...<br /><br />If you want to save you time, use a very low-level assembler like FASM or NASM that allows much control over the outputted binary files... the result will be nearly the same, to not say the same...</div>
    <div class="meta">Posted on 2002-09-20 15:28:14 by JCP</div>
   </div>
   <div class="post" id="post-58928">
    <div class="subject"><a href="#post-58928">Build the entire .exe manually???</a></div>
    <div class="body"><div class="quote"><br />use a very low-level assembler like FASM or NASM that allows much control over the outputted binary files... the result will be nearly the same, to not say the same...<br /></div><br /><br />:( really? can u tell what are there so many useless bytes then? I think they must be &quot;reserved&quot; for something (that will almost never be used :-p ), but maybe something else?<br /><br />... anyway, I should have expected that... there is not a single thing thing that M $ does that we can fully enjoy... :(</div>
    <div class="meta">Posted on 2002-09-20 16:57:05 by wicr0s0ft</div>
   </div>
   <div class="post" id="post-58930">
    <div class="subject"><a href="#post-58930">Build the entire .exe manually???</a></div>
    <div class="body"><div class="quote"><br />But I dont want to be a perfect nerd about it, I want to use that knowledge, in &quot;some&quot; practical manner. For example, it annoys me to open a executable file (like my fisrt asm programs) and see that they are mostly NULL bytes!!!! Come on!! Dowsn't  anyone cares about that like me??</div><br /><br />I would prefer the null bytes, since they ensure the sections are aligned and can be loaded faster into memory... It might save a few bytes if you remove them but it's actually slower (although you won't really notice it). Optimizing for speed and optimizing for size don't always go hand in hand well together.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-09-20 17:05:46 by Thomas</div>
   </div>
   <div class="post" id="post-58933">
    <div class="subject"><a href="#post-58933">Build the entire .exe manually???</a></div>
    <div class="body">Also, Iczelion wrote a series of tuts on the PE file format.  You may want to check those out as well.</div>
    <div class="meta">Posted on 2002-09-20 17:39:42 by Will</div>
   </div>
   <div class="post" id="post-58935">
    <div class="subject"><a href="#post-58935">Build the entire .exe manually???</a></div>
    <div class="body"><em> in reply to <strong>Thomas</strong>:</em><br />I really prefer the smallest file possible. I dont care about the extra secs (mili? nano maybe?) it will take to load. In fact, I just had the following idea:<br /><br /> how many executable files you think you have on a normal (ultra bloated :-p ) M$ based machine? Have you ever tried to search *.exe in your hard drive.... better, you can only try the %system% dir. :)<br /><br />  I can say just by my memory, it is more than 50 ( i searched on my work's winNT and found 240 ) ... well, pals, I think we could save some MEGS on our hard disk getting rid of those null bytes, dont you think? Dont forget to include the null bytes we would find in AAALLL the DLLs and VXD, etc.... ;)<br /><br /><br />------------------<br /><br />I think I have a point here! :-D</div>
    <div class="meta">Posted on 2002-09-20 18:29:32 by wicr0s0ft</div>
   </div>
   <div class="post" id="post-58937">
    <div class="subject"><a href="#post-58937">Build the entire .exe manually???</a></div>
    <div class="body"><strong>wicr0s0ft</strong>, search this board or M$.com for &quot;PE File Format&quot; - good to hear straight from the source.  These are good things to know - really gives you a deeper understanding of what can be in an EXE and what features the PE format offers.  These features are not all so easily exposed by the linker.</div>
    <div class="meta">Posted on 2002-09-20 18:58:05 by bitRAKE</div>
   </div>
   <div class="post" id="post-58960">
    <div class="subject"><a href="#post-58960">Build the entire .exe manually???</a></div>
    <div class="body">Even if you did strip all the padding, it will still take up at least 4KB on your HD. <br /><br />That's called Slack Space and is due to sectors. FAT32 supports a smallest of a 4KB sector. The larger the HD, the larger the sector.<br /><br />NTFS has the same problem. I've seen a 40GB HD with 7GB of unuseable space.<br /><br />The only solutions comprise either partitioning the HD, or using a different File System.</div>
    <div class="meta">Posted on 2002-09-20 22:35:16 by eet_1024</div>
   </div>
   <div class="post" id="post-58964">
    <div class="subject"><a href="#post-58964">Build the entire .exe manually???</a></div>
    <div class="body"><div class="quote"><br />NTFS has the same problem. I've seen a 40GB HD with 7GB of unuseable space.</div>Compression</div>
    <div class="meta">Posted on 2002-09-20 22:44:58 by bitRAKE</div>
   </div>
   <div class="post" id="post-58966">
    <div class="subject"><a href="#post-58966">Build the entire .exe manually???</a></div>
    <div class="body">I wouldn't use compression just like I wouldn't use NTFS. To hard to recover data. FAT32 w/ Many partitions works for me.<br /><br />As a side note, Win2K is NOT capable of formating large FAT32 Partitions (ie &gt; 2GB).</div>
    <div class="meta">Posted on 2002-09-20 22:54:59 by eet_1024</div>
   </div>
   <div class="post" id="post-58997">
    <div class="subject"><a href="#post-58997">Build the entire .exe manually???</a></div>
    <div class="body">I guess on NTFS system, disk access are much more faster than on FAT32s.<br />Can anyone confirm this?</div>
    <div class="meta">Posted on 2002-09-21 08:00:45 by Axial</div>
   </div>
   <div class="post" id="post-59002">
    <div class="subject"><a href="#post-59002">Build the entire .exe manually???</a></div>
    <div class="body">The only advantage to NTFS I've heard of is that it can save huge files (= larger than 4 gigabyte)</div>
    <div class="meta">Posted on 2002-09-21 08:58:40 by Qweerdy</div>
   </div>
   <div class="post" id="post-59039">
    <div class="subject"><a href="#post-59039">Build the entire .exe manually???</a></div>
    <div class="body">wicr0s0ft<br />be sure to read this one<br />&quot;$Id: pe.txt,v 1.9 1999/03/20 23:55:09 LUEVELSMEYER Exp $&quot;<br /><br />search for &lt;LUEVELSMEYER + pe file format&gt; on google.com, i'm sure u'll find it. it was how i learnt about the PE file format and it also covers how both the assembler and linker works, the .resources are also covered, but it's a pain in the 4ss to understand it in a real exe :\<br /><br />if you're unhappy with the 0-arrays :) try using UPX to compress the exe, it's a good packer, and the execution isn't really afected since by diminuishing the .exe the hard drive reads less bytes and the CPU does a fast unpacking in memory<br /><br /><br />hope i helped<br /><br />cya</div>
    <div class="meta">Posted on 2002-09-21 16:16:56 by kr0n0</div>
   </div>
   <div class="post" id="post-59069">
    <div class="subject"><a href="#post-59069">Build the entire .exe manually???</a></div>
    <div class="body">I have attached &quot;$Id: pe.txt,v 1.9 1999/03/20 23:55:09 LUEVELSMEYER Exp $&quot; :grin:</div>
    <div class="meta">Posted on 2002-09-22 00:47:14 by roticv</div>
   </div>
   <div class="post" id="post-59075">
    <div class="subject"><a href="#post-59075">Build the entire .exe manually???</a></div>
    <div class="body">Axial,<br /><br />The info I have seen says no, NTFS has additional features but it is no faster than FAT32. I run win2k over a win98 installation with dual boot on a test machine and win2k reads and writes to FAT32 OK so if it cannot format bigger than 2 gig in FAT32, use the DOS format on a floppy.<br /><br />This does sound unusual to me as FAT16 had this limit where FAT32 did not.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-09-22 02:27:13 by hutch--</div>
   </div>
   <div class="post" id="post-59081">
    <div class="subject"><a href="#post-59081">Build the entire .exe manually???</a></div>
    <div class="body">Wasn't FAT32 more or less made for making bigger partitions avalible? Well, after googling i found the sites mentioned below (links within &quot;-&gt;&quot;,&quot;&lt;-&quot; ). (I didn't know M$ thay had such info on thir sites.)<br /><br />On the M$ Support site, they say maximum size for a FAT16 disk is 2 GB. Here is the <a target="_blank" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;Q118335">-&gt; page &lt;-</a> <br />And for the FAT32, <div class="quote"><em>Quoted from M$'s support site:</em><br />* The maximum possible number of clusters on a volume using the FAT32 file system is 268,435,445. With a maximum of 32 KB per cluster with space for the file allocation table (FAT), this equates to a maximum disk size of approximately 8 terabytes (TB).<br />...<br />* You cannot format a volume larger than 32 GB in size using the FAT32 file system in Windows 2000. The Windows 2000 FastFAT driver can mount and support volumes larger than 32 GB that use the FAT32 file system (subject to the other limits), but you cannot create one using the Format tool. This behavior is by design. If you need to create a volume larger than 32 GB, use the NTFS file system instead. <br /></div> <br />the page for above is <a target="_blank" href="http://support.microsoft.com/default.aspx?scid=kb;en-us;Q184006">-&gt; here &lt;-</a>.<br /><br />I don't notice any speed difference between NTFS (compressed) and FAT32, haven't done any bechmarking thou.</div>
    <div class="meta">Posted on 2002-09-22 03:21:20 by scientica</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=8050&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=8050&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="8050" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=8050&amp;page=2">&gt;</a><a href="../?id=8050&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
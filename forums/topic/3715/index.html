<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>send/recieve - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3715" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=3715">send/recieve</a></p>
   <div class="post" id="post-24908">
    <div class="subject"><a href="#post-24908">send/recieve</a></div>
    <div class="body">Does anyone have a example of a simple send/receive of data using Winsock.  I seem to be able to send the data out, but receiving it appears to be giving me a lot of problems.  I am basically wanting to send out a packet of data that a server on the other end is going to respond to with a packet, and put the responce into a buffer.   I believe I am actually having trouble with WSAAsyncSelect, but I am not for sure, I am just looking for a non-macroed simple as pie example I can look at to see how winsock handles this stuff.   I can understand BSD sockets a LOT better than this stuff....almost makes me wanna move back to FreeBSD....:)<br />Thanks<br />Cheeseball</div>
    <div class="meta">Posted on 2002-02-18 16:56:19 by Cheeseball</div>
   </div>
   <div class="post" id="post-24917">
    <div class="subject"><a href="#post-24917">send/recieve</a></div>
    <div class="body">If you want to use MASM32 then look at this:<br /><a target="_blank" href="http://spiff.tripnet.se/~iczelion/asmsockguide.html">http://spiff.tripnet.se/~iczelion/asmsockguide.html</a> <br /><br />Or if you want to use C, then this is good:<br /><a target="_blank" href="http://tangentsoft.net/wskfaq/">http://tangentsoft.net/wskfaq/</a></div>
    <div class="meta">Posted on 2002-02-18 18:24:19 by NoException</div>
   </div>
   <div class="post" id="post-24953">
    <div class="subject"><a href="#post-24953">send/recieve</a></div>
    <div class="body">of course you can get alot more fancy than this but this is kinda the basic:<br /><br /><pre><code>.const<br />event equ 4001 ;// &lt;-- you need make a special message that you respond to when you get an FD_READ etc<br /><br />.code<br />invoke WSAAsyncSelect,hSocket0,hGlobal, Event, FD_READ+FD_WRITE+FD_CLOSE+FD_CONNECT<br /><br />....<br />......<br />.......<br /><br /><br />.elseif uMsg == event ;// &lt;-- your special event notifying you<br />   mov eax, lParam      <br />      .if ax==FD_READ<br />         invoke recv, hSocket, pIncomingData,sizeof pIncomingData, 0</code></pre></div>
    <div class="meta">Posted on 2002-02-18 23:10:27 by smurf</div>
   </div>
  </div>
 </body>
</html>
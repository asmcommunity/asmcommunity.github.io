<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>MASM bug or ''feature,'' you deceide - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26476" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26476">MASM bug or ''feature,'' you deceide</a></p>
   <div class="post" id="post-191715">
    <div class="subject"><a href="#post-191715">MASM bug or ''feature,'' you deceide</a></div>
    <div class="body">Say you have a struct:

aStruct STRUCT
  A DW 0
  B DW 0
  C DW 0
ENDS

And then you declare an instance of it like such:

MyStruct aStruct {1, 2}

Note the struct is defined for 3 elements, but I only gave it two. What would you expect the compiler to do?

I'd expect an error, since I did not define 3 elements, nor instruct the default value to be given like so:

MyStruct aStruct {1, 2, }

Instead, ML simply uses the default value. No errors, no warnings.

So, YOU be warned.

(If anyone knows how to force this to error, please leave me a post)</div>
    <div class="meta">Posted on 2000-12-31 17:31:00 by Ernie</div>
   </div>
   <div class="post" id="post-191716">
    <div class="subject"><a href="#post-191716">MASM bug or ''feature,'' you deceide</a></div>
    <div class="body">i have noticed that before aswell, i always have found the easist way to get around it, is before you compile your code add an extra member on the the end of the declaration. e.g.

aStruct STRUCT
A DW 0
B DW 0
C DW 0
ENDS

MyStruct aStruct <1,2,3,0>
or
MyStruct aStruct <1,2,,0>

just whatever, so when masm does compile, it gives you an error saying there are too many declarations.
After that, just delete the extra data and recompile, if it all goes well then your structure has the correct number of members</div>
    <div class="meta">Posted on 2001-01-01 17:20:00 by 870621345 </div>
   </div>
  </div>
 </body>
</html>
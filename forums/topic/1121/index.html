<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>pe module image base addresses - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1121" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1121">pe module image base addresses</a></p>
   <div class="post" id="post-7334">
    <div class="subject"><a href="#post-7334">pe module image base addresses</a></div>
    <div class="body">Hi.<br />I have a quick question related to the Image Base Addresses of PE Modules.<br />Is it correct, that when windows loads a new process into memory, that the executable pe module (the .exe file itself) is loaded into memory first, and after that, the dlls (which have to be loaded) are loaded into its address space.<br />If that is correct, the .exe pe modules are always loaded at the Image Base Address specified in the PE Module in the Optional Header, because it's the first module to be loaded, so another module cannot be loaded in this address range alreay. is that correct?<br />But .dll modules might not be loaded at the desired Image Base specified in the pe module because if there are for example 2 dlls which have to be loaded into the same address space at the same Image Base, 1 dll will have to be loaded at another address so that they don't &quot;overlap&quot; each other. is that correct?</div>
    <div class="meta">Posted on 2001-09-17 09:06:24 by darester</div>
   </div>
   <div class="post" id="post-7340">
    <div class="subject"><a href="#post-7340">pe module image base addresses</a></div>
    <div class="body">yes, windows loads first the exe, than all dlls<br /><br />exe is loaded normally to its base address, f.e. 400000h<br />the docu says, that its &quot;possible&quot;, that the exe must be<br />relocated elsewhere, but I could never create this case.<br />At least under Win95 the exe could always be loaded to<br />its base address.<br /><br />DLLs become relocated, if the target address space is already<br />in use. So your statements are all correct :)</div>
    <div class="meta">Posted on 2001-09-17 09:21:20 by beaster</div>
   </div>
  </div>
 </body>
</html>
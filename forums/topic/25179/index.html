<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Utility for touching files and directories - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25179" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25179">Utility for touching files and directories</a></p>
   <div class="post" id="post-184323">
    <div class="subject"><a href="#post-184323">Utility for touching files and directories</a></div>
    <div class="body">Here is a utility for touching and lower-casing files and subdirectories, recursively.<br />It only works under Win9x however but hey, thats me.<br /><br />Somewhat entertaining finding out how to do this under Win9x, as the source shows.<br /><br />Cheers all</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1968" target="_blank">tlc.rar</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-08-07 23:39:25 by davk</div>
   </div>
   <div class="post" id="post-184331">
    <div class="subject"><a href="#post-184331">Re: Utility for touching files and directories</a></div>
    <div class="body">Why on earth are you using VXDCall instead of the Win32 functions?</div>
    <div class="meta">Posted on 2006-08-08 05:34:14 by f0dder</div>
   </div>
   <div class="post" id="post-184333">
    <div class="subject"><a href="#post-184333">Re: Utility for touching files and directories</a></div>
    <div class="body">Perhaps <strong>pVxDCall0</strong> really sets the filetime of a directory?<br />AFAIR touching <em>directory creating time</em> in DOS was not a trivial task:<br /><ul><br /><li>Store current system time.</li><br /><li>Fake system time to the desired time.</li><br /><li>Create a directory with temporary name.</li><br /><li>Restore current system time.</li><br /><li>Move all files and subfolders from original to the new directory.</li><br /><li>Remove original directory.</li><br /><li>Rename temporary directory to its original name.</li><br /></ul><br /></div>
    <div class="meta">Posted on 2006-08-08 13:02:51 by vit$oft</div>
   </div>
   <div class="post" id="post-184334">
    <div class="subject"><a href="#post-184334">Re: Utility for touching files and directories</a></div>
    <div class="body"><div class="quote"><br />Perhaps <strong>pVxDCall0</strong> really sets the filetime of a directory?<br />AFAIR touching <em>directory creating time</em> in DOS was not a trivial task:<br /></div><br /><br />This is a win32 utility, though, not a DOS utility... if the win32 functions can&#39;t set the file for directories, then ho humm.<br /></div>
    <div class="meta">Posted on 2006-08-08 13:05:54 by f0dder</div>
   </div>
   <div class="post" id="post-184335">
    <div class="subject"><a href="#post-184335">Re: Using VxdCall</a></div>
    <div class="body">F0dder:<br /><br />Try as I might, Win98 would not let me touch directories with the published api.<br />As you know, this merely increases the challenge and eventually directly accessing<br />the underlying functions worked. I think in NT/XP you can do this via the API.</div>
    <div class="meta">Posted on 2006-08-08 14:10:40 by davk</div>
   </div>
   <div class="post" id="post-184336">
    <div class="subject"><a href="#post-184336">Re: Utility for touching files and directories</a></div>
    <div class="body"><strong>davk</strong>, interesting - didn&#39;t know it had a problem like that. Was it any date you couldn&#39;t set for directories?<br /><br />I guess I ought to test on NT, I&#39;m just a bit too lazy and busy I&#39;m afraid :)<br /></div>
    <div class="meta">Posted on 2006-08-08 14:17:30 by f0dder</div>
   </div>
   <div class="post" id="post-184337">
    <div class="subject"><a href="#post-184337">Re: Utility for touching files and directories</a></div>
    <div class="body">F0dder<br /><br />I couldn&#39;t even get to the setting of a datetime.<br /><br />All I got when using CreateFile on a directory was &quot;Access Denied&quot;. I tried every permutation<br />of parameters I could think of but to no avail...<br /><br />Without a directory handle then the api SetFileTime no go.<br /><br />Help came via Pietrik&#39;s undocumented 95 docs and the commentary by * on his creatiion of the hps vx (a demonstrator of kernel vulnerabilities - it mirror images images when you boot on a saturday).<br /> <br /></div>
    <div class="meta">Posted on 2006-08-08 15:51:33 by davk</div>
   </div>
   <div class="post" id="post-184340">
    <div class="subject"><a href="#post-184340">Re: Utility for touching files and directories</a></div>
    <div class="body">Is there a particular directory you are trying to access, or some sort of protection software installed on the system to prevent such access?</div>
    <div class="meta">Posted on 2006-08-08 18:21:06 by SpooK</div>
   </div>
   <div class="post" id="post-184351">
    <div class="subject"><a href="#post-184351">Re: Utility for touching files and directories</a></div>
    <div class="body">Nope, bog standard w98se, any directory and anywhere...</div>
    <div class="meta">Posted on 2006-08-09 01:42:30 by davk</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need help! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13513" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=13513">Need help!</a></p>
   <div class="post" id="post-104681">
    <div class="subject"><a href="#post-104681">Need help!</a></div>
    <div class="body">Hi!<br /><br />I know this is a Win32 board, but can someone help me with some dos-codes?<br />:stupid:<br /><br />I've written a small program (which I'm going to continue on), but I'm afraid there are some serious bugs in my code... This is first time I write such a program... and first time I've ever tried allocating memory and file-handling in DOS, so anybody who wants to help me would be appreciated. (I've programmed in assembly (FASM) for about one year.)<br /><br />I attach a zip-file with the codes and everything (it's going to be an easy programming language (if I can call it that)).<br /><br />Thanks! Cheers!<br />Tommy</div>
    <div class="meta">Posted on 2003-05-25 03:26:10 by Tommy</div>
   </div>
   <div class="post" id="post-104706">
    <div class="subject"><a href="#post-104706">Need help!</a></div>
    <div class="body">All I can you code like Privalov :grin: No comments found. <br />Here's a nice link:<br /><a target="_blank" href="http://www-2.cs.cmu.edu/afs/cs/user/ralf/pub/WWW/files.html">http://www-2.cs.cmu.edu/afs/cs/user/ralf/pub/WWW/files.html</a><br />A must have for anyone coding in dos.</div>
    <div class="meta">Posted on 2003-05-25 07:43:18 by roticv</div>
   </div>
   <div class="post" id="post-104724">
    <div class="subject"><a href="#post-104724">Need help!</a></div>
    <div class="body">Hi Tommy,<br /><br />looking at your code I feel 15 years younger (at least), back in the 80s.<br /><br />Probably you should give us some hints what is going wrong.<br /><br />You are using dos function 48h to allocate memory. this will return a SEGMENT if successful, it's not a pointer, so you are using it in a wrong way currently. You will have to deal with all this old segmentation stuff if you dont switch to 32bit, which I would strongly suggest.<br /><br />Japheth</div>
    <div class="meta">Posted on 2003-05-25 11:09:53 by japheth</div>
   </div>
   <div class="post" id="post-104736">
    <div class="subject"><a href="#post-104736">Need help!</a></div>
    <div class="body">Oh, I see... Thanks!<br /><br />So long!<br />Tommy</div>
    <div class="meta">Posted on 2003-05-25 12:07:23 by Tommy</div>
   </div>
   <div class="post" id="post-104793">
    <div class="subject"><a href="#post-104793">alloc</a></div>
    <div class="body">Hi Tommy,<br /><br /> DOS alloc  64kb segment for your  *.com file. If your file smallest than 64k you can use a buffer. <br /><br /> <pre><code><br /><br />bufstart  equ codeend - codestart <br /><br /> codestart label word<br /><br /> ... your code<br /> ... you data<br /><br /> codeend label word<br /> here is your buffer  start area<br />...buffer....<br />...stack....<br /><br /> </code></pre><br /><br /> But don't remember stack pointer.  As for me you must alloc minimum 512 byte for stack pointer. <br /><br /> 65535 - 512 = 65023 - bufstart = max alloc mem<br /><br /> Regards,</div>
    <div class="meta">Posted on 2003-05-26 02:17:02 by CYDONIA</div>
   </div>
   <div class="post" id="post-105375">
    <div class="subject"><a href="#post-105375">Need help!</a></div>
    <div class="body">Thanks alot! :alright: Exactly what I needed!<br /><br />So long! Take care!</div>
    <div class="meta">Posted on 2003-05-30 02:05:26 by Tommy</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>memory copy speed test - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22499" />
  <link rel="prev" href="../?id=22499&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=22499">memory copy speed test</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=22499&amp;page=1" style="">&laquo;</a><a href="../?id=22499&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22499" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-168954">
    <div class="subject"><a href="#post-168954">Re: memory copy speed test</a></div>
    <div class="body">I&#39;m just quoting the theoretical informations from Intel. Practice shows that the only way to optimize something is to test all possibilities on all possible machines :)</div>
    <div class="meta">Posted on 2005-12-16 14:23:56 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168955">
    <div class="subject"><a href="#post-168955">Re: memory copy speed test</a></div>
    <div class="body">Specifically, it says:<br /><br /><div class="quote"><br />The inc and dec instructions modify only a subset of the bits in the flag register. This creates a dependence on all previous writes of the flag register. This is especially problematic when these instructions are on the critical path because they are used to change an address for a load on which many other instructions depend.<br /><br /><strong>Assembly/Compiler Coding Rule 42. (M impact, H generality)</strong> inc and dec instructions should be replaced with an add or sub instruction, because add and sub overwrite all flags, whereas inc and dec do not, therefore creating false dependencies on earlier instructions that set the flags.<br /></div><br /><br />Interestingly, though, the latency for add/sub seems to have increased on newer P4s (according to table c-8 in the intel p4 optimisation guide) to level with dec/inc (1 cycle) whereas it was 0.5 cycles. When I tested add/sub versus inc/dec that was on an early P4 (a Wilamette). Maybe the difference isn&#39;t so big on Prescotts....?</div>
    <div class="meta">Posted on 2005-12-16 16:28:54 by stormix</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=22499&amp;page=1" style="">&laquo;</a><a href="../?id=22499&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22499" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
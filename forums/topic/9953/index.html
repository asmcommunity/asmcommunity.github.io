<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Anyone heard of this behavior is NASM? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9953" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9953">Anyone heard of this behavior is NASM?</a></p>
   <div class="post" id="post-74345">
    <div class="subject"><a href="#post-74345">Anyone heard of this behavior is NASM?</a></div>
    <div class="body">Hello, In my code one of my lines is:<br /><br />xor eax,eax<br /><br />and when i disassemble that code with ndisasm (nasm dissasembler) xor eax,eax became xor ax,ax and when I put xor ax,ax in my code when i disassemble it it becomes xor eax,eax...<br /><br />Is this normal behavior?Xor eax, eax and ax,ax both take the same amount of bytes but I'm curious if they even do the same thing and I'm wondering why eax,eax becomes ax,ax and vice versa.</div>
    <div class="meta">Posted on 2003-01-04 17:22:51 by kairon</div>
   </div>
   <div class="post" id="post-74431">
    <div class="subject"><a href="#post-74431">Anyone heard of this behavior is NASM?</a></div>
    <div class="body">'xor eax, eax' and 'xor ax, ax' have the same opcodes (33 C0) but one of them has a prefix byte (66), depending on which mode the processor is in. In 16-bit mode, 33 C0 means 'xor ax, ax' and 66 33 C0 means 'xor eax, eax'. In 32-bit mode, 33 C0 means 'xor eax, eax' and 66 33 C0 means 'xor ax, ax'.<br />Your assembler and disassembler probably assume different modes (assembler uses 32-bit mode but disassembler assumes the code is written for 16-bit mode)<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-01-05 06:06:06 by Thomas</div>
   </div>
   <div class="post" id="post-74436">
    <div class="subject"><a href="#post-74436">Anyone heard of this behavior is NASM?</a></div>
    <div class="body">heh the stuff thats floating around in some ppls heads....  lol  some ppl just know everything ;)</div>
    <div class="meta">Posted on 2003-01-05 07:19:44 by dionysus</div>
   </div>
   <div class="post" id="post-74442">
    <div class="subject"><a href="#post-74442">Anyone heard of this behavior is NASM?</a></div>
    <div class="body"><div class="quote">heh the stuff thats floating around in some ppls heads</div><br /><br />Didn't read The Svin's opcode tutorial in the Algorithms forum, did you? :tongue:</div>
    <div class="meta">Posted on 2003-01-05 08:36:27 by Qweerdy</div>
   </div>
  </div>
 </body>
</html>
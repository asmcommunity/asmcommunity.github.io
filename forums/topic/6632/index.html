<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>VisualC .asm output - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6632" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6632">VisualC .asm output</a></p>
   <div class="post" id="post-47869">
    <div class="subject"><a href="#post-47869">VisualC .asm output</a></div>
    <div class="body">Hi all,<br />This is for a friend of mine.. he asked me if VisualC++, when one makes it produce an .asm output, can be set up in a way to reduce as much as possible the source bloat it produces. Sorry, I don't have more details.. but he talked about a possible way to configure the compiler when outputting .asm code. Does anybody know?<br /><br />Thanks,<br />Maverick</div>
    <div class="meta">Posted on 2002-07-16 03:28:42 by Maverick</div>
   </div>
   <div class="post" id="post-47870">
    <div class="subject"><a href="#post-47870">VisualC .asm output</a></div>
    <div class="body">use with /FA<br /><br />Alt-F7 (Projects-&gt;Settings) Under C/C++ tab and add /FA on project options.<br /><br />.ASM file is on the debug/release folder.<br /><br />::edit::<br /><br />as for reducing bloat, you can use<br /><br />/o1 - this will optimize for size<br /><br />or use the command line directly...<br /><br />cl /c /MD /Gz /GB /o1 /FA filename.c<br /><br />and link with the linker provided in the MASM32: \masm32\bin\link /SUBSYSTEM:CONSOLE filename.obj<br /><br />There are a lot of combo's you can make, it's just way to many of them.<br /><br />::edit again::<br /><br />Forgot to add /FA on the compiler arguments. I don't know any other options aside from the one above. Use hand coded asm as was stated by bAZiK below. :grin:</div>
    <div class="meta">Posted on 2002-07-16 03:33:49 by stryker</div>
   </div>
   <div class="post" id="post-47875">
    <div class="subject"><a href="#post-47875">VisualC .asm output</a></div>
    <div class="body">Tell him to use hand-written assembly :)</div>
    <div class="meta">Posted on 2002-07-16 04:05:08 by bazik</div>
   </div>
   <div class="post" id="post-47920">
    <div class="subject"><a href="#post-47920">VisualC .asm output</a></div>
    <div class="body"><strong>stryker</strong>: thanks for the hints.. thanks also to <strong>bAZiK</strong> but I'm afraid coding in asm would be too easy.. ;)<br /><br />&lt;edit&gt; Stupid me I noticed I forgot to mention in my original post about <strong>/FA configure assembly listing</strong>.. What about this option?&lt;/edit&gt;</div>
    <div class="meta">Posted on 2002-07-16 09:05:48 by Maverick</div>
   </div>
   <div class="post" id="post-47940">
    <div class="subject"><a href="#post-47940">VisualC .asm output</a></div>
    <div class="body">There are only a few options for FA. This is from the documentation.<br /><br />/FA - Assembly-Only Listing -  Assembly code;  .ASM<br /><br />/FAc - Assembly With Machine Code - Machine and assembly code;  .COD<br /><br />/FAs - Assembly With Source Code -  Source and assembly code;  .ASM<br /><br />/FAcs - Assembly, Machine Code, and Source - Machine, source, and assembly code;  .COD<br /><br />/Fa<em>filename</em> - Listing File Name - Use /Fa to specify a directory and/or filename for the selected type of listing file. By default, the base name of the listing file is the base name of the source file.</div>
    <div class="meta">Posted on 2002-07-16 10:32:57 by stryker</div>
   </div>
   <div class="post" id="post-47972">
    <div class="subject"><a href="#post-47972">VisualC .asm output</a></div>
    <div class="body">Thank you, Bart. :grin:</div>
    <div class="meta">Posted on 2002-07-16 14:21:27 by Maverick</div>
   </div>
  </div>
 </body>
</html>
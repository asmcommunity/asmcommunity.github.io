<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>STructures with unions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18598" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=42">RadASM</a> &raquo; <a href="../?id=18598">STructures with unions</a></p>
   <div class="post" id="post-144054">
    <div class="subject"><a href="#post-144054">STructures with unions</a></div>
    <div class="body">Structure containing UNIONS do not fold completly :(<br /><br />like this:<br /><br /><pre><code><br />DDPIXELFORMAT STRUC<br /><br />	ddpf_dwSize				DD	?<br />	ddpf_dwFlags				DD	? <br />	ddpf_dwFour				DD	? <br />	<br />	union<br />		ddpf_dwRGBBitCount		DD	?     <br />		ddpf_dwYUVBitCount		DD	?   <br />		ddpf_dwZBufferBitDepth		DD	?   <br />		ddpf_dwAlphaBitDepth		DD	?   <br />	ends<br /><br />	union<br />		ddpf_dwRBitMask   	DD	?<br />		ddpf_dwYBitMask		dd	?<br />	ends<br /><br />	union<br />		ddpf_dwGBitMask		DD  	?<br />		ddpf_dwUBitMask 	DD  	?   <br />	ends<br /><br />	union<br />		ddpf_dwBBitMask 	DD  	? <br />		ddpf_dwVBitMask 	DD 	? <br />	ends<br /><br />	union  <br />		ddpf_dwRGBAlphaBitMask 		DD  	? <br />		ddpf_dwYUVAlphaBitMask 		DD 	? <br />	ends<br /><br />ENDS<br /></code></pre><br /><br />I might have noticed something similar for strings defined inside an PROC in an FASM project... uncertain..</div>
    <div class="meta">Posted on 2004-06-16 17:09:00 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-144163">
    <div class="subject"><a href="#post-144163">STructures with unions</a></div>
    <div class="body">Hi Bogdan<br /><br />For now the only way is to use:<br /><br />DDPIXELFORMAT STRUC<br />.<br />.<br />.<br />DDPIXELFORMAT ENDS<br /><br />And change option from ? ends to $ ends.<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-06-18 02:56:51 by KetilO</div>
   </div>
  </div>
 </body>
</html>
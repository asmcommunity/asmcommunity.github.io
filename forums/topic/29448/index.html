<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need help writing a program  to generate a square signal for MC68HC11 processor - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29448" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29448">Need help writing a program  to generate a square signal for MC68HC11 processor</a></p>
   <div class="post" id="post-207906">
    <div class="subject"><a href="#post-207906">Need help writing a program  to generate a square signal for MC68HC11 processor</a></div>
    <div class="body">Processor: MC68HC11<br />I need help to write a program (assembly language) that generates a square signal with a frequency previously established. I am not sure if anyone is familiar with the FOX11 kit, but I want to use the parallel ports on that kit.<br />I would like it to take the input from a 4x4 keypad.&nbsp; The numbers entered will be over 500 to represent the frequency generated.<br /><br />I can do the 4x4 input, just need help with the logic of the code.<br />Any help?</div>
    <div class="meta">Posted on 2009-06-25 05:56:53 by maxman</div>
   </div>
   <div class="post" id="post-207908">
    <div class="subject"><a href="#post-207908">Re: Need help writing a program  to generate a square signal for MC68HC11 processor</a></div>
    <div class="body">Easiest way to create a specific freq&nbsp; is to loop N cycles, toggle output bit after that, read keyboard, jump to looping again. <br /><pre><code><br />unsigned char&nbsp; period0,period1,period2;<br /><br />// half_period = period0 + period1*256 + period2*256*256<br />// half_period = cpu_frequency * 2 / frequency<br /><br /><br />while(1){<br />	for(int i=0;i&lt;period2;i++) wait64kCycles();<br />	for(int i=0;i&lt;period1;i++) wait256Cycles();<br />	for(int i=0;i&lt;period0;i++) {} // well, this needs specific tuning...<br /><br />	readKeyboard();<br />}<br /></code></pre></div>
    <div class="meta">Posted on 2009-06-25 07:26:40 by Ultrano</div>
   </div>
   <div class="post" id="post-207909">
    <div class="subject"><a href="#post-207909">Re: Need help writing a program  to generate a square signal for MC68HC11 processor</a></div>
    <div class="body">I just have to figure this psuedocode out into the 68hc11 instruction set, any pointers?</div>
    <div class="meta">Posted on 2009-06-25 09:09:30 by maxman</div>
   </div>
  </div>
 </body>
</html>
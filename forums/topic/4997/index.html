<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>What's faster - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4997" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4997">What's faster</a></p>
   <div class="post" id="post-35121">
    <div class="subject"><a href="#post-35121">What's faster</a></div>
    <div class="body">Hi,<br />I just saw that the author of my books is doing a string comparison via <em>scasb</em>, I tried it via a simple <em>cmp</em> and think that my way should be a bit faster. Now I need some way to check this...<br /><br />Can someone please give some hints about this? What can be measured? Only time? And please give a little example how to do it, I think that it shouldn't be too complex :)<br /><br />Thanks!</div>
    <div class="meta">Posted on 2002-04-26 03:44:28 by Matthias Pfau</div>
   </div>
   <div class="post" id="post-35123">
    <div class="subject"><a href="#post-35123">What's faster</a></div>
    <div class="body">scasb is somewhat slow...<br />The best whay, imho, to implement a strcmp is to use esi and edi registers to point to the strings to compare and then use an index register to compare each character and increment the index register if the two characters are equal...<br /><br />There's many optimization opportunities when you implement though... and more complex algorithm (example : compare 4 bytes in a row).<br />You can mesure code in ms (GetTickCount) or in cycles (rdtsc).<br />Maverick did a very good profiling macro... You can get it at the Algorithm section.<br /><br />The benchmarking was frenquently discussed on the algorithm section and you will find some useful snippets on it.</div>
    <div class="meta">Posted on 2002-04-26 04:01:50 by JCP</div>
   </div>
   <div class="post" id="post-35126">
    <div class="subject"><a href="#post-35126">What's faster</a></div>
    <div class="body"><div class="quote">scasb is somewhat slow...<br />The best whay, imho, to implement a strcmp is to use esi and edi registers to point to the strings to compare and then use an index register to compare each character and increment the index register if the two characters are equal...</div><br />Pretty cool, that was exactly what I have done :)<br />But it was more luck than knowledge :D<br /><br /><div class="quote">There's many optimization opportunities when you implement though... and more complex algorithm (example : compare 4 bytes in a row).<br />You can mesure code in ms (GetTickCount) or in cycles (rdtsc).<br />Maverick did a very good profiling macro... You can get it at the Algorithm section.<br /><br />The benchmarking was frenquently discussed on the algorithm section and you will find some useful snippets on it.</div><br />Ok, will have a look at it :)</div>
    <div class="meta">Posted on 2002-04-26 04:12:21 by Matthias Pfau</div>
   </div>
   <div class="post" id="post-35131">
    <div class="subject"><a href="#post-35131">What's faster</a></div>
    <div class="body">Also, if you post your code in the algorithm section, some optimizations gurus will help you to make it shorter and faster... ;)</div>
    <div class="meta">Posted on 2002-04-26 05:03:13 by JCP</div>
   </div>
   <div class="post" id="post-35133">
    <div class="subject"><a href="#post-35133">What's faster</a></div>
    <div class="body">Yup, will try that after I got a bit more experienced :)</div>
    <div class="meta">Posted on 2002-04-26 05:35:38 by Matthias Pfau</div>
   </div>
   <div class="post" id="post-35138">
    <div class="subject"><a href="#post-35138">What's faster</a></div>
    <div class="body">Huh, I think I'm a bit stupid this morning :(<br /><br />Can't find a post which explains the use of GetTickCount and rdtsc...even the Intel manual (only found something about rdtsc) didn't help :(<br /><br />So I would be really glad If someone could explain these two instructions to me (don't make it to complicated, you know I'm very new to this...)<br /><br />Thanks!</div>
    <div class="meta">Posted on 2002-04-26 05:55:15 by Matthias Pfau</div>
   </div>
   <div class="post" id="post-35157">
    <div class="subject"><a href="#post-35157">What's faster</a></div>
    <div class="body">have a look here at least i think Readiosys means that one <br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=4420">link</a> <br /><br />hopefully the link works ;)<br />if not try a search on the board for maverick as nick</div>
    <div class="meta">Posted on 2002-04-26 08:54:28 by Allanon</div>
   </div>
   <div class="post" id="post-35193">
    <div class="subject"><a href="#post-35193">What's faster</a></div>
    <div class="body">Thanks, but I still don't got it :(<br /><br />I finally found out that GetTickCount is an API function...I'm still at DOS so that doesn't help. I'll have a look at rdtsc tomorrow or after my exams, found some literature about it :)<br /><br />Good night!</div>
    <div class="meta">Posted on 2002-04-26 16:34:02 by Matthias Pfau</div>
   </div>
  </div>
 </body>
</html>
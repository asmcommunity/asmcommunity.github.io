<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hi all great board - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1122" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1122">Hi all great board</a></p>
   <div class="post" id="post-7335">
    <div class="subject"><a href="#post-7335">Hi all great board</a></div>
    <div class="body">Hi there, newly registered and new to win32asm as well, I have some lame stupid questions for you helping gurus there. But before I wish to express my gratitude and happiness to find a (seemingly) active forum that deals with Win32ASM<br />I read some about the Win32 memory model and found out it's a 4G flat of virtual memory for every process. I also read here and there that win32 progs don't modify or use the segment registers. As a start in ASM, these days I was looking with Softice at some of my VC++ progs (don't flame me pleeze, you should be glad that I'll come to the right ASM way soon :) ). And I was wondering what is the address I see in the Code window. It's like xxxx:xxxxxxxx. Whilst the second part seems to be the virtual address of the process softice is currently sticked to, I don't really know what's the use of the first part, how do these two parts fit together, the value of the CS register (which is probably related to physical memory addresses) and the virtual address? Where's some docu on how exactly does Windows use segment registers and how does this affect me as the (future) programmer ?<br />And one more thing, where can I find some complete reference information, not tutorials, about win32 assembly, how exactly are the dlls loaded, structure of exe file and physical memory management under windows. All I found on the web were info about 32 bit processor programming, not how does Windows program them. I hope you know what I mean, if you're not sure please don't hesitate to ask me. I know I'm not very clear.<br />Well that's it for now, but expect me to bother you with more questions soon :)<br /><br />Thanx for any hint/suggestion</div>
    <div class="meta">Posted on 2001-09-17 09:09:41 by Unregistered</div>
   </div>
   <div class="post" id="post-7339">
    <div class="subject"><a href="#post-7339">I am registered actually, dunno what I did wrong</a></div>
    <div class="body">It's me, Unregistered, just for you to know</div>
    <div class="meta">Posted on 2001-09-17 09:14:39 by CalamityJake</div>
   </div>
   <div class="post" id="post-7343">
    <div class="subject"><a href="#post-7343">Hi all great board</a></div>
    <div class="body">I don't know much about Win32 asm myself (only been doing it for 18 months!), but there is quite a lot on PE executables on Iczelion's website <a target="_blank" href="http://win32asm.cjb.net">http://win32asm.cjb.net</a> under tutorials the PE tutorials.<br /><br />I also think you may have trouble finding some of the info you seek, as some of it may be company confidential (to MS), or under NDA's.<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-09-17 09:27:46 by Mirno</div>
   </div>
   <div class="post" id="post-7356">
    <div class="subject"><a href="#post-7356">Hi all great board</a></div>
    <div class="body">try to read this book, i'm sure u'll find all those little thingies...<br /><br /><a target="_blank" href="">=http://www.multimania.com/mpietreks2/PietrekBook.zip]pietrek's book</a><br /><br />PS: i'm not sure about the link, i got it from a last post.</div>
    <div class="meta">Posted on 2001-09-17 13:17:35 by Sabeel</div>
   </div>
   <div class="post" id="post-7365">
    <div class="subject"><a href="#post-7365">Yup</a></div>
    <div class="body">Yes, Memory is flat 32 bit in Windows (for the 32 bit part)<br /><br />but there is a lot of 16 bit code in GDI part of windows<br /><br />In 32 bit CS,DS,SS,ES,GS,FS segment registers still exist but they are called &quot;selectors&quot; now, their value &quot;selects&quot; one record in a GDT (Global descriptor Table) or LDT (Local Descriptor Table) and that record tells the micro what physical base addres to use with the offset part...and a lot of other info<br /><br />things get more complicated with pageing...<br /><br />however if you are a beginner you should not think to all of those things... you can do programming in win32asm without knowing them and learn as you code... later you will have to understand them deeper .... esp if you want to make your own OS... Intel manuals can help here a lot</div>
    <div class="meta">Posted on 2001-09-17 15:20:18 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-7412">
    <div class="subject"><a href="#post-7412">thnx all</a></div>
    <div class="body">Hi - <br />Thank you all for concerning. <br />Yep, I think Iczelion's tuts are a good place to start with PE.<br />I've also downloaded Pietrek's book, the table of contents looks great :), probably this is what I'm lookin for. The right URL's I've taken from another post are <a target="_blank" href="http://www.multimania.com/mpietreks2/PietrekBook.zip">http://www.multimania.com/mpietreks2/PietrekBook.zip</a>  <br />for the pdf book and<br /><a target="_blank" href="http://www.multimania.com/mpietreks1/pietrek_disk.zip">http://www.multimania.com/mpietreks1/pietrek_disk.zip</a><br />the sources disk anyway thanks for pointing me to this book.<br />About those segment registers I'm sure it's not easy to understand how Windows runs in protected mode, protected mode itself is a hard topic in my opinion. But I'd like to understand (roughly of course) what's going on when I see an instruction like mov EDX, FS:. Here's what I know about how the virtual address in BX is interpreted. The CR3 register points us to a 1024 byte page made of 4-byte entries, each process has its own page, so switching the process implies switching of CR3 contents. Then using the virtual address to &quot;navigate&quot; through a tree-like hierarchy of pages with the root in the CR3 page, we're finally taken to the physical address. Where's the segment register here? Is it that maybe all accesses to the pages and page entries are made through it? What are in principle the reasons a programmer would use the segment registers?<br />I'm sure there is a way to explain this for a newbie like me, not going into much details, just some guideline. All I'm interested in for now is the principle.<br /><br />Thank you very much for your time</div>
    <div class="meta">Posted on 2001-09-18 02:51:46 by CalamityJake</div>
   </div>
  </div>
 </body>
</html>
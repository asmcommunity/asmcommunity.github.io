<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Has anyone tried cgdb? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29785" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=29785">Has anyone tried cgdb?</a></p>
   <div class="post" id="post-210392">
    <div class="subject"><a href="#post-210392">Has anyone tried cgdb?</a></div>
    <div class="body">Well, for my first post I guess I&#039;ll ask if anyone&#039;s tried <a target="_blank" href="http://cgdb.sourceforge.net/">cgdb</a>. &nbsp;Since I started with gdb, then found cgdb, and I have been using it anytime I compile nasm with -g. Though yesterday I found asmbug and have been tinkering around with that, but I still like cgdb.<br /><br />Also, I&#039;d like to add, although I&#039;ve been learning Nasm and assembly in general for only a few days (if not counting the weeks that I haven&#039;t been doing so), I just don&#039;t have many questions to ask. &nbsp;After finding the <a target="_blank" href="http://linuxasmtools.net/">linuxasmtools</a> yesterday and looking through the code, and as well as reading the first few pages of the pcasm book, example bootloaders, and compiled c programs with gdb and cgdb from when I first started I&#039;ve figured out almost everything I need to get going. &nbsp;The only thing I need is to remember it, but eh a few trials and examples here and there, I&#039;m sure I&#039;ll remember it all eventually.<br /><br />Oh, also I&#039;d like your opinions on a bit of code I&#039;ve used for when testing functions. I&#039;m just curious as to how good/bad it is. It&#039;s a few macros for use with functions that need several local variables.<br /><br /><pre><code><br />;<br />;<br />;		Macro list to make programming with nasm easier.<br />;<br />;	Pascal like routines for <br />;<br />;	begin		Prepares a function for use.<br />;	var x		init x number of local variables.<br />;	end<br />;<br />;	Others...<br />;<br />;	local(x)	Imagine the local variables organized in an array.<br />;	arg(x)		Same as local, but for arguments passed to the function.<br />;<br />;	WARNING		WARNING		WARNING		WARNING<br />;	<br />;	BE SURE TO REMEMBER TO POP OFF ALL PARAMETERS SO THEY DON&#039;T EXIST ANY MORE.<br />;<br /><br />%macro begin 0<br />	push ebp<br />	mov ebp, esp<br />%endmacro<br /><br />%macro var 1<br />	sub esp, %1*4		; Create space for n number of variables. (four bytes per register).<br />%endmacro<br /><br />%macro end 0<br />	mov esp, ebp<br />	pop ebp<br />	ret<br />%endmacro<br /><br />%define local(a) ebp-(a*4)	; mov eax,  will place the first local variable into eax.<br />				; add , eax ; Same as add , eax ; ebp-(1*4)=(ebp-(1*4)) + eax<br /><br />%define arg(a) ebp+4+(a*4)	; mov eax,  will place the first argument passed to the function in eax.<br /></code></pre><br /><br />??...Thanks<br /></div>
    <div class="meta">Posted on 2010-01-25 11:44:54 by Mol_Bolom</div>
   </div>
   <div class="post" id="post-210393">
    <div class="subject"><a href="#post-210393">Re: Has anyone tried cgdb?</a></div>
    <div class="body">Hadn&#039;t heard about cgdb, but it could turn out fairly useful if I ever need to do some linux debugging... looks a lot nicer than vanilla GDB, which imho is horrible :)<br /><br />The macros are perhaps a bit simple - but every journey has it&#039;s beginnings. You might want to check out the <a target="_blank" href="http://www.asmcommunity.net/projects/nasmx/">NASMX</a> project.</div>
    <div class="meta">Posted on 2010-01-25 12:24:04 by f0dder</div>
   </div>
   <div class="post" id="post-210395">
    <div class="subject"><a href="#post-210395">Re: Has anyone tried cgdb?</a></div>
    <div class="body">I have not used cgdb but I will be looking into it. I mostly use a mix of strace and gdb for all of my debugging under linux and tbh I&#039;m about sick of gdb lol. cgdb looks interesting but I&#039;m not getting my hopes up just yet, I thought Insight looked cool as well but it turned out to be fairly useless.<br /><br />As for your macros file, no problem with the macros, they are short and simple. Very nicely done. I also would suggest, like f0dder, that you check out the NASMX project, more importantly the NASMX.INC file. It&#039;s pretty much the same idea, only a bit more complex and has 64-bit support. You should be able to understand the macros in that file fairly well, the VAR() and ARG() macros are implemented in much the same way as your local() and arg() macro are with the exception they support names instead of just numbers.<br /><br />Also, sapero is working on a nice extention to nasm in the form of %proc/%local/%endproc support which I&#039;m sure will be a big hit when he finishes. From what I&#039;ve seen they work a lot like the MASM versions do, so you might want to keep your eyes open for that.<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2010-01-25 14:32:59 by Synfire</div>
   </div>
   <div class="post" id="post-210397">
    <div class="subject"><a href="#post-210397">Re: Has anyone tried cgdb?</a></div>
    <div class="body">I wonder how many remote GDB debugger replacements that are available, by the way - it&#039;s possible to have your debuggee running on a linux machine, and doing the actual debugging from the comfort of Windows. The only debugger than GDB that I know has remote GDB support is very recent versions of the IDA disassembler... and it looks extremely powerful, check out the <a target="_blank" href="http://hexblog.com/">Hex Blog</a>. Probably the coolest thing is that recent VMWare and QEMU versions have GDB stubs... you do realize what that means, yes? :)</div>
    <div class="meta">Posted on 2010-01-25 14:43:46 by f0dder</div>
   </div>
   <div class="post" id="post-210400">
    <div class="subject"><a href="#post-210400">Re: Has anyone tried cgdb?</a></div>
    <div class="body"><div class="quote"><br />I have not used cgdb but I will be looking into it. I mostly use a mix of strace and gdb for all of my debugging under linux and tbh I&#039;m about sick of gdb lol. cgdb looks interesting but I&#039;m not getting my hopes up just yet, I thought Insight looked cool as well but it turned out to be fairly useless.<br /></div><br /><br />Heh, I felt the same way about gdb for the first few days of learning and using it, then searching I found cgdb. &nbsp;Actually started using asmbug a bit more today and quite frankly I think I like it better, kind of reminds of of the old Borland TD back when Win 3.1 was around, though I might be wrong, it&#039;s been 10 years since I&#039;ve last used it.<br /><br /><div class="quote">As for your macros file, no problem with the macros, they are short and simple. Very nicely done. I also would suggest, like f0dder, that you check out the NASMX project, more importantly the NASMX.INC file. It&#039;s pretty much the same idea, only a bit more complex and has 64-bit support. You should be able to understand the macros in that file fairly well, the VAR() and ARG() macros are implemented in much the same way as your local() and arg() macro are with the exception they support names instead of just numbers.<br /><br />Also, sapero is working on a nice extention to nasm in the form of %proc/%local/%endproc support which I&#039;m sure will be a big hit when he finishes. From what I&#039;ve seen they work a lot like the MASM versions do, so you might want to keep your eyes open for that.<br /><br />Regards,<br />Bryant Keller<br /></div><br /><br />I do have nasmx in a directory, had it for quite a while, and looks like I&#039;ll have to go through it again. Didn&#039;t notice the VAR() and ARG() macros.<br /><br />I am, also, wondering if I could install a 64 bit system on this computer. It&#039;s not a great computer (2.0ghz, 1gb), but I could just go with a console install of Slackware and that would suffice. Just to give me a system for trying 64 bit code on. Perhaps wouldn&#039;t even have to bother with that and install it with qemu, running it from the console probably wouldn&#039;t eat up that much memory. Eh, I&#039;ve still got a lot to learn, but I&#039;m figuring it out...<br /><br />Thanks f0dder and Synfire<br /><br /><br /></div>
    <div class="meta">Posted on 2010-01-25 19:11:18 by Mol_Bolom</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>interruption - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30419" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=30419">interruption</a></p>
   <div class="post" id="post-213813">
    <div class="subject"><a href="#post-213813">interruption</a></div>
    <div class="body">hi,i&#039;m trying to modify the interruption 23h but my code don&#039;t do what i want and i can&#039;t find the error<br />here is my code<br />Title interruption23h <br /><br /><pre><code>redirige_int macro<br />mov ah,35h<br />mov al,23h<br />int 21h<br />mov ,bx<br />mov ,es<br /><br />mov ah,25h<br />mov al,num_int<br />mov dx,offset traiter_ctrl_break<br />int 21h<br />traiter_ctrl_break:<br />mov ah,9<br />mov dx,offset msg2<br />int 21h<br />verif1:<br />mov ah,1<br />int 21h<br />cmp al,&#039;o&#039;<br />jne verif2<br />jmp fin_propre<br />verif2:<br />mov ah,1<br />int 21h<br />cmp al,&#039;n&#039;<br />jne verif1<br />jmp afficher_bonjour<br />fin_propre:<br />mov ds,offset retour<br />mov al,num_int<br />mov ah,25h<br />int 21h<br />retour:<br />mov bx,<br />mov es,<br />endm<br /><br />.model small<br />.stack 100h<br />.386<br />.data<br />v dw 32000<br />vecteur dw ?<br />msg1 db 10,13,&quot;bonjour$&quot;<br />msg2 db 10,13,&quot;souhaitez vous vraiment fermer le programme?(o/n)$&quot;<br />num_int db &quot;23h&quot;<br /><br />.code<br />main proc<br />mov dx,@data<br />mov ds,dx<br />mov cx,0<br />afficher_bonjour:<br />mov ah,9<br />mov dx,offset msg1<br />int 21h<br />inc cx<br />cmp cx,v<br />jne afficher_bonjour<br />redirige_int<br /><br />mov ah,4ch<br />int 21h<br />main endp<br />end main</code></pre></div>
    <div class="meta">Posted on 2011-01-05 14:11:30 by marooh</div>
   </div>
   <div class="post" id="post-213834">
    <div class="subject"><a href="#post-213834">Re: interruption</a></div>
    <div class="body">As a general rule, when you ask, &quot;Why doesn&#039;t my code work?&quot; it is helpful to tell us what you &quot;intend&quot; for the code to do, and what it actually does.<br /><br />From what I can see, you say &quot;bonjour&quot; 32000 times, do your macro, and exit the program. It looks to me like it should get as far as the macro... and then, I dunno. I don&#039;t know why you put this stuff in a macro, but...<br /><br /><pre><code><br />redirige_int macro<br />mov ah,35h<br />mov al,23h<br />int 21h<br />mov ,bx<br />mov ,es<br /><br />mov ah,25h<br />mov al,num_int<br />mov dx,offset traiter_ctrl_break<br />int 21h<br />...<br /></code></pre><br /><br />First, you get the old handler, and save its address. Good, but you only reserve one word for &quot;vecteur&quot;, so the &quot;&quot; is going to clobber something else. Since it&#039;s the first two bytes of &quot;bonjour&quot;, which we&#039;re done printing, this isn&#039;t going to do any harm, but it&#039;s &quot;wrong&quot;. (just reserve two bytes for &quot;vecteur&quot; to fix it).<br /><br />Then, you set a new interrupt handler, the one in al... but look at the data declaration:<br /><br /><pre><code><br />num_int db &quot;23h&quot;<br /></code></pre><br /><br />By putting the quote marks around this, you make it a text string, so when you load al from it, you get the character &#039;2&#039; - 32h. This is not the interrupt you intend to replace! (just remove the quote marks to fix it)<br /><br />int 21h/25h expects the new interrupt handler&#039;s address in ds:dx. You&#039;ve got dx right, but your new handler is in the code segment, and ds is still pointed at the data segment.<br /><br />Then you &quot;fall through&quot; into your proposed new handler. I doubt if that&#039;s what you want to do. Using dos interrupts within another interrupt handler is generally a bad idea. It can be made to work, but you don&#039;t need complications. As a &quot;first test&quot; of your new handler, I&#039;d suggest something that doesn&#039;t need any interrupts. Do you know how to put an &#039;X&#039; on the screen &quot;direct to video memory&quot;? Try that first, and when it works, ease up to something more complicated.<br /><br />At the end of an interrupt handler, you may need to acknowledge the interrupt - send an EOI (end of interrupt) to the PIC (programmable interrupt controller) - port 20h, if I remember correctly, and maybe port 70h, too((?). A common way to deal with this &quot;housekeeping&quot; is to jump into the old interrupt handler after you&#039;ve done &quot;your stuff&quot;. You&#039;ve saved the address in &quot;vecteur&quot; (two words, right?), so just do a far jump to it. I&#039;m not sure what the Masm syntax would be...<br /><br />Also, you probably want to preserve any registers you alter in your interrupt service routine - the interrupted program is using them!<br /><br />One last complaint:<br /><br /><pre><code><br />fin_propre:<br />mov ds,offset retour<br /></code></pre><br /><br />Is this a legal instruction? What is the purpose?<br /><br />Mmmm, it occurs to me that Randy Hyde&#039;s old 16-bit Art of Assembly book must have an example of an ISR...<br /><br />http://www.arl.wustl.edu/~lockwood/class/cs306/books/artofasm/Chapter_17/CH17-1.html#HEADING1-7<br /><br />See if you can get some help from that. Start with something simple!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-07 09:07:50 by fbkotler</div>
   </div>
   <div class="post" id="post-213835">
    <div class="subject"><a href="#post-213835">Re: interruption</a></div>
    <div class="body">thank you very much for your help,i modified my source code and i hope this time it is correct.<br />the purpose of this program is to modify the interruption 23h and change her with a question &quot;would you leave this program y or n?&quot;<br />if the user answer is yes,this program (to display &quot;bonjour&quot; 32000 times) will shut down else this program will continue displaying.<br />here is my new code:<br /><pre><code>Title interruption23h <br /><br />redirige_int macro<br />mov ah,35h<br />mov al,23h<br />int 21h<br />mov ,bx<br />mov ,es<br />mov dx,seg traiter_ctrl_break<br />mov ds,dx<br />mov ah,25h<br />mov al,num_int<br />lea dx,traiter_ctrl_break<br />int 21h<br />traiter_ctrl_break:<br />mov ah,9<br />mov dx,offset msg2<br />int 21h<br />verif1:<br />mov ah,1<br />int 21h<br />cmp al,&#039;o&#039;<br />jne verif2<br />jmp fin_propre<br />verif2:<br />mov ah,1<br />int 21h<br />cmp al,&#039;n&#039;<br />jne verif1<br />jmp afficher_bonjour<br />fin_propre:<br />mov bx,<br />mov es,<br />mov	al,20h<br />out	20h,al			;End Of Interrupt<br />popad<br />iret			<br />endm<br /><br />.model small<br />.stack 100h<br />.386<br />.data<br />v dw 32000<br />vecteur word <br />msg1 db 10,13,&quot;bonjour$&quot;<br />msg2 db 10,13,&quot;souhaitez vous vraiment fermer le programme?(o/n)$&quot;<br />num_int db 23h<br /><br />.code<br />main proc<br />mov dx,@data<br />mov ds,dx<br />mov cx,0<br />afficher_bonjour:<br />mov ah,9<br />mov dx,offset msg1<br />int 21h<br />inc cx<br />cmp cx,v<br />jne afficher_bonjour<br />redirige_int<br /><br />mov ah,4ch<br />int 21h<br />main endp<br />end main<br /></code></pre></div>
    <div class="meta">Posted on 2011-01-07 11:39:08 by marooh</div>
   </div>
   <div class="post" id="post-213836">
    <div class="subject"><a href="#post-213836">Re: interruption</a></div>
    <div class="body">The &quot;popad&quot; might be a good idea, but don&#039;t you think you should &quot;pushad&quot; first?<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-07 13:38:27 by fbkotler</div>
   </div>
   <div class="post" id="post-213837">
    <div class="subject"><a href="#post-213837">Re: interruption</a></div>
    <div class="body">where i can put pushad?? and there isn&#039;t any other error??<br />thank you :)</div>
    <div class="meta">Posted on 2011-01-07 15:07:11 by marooh</div>
   </div>
   <div class="post" id="post-213838">
    <div class="subject"><a href="#post-213838">Re: interruption</a></div>
    <div class="body"><div class="quote"><br />where i can put pushad??<br /></div><br /><br />At the beginning of your ISR, I suppose. I don&#039;t know why you&#039;re using 32-bit instructions here, but I don&#039;t think it&#039;ll do any harm. Keep in mind that pusha/popa (or pushad/popad) save and restore only the general purpose registers. If you alter segment registers (which you do), you&#039;ll want to save/restore them, too.<br /><br /><div class="quote"><br /> and there isn&#039;t any other error??<br /></div><br /><br />I didn&#039;t say that!<br /><br />I&#039;m not familiar with Masm syntax. Does:<br /><br /><pre><code><br />vecteur word<br /></code></pre><br /><br />reserve two words? It doesn&#039;t look like it!<br /><br />You still print &quot;bonjour&quot; 32000 times, and then replace the control-break handler. You then &quot;fall through&quot; and execute the &quot;ISR code&quot; whether an interrupt has occured or not. You print a message using a dos interrupt (which probably isn&#039;t going to work - see the &quot;indos flag&quot;), then wait for a key (again using a dos interrupt). If the user doesn&#039;t reply &quot;oui&quot;, you wait for another key! If it&#039;s &#039;n&#039;, you go back to printing &quot;bonjour&quot;. When/if the 32000 displays finishes, you go back into the macro, attempting to install your ISR again (this time, the &quot;old&quot; vecteur will be your &quot;new&quot; ISR). When/if the user finally presses &#039;o&#039;, you load bx and es from &quot;vecteur&quot;, acknowledge an interrupt that hasn&#039;t happened, restore GP registers (which we&#039;ll assume you&#039;ve pushed) - thus undoing what you just did to bx (but leaving es in an altered state). Then you &quot;iret&quot; from an interrupt that hasn&#039;t happened. If you ever got out of the macro, you&#039;d exit from the program, leaving the IVT in an altered state (but taking away the code that you&#039;ve pointed it to). You want to either restore the original interrupt vector, or leave your new ISR in place by &quot;terminate and stay resident&quot; instead of a normal exit. I don&#039;t see how this is going to do anything useful.<br /><br /><div class="quote"><br />thank you :)<br /></div><br /><br />Don&#039;t thank me, Dude! I&#039;m telling you you don&#039;t know enough to tackle an ISR! If this is &quot;homework&quot;, I suppose you&#039;ve got no choice, but if not, practice on some &quot;regular&quot; programs first. (if it&#039;s homework, it&#039;s a horrible assignment, IMO - I&#039;ll bet nobody gets it right!). In addition to Randy&#039;s book which I mentioned (you may want to start earlier than the ISR chapter) there&#039;s some information from Ben Lunt:<br /><br />http://www.frontiernet.net/~fys/tsrdemo.htm<br /><br />Don&#039;t feel bad about this - nobody is born knowing this stuff! As you can see, it&#039;s pretty complicated - not a good &quot;beginner exercise&quot; at all. I don&#039;t entirely agree that &quot;dos is dead&quot;, but it&#039;s &quot;in intensive care&quot; (maybe &quot;hospice care&quot;). I question whether learning this much about dos is worth your time. None of this will work on a &quot;modern OS&quot;. If you must, &quot;hang in there&quot; and you&#039;ll get it eventually, but I think you&#039;ve got a long way to go! Courage!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-08 01:54:52 by fbkotler</div>
   </div>
   <div class="post" id="post-213841">
    <div class="subject"><a href="#post-213841">Re: interruption</a></div>
    <div class="body">hi again,thx for your time<br />yes it is a project i need to do and unfortunatly i will not :(<br />i&#039;m new in this language and it&#039;s very hard for me to deal with this project,i already spent 2 weeks and no result as you can see.if you could specify the exact wrong instr so i will try to fix it will be generous from you</div>
    <div class="meta">Posted on 2011-01-08 16:34:43 by marooh</div>
   </div>
   <div class="post" id="post-213848">
    <div class="subject"><a href="#post-213848">Re: interruption</a></div>
    <div class="body">It&#039;s a hard project! It isn&#039;t a case of &quot;wrong instruction&quot;, it&#039;s a case of &quot;wrong logic&quot;. What you actually do is print &quot;bonjour&quot; 32000 times, and then hook the control-break interrupt. This isn&#039;t going to do anything useful. Replacing the control-break handler first, and then printing &quot;bonjour&quot; 32000 times would at least give you a chance to hit control-break... but still not very useful. If you were to replace the control-break handler and leave it there (&quot;terminate and stay resident&quot; instead of &quot;exit&quot; - your new handler code needs to stay in memory!), then you could run any program - perhaps one to print &quot;bonjour&quot; - and if you hit control-break, you&#039;d be asked if you really wanted to quit or continue. That might be somewhat &quot;useful&quot; (a little).<br /><br />I sometimes suggest, if you don&#039;t know how to do a program, to write the comments first. But you can&#039;t even do that, without a clear &quot;specification&quot;. Exactly what is this program required to do?<br /><br /><pre><code><br />; make sure we haven&#039;t already been installed?<br />; get the original vector and save it<br />; install the new vector<br />; print &quot;bonjour&quot; 32000 times (why not forever?)<br />; re-install the original saved handler<br />; exit<br /><br />; this is code that is executed if &quot;control-break&quot; hit while printing<br /><br />new_handler:<br />; save registers<br />; pretend we can use dos interrupts - difficult! Much more code here!<br />; ask user<br />; if &quot;Oui&quot;, we want to quit<br /> ; restore registers<br /> ; jump to the original saved vector<br />; if &quot;Non&quot;, we want to continue<br /> ; restore registers<br /> ; acknowledge interrupt (EOI)<br /> ; iret<br /></code></pre><br /><br />Maybe we want to do the EOI before we restore registers. That&#039;s just a very rough first draft. Is that approximately what you want to do? Or do you want to leave the new handler in memory? If so, do you need to be able to remove it?<br /><br />Does your &quot;project&quot; actually require that you use dos interrupts within your interrupt handler? We could put &quot;the question&quot; on the screen without &#039;em. Maybe the bios int 16h would be easier to use in a handler than the dos interrupt, to get the &#039;o&#039; ou &#039;n&#039;. I&#039;m not sure. I&#039;m sure using dos interrupts is going to be tough! I think we have to...<br /><br /><pre><code><br />; find the &quot;indos&quot; flag<br />; check the &quot;indos&quot;&nbsp; flag<br />; if set (we&#039;re &quot;indos&quot;)<br /> ; I dunno, check it again until it&#039;s clear?<br />; if clear...<br />; check to see if we&#039;re in the &quot;critical error handler&quot;<br />; (not sure how to do that)<br />; if so... wait?<br />; if not ...<br />mov dx, offset msg2<br />mov ah, 9<br />int 21h<br />; etc...<br /></code></pre><br /><br />Now where you currently go from there might be a good &quot;something simple&quot; to start with. <br /><br /><pre><code><br />; print &quot;bonjour&quot; a few times, if you like<br />; print your &quot;question&quot;<br /><br />verif1:<br />mov ah,1<br />int 21h<br />cmp al,&#039;o&#039;<br />jne verif2<br />jmp fin_propre<br />verif2:<br />mov ah,1<br />int 21h<br />cmp al,&#039;n&#039;<br />jne verif1<br />jmp afficher_bonjour<br />fin_propre:<br />; exit<br />...<br />afficher_bonjour:<br />; print &quot;bonjour&quot; a few more times<br />; exit<br /></code></pre><br /><br />In a real interrupt handler, you wouldn&#039;t want to jump back into the interrupted program to &quot;continue&quot; - when the interrupt is done (iret), the interrupted program continues from where it left off, unless you&#039;ve terminated it as the original control-break handler does...<br /><br />But forget about installing new interrupt handlers for now, just write it as a regular program. You&#039;ve got one too many int 21h&#039;s in there. Clean up that logic, first.<br /><br />Then, before you put it back into an interrupt handler, try a simpler interrupt handler. Your code to install the handler looks pretty good, try installing something that doesn&#039;t use dos interrupts.<br /><br /><pre><code><br />new_handler:<br />&nbsp; push es<br />&nbsp; push 0B800h<br />&nbsp; pop es<br />; put an &#039;X&#039; at row 10, column 10<br />&nbsp; mov byte ptr es:[(80 * 10 + 10) * 2], &#039;X&#039;<br />&nbsp; pop es<br />&nbsp; push ax<br />&nbsp; mov al, 20h<br />&nbsp; out 20h, al<br />&nbsp; pop ax<br />&nbsp; iret<br /></code></pre><br /><br />I&#039;m not sure that&#039;s right. Maybe it would be simpler to jump to the original saved interrupt and let it terminate... but with an &#039;X&#039; on the screen... if it worked. If you can get that to work, start thinking about using dos interrupts in your handler. Read and re-read Randy&#039;s chapter on it, and Ben&#039;s examples, and anything else you can find on the subject. It&#039;s a hard project!<br /><br />Best,<br />Frank<br /><br /><br /><br /><br /></div>
    <div class="meta">Posted on 2011-01-09 10:54:14 by fbkotler</div>
   </div>
   <div class="post" id="post-213851">
    <div class="subject"><a href="#post-213851">Re: interruption</a></div>
    <div class="body">hi again and thx for your advices,<br />i tried to write a code that displays x on the screen like you said when ctrl break is pushed,<br />here is the code:<br /><br /><pre><code>.model small<br />.stack 100h<br /><br />.data<br />intvectsave dw 00h,00h <br /><br />msg1 db 10,13,&quot;bonjour$&quot;<br /><br />.code<br />start:&nbsp; jmp short install<br />OurISR:<br /> push es<br /> push 0B800h<br /> pop es<br />mov byte ptr es:[(80 * 10 + 10) * 2], &#039;X&#039;<br />mov al, 20h<br /> out 20h, al <br /> popa<br />iret&nbsp; <br /><br /><br />install:<br /><br />mov&nbsp; &nbsp;  ax, 3523h<br />int&nbsp; &nbsp;  21h<br />mov&nbsp; &nbsp;  word ptr IntVectSave, bx<br />mov&nbsp; &nbsp;  word ptr IntVectSave+2, es<br />mov&nbsp; &nbsp;  dx, seg OurISR<br />mov&nbsp; &nbsp;  ds, dx<br />lea&nbsp; &nbsp;  dx,OurISR<br />mov&nbsp; &nbsp;  ax, 2523h&nbsp; <br />int&nbsp; &nbsp;  21h<br />jmp aff<br />&nbsp; &nbsp; <br /><br />aff:<br />mov dx,@data<br />mov ds,dx<br />mov cx,0				<br />afficher_bonjour:<br />mov ah,9<br />mov dx,offset msg1<br />int 21h<br />inc cx<br />cmp cx,32000<br />jne afficher_bonjour <br />lds&nbsp; &nbsp;  bx, IntVectSave<br />mov&nbsp; &nbsp;  ax, 2523h <br /><br />int&nbsp; &nbsp;  21h<br /></code></pre><br />is it wright??</div>
    <div class="meta">Posted on 2011-01-09 16:22:02 by marooh</div>
   </div>
   <div class="post" id="post-213857">
    <div class="subject"><a href="#post-213857">Re: interruption</a></div>
    <div class="body">Much, much closer!<br /><br /><pre><code><br />.model small<br />.stack 100h<br /><br />.data<br />intvectsave dw 00h,00h ; two words, good!<br /><br />msg1 db 10,13,&quot;bonjour$&quot;<br /><br />.code<br />start:&nbsp; jmp short install<br />OurISR:<br /> pusha ; added<br /> push es ; save original segment<br /><br />; change es to video memory<br /><br />; could do instead:<br />; mov ax, 0B800h<br />; mov es, ax<br /><br /> push 0B800h<br /> pop es<br /><br />mov byte ptr es:[(80 * 10 + 10) * 2], &#039;X&#039;<br /><br />; acknowledge interrupt<br />mov al, 20h<br /> out 20h, al<br /><br /> pop es<br /> popa<br />iret&nbsp; <br /><br /><br />install:<br /><br />; we need to do this first - the &quot;save&quot; uses ds!<br />mov dx,@data<br />mov ds,dx<br /><br />mov&nbsp; &nbsp;  ax, 3523h<br />int&nbsp; &nbsp;  21h<br />mov&nbsp; &nbsp;  word ptr IntVectSave, bx<br />mov&nbsp; &nbsp;  word ptr IntVectSave+2, es<br />mov&nbsp; &nbsp;  dx, seg OurISR<br />mov&nbsp; &nbsp;  ds, dx<br />lea&nbsp; &nbsp;  dx,OurISR<br />mov&nbsp; &nbsp;  ax, 2523h&nbsp; <br />int&nbsp; &nbsp;  21h<br />jmp aff<br />&nbsp; &nbsp; <br /><br />aff:<br />;mov dx,@data ; already done above<br />;mov ds,dx<br /><br />mov cx,0				<br />afficher_bonjour:<br />mov ah,9<br />mov dx,offset msg1<br />int 21h<br />inc cx<br />cmp cx,32000<br />jne afficher_bonjour <br /><br /><br />; restore original ISR<br />;lds&nbsp; &nbsp;  bx, IntVectSave<br />lds&nbsp; &nbsp;  dx, IntVectSave ; don&#039;t we want dx here?<br />mov&nbsp; &nbsp;  ax, 2523h <br />int&nbsp; &nbsp;  21h<br /><br />; exit<br />mov ax, 4C00h<br />int 21h<br /><br />end start ; to tell Masm our entrypoint?<br /><br /></code></pre><br /><br />Good job! No guarantee that this is actually going to work, but it&#039;s what I had in mind for &quot;try something simpler first&quot;!<br /><br />Does it work? Our &#039;X&quot; is going to scroll off the screen pretty quick, so watch closely!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-10 08:07:56 by fbkotler</div>
   </div>
   <div class="post" id="post-213860">
    <div class="subject"><a href="#post-213860">Re: interruption</a></div>
    <div class="body">hi again,<br />thx for your support. i tried to eexecute this code but i found out that my processor cannot handle popa,pusha and lds!!!&nbsp; :sad: how can i remplace them??<br />and how can i now put my first handler??</div>
    <div class="meta">Posted on 2011-01-10 10:58:27 by marooh</div>
   </div>
   <div class="post" id="post-213861">
    <div class="subject"><a href="#post-213861">Re: interruption</a></div>
    <div class="body">How do you determine that your processor can&#039;t handle pusha, popa, and lds? AFAIK, lds has been around since 8086, pusha and popa were apparently introduced in 80186. I&#039;ve been assuming we&#039;re talking about something in the x86 family...<br /><br />If you needed to, you could push/pop just the registers you actually alter, and load ds and dx separately, but I can&#039;t imagine that&#039;s necessary. If it&#039;s Masm that&#039;s having a problem, not your processor, a &quot;.186&quot; directive might fix it(?).<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-10 11:42:20 by fbkotler</div>
   </div>
   <div class="post" id="post-213867">
    <div class="subject"><a href="#post-213867">Re: interruption</a></div>
    <div class="body">hi again,<br />i got it.the result was strange!!&nbsp; :shock:<br />it displays &quot;bonjour&quot; with a list of diffrent symbols(heart,as etc)<br />and ctrl break don&#039;t do anything&nbsp; :sad:</div>
    <div class="meta">Posted on 2011-01-11 04:37:03 by marooh</div>
   </div>
   <div class="post" id="post-213868">
    <div class="subject"><a href="#post-213868">Re: interruption</a></div>
    <div class="body">Well, I guess a strange result is better than no result at all. &quot;Progress&quot; of a sort. The fact that control-break doesn&#039;t do anything indicates that you&#039;ve got it replaced. As I mentioned, the &#039;X&#039; (if it appears at all) would scroll up off the screen pretty quick - could you be missing it? The &quot;different symbols&quot; are a puzzle! Does the computer behave normally (including control-break) after the program exits? That would indicate that you&#039;ve replaced the original vector correctly. Not a bad start, despite the fact that is isn&#039;t close to what you want.<br /><br />I don&#039;t know what to tell you, Marooh, except to keep reading, and keep trying stuff. It&#039;s a hard project!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-11 06:06:14 by fbkotler</div>
   </div>
   <div class="post" id="post-213869">
    <div class="subject"><a href="#post-213869">Re: interruption</a></div>
    <div class="body">hi,<br />ok i will figure out a solution but could you explain me more about how can i write my first handler(displaying msg etc) because the last time there was many terms that i don&#039;t know so i don&#039;t know how to use</div>
    <div class="meta">Posted on 2011-01-11 06:17:21 by marooh</div>
   </div>
   <div class="post" id="post-213870">
    <div class="subject"><a href="#post-213870">Re: interruption</a></div>
    <div class="body">I vaguely recall a file named &quot;tbones&quot; which explained how to use dos interrupts within an interrupt handler. I can&#039;t find a copy of it on my machine. This may be it:<br /><br />http://code.filehungry.com/product/languages/assembler/x86_programming/sourcecode/various_sourcecode/t-bones/<br /><br />You might be better off following Ben Lunt&#039;s examples, linked above.<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-11 06:48:53 by fbkotler</div>
   </div>
   <div class="post" id="post-213875">
    <div class="subject"><a href="#post-213875">Re: interruption</a></div>
    <div class="body">the link you gave me is about creating our own interrupt not changing an existing interrupt</div>
    <div class="meta">Posted on 2011-01-11 18:20:05 by marooh</div>
   </div>
  </div>
 </body>
</html>
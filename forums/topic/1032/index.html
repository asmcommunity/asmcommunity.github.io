<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Questions about macros... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1032" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1032">Questions about macros...</a></p>
   <div class="post" id="post-6704">
    <div class="subject"><a href="#post-6704">Questions about macros...</a></div>
    <div class="body">How the MASM macros work? I've been learning win32asm with MASM for some months and I still don't understand how they work or how to make them and when to make them.<br />Some questions I have:<br />Do these macros increase the EXE size?<br />Those macros are like VC++ pre-compiler?<br />Where can I learn how to make them?<br />Thanks in advance.</div>
    <div class="meta">Posted on 2001-09-09 21:57:30 by dilau</div>
   </div>
   <div class="post" id="post-6712">
    <div class="subject"><a href="#post-6712">Questions about macros...</a></div>
    <div class="body">Think of a macro as a code generator. Macros are processed by the &quot;firat pass&quot; of the assembler, and any code that they generate is then processed with the &quot;normal&quot; instructions that you wrote. Here's a simple macro that comes with many of the MASM32 examples:<br /><br />m2m MACRO M1, M2<br /> push M2<br /> pop  M1<br /> ENDM<br /><br />Now that the macro is defined, you can use it by saying something like this:<br /><br />m2m toword, fromword<br /><br />The macro would generate the following code, which is then assembled:<br /><br /> push fromword<br /> pop toword<br /><br />This is a simple macro. They can be very complex. The ML documentation has some good info on macros. MASM32 also has a MASM reference that covers the basics of macros.<br /><br />:)</div>
    <div class="meta">Posted on 2001-09-10 03:17:46 by S/390</div>
   </div>
   <div class="post" id="post-6731">
    <div class="subject"><a href="#post-6731">Questions about macros...</a></div>
    <div class="body">Chapter 9 of the MASM Reference is the best place to start.  You can find it on the web by just searching Google for &quot;MASM MACROS&quot;.<br /><br />Macros can add to the exe size, or reduce performance without proper consideration of the problem being solved.  For example if the macro above was 'm2m eax,ecx' this would produce sub-optimal code because the macro is being used out-of-context.  If size/performance is not a concern  then macros can be used to program quite rapidly in asm.<br /><br />Macro instructions are very much like the preprocessor of other languages.  Values are manipulated without producing code, or code is conditionally created based on assemble-time values.</div>
    <div class="meta">Posted on 2001-09-10 08:20:46 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>New to this: difference between assemblers? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24604" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24604">New to this: difference between assemblers?</a></p>
   <div class="post" id="post-179626">
    <div class="subject"><a href="#post-179626">New to this: difference between assemblers?</a></div>
    <div class="body">hello I have just started out with assembler.<br />I have tasm and masm<br />and this code:<br /><pre><code>&nbsp;  .MODEL small<br />&nbsp;  .STACK 100h<br />&nbsp;  .DATA<br />HelloMessage		DB	&#39;Hello, world&#39;,13,10,&#39;$&#39;<br />&nbsp;  .CODE<br />&nbsp;  mov&nbsp; ax,@data<br />&nbsp;  mov	ds,ax			;set DS to point to the data segment<br />&nbsp;  mov	ah,9			;DOS print string function<br />&nbsp;  mov	dx,OFFSET HelloMessage	;point to &quot;Hello, world&quot;<br />&nbsp;  int	21h			;display &quot;Hello, world&quot;<br />&nbsp;  mov	ah,4ch			;DOS terminate program function<br />&nbsp;  int	21h			;terminate the program<br />&nbsp;  END<br /><br /></code></pre><br /><br />which assembles well with tasm but in masm:<br /><pre><code><br /> Assembling: C:\lab_1\HELLO1.asm<br />C:\lab_1\HELLO1.asm(8) : error A2006: undefined symbol : DGROUP<br /> Volume in drive C has no label.<br /> Volume Serial Number is 53B2-6E85<br /><br /> Directory of C:\lab_1<br /><br />12/13/1998&nbsp; 10:16 PM&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  450 HELLO1.ASM<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  1 File(s)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 450 bytes<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  0 Dir(s)&nbsp;  5,989,752,832 bytes free<br /><br /></code></pre><br /><br />why?<br />thank you in advance</div>
    <div class="meta">Posted on 2006-04-15 15:14:08 by para</div>
   </div>
   <div class="post" id="post-179634">
    <div class="subject"><a href="#post-179634">Re: New to this: difference between assemblers?</a></div>
    <div class="body">This is most probably due to the version of the MASM assembler (ML.EXE) which you are using. Versions from 6.15 up will not assemble 16-bit DOS instructions. The <strong>@data</strong> is the <em>undefined symbol</em> in your case.<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2006-04-15 20:41:03 by Raymond</div>
   </div>
   <div class="post" id="post-179660">
    <div class="subject"><a href="#post-179660">Re: New to this: difference between assemblers?</a></div>
    <div class="body">so how do I make this work? modify the code I mean?</div>
    <div class="meta">Posted on 2006-04-16 11:04:30 by para</div>
   </div>
   <div class="post" id="post-179677">
    <div class="subject"><a href="#post-179677">Re: New to this: difference between assemblers?</a></div>
    <div class="body">I may have mislead you about the &quot;assembler&quot; version. It&#39;s a 16-bit linker version which may be what you need with MASM. However, I would suggest you look at the following thread which will provide important info and a link where you can get the proper linker.<br /><br />http://www.masmforum.com/simple/index.php?topic=1827.0<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2006-04-16 20:58:52 by Raymond</div>
   </div>
   <div class="post" id="post-179681">
    <div class="subject"><a href="#post-179681">Re: New to this: difference between assemblers?</a></div>
    <div class="body">why is the link censored?<br />I cannot see it or access it like this<br /><br />and anyway I don&#39;t want to change the linker version to make my code work I want to change my code so as to work with this linker</div>
    <div class="meta">Posted on 2006-04-17 01:48:38 by para</div>
   </div>
   <div class="post" id="post-179685">
    <div class="subject"><a href="#post-179685">Re: New to this: difference between assemblers?</a></div>
    <div class="body">para, if you want to link 16bit applications, you need the 16bit linker. If you don&#39;t want to do 16bit applications, you need to write 32bit code :)<br /><br />Check out <a target="_blank" href="http://this forum post">http://www.asmcommunity.net/board/index.php?topic=18392.0</a>. If you&#39;re worried about legality of getting the linker from Iczelion&#39;s old site, you can start searching ftp.microsoft.com - it&#39;s around there <strong>somewhere</strong>.<br /><br />As for the link censoring, there&#39;s been a bunch of problems with hutch--, so it was decided to censor links to his forum, at least temporarily. Ask SpooK about it or search the forum.<br /></div>
    <div class="meta">Posted on 2006-04-17 03:32:09 by f0dder</div>
   </div>
   <div class="post" id="post-179688">
    <div class="subject"><a href="#post-179688">Re: New to this: difference between assemblers?</a></div>
    <div class="body"><a target="_blank" href="http://www.google.com/search?&amp;q=16-bit+masm">http://www.google.com/search?&amp;q=16-bit+masm</a><br /><br />The first link on google leads to <a target="_blank" href="http://www.thefreecountry.com/compilers/assemblers.shtml">http://www.thefreecountry.com/compilers/assemblers.shtml</a>. In that page you find a link to the 16-bit linker hosted by Mircosoft&#39;s own FTP (ftp://ftp.microsoft.com/Softlib/MSLFILES/LNK563.EXE), which makes it quite a legal and reliable download I would say. Just to squash any question of legality beyond the standard EULA :)</div>
    <div class="meta">Posted on 2006-04-17 04:50:56 by SpooK</div>
   </div>
   <div class="post" id="post-179690">
    <div class="subject"><a href="#post-179690">Re: New to this: difference between assemblers?</a></div>
    <div class="body"> 8)</div>
    <div class="meta">Posted on 2006-04-17 06:16:19 by f0dder</div>
   </div>
   <div class="post" id="post-179697">
    <div class="subject"><a href="#post-179697">Re: New to this: difference between assemblers?</a></div>
    <div class="body">no, you don&#39;t understand I already have a 16 bit assembler called tasm on my box and I am happy with it although I don&#39;t know much assembler but that is another story<br /><br />I wanna make my code work with 32 bit masm<br />I wanna turn it into 32 bit code<br />if you could tell me how to do that that would be cool thank you in advance<br />I don&#39;t want any 16 bit version of masm or anything like that</div>
    <div class="meta">Posted on 2006-04-17 08:03:00 by para</div>
   </div>
   <div class="post" id="post-179702">
    <div class="subject"><a href="#post-179702">Re: New to this: difference between assemblers?</a></div>
    <div class="body"><div class="quote"><br />no, you don&#39;t understand I already have a 16 bit assembler called tasm on my box and I am happy with it although I don&#39;t know much assembler but that is another story<br /><br />I wanna make my code work with 32 bit masm<br />I wanna turn it into 32 bit code<br />if you could tell me how to do that that would be cool thank you in advance<br />I don&#39;t want any 16 bit version of masm or anything like that<br /></div><br /><br />So you basically want to know how to create a hello world application using 32 bit masm. Well, get the MASM32 package and create a file named hello.asm with the following source:<br /><br /><pre><code>.386<br />.MODEL flat,stdcall<br />OPTION casemap:none<br /><br />INCLUDE windows.inc<br />INCLUDE kernel32.inc<br />INCLUDE user32.inc<br />INCLUDE masm32.inc<br /><br />INCLUDELIB kernel32.lib<br />INCLUDELIB user32.lib<br />INCLUDELIB masm32.lib<br /><br />.DATA<br />	HelloMessage	DB	&#39;Hello, world&#39;, 13, 10, 0<br />.CODE<br />Start:<br />	INVOKE	StdOut, OFFSET HelloMessage<br />	INVOKE	ExitProcess, NULL<br />END Start</code></pre><br /><br />Then open a command prompt and navigate to the directory where your source file lies. Then type the following commands to build the application.<br /><br /><pre><code><br />\masm32\bin\ml /nologo /c /coff /I\masm32\include hello.asm<br />\masm32\bin\link /nologo /subsystem:console /opt:noref /libpath:\masm32\lib hello.obj<br /></code></pre><br /><br />Once you have completed this, go to the \masm32\examples\ directory and start checking out some of the example codes.<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2006-04-17 09:31:29 by Synfire</div>
   </div>
  </div>
 </body>
</html>
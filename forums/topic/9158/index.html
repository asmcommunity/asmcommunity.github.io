<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Kuhn Munkras? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9158" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=9158">Kuhn Munkras?</a></p>
   <div class="post" id="post-67354">
    <div class="subject"><a href="#post-67354">Kuhn Munkras?</a></div>
    <div class="body">A problem described in my algo book:<br /><br />Given an N by N matrix, for example,<br />3  5  5  4  1<br />2  2  0  2  2<br />2  4  4  1  0<br />0  1  1  0  0<br />1  2  1  3  3<br /><br />Task: take N numbers, one from each row. These N numbers should be in different columns. Give the maximum of the sum of the N numbers.<br /><br />in this case, it's 16 (4+2+3+4+3):<br /> 3  5  5 [4] 1<br />[2] 2  0  2  2<br /> 2  4 [3] 1  0<br /> 0 [4] 1  0  0<br /> 1  2  1  3 [3]<br /><br />How would you work this out? N can be up to 20 something, so brute force search is out of the question.<br /><br />( the algorithm introduced in that book is poorly explained, so I'm looking for help here. Kuhn Munkras is the algo's name. )<br /><br />Thanks in advance.</div>
    <div class="meta">Posted on 2002-11-25 07:54:20 by C.Z.</div>
   </div>
   <div class="post" id="post-67375">
    <div class="subject"><a href="#post-67375">Kuhn Munkras?</a></div>
    <div class="body">This is very interesting problem, I don't know anything about this algorithm.<br />Maybe seeing other explainations might help?<br /><br /><a target="_blank" href="http://www.math.uwo.ca/~mdawes/courses/344/kuhn-munkres.pdf">http://www.math.uwo.ca/~mdawes/courses/344/kuhn-munkres.pdf</a><br /><a target="_blank" href="http://www.npac.syr.edu/copywrite/pcw/node222.html">http://www.npac.syr.edu/copywrite/pcw/node222.html</a><br /><a target="_blank" href="http://www.florin.com/valore/guests/sce2.html">http://www.florin.com/valore/guests/sce2.html</a><br /><a target="_blank" href="http://cheng.ececs.uc.edu/cs543/5-22.html">http://cheng.ececs.uc.edu/cs543/5-22.html</a></div>
    <div class="meta">Posted on 2002-11-25 09:40:31 by bitRAKE</div>
   </div>
   <div class="post" id="post-67394">
    <div class="subject"><a href="#post-67394">Kuhn Munkras?</a></div>
    <div class="body">thank you bitRAKE. Seems that I have to dig into the terminology in order to be able to undertand. (seems pretty hard! :)).<br />Sigh, a printing error led me to disorientation searching for munkras.</div>
    <div class="meta">Posted on 2002-11-25 11:08:03 by C.Z.</div>
   </div>
   <div class="post" id="post-67402">
    <div class="subject"><a href="#post-67402">Kuhn Munkras?</a></div>
    <div class="body">hmm, this sounds interesting, I think I have an idea... :) but I'm thinking of brute force. It's kinda hard to see the patterns on the matrix, if we are not using brute force style. I'll see what I can do... :)</div>
    <div class="meta">Posted on 2002-11-25 11:28:20 by stryker</div>
   </div>
   <div class="post" id="post-67450">
    <div class="subject"><a href="#post-67450">Kuhn Munkras?</a></div>
    <div class="body">It's a bad idea to search all possibilities because the number of solutions to test for an NxN matrix is N!  (n factorial) which is ~ 2.4x10^18 for a 20x20 matrix.<br /><br />It is an interesting problem though.  I need to think about it more.</div>
    <div class="meta">Posted on 2002-11-25 16:42:31 by iblis</div>
   </div>
   <div class="post" id="post-67459">
    <div class="subject"><a href="#post-67459">Kuhn Munkras?</a></div>
    <div class="body">I have come up with a solution - it's brute force but aside from that, it's hard since the numbers are random. I haven't read some docs yet. :)<pre><code>3 5 5 4 1<br />2 2 0 2 2<br />2 4 3 1 0<br />0 4 1 0 0<br />1 2 1 3 3</code></pre>12341<pre><code>3 5 5 4 &#91;color=blue&#93;1&#91;/color&#93;<br />2 2 0 &#91;color=blue&#93;2&#91;/color&#93; 2<br />2 4 &#91;color=blue&#93;3&#91;/color&#93; 1 0<br />0 &#91;color=blue&#93;&#91;b&#93;4&#91;/b&#93;&#91;/color&#93; 1 0 0<br />&#91;color=blue&#93;&#91;b&#93;1&#91;/b&#93;&#91;/color&#93; 2 1 3 3</code></pre>12302<pre><code>3 5 5 4 &#91;color=blue&#93;1&#91;/color&#93;<br />2 2 0 &#91;color=blue&#93;2&#91;/color&#93; 2<br />2 4 &#91;color=blue&#93;3&#91;/color&#93; 1 0<br />&#91;color=blue&#93;&#91;b&#93;0&#91;/b&#93;&#91;/color&#93; 4 1 0 0<br />1 &#91;color=blue&#93;&#91;b&#93;2&#91;/b&#93;&#91;/color&#93; 1 3 3</code></pre>12241<pre><code>3 5 5 4 &#91;color=blue&#93;1&#91;/color&#93;<br />2 2 0 &#91;color=blue&#93;2&#91;/color&#93; 2<br />&#91;color=blue&#93;&#91;b&#93;2&#91;/b&#93;&#91;/color&#93; 4 3 1 0<br />0 &#91;color=blue&#93;&#91;b&#93;4&#91;/b&#93;&#91;/color&#93; 1 0 0<br />1 2 &#91;color=blue&#93;&#91;b&#93;1&#91;/b&#93;&#91;/color&#93; 3 3</code></pre>12401<pre><code>3 5 5 4 &#91;color=blue&#93;1&#91;/color&#93;<br />2 2 0 &#91;color=blue&#93;2&#91;/color&#93; 2<br />2 &#91;color=blue&#93;&#91;b&#93;4&#91;/b&#93;&#91;/color&#93; 3 1 0<br />&#91;color=blue&#93;&#91;b&#93;0&#91;/b&#93;&#91;/color&#93; 4 1 0 0<br />1 2 &#91;color=blue&#93;&#91;b&#93;1&#91;/b&#93;&#91;/color&#93; 3 3</code></pre>12411<pre><code>3 5 5 4 &#91;color=blue&#93;1&#91;/color&#93;<br />2 2 0 &#91;color=blue&#93;2&#91;/color&#93; 2<br />2 &#91;color=blue&#93;&#91;b&#93;4&#91;/b&#93;&#91;/color&#93; 3 1 0<br />0 4 &#91;color=blue&#93;&#91;b&#93;1&#91;/b&#93;&#91;/color&#93; 0 0<br />&#91;color=blue&#93;&#91;b&#93;1&#91;/b&#93;&#91;/color&#93; 2 1 3 3</code></pre>... This can be placed in an inner loop and the variable that determines how many times to loop depends on the &quot;deepness&quot;/level of the array<pre><code>Level 5 = 3 5 5 4 1<br />Level 4 = 2 2 0 2 2<br />Level 3 = 2 4 3 1 0<br />Level 2 = 0 4 1 0 0<br />Level 1 = 1 2 1 3 3</code></pre>The main loop only loops on the topmost values:  3, 5, 5, 4 and 1 - going from left to right (1, 4 ... 3) after that, we're done and we should be able to find out the solution.<br /><br />It's kinda <u>hard to explain what I really meant here</u> but I'm sure everybody can see a pattern on the looping. :)</div>
    <div class="meta">Posted on 2002-11-25 17:29:41 by stryker</div>
   </div>
   <div class="post" id="post-67466">
    <div class="subject"><a href="#post-67466">Kuhn Munkras?</a></div>
    <div class="body">Quite an interesting little problem, the O(n^3) Kuhn-Munkres algorithm looks interesting.<br /><br />Just to get everybody going, here is a simple way to get a halfway decent solution :-)<br /><br /><pre><code>S = arbitrary possible solution &#40;the diagonal is an obvious choice&#41;<br /><br />do &#123;<br />   for all pairs &#40;x,y&#41; in S<br />   &#123;<br />      if &#40;swapping &#40;x,y&#41; improves the solution&#41; swap &#40;x,y&#41;;<br />   &#125;<br />&#125; while &#40;any swapping occurred&#41;;</code></pre><br /><br />Since checking for a swap is constant time, this is O(n^3) worst case. The solution found should be at least half of the maximum solution.<br /><br />On random squares it's quite fast and close to the maximum.<br /><br />---<br /><br />I ran it on 10,000 random 20x20 squares (~1.5 seconds), and on average it was O(n^2) and about 6% below the theoretical limit (sum of the maximum in each column).<br /><br />The Kuhn-Munkres algorithm should have absolutely no problems on N=20 ;-)</div>
    <div class="meta">Posted on 2002-11-25 18:09:27 by Jibz</div>
   </div>
   <div class="post" id="post-67467">
    <div class="subject"><a href="#post-67467">Kuhn Munkras?</a></div>
    <div class="body">Don't forget, the matrix can be any size &lt; 20.<br />The pattern is recursive.<br /><br />Step one:  Matrix is fed into the routine.<br /><pre><code>&#91;size=12&#93; 3 5 5 4 1<br /> 2 2 0 2 2<br /> 2 4 3 1 0<br /> 0 4 1 0 0<br /> 1 2 1 3 3&#91;/size&#93;</code></pre><br /><br />Step two:  Pick number in the top row and test all paths.<br /><pre><code>&#91;size=12&#93;&#123;3&#125;5 5 4 1<br /> 2 2 0 2 2<br /> 2 4 3 1 0<br /> 0 4 1 0 0<br /> 1 2 1 3 3&#91;/size&#93;</code></pre><br /><br />Picking {3} we can remove the rest of {3}'s row and column.<br /><pre><code>&#91;size=12&#93;&#123;3&#125;<br />   2 0 2 2<br />   4 3 1 0<br />   4 1 0 0<br />   2 1 3 3&#91;/size&#93;</code></pre><br />...and we're left with 4x4 matrix.<br /><br />Goto step one - until matrix is 2x2 then max value can be determined by:<br /><pre><code>&#91;size=12&#93;&#91;a b&#93;  value = a+d, if a+d &gt; b+c<br />&#91;c d&#93;  value = b+c, if b+c &gt; a+d&#91;/size&#93;</code></pre><br />...and return the value.  Then add it with the { } and return value... etc...<br /><br /><br /><br />This works fine until the size of the matrix grows.  At 20x20 the number of patterns searched will be 20factorial = 2.4x10^18, which will take almost forever.  ;)</div>
    <div class="meta">Posted on 2002-11-25 18:22:00 by iblis</div>
   </div>
   <div class="post" id="post-67492">
    <div class="subject"><a href="#post-67492">Kuhn Munkras?</a></div>
    <div class="body">/me thinks of an FSM solution... if there is one. :)</div>
    <div class="meta">Posted on 2002-11-25 21:27:46 by stryker</div>
   </div>
   <div class="post" id="post-68231">
    <div class="subject"><a href="#post-68231">Kuhn Munkras?</a></div>
    <div class="body">what is FSM? :confused:<br /><br />Jibz, that idea is exactly what I had come to at first (swap untill no better solution can be reached). :) although it's fast, it isn't as fast as kuhn munkres's.<br /><br />thanks everyone for discussing it.</div>
    <div class="meta">Posted on 2002-11-30 01:35:54 by C.Z.</div>
   </div>
   <div class="post" id="post-68241">
    <div class="subject"><a href="#post-68241">Kuhn Munkras?</a></div>
    <div class="body">finite state machine, same idea used by some string searching algorithms...<br /><br />It's hard to come up with the right conditions though... :(<br /><br />I'm already mixing a lot of combos for the condition from levels to positions to adjacent arrays whether on top or left or bottom or right...<br /><br />It's just way to hard since when the matrix grows at a random rate from 5x5 to 12x12 to 7x7... it's hard to keep up with the conditions...<br /><br />I'm also thinking about treating the matrix as thought it was like a triangle...perhaps I could come up with something :)<br /><br />I have a lot of weird ideas though, you don't want to know all... :grin:</div>
    <div class="meta">Posted on 2002-11-30 02:06:00 by stryker</div>
   </div>
   <div class="post" id="post-68292">
    <div class="subject"><a href="#post-68292">Kuhn Munkras?</a></div>
    <div class="body">This algo here:<br /><a target="_blank" href="http://math.uc.edu/~halpern/Linear.progr.folder/Handouts.lp.02/Hungarian.algorithm.pdf">http://math.uc.edu/~halpern/Linear.progr.folder/Handouts.lp.02/Hungarian.algorithm.pdf</a><br /><br />ps: i am use this in prog.</div>
    <div class="meta">Posted on 2002-11-30 13:17:42 by Nexo</div>
   </div>
  </div>
 </body>
</html>
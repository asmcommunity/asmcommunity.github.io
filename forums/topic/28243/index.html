<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Missing from WINDOWS.INC - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28243" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28243">Missing from WINDOWS.INC</a></p>
   <div class="post" id="post-200099">
    <div class="subject"><a href="#post-200099">Missing from WINDOWS.INC</a></div>
    <div class="body">Hey this message is for everyone, but mostly for Iczelion.

I was writing a TreeView manager object, and realized that windows.inc doesnt have a definition for: <strong>TVM_ENDEDITLABELNOW</strong>.  Its used to respond to RETURN and ESC commands (primarily) when your editing a label in a tree.  With out it, there is no way to say cancle out after your start to edit a name!

With a little help from JimmyClif, we got it figued out and thought I should let everyone else know, its:

<strong>TVM_ENDEDITLABELNOW equ TV_FIRST + 22</strong>

NaN</div>
    <div class="meta">Posted on 2001-06-01 17:45:00 by NaN</div>
   </div>
   <div class="post" id="post-200100">
    <div class="subject"><a href="#post-200100">Missing from WINDOWS.INC</a></div>
    <div class="body">theres alot of stuff missing from the windows.inc file. ive encountered quite a few things i had to input myself.
like hutch and iczelion states the windows.inc file is by all means not complete. as microsoft makes changes to their os's the library and inc files change accordingly usually adding new entries not deleting. it is very time consuming to keep up with the lib and inc files, ive converted a few of the inc files and it takes quite some time. theres really not a program out that can extract the neccessary information and convert it to work with masm. there's a couple but they dont cover everthing and miss some stuff.

smurf</div>
    <div class="meta">Posted on 2001-06-01 18:01:00 by smurf</div>
   </div>
   <div class="post" id="post-200101">
    <div class="subject"><a href="#post-200101">Missing from WINDOWS.INC</a></div>
    <div class="body">Ugh, PLEASE stop trying to make windows.inc even LARGER.

Did you know the compiler takes around 80% plus of the compile time just parsing windows.inc, and that's mostly for things you don't use anyway?</div>
    <div class="meta">Posted on 2001-06-01 19:29:00 by Ernie</div>
   </div>
   <div class="post" id="post-200102">
    <div class="subject"><a href="#post-200102">Missing from WINDOWS.INC</a></div>
    <div class="body"><pre><code>
 i guess the best you can do is create your own (and know what
 to put in there instead of all the stuff you don't need)

</code></pre></div>
    <div class="meta">Posted on 2001-06-01 21:21:00 by disease_2000</div>
   </div>
   <div class="post" id="post-200103">
    <div class="subject"><a href="#post-200103">Missing from WINDOWS.INC</a></div>
    <div class="body">Some blocks of definitions are duplicated in WINDOWS.INC.
I'll download the latest ver and do what I can with it.
You'll be able to get the polished-up ver from
www.hammick.com/hcs/win32.html
in two or three days.</div>
    <div class="meta">Posted on 2001-06-02 04:06:00 by Larry Hammick</div>
   </div>
   <div class="post" id="post-200104">
    <div class="subject"><a href="#post-200104">Missing from WINDOWS.INC</a></div>
    <div class="body">well i dont agree with ernie. i think the windows.inc needs to continue to grow larger with more and more updates. the assembler only takes a few seconds to compile anyways no big deal. im wondering why ernie's got a problem with that. having the windows inc not only helps the veterans but newbies will benifit more than anyone.

i also dont understand what your talking about larry. masm will detect a redefinition if there is any duplicates in the windows.inc file. and you wont be able to assemble.



smurf

This message was edited by smurf, on 6/2/2001 6:59:10 AM</div>
    <div class="meta">Posted on 2001-06-02 06:55:00 by smurf</div>
   </div>
   <div class="post" id="post-200105">
    <div class="subject"><a href="#post-200105">Missing from WINDOWS.INC</a></div>
    <div class="body">disease_2000,

 That's exactly what I did when I built the CoLib library. Each .asm file in it (and there are about 27 of em) required windows.inc, and the build time took forever.

  So I replaced windows.inc with mini_win.inc, and just defined the parts needed in that (some 100 lines perhaps). The build time went dramatically lower.

  windows.inc is an attempt to be all things to all people. I think it is a wonderful thing, I use it all the time, but that doesn't mean I completely agree with it's premise. And hey, who said you can please all of the people all of the time?</div>
    <div class="meta">Posted on 2001-06-02 08:46:00 by Ernie</div>
   </div>
   <div class="post" id="post-200106">
    <div class="subject"><a href="#post-200106">Missing from WINDOWS.INC</a></div>
    <div class="body">Hi guys,
   I too disagree with ernie here. I think the windows.inc SHOULD continue to expand. Also there is one question i would like to ask.
   How do u guys convert the values from the header to inc files. I have heard that it is a tough job and all but i would like to know as to how it is done so that i can manually specify a value which is not there in the inc file!
     Thankx in advanvce!</div>
    <div class="meta">Posted on 2001-06-02 12:58:00 by MovingFulcrum</div>
   </div>
   <div class="post" id="post-200107">
    <div class="subject"><a href="#post-200107">Missing from WINDOWS.INC</a></div>
    <div class="body">MovingFulcrum... actually converting the values in the header files are very simple. first off you need a set of include files from the microsoft sdk that you can use whenever you need to specify a value that isnt in the windows.inc file.

for example when i assembled a program that i was working on, masm returned an error stating that WM_NCMOUSEHOVER is unrecognized or something like that. when an error such as this occurs i usually do a search in the windows.inc file for whatever it is that is unrecognized in this case it was WM_NCMOUSEHOVER. it wasnt in the windows.inc file so i did a search for a file containing WM_NCMOUSEHOVER. the search returned WinUser.h as a file that contained it. i then opened it up and found it in the file and it looked like this:

<strong>#define WM_NCMOUSEHOVER                 0x02A0</strong>

so in my .asm file i put under the .const section

<strong>WM_NCMOUSEHOVER equ 02A0h</strong>

here's another. this time i pulled it from CommCtrl.h:

<strong>#define CBEM_HASEDITCHANGED     (WM_USER + 10)</strong>

so in my .asm file i put under the .const section

<strong>CBEM_HASEDITCHANGED equ WM_USER + 10</strong>

hope this helps. it pretty staight foward to do these and many of the structure and functions but some i still just dont understand how to do.

smurf



This message was edited by smurf, on 6/2/2001 2:06:05 PM</div>
    <div class="meta">Posted on 2001-06-02 14:04:00 by smurf</div>
   </div>
   <div class="post" id="post-200108">
    <div class="subject"><a href="#post-200108">Missing from WINDOWS.INC</a></div>
    <div class="body">MovingFulcrum, smurf...

borland tools come with h2ash.exe and h2ash32.exe, and masm 5.x was shipped with a tool called h2inc.exe, that are supposed to convert .h c include files into .inc for assembler.

i only managed to make these tools work with few .h files, always from the /examples directories. anybody know how use this tool with efficience? :confused:

about windows.inc, i think the best way to use it is a a reference. in the editor, have your sources and it open, and cut&paste values from it in your own .inc file.


This message was edited by vecna, on 6/2/2001 4:19:39 PM</div>
    <div class="meta">Posted on 2001-06-02 16:15:00 by vecna</div>
   </div>
   <div class="post" id="post-200109">
    <div class="subject"><a href="#post-200109">Missing from WINDOWS.INC</a></div>
    <div class="body">disease_2000,

nahh... i just trying different avatars till i find one i like

before i reach the 20 message i will have it fixed i hope ;)</div>
    <div class="meta">Posted on 2001-06-02 16:54:00 by vecna</div>
   </div>
   <div class="post" id="post-200110">
    <div class="subject"><a href="#post-200110">Missing from WINDOWS.INC</a></div>
    <div class="body">I have put windows.inc through some text file filters
and it came down to under 600k (call Oprah Winfrey).
It is in:
www.hammick.com/hcs/win_inc.zip
Hutch or iczelion:
While I'm at it, would you like me to put windows.inc
into the form a dbf table or Access database? Then a
simple utility could output two versions of windows.inc,
one cute one full of tabs and comments, and another
lean one for the compiler.</div>
    <div class="meta">Posted on 2001-06-03 04:21:00 by Larry Hammick</div>
   </div>
   <div class="post" id="post-200111">
    <div class="subject"><a href="#post-200111">Missing from WINDOWS.INC</a></div>
    <div class="body">Larry,

If you look in the INCLUDE directory of MASM32, there is a
utility that does just that called "hcompact.exe".

It does reduce the size by a copule of hundred kilobytes but the
speed problem is related to the number of items in windows.inc
not just its disk size.

I did the original version a few years ago for the WIN32 based
structures and equates and Iczelion has an enormous amount of work
with the NT and later version add ins.

Unfortunately there is no fast way to do it short of writing a C
compiler front end that will automatically convert the SDK C/C++
include files into asm INCLUDE files and that is a task I am not
that keen to perform as it would be very hard to get it going
reliably.

The utility that creates the library INCLUDE files was no joy to
write and it is reasonably reliable for what it was intended to
do but the range of information is so large that manually writing
and testing header files is a task measured in man years.

Regards,

hutch@pbq.com.au</div>
    <div class="meta">Posted on 2001-06-03 05:10:00 by hutch--</div>
   </div>
   <div class="post" id="post-200112">
    <div class="subject"><a href="#post-200112">Missing from WINDOWS.INC</a></div>
    <div class="body">I can see it was a ton of effort.
Those filters brought out these two bugged lines:
DRV_MCI_LAST                  equ DRV_RESERVED + FFFh
PS_TYPE_MASK                  equ F0000h</div>
    <div class="meta">Posted on 2001-06-03 07:01:00 by Larry Hammick</div>
   </div>
   <div class="post" id="post-200113">
    <div class="subject"><a href="#post-200113">Missing from WINDOWS.INC</a></div>
    <div class="body">why not put everything into windows.inc?</div>
    <div class="meta">Posted on 2001-06-03 20:54:00 by NOP</div>
   </div>
   <div class="post" id="post-200114">
    <div class="subject"><a href="#post-200114">Missing from WINDOWS.INC</a></div>
    <div class="body">The trouble, NOP, is the problem of maintaining
this monster. I hope the big software houses soon
give up on keeping big symbol lists in mere text
files.</div>
    <div class="meta">Posted on 2001-06-04 04:57:00 by Larry Hammick</div>
   </div>
  </div>
 </body>
</html>
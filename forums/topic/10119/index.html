<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>syntax for direct memory access - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10119" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=10119">syntax for direct memory access</a></p>
   <div class="post" id="post-75749">
    <div class="subject"><a href="#post-75749">syntax for direct memory access</a></div>
    <div class="body">How do I write this code in MASM32 and get correct assembly. mov eax,[401000]<br /> When I dissassemble the exe file it ends up like this : mov eax,401000. I'm trying to get memory content.</div>
    <div class="meta">Posted on 2003-01-11 23:42:09 by mrgone</div>
   </div>
   <div class="post" id="post-75756">
    <div class="subject"><a href="#post-75756">syntax for direct memory access</a></div>
    <div class="body">What do you actually want to do? do you want to move the pointer to<br />an address into EAX? or do you want to move a value from a pointer<br />into EAX? The code above only moves the number 401000 into EAX.<br /><br />In order to get that value did you look at the disassembly? because then<br />you would need to do it like this: mov eax,401000h The number is<br />in hex NOT decimal.</div>
    <div class="meta">Posted on 2003-01-12 00:13:20 by natas</div>
   </div>
   <div class="post" id="post-75757">
    <div class="subject"><a href="#post-75757">syntax for direct memory access</a></div>
    <div class="body">MASM won't assemble direct memory references. Assemble manually.<br /><pre><code><br />; mov eax, &#91;40100h&#93;<br />db 0A1h<br />dd 40100h</code></pre></div>
    <div class="meta">Posted on 2003-01-12 00:21:57 by comrade</div>
   </div>
   <div class="post" id="post-75759">
    <div class="subject"><a href="#post-75759">syntax for direct memory access</a></div>
    <div class="body"><div class="quote"><br />MASM won't assemble direct memory references. Assemble manually.<br /><pre><code><br />; mov eax, &#91;40100h&#93;<br />db 0A1h<br />dd 40100h</code></pre> </div> What? I think your wrong there Comrade. Since I have never had any problems doing so with masm.</div>
    <div class="meta">Posted on 2003-01-12 00:24:42 by natas</div>
   </div>
   <div class="post" id="post-75762">
    <div class="subject"><a href="#post-75762">syntax for direct memory access</a></div>
    <div class="body">I just checked, and noticed the same. It actually assembles mov eax,401000h instead of mov eax,[401000h]. You have to do it manually, as comrade said.<br /><br />I have used NAsm for a long time, it supports direct references and many other things, and the preprocessor is much better than MAsm's.<br /><br />-Stealth</div>
    <div class="meta">Posted on 2003-01-12 01:11:27 by Stealth</div>
   </div>
   <div class="post" id="post-75767">
    <div class="subject"><a href="#post-75767">syntax for direct memory access</a></div>
    <div class="body"><div class="quote"><br />I just checked, and noticed the same. It actually assembles mov eax,401000h instead of mov eax,[401000h]. You have to do it manually, as comrade said.<br /></div> Ahh your right! I checked it now and found out that I was thinking of something else. So Comrade is correct! ( :) )</div>
    <div class="meta">Posted on 2003-01-12 01:29:11 by natas</div>
   </div>
   <div class="post" id="post-75768">
    <div class="subject"><a href="#post-75768">syntax for direct memory access</a></div>
    <div class="body">&quot;MASM won't assemble direct memory references. Assemble manually.&quot;<br /><br />mov         eax, dword ptr ds:[00040100h] <br /><br />works too..<br /><br />I use ML.EXE  ver.7.00.9466<br /><br />Regards,<br />Lingo</div>
    <div class="meta">Posted on 2003-01-12 02:05:46 by lingo12</div>
   </div>
   <div class="post" id="post-75771">
    <div class="subject"><a href="#post-75771">syntax for direct memory access</a></div>
    <div class="body">Yes, it seems to work on MAsm 6.15, too.<br /><br />As I said, I've mostly been using NAsm, so I wasn't aware it requires the segment override even when accessing ds.<br />Anyway, the fact that mov eax,[401000h] assembles as mov eax,401000h without causing a warning, seems strange.<br /><br />-Stealth</div>
    <div class="meta">Posted on 2003-01-12 02:51:37 by Stealth</div>
   </div>
  </div>
 </body>
</html>
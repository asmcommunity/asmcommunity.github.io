<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>:?:  :?:  Does anyone known how to do it - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19221" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19221">:?:  :?:  Does anyone known how to do it</a></p>
   <div class="post" id="post-148519">
    <div class="subject"><a href="#post-148519">:?:  :?:  Does anyone known how to do it</a></div>
    <div class="body">hi i know it's a little bit strange<br />but does anyone know (has sources in asm) how to show a bitmap 24 bits or 64K under dos i know that i'll have to use VESA int (4fh int 10h)<br />but how do i read my bitmap and threat color<br />please help me...</div>
    <div class="meta">Posted on 2004-08-26 17:05:04 by Thor0Asgard</div>
   </div>
   <div class="post" id="post-148534">
    <div class="subject"><a href="#post-148534">:?:  :?:  Does anyone known how to do it</a></div>
    <div class="body">You first have to learn what is the content of the info header. From then on, you can read any size bitmap in sections not exceeding 64k and transfer the data to the video memory.<br /><br />The first part is well explained in numerous sources. Depending on which VESA mode you wish to use, the second part would require an entire book to explain all the details.<br /><br />Raymond</div>
    <div class="meta">Posted on 2004-08-26 21:44:42 by Raymond</div>
   </div>
   <div class="post" id="post-148578">
    <div class="subject"><a href="#post-148578">Mode</a></div>
    <div class="body">For Example a 1024x768 32 Bits<br />mode vesa 2 or 3 i gess 118h</div>
    <div class="meta">Posted on 2004-08-27 10:18:02 by Thor0Asgard</div>
   </div>
   <div class="post" id="post-148592">
    <div class="subject"><a href="#post-148592">True color VESA</a></div>
    <div class="body">You have to take care with &quot;standardized&quot; VESA modes, because they are not so exactly standardized. For example: I wrote a true color VESA driver in assembly language for Turbo Pascal, I made OBJ files, and I included them in Pascal EXEs. I handled it even the 24bit and 32bit problem.<br />Some videocards support only 24bit modes (like the Integrated Intel cards), others have both 24bit and 32bit modes. During the time of developing the driver, I encountered many difficulties with these mode numbers: THEY ARE NOT STANDARDIZED, one card has a particular mode assigned to a code, other has a completely different mode assigned to the same code.<br /><br />I made the following solution: I interogate from the VESA Bios the list with all the codes, and after it I interogate the properties of each code, and I look after the true color modes (24 or 32 bit), this way I am not conserned about the codes incompatibility and the mode is detected automatically if it is under different code.<br />I wrote even a procedure that saves the screen to a BMP file. Maybe you can use it.<br /><br />I uploaded all the project, there are 4 important files:<br />VESA.ASM - the VESA functions + Bresenham line drawing algorithm + rectangle + bar + text functions<br />MOUSE.ASM - the mouse support for the VESA.ASM<br />TRUEVESA.PAS - the Pascal unit for with the graphic functions even with clipping<br />TRUEMOUS.PAS - the unit for the mouse drivers<br /><br />LEMBMP.PAS - the unit, which captures the screen and saves it to a BMP file.<br />TESTVESA is a program that tests the unit. The functions are quite fast, definitely faster than svga256.bgi, or the normal vga.bgi, you can change the video mode with CTRL+ or CTRL-<br /><br />I'm sorry but the comments are written in hungarian, at that time I did not pay attention to write english comments.<br /><br />Here's the archive</div>
    <div class="meta">Posted on 2004-08-27 12:35:58 by bszente</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>edit control & focus - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28647" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28647">edit control & focus</a></p>
   <div class="post" id="post-202409">
    <div class="subject"><a href="#post-202409">edit control & focus</a></div>
    <div class="body">i open a dialogbox that contains two edit controls, and two buttons. One button has BS_DEFPUSHBUTTON style ... so it get focus ... but i want the first edit control to get the focus and then the user push the default button and continue ...

ideas?</div>
    <div class="meta">Posted on 2001-07-05 06:09:00 by unknow</div>
   </div>
   <div class="post" id="post-202410">
    <div class="subject"><a href="#post-202410">edit control & focus</a></div>
    <div class="body">in your wm_create
use the following api to set focus to your editbox when your program loads.

invoke SetFocus,hEditHandle


smurf</div>
    <div class="meta">Posted on 2001-07-05 06:31:00 by smurf</div>
   </div>
   <div class="post" id="post-202411">
    <div class="subject"><a href="#post-202411">edit control & focus</a></div>
    <div class="body">Or (if its defined in a .res file):
<pre><code>
invoke SendDlgItemMessage, hDlg, EDIT1, WM_SETFOCUS, NULL, NULL
</code></pre>

Mirno</div>
    <div class="meta">Posted on 2001-07-05 06:44:00 by Mirno</div>
   </div>
   <div class="post" id="post-202412">
    <div class="subject"><a href="#post-202412">edit control & focus</a></div>
    <div class="body">According to standard windows doc the application gets handle (in wParam) of control to receive focus in WM_INITDIALOG and should return FALSE if it wants another control to receive focus (in which case the application should have called SetFocus() before returning from WM_INITDIALOG).

There is also a misunderstanding of flag BS_DEFPUSHBUTTON. A button defined with this flag will not automatically receive the focus on start of a dialog. Instead it will receive a WM_COMMAND/BN_CLICKED message if the user presses <RETURN>.

japheth


This message was edited by japheth, on 7/5/2001 6:56:01 AM</div>
    <div class="meta">Posted on 2001-07-05 06:50:00 by japheth</div>
   </div>
   <div class="post" id="post-202413">
    <div class="subject"><a href="#post-202413">edit control & focus</a></div>
    <div class="body">I try:


call GetDlgItem, EDIT1
call SetFocus,EAX

didnt work ... then try:

call SendDlgItemMessage, hDlg, EDIT1, WM_SETFOCUS, NULL, NULL

well, the cursor appears in the editbox but i cant write anything into it ... until i push oen time the shift key.

:?</div>
    <div class="meta">Posted on 2001-07-05 07:04:00 by unknow</div>
   </div>
   <div class="post" id="post-202414">
    <div class="subject"><a href="#post-202414">edit control & focus</a></div>
    <div class="body">unknow,

Two things, change the order of the controls in the RC file so
that the edit control you want to have focus is first, then change
the style of the button to a normal one. Should do the job for you OK.

Regards,

hutch@pbq.com.au</div>
    <div class="meta">Posted on 2001-07-05 08:03:00 by hutch--</div>
   </div>
   <div class="post" id="post-202415">
    <div class="subject"><a href="#post-202415">edit control & focus</a></div>
    <div class="body">i tried ... but fails :( ...</div>
    <div class="meta">Posted on 2001-07-05 09:26:00 by unknow</div>
   </div>
   <div class="post" id="post-202416">
    <div class="subject"><a href="#post-202416">edit control & focus</a></div>
    <div class="body">post the source code of the dialog box proc.</div>
    <div class="meta">Posted on 2001-07-05 09:43:00 by japheth</div>
   </div>
  </div>
 </body>
</html>
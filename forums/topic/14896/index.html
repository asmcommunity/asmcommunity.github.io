<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Comments on my Exception handling appreciated. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14896" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14896">Comments on my Exception handling appreciated.</a></p>
   <div class="post" id="post-115593">
    <div class="subject"><a href="#post-115593">Comments on my Exception handling appreciated.</a></div>
    <div class="body">I have studied Frame-based Exception Handling which ended with the attached code of a simple exception handling.<br /><br />As I understand an exception causes kernel32 to act and <br />1. seaches for an exception handler. <br />2 If no handler is found, kernel seaches for a debugger. <br />3.If no debugger is present, kernel terminate the process.<br /><br />Kernel provides the ExceptionHandler process with pointers to EXCEPTION_RECORD structure, CONTEXT structure and StackFrame. This part I am very uncertain about. I have not found anything in MSDN or elsewhere about the handler process. Is it a callback process? Where can I lern more about it?<br /><br />The ExceptionHandler process can be coded to do whatever you want. In my example I have choosen to show exception code and address of access-violation  in a messagebox.<br /><br />This is tested only on Win2k.<br /><br />Best regards</div>
    <div class="meta">Posted on 2003-08-26 14:29:08 by minor28</div>
   </div>
   <div class="post" id="post-115600">
    <div class="subject"><a href="#post-115600">Comments on my Exception handling appreciated.</a></div>
    <div class="body">it works just fine in WinXP, nice work minor28.</div>
    <div class="meta">Posted on 2003-08-26 14:48:11 by mistronr1</div>
   </div>
   <div class="post" id="post-115610">
    <div class="subject"><a href="#post-115610">Comments on my Exception handling appreciated.</a></div>
    <div class="body">Works in Win98SE...</div>
    <div class="meta">Posted on 2003-08-26 17:46:04 by NaN</div>
   </div>
   <div class="post" id="post-115888">
    <div class="subject"><a href="#post-115888">Comments on my Exception handling appreciated.</a></div>
    <div class="body">Works in my Win98SE, too. In &quot;ExceptionHandler proc&quot; you have forgotten to return eax and ecx, you need to add this:<br />assume eax:nothing<br />assume ecx:nothing<br /><br />otherwise the compiler will show you errors if you add code after that proc.</div>
    <div class="meta">Posted on 2003-08-28 02:12:52 by Ultrano</div>
   </div>
   <div class="post" id="post-115927">
    <div class="subject"><a href="#post-115927">Comments on my Exception handling appreciated.</a></div>
    <div class="body">A very good article about win32 SEH is <br /><br />&quot;A Crash Course on the Depths of Win32 Structured Exception Handling&quot; by Matt Pietrek<br /><br />in MSDN periodicals (MSJ 01/1997)<br /><br />It requires some C knowlegde</div>
    <div class="meta">Posted on 2003-08-28 06:48:37 by japheth</div>
   </div>
   <div class="post" id="post-117215">
    <div class="subject"><a href="#post-117215">Comments on my Exception handling appreciated.</a></div>
    <div class="body">There also my article on using structured exception handling in assembler, sample code and test executable viewable on-line and downloadable from <a target="_blank" href="http://www.jorgon.freeserve.co.uk/ExceptFrame.htm">here</a></div>
    <div class="meta">Posted on 2003-09-06 06:14:52 by jorgon</div>
   </div>
   <div class="post" id="post-117345">
    <div class="subject"><a href="#post-117345">Comments on my Exception handling appreciated.</a></div>
    <div class="body">Thanks<br /><br />I will take a closer look at the two articales.<br /><br />Best regards</div>
    <div class="meta">Posted on 2003-09-07 11:58:06 by minor28</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>REP prefix on PII, PIII - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6362" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6362">REP prefix on PII, PIII</a></p>
   <div class="post" id="post-45722">
    <div class="subject"><a href="#post-45722">REP prefix on PII, PIII</a></div>
    <div class="body">Hi!<br />I known that for Pentium it's better to write your own loop<br />instead of using rep stos , etc.<br />But I couldn't fnd anytning regarding perfomance hit when rep prefix is used on PII/PIII. Did anybody check it out?</div>
    <div class="meta">Posted on 2002-06-29 11:29:19 by Sergo</div>
   </div>
   <div class="post" id="post-45723">
    <div class="subject"><a href="#post-45723">REP prefix on PII, PIII</a></div>
    <div class="body">String instructions are fine with the repeat prefix on PPRO+</div>
    <div class="meta">Posted on 2002-06-29 11:51:02 by comrade</div>
   </div>
   <div class="post" id="post-45793">
    <div class="subject"><a href="#post-45793">REP prefix on PII, PIII</a></div>
    <div class="body">Sergo,<br /><br />On later pentiums, there is a special case for both MOVS and STOS using REP so you have no problems using either.<br /><br />Generally its a good idea to write your own loops for mor complex code that block move of fill but in these two instances, the REP MOVS/STOS works fine and is usually faster than a manually written loop.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-06-30 00:01:42 by hutch--</div>
   </div>
   <div class="post" id="post-45807">
    <div class="subject"><a href="#post-45807">REP prefix on PII, PIII</a></div>
    <div class="body">I once actually tested this, using rep, normal movs, and mmx movs.<br />If you know the data is aligned, the MMX mov rules pretty much!<br />DWORD movs in a loop will beat the rep movsd if the value of ecx is less than the size of the processor cache, if it is greater, the rep movsd is special cased in the processor, and gets to transfer levels roughly equivelent to that of the MMX movs.<br /><br />Having said that, if it is smaller than the size of the processor cache, then the actual time lost is minimal because the data is so small anyway! The only time it could come in to play is if you repeatedly copied small buffers around memory.<br /><br />Mirno</div>
    <div class="meta">Posted on 2002-06-30 04:10:26 by Mirno</div>
   </div>
  </div>
 </body>
</html>
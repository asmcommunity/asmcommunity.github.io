<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Array Sum - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30281" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30281">Array Sum</a></p>
   <div class="post" id="post-213392">
    <div class="subject"><a href="#post-213392">Array Sum</a></div>
    <div class="body">Hello all, I&#039;m new to assembly and need help with a program. The problem is in the &quot;sumup&quot; procedure, I think it is with &quot;add $t3, $t3, $t2&quot;. Basically I&#039;m trying to do &quot;sum = sum + val&quot; with that line, but every time I run the program, I get the output 0. Any help is appreciated!<br /><br /><pre><code>	.data<br /><br />str2:	.asciiz &quot;Enter the total number of values &quot;<br />str1: 	.asciiz &quot;Enter the next value &quot;<br />newln:	.asciiz &quot;<br />&quot;<br />str3: 	.asciiz &quot;The sum of the values in the array is &quot;<br />total:	.word 0<br />val:	.word 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0<br />sum:	.word 0<br /><br />	.text<br />	.globl main<br />main:<br />	addi $sp, $sp, -4<br />	sw $ra, 0($sp)<br />	li $v0, 4<br />	la $a0, str2<br />	&nbsp;  syscall<br />	li $v0, 5<br />	&nbsp;  syscall<br />	sw $v0, total<br /><br />	jal inproc<br /><br />	jal outproc<br /><br />	jal sumup<br /><br /><br />	lw $ra, 0($sp)<br />	addi $sp, $sp, 4<br />	jr $ra<br /><br /><br /><br />	.text<br />inproc: addi $sp, $sp, -4<br />	sw $ra, 0($sp)<br />	la $t2, val<br />	lw $t1, total<br />loop:	slti $t0, $t1, 1<br />	bne $t0, $zero, out<br />	li $v0, 4<br />	la $a0, str1<br />	&nbsp;  syscall<br /><br />	li $v0, 5<br />	&nbsp;  syscall<br />	sw $v0, 0($t2)<br />	addi $t2, $t2, 4<br />	addi $t1, $t1, -1<br />	j&nbsp; &nbsp; loop<br /><br />out:	lw $ra, 0($sp)<br />	addi $sp, $sp, 4<br />	jr $ra<br /><br /><br /><br />	.text<br /><br />outproc:addi $sp, $sp, -4<br />	sw $ra, 0($sp)<br />	la $t2, val<br />	lw $t1, total<br />loop1:	slti $t0, $t1, 1<br />	bne $t0, $zero, out1<br />	li $v0, 4<br />	la $a0, newln<br />	&nbsp;  syscall<br />	li $v0, 1<br />	lw $a0, 0($t2)<br />	&nbsp;  syscall<br />	addi $t2, $t2, 4<br />	addi $t1, $t1, -1<br />	j loop1<br /><br />out1:	li $v0, 4<br />	la $a0, newln<br />	&nbsp;  syscall<br /><br /><br />	.text<br /><br />sumup:&nbsp; addi $sp, $sp, -4<br />	sw $ra, 0($sp)<br />	la $t2, val<br />	lw $t1, total<br />	li $v0, 4<br />	la $a0, newln<br />	&nbsp;  syscall<br />	la $a0, str3<br />	&nbsp;  syscall<br />	loop2:&nbsp; slti $t0, $t1, 1<br />		bne $t0, $zero, out2<br />		addi $t2, $t2, 4<br />		add $t3, $t3, $t2<br />		addi $t1, $t1, -1<br />		j loop2<br />	out2:<br />		lw $t3, sum<br />		li $v0, 1<br />		lw $a0, sum<br />		&nbsp;  syscall 	</code></pre></div>
    <div class="meta">Posted on 2010-10-25 17:51:26 by DSully26</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hello World - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14192" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=14192">Hello World</a></p>
   <div class="post" id="post-109715">
    <div class="subject"><a href="#post-109715">Hello World</a></div>
    <div class="body">Hi!<br />I am a new user of MASM32. I did try the following program:<br />; #####################################################<br /><br />      .386<br />      .model flat, stdcall<br />      option casemap :none   ; case sensitive<br /><br />; #####################################################<br /><br />      include \masm32\include\windows.inc<br />      include \masm32\include\user32.inc<br />      include \masm32\include\kernel32.inc<br /><br />      include \masm32\include\masm32.inc<br />  <br />      includelib \masm32\lib\user32.lib<br />      includelib \masm32\lib\kernel32.lib<br />      includelib \masm32\lib\masm32.lib<br /><br />; #####################################################<br />.data<br />	prompt db 'Hello World',0dh,0ah,0<br />.code<br />start:<br />    	invoke StdOut,ADDR prompt<br />    	invoke ExitProcess,0<br />end start<br /><br /> Why the message 'Hello World' did not show up on the current console?   I don't want to create a new console (call AllocConsole).<br />N.B. There was a linker message, &quot;LINK:warning LNK4089: all references to &quot;user32.dll&quot; discarded by /OPT:REF&quot;. What does it mean?<br /><br />Iew.</div>
    <div class="meta">Posted on 2003-07-08 20:35:58 by iew</div>
   </div>
   <div class="post" id="post-109720">
    <div class="subject"><a href="#post-109720">Hello World</a></div>
    <div class="body">I compiled it and had the same problem, I changed the PE Subsystem to 3 (console)<br />and it worked fine. I am not a masm guy, so guys :) how do you specify console instead of gui<br />in masm?<br /><br />RobotBob</div>
    <div class="meta">Posted on 2003-07-08 21:23:51 by RobotBob</div>
   </div>
   <div class="post" id="post-109736">
    <div class="subject"><a href="#post-109736">Hello World</a></div>
    <div class="body"><div class="quote">invoke StdOut,ADDR prompt<br />invoke ExitProcess,0<br /><br />Why the message 'Hello World' did not show up on the current console?</div> <br />The message did show up. You were just not fast enough to see it because you closed the console window as soon as the message was displayed!:( <br /><br />Simply insert code to poll the keyboard before the &quot;invoke ExitProcess&quot; and you can admire the message until you press a key.:grin: <br /><div class="quote">N.B. There was a linker message, &quot;LINK:warning LNK4089: all references to &quot;user32.dll&quot; discarded by /OPT:REF&quot;. What does it mean?</div> This only means that you didn't use any of the functions in &quot;user32.dll&quot; and you could remove from your program all &quot;includes&quot; related to that dll.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-07-08 23:02:38 by Raymond</div>
   </div>
   <div class="post" id="post-109738">
    <div class="subject"><a href="#post-109738">Hello World</a></div>
    <div class="body"><div class="quote">The message did show up. You were just not fast enough to see it because you closed the console window as soon as the message was displayed!</div> <br /><br />I disagree. I ran his app from a cmd window.<br />But when it changed the subsystem in the PE header it work fine.<br /><br />Its more of a console app - gui app set in pe header thing.<br /><br />I could be wrong.<br /><br />I guess you need to link it with:<br />/SUBSYSTEM:CONSOLE<br /><br />EDIT: man I added the link thing as donkey did lol<br /><br /><br />RobotBob</div>
    <div class="meta">Posted on 2003-07-08 23:21:18 by RobotBob</div>
   </div>
   <div class="post" id="post-109755">
    <div class="subject"><a href="#post-109755">Hello World</a></div>
    <div class="body">Or you can allocate the console and set up the handles yourself, though that would be pretty senseless.  ;)</div>
    <div class="meta">Posted on 2003-07-09 00:44:55 by iblis</div>
   </div>
   <div class="post" id="post-109757">
    <div class="subject"><a href="#post-109757">Helllo World</a></div>
    <div class="body">Thanks, every body especially Donkey. It's work now.<br />Iew</div>
    <div class="meta">Posted on 2003-07-09 00:53:24 by iew</div>
   </div>
   <div class="post" id="post-109762">
    <div class="subject"><a href="#post-109762">Hello World</a></div>
    <div class="body">The editor in MASM32 is aready set up with the option to build console applications and the batch files that those options drive has the correct subsystem option.<br /><br />If you are going to use the library functions for text input or output to the console, build the app as a console app and everything will display properly as long as you wrote the code so it works OK.<br /><br />Regards,<br /><br />hutch</div>
    <div class="meta">Posted on 2003-07-09 02:25:04 by hutch--</div>
   </div>
  </div>
 </body>
</html>
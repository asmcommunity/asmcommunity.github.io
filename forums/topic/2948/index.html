<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Add size - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2948" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2948">Add size</a></p>
   <div class="post" id="post-19100">
    <div class="subject"><a href="#post-19100">Add size</a></div>
    <div class="body">Hi<br /><br />This is not really a win32 asm question, but this is the only ASM forum I know of.<br />I have been reading in art of assembler and ran across this example, which told the size using the add instuction.<br /><br />add al, 2 //Two bytes long<br />add ah, 2 //Two bytes long<br />add ax, 2 //Three bytes long &lt;-- error ?<br />add eax, 2 //Two bytes long<br /><br />So I tried to execute it using the assembler in Delphi. I line 3 the operant is two bytes 0002, in the other lines the operant is just 02.<br />So is this an &quot;error&quot; in the Delphi assembler or is this just the way</div>
    <div class="meta">Posted on 2002-01-14 11:11:04 by koger</div>
   </div>
   <div class="post" id="post-19180">
    <div class="subject"><a href="#post-19180">Add size</a></div>
    <div class="body">koger,<br /><br />ax is represented by 2 bytes. If you have any debugger (that you should if you've got DOS) you can see the registers and see that ax is, for example, 0000. Then, if you add this number 2 you are going to have 0002. But ah and al use 8 bits, so they are shown as 02, for example. ah is the high part and al is the low. <br /><br />I'd suggest you to puy your little code in another debugger and see what i mean. More questions are appreciated.</div>
    <div class="meta">Posted on 2002-01-14 18:51:34 by CodeLover</div>
   </div>
   <div class="post" id="post-19227">
    <div class="subject"><a href="#post-19227">Add size</a></div>
    <div class="body">koger:<br />Look closely at the following code(opcode | mnemonics):<br />04 02            ADD AL,2<br />80C3 02        ADD BL,2<br />83C0 02        ADD EAX,2<br />83C3 02        ADD EBX,2<br />66:83C0 02   ADD AX,2<br />66:83C3 02   ADD BX,2<br />66:8BC3        MOV AX,BX<br />66:F7D0        NOT AX                                  <br /><br />Last 4 instruction has byte 66 in their code.<br />And all them - 16 bit register instruction<br />the two pares of instructions opcodes a similar exept for leading<br />66 byte:<br /><br />83C0 02        ADD EAX,2<br />83C3 02        ADD EBX,2<br /><br />66:83C0 02   ADD AX,2<br />66:83C3 02   ADD BX,2<br /><br />It's called &quot;prefix of operand size&quot;.<br />And it depends on address mode flags, in simple - in address mode<br />if you in 32 bit addressing mode<br />66:83C0 02   <br />66:83C3 02   <br />means<br />ADD AX,2<br />ADD BX,2<br />in 16 bit adressing mode the same<br />66:83C0 02<br />66:83C3 02<br />means<br />ADD EAX,2<br />ADD EBX,2</div>
    <div class="meta">Posted on 2002-01-14 23:56:09 by The Svin</div>
   </div>
   <div class="post" id="post-19264">
    <div class="subject"><a href="#post-19264">Add size</a></div>
    <div class="body">The AX, 2 is in Delphi assembled not to <br /><br />ADD AX, 2      =   66:83C0 02   <br /><br />as you write but to<br /><br />ADD AX, 2      =   66:0502 00<br /><br /><br />The ADD BX, 2 is the same.<br /><br />Is the (what do you say?) instuction / opcode generated by Delphi faster/slower or is it just the same?<br /><br />Perhaps it's is a dumb question but I'm only 1/4 way through the art of assembly book :)</div>
    <div class="meta">Posted on 2002-01-15 04:50:02 by koger</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ACM: Problem 100 :: 3n+1 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4011" />
  <link rel="prev" href="../?id=4011&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=4011">ACM: Problem 100 :: 3n+1</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=4011&amp;page=1" style="">&laquo;</a><a href="../?id=4011&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="4011" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-27761">
    <div class="subject"><a href="#post-27761">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">What is ACM? :)</div>
    <div class="meta">Posted on 2002-03-07 22:38:40 by The Svin</div>
   </div>
   <div class="post" id="post-27762">
    <div class="subject"><a href="#post-27762">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body"><a target="_blank" href="http://www.acm.org/">Association for Computing Machinery</a></div>
    <div class="meta">Posted on 2002-03-07 22:49:37 by bitRAKE</div>
   </div>
   <div class="post" id="post-27777">
    <div class="subject"><a href="#post-27777">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">I read first problem and found mistake in explonation:<div class="quote">Given an input n, it is possible to determine the number of numbers printed before the 1 is printed. </div> <br /><br />And in example there is 15 numbers BEFORE 1.<br />How can you solve anything if conditions is not clear?<div class="quote">For a given n this is called the cycle-length of n. In the example above, the cycle length of 22 is 16. </div></div>
    <div class="meta">Posted on 2002-03-08 00:51:10 by The Svin</div>
   </div>
   <div class="post" id="post-27779">
    <div class="subject"><a href="#post-27779">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">Here is the problem explaination:<br /><a target="_blank" href="http://acm.uva.es/p/v1/100.html">http://acm.uva.es/p/v1/100.html</a></div>
    <div class="meta">Posted on 2002-03-08 00:56:32 by bitRAKE</div>
   </div>
   <div class="post" id="post-27782">
    <div class="subject"><a href="#post-27782">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">I agree, their problems are very confusing at some point.<br /><div class="quote"><br /><em>...and the maximum cycle length for integers between and including i and j.</em><br /></div><br /><br />They could have said: Find the largest cycle length from i to j.<br /><br />Or better yet, the whole problem could be rephrase to this:<br /><br />Given the input i and j, values entered can only be in the range of 1 - 9999. Find the largest cycle length between i to j using the provided pseudo code algorithm above. When done, print out first the inputs i and j separated with a space, then print out the outputs on a new line i, j and the largest cycle lengths separated by a space....<br /><br />=-=-=-=-=-=-=-=-=<br />Maybe they made it that way as a part of the problem :) who knows?</div>
    <div class="meta">Posted on 2002-03-08 01:06:22 by stryker</div>
   </div>
   <div class="post" id="post-27785">
    <div class="subject"><a href="#post-27785">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">Yes, I agree that they really went out of their way<br />to not direct you in finding an algorithm.</div>
    <div class="meta">Posted on 2002-03-08 01:27:27 by bitRAKE</div>
   </div>
   <div class="post" id="post-27843">
    <div class="subject"><a href="#post-27843">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">So to print 1 is counted as cycle, isn't it?</div>
    <div class="meta">Posted on 2002-03-08 07:50:19 by The Svin</div>
   </div>
   <div class="post" id="post-27851">
    <div class="subject"><a href="#post-27851">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">yes, for example<br /><br /><pre><code><br />the value 10<br /><br />10 5 16 8 4 2 1<br />this has a cycle length of 7<br /><br />in your case the value is 1<br /><br />1<br />this has a cycle length of 1<br /></code></pre><br /><br />:)</div>
    <div class="meta">Posted on 2002-03-08 09:25:07 by stryker</div>
   </div>
   <div class="post" id="post-100171">
    <div class="subject"><a href="#post-100171">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">Here's my try at it...<br /><br />Enter the smaller value, then the larger value. End with a blank line. This took about 3 seconds to check all numbers from 1 to 999999 on my 400Mhz PII. Nasm source is included.<br /><br /><em></em></div>
    <div class="meta">Posted on 2003-04-29 14:51:04 by Sephiroth3</div>
   </div>
   <div class="post" id="post-100311">
    <div class="subject"><a href="#post-100311">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">I also recently noticed this thread.<br /><br />A distributed project about 3x+1 exists:<br /><a target="_blank" href="http://personal.computrain.nl/eric/wondrous/index.html">http://personal.computrain.nl/eric/wondrous/index.html</a><br /><br />One year ago, the program was perfectible.<br />Perhaps can it be improved ?</div>
    <div class="meta">Posted on 2003-04-30 08:15:49 by MCoder</div>
   </div>
   <div class="post" id="post-100410">
    <div class="subject"><a href="#post-100410">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body"><div class="quote"><br /><em></em> </div>Don't apologize - the contest problem is almost ten times as old.</div>
    <div class="meta">Posted on 2003-04-30 20:23:35 by bitRAKE</div>
   </div>
   <div class="post" id="post-100629">
    <div class="subject"><a href="#post-100629">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">Wow, it's been a long time. :)<br /><br />and I forgot my promise to change some stuff... :tongue:<br /><br /><br /><br />As promised to change to richedit control...<br /><br />I also modified everything from the GUI design to the algo. I removed the bloated unnecessary stuff. I modified the main algo to accept a callback function for output. Study the the callback function I made to found out how to use it on other applications.<pre><code>invoke  acm100, i, j, OFFSET acmout</code></pre>acmout is the callback function.<br /><br />This is much simpler in design and much easier to integrate on another program.<br /><br />No need to create two different programs(like I did before) for different style of outputs, Just comment some code and you're done(see source inside - inside acmout function).<br /><br /><br />p.s. Would be nice if some mod would <strong><u>remove the older attachments</u></strong> made by me(and I repeat, only mine(stryker)), to prevent &quot;confusion&quot;. And also edit the post and add a note that my final attachment is here. Thank You. :)<br /><br /><br /><br /><br />added limits 1-999999 only</div>
    <div class="meta">Posted on 2003-05-01 17:46:54 by arkane</div>
   </div>
   <div class="post" id="post-100633">
    <div class="subject"><a href="#post-100633">ACM: Problem 100 :: 3n+1</a></div>
    <div class="body">here's my final algo.<pre><code>&#91;size=9&#93;acm100 PROC USES ebx esi edi i&#58;DWORD, j&#58;DWORD, lpCallback&#58;DWORD<br /><br />    xor     ebx, ebx<br />    xor     edx, edx<br />    mov     esi, i<br />    mov     edi, j<br />    mov     eax, esi<br /><br />    __mainalgoA&#58;<br /><br />        push    eax<br />        push    edx<br /><br />        push    0<br />        push    0<br />        push    eax<br />        call    lpCallback<br /><br />        pop     edx<br />        pop     eax<br /><br />    __mainalgoB&#58;<br /><br />        inc     edx<br />        cmp     eax, 1<br />        je      __mainalgoC<br />        test    eax, 1<br />        jnz     __odd<br />            shr     eax, 1<br />            jmp     __mainalgoA<br />        __odd&#58;<br />            mov     ecx, eax<br />            lea     eax, &#91;eax+eax&#93;<br />            lea     eax, &#91;eax+ecx+1&#93;<br />            jmp     __mainalgoA<br /><br />    __mainalgoC&#58;<br /><br />        cmp     ebx, edx<br />        jae     __mainalgoD<br />        mov     ebx, edx<br /><br />    __mainalgoD&#58;<br /><br />        push    0<br />        push    edx<br />        push    0<br />        call    lpCallback<br /><br />        xor     edx, edx<br />        inc     esi<br />        mov     eax, esi<br />        cmp     esi, edi<br />        jbe     __mainalgoA<br /><br />    push    ebx<br />    push    j<br />    push    i<br />    call    lpCallback<br /><br />    ret<br /><br />acm100 ENDP&#91;/size&#93;</code></pre>I don't have plans to optimize this further. And no plans to use cmovCC instructions - though they will help a lot but I prefer compatibility. :)<br /><br /><br /><br />USES ebx edi edi --- USES ebx esi edi<br /><br />and<br /><br />lea eax, <br />lea eax, <br />inc eax<br /><br />to<br /><br />lea eax, <br />lea eax, <br /><br />You can speed up a little bit by removing the calls to the callback function and at the last step, return the value of ebx (mov eax, ebx) to get the largest cycle count.</div>
    <div class="meta">Posted on 2003-05-01 18:28:04 by arkane</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=4011&amp;page=1" style="">&laquo;</a><a href="../?id=4011&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="4011" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
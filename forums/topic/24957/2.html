<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ESP in procedures compiled by MASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24957" />
  <link rel="prev" href="../?id=24957&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24957">ESP in procedures compiled by MASM</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=24957&amp;page=1" style="">&laquo;</a><a href="../?id=24957&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="24957" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-182657">
    <div class="subject"><a href="#post-182657">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">I agree with that, even though I don&#39;t really know how to code that way, at the moment. I&#39;m too ingrained with my function based programming, that I&#39;ll probably have to set quite a bit of time aside to let myself learn and get use to that, but I need to get more used to ASM before I do that.</div>
    <div class="meta">Posted on 2006-06-29 19:36:29 by Bobbias</div>
   </div>
   <div class="post" id="post-182659">
    <div class="subject"><a href="#post-182659">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">Synfire,<br /><br /><div class="quote">If you really believed that, then why use INVOKE, or macros at all.</div><br /><br />&nbsp; &nbsp;  Because I see value in INVOKE, MACROs, .IF, .END, etc.&nbsp; I don&#39;t see much value in PROCs.&nbsp; I already explained why I believe PROCs don&#39;t add anything useful to source code.&nbsp; Besides they get between the programmer and the problem.&nbsp; Therefore I consider them a nuisance.&nbsp; Ratch<br /><br />Bobbias,<br /><br /><div class="quote">I agree with that..</div><br /><br />&nbsp; &nbsp;  Since you have not designated whom you are addressing, I don&#39;t know what or whom you are agreeing with, or why.&nbsp; Ratch<br /><br /><br /></div>
    <div class="meta">Posted on 2006-06-29 21:03:54 by Ratch</div>
   </div>
   <div class="post" id="post-182664">
    <div class="subject"><a href="#post-182664">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">lol, sorry, I agree that coding without using invoke, .IF and all those other things are more or less an asset, than a necessity, but they do help speed things up. understanding an unencapsulated proc/invoke-less program written in &quot;pure ASM&quot; using the call keyword, and otherwise without any objects written as complete procedural code is much harder to understand, and to work with (say, as an API in attempting to do something, eg. writing a library of torrent functions to be included in a torrent tracker, ro somesuch application written in ASM). In a case like that, OOP concepts, invokes, .IFs, macros, and all those &quot;non-pure&quot; ASM elements greatly increase someone&#39;s understanding, and ability to figure out, and work with quickly, as opposed to requiring aan in-deapth analasys of what the code is doing.<br /><br />Higher level programming languages in this case, evolved into using routines, proc&#39;s, and all that sort of thing more because it&#39;s easier to unserstand than seeing a piece of code lbaelled dog_bark: in the middle of your program,. for instance.<br /><br />Much of these higher level assembly things come from people who&#39;ve worked in high level languages, and aren&#39;t used to ASM, ro are unable to fully write in a procedural mannear, as assembly was originally intended, which means that though unnecessary, and possibly a nuisance, this code brings some of the benefits of high level langauges into assembly, speeding the programming process up a little.<br /><br />Sorry if i seem like I&#39;m rambling at all, but this is what I think about these sorts, of things, and I do believe that I should learn to write in &quot;pure assembly&quot; eventually, but right now, I&#39;m still in OOP mode.</div>
    <div class="meta">Posted on 2006-06-30 00:17:59 by Bobbias</div>
   </div>
   <div class="post" id="post-182668">
    <div class="subject"><a href="#post-182668">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">Bobbias,<br /><br /><div class="quote">lol, sorry, I agree that coding without using invoke, .IF and all those other things are more or less an asset, than a necessity, but they do help speed things up.</div><br /><br />&nbsp; &nbsp;  Hm.&nbsp; Things are a little off track here.&nbsp; Looking back at this thread, I or no one else advocated NOT using INVOKE, HLL, or MACROs.&nbsp; Only I advocated NOT using PROCs.&nbsp; Let&#39;s go down the line.&nbsp; INVOKE is good because it allows one to write several parameters on one line along with the subroutine.&nbsp; And it also makes sure that the number of parameters is correct.&nbsp; That is better than PUSH, PUSH, PUSH,...,CALL .&nbsp; HLL is nice because its implicit labels don&#39;t clutter up the source code.&nbsp; MACROs are great for useful functions and generating consistent in-line code.&nbsp; I like &#39;em all except for PROCS.&nbsp; If you don&#39;t like &#39;em, then it would be interesting to know why.<br /><br /><div class="quote">Higher level programming languages in this case, evolved into using routines, proc&#39;s, and all that sort of thing more because it&#39;s easier to understand than seeing a piece of code lbaelled dog_bark: in the middle of your program,. for instance.</div><br /><br />&nbsp; &nbsp;  They did?&nbsp; It is?<br /><br /><div class="quote">Much of these higher level assembly things come from people who&#39;ve worked in high level languages, and aren&#39;t used to ASM, ro are unable to fully write in a procedural mannear, as assembly was originally intended, which means that though unnecessary, and possibly a nuisance, this code brings some of the benefits of high level langauges into assembly, speeding the programming process up a little.</div><br /><br />&nbsp; &nbsp;  I did not know that the authors of the HLL features of MASM also worked previously in high level languages.<br /><br /><br /><div class="quote">Sorry if i seem like I&#39;m rambling at all, but this is what I think about these sorts, of things, and I do believe that I should learn to write in &quot;pure assembly&quot; eventually, but right now, I&#39;m still in OOP mode.</div><br /><br />&nbsp; &nbsp;  You can&#39;t help but write &quot;pure assembly&quot; if you use MASM.&nbsp; It will error if you try to combine it with another language like C, for instance.&nbsp; Some languages allow you to insert in-line asm, but MASM does not allow any other language within its source code.&nbsp; Ratch<br /></div>
    <div class="meta">Posted on 2006-06-30 01:00:06 by Ratch</div>
   </div>
   <div class="post" id="post-182671">
    <div class="subject"><a href="#post-182671">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">As a reminder, I am not a Win32 programmer and do not have much experience in using assemblers like FASM or MASM, but TASM. In my humble opinion, procedures are nothing but an offsets of the label used to declare their alias from the beginning of the segment in which they are declared. What might confuse the programmer are the instructions not the procedures. Procedures in 16 bit TASM do absolutely nothing but to hold an offset relative to the segment. Therefore, if one knows what an offset is, he or she would probably be able to understand what a procedure in ASM is. Nevertheless, what MASM does in a procedure, although weird, can be useful in too many cases.<br /><br />Ratch…<br />Right now, I have no idea what you mean by “obfuscating??? the code to the beginners. I think we should first define “beginners??? then we might be able to discuss this issue. A beginner in my opinion should know about the basics of the assembly language before starting to write working programs. Learning the theory is great but experience is the best teacher. Therefore, if you know what jumps are and have a good understanding of what the stack and the other useful parts of the program are, chances are that you will make programs that work faster and are easier to maintain. I think everybody could write a code that only he or she would be able to understand, but that is not the point. If procedures allow you to be able to maintain your code faster then you should go for it. Believe me, almost one hundred percent of the ASM coders, precluding the absolute rookies, do already know what a procedure is and how it works. Therefore, what is “obfuscating??? the code to the beginners is what MASM is doing to the final generated code inside the procedure not the procedure itself.<br /><br /><br />If you are absolutely sure that the code you are writing is just meant to be read by you, then you can do any tricks when necessary to make the code work faster and more optimized. We all know about the pairing and how sometimes using “ADD REG, 1??? could pair with other instructions adjacent to it but not the “INC REG??? thus writing something like that could confuse a beginner user even more.<br /><br />I am not contending with you over the style of coding, I just believe that you should know what and who you are coding for and apply the necessary changes to the code to make it fit the bill.</div>
    <div class="meta">Posted on 2006-06-30 04:11:51 by XCHG</div>
   </div>
   <div class="post" id="post-182676">
    <div class="subject"><a href="#post-182676">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">XCHG,<br /><br /><div class="quote">Right now, I have no idea what you mean by “obfuscating??? the code to the beginners. I think we should first define “beginners??? then we might be able to discuss this issue.</div><br /><br />&nbsp; &nbsp;  By obfuscating, I mean that PROCs confuse or make opaque so as to be difficult to perceive or understand what is happening in the subroutine definition.&nbsp; If you read the documentation about PROCs, there is a lot of bells and whistles that can be confusing to a beginner.&nbsp; The definition of a beginner, in my opinion, is someone who does not know most of the important basics of how MASM operates.&nbsp; <br /><br /><div class="quote"> A beginner in my opinion should know about the basics of the assembly language before starting to write working programs.</div><br /><br />&nbsp; &nbsp;  Yes, that is nice, but most don&#39;t.&nbsp; The documentation does not explain it all that clearly sometimes, and part of the learning process involves writing programs to see what happpens.<br /><br /><div class="quote">Learning the theory is great but experience is the best teacher.</div><br /><br />&nbsp; &nbsp;  Exactly, and getting experience involves writing programs even when one does not know very well what one is doing.<br /><br /><div class="quote">If procedures allow you to be able to maintain your code faster then you should go for it.</div><br /><br />&nbsp; &nbsp;  Code maintenance is usually not a speed issue.<br /><br /><div class="quote">Believe me, almost one hundred percent of the ASM coders, precluding the absolute rookies, do already know what a procedure is and how it works. Therefore, what is “obfuscating??? the code to the beginners is what MASM is doing to the final generated code inside the procedure not the procedure itself.<br /></div><br /><br />&nbsp; &nbsp;  I don&#39;t think so.&nbsp; If you look at the MASM coding problems posted on this board and others, a very high percentage are about PROCs; what they are doing and how to make them do what you want.&nbsp; That makes me feel that PROCs are causing more consternation and confusion then they are worth for beginners.&nbsp; Perhaps the support staff can comment on this point.<br /><br /><div class="quote">Therefore, what is “obfuscating??? the code to the beginners is what MASM is doing to the final generated code inside the procedure not the procedure itself.<br /></div><br /><br />&nbsp; &nbsp;  If a programmer does not know what MASM is doing inside a block of encapsulated black box Fort Knox generated code, sooner or later that will come back to bite him.<br /><br /><div class="quote">We all know about the pairing and how sometimes using “ADD REG, 1??? could pair with other instructions adjacent to it but not the “INC REG??? thus writing something like that could confuse a beginner user even more.<br /></div><br /><br />&nbsp; &nbsp;  Writing code a certain way in order to be more understanding to nubes is not the way to go.&nbsp; The code should should be written to facilitate the program, not the other programmer.&nbsp; Documentation is the way to explain what is going on. <br /><br /><div class="quote">I just believe that you should know what and who you are coding for and apply the necessary changes to the code to make it fit the bill.</div><br /><br />&nbsp; &nbsp;  Again, I don&#39;t code for a person.&nbsp; I code for program size and speed and to hell with anyone else.&nbsp; Documentation solves the comprehension problem.&nbsp; Ratch<br /><br /><br /><br /><br /><br /></div>
    <div class="meta">Posted on 2006-06-30 09:40:50 by Ratch</div>
   </div>
   <div class="post" id="post-182686">
    <div class="subject"><a href="#post-182686">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body"><div class="quote"> Again, I don&#39;t code for a person.&nbsp; I code for program size and speed and to hell with anyone else.&nbsp; Documentation solves the comprehension problem. </div><br /><br />Haha, my highschool programmign teacher would hate you. He always tought that code should be extremely readable, and all that other stuff, because he decided that since programming teams are common, we should code as though we were a part of one 24/7<br /><br />I code that I myself know what&#39;s going on, and make EXTENISIVE use of comments in the program.<br />And I make sure that my program is as efficient as I can make it without seriously spending time optimizing.</div>
    <div class="meta">Posted on 2006-06-30 17:41:12 by Bobbias</div>
   </div>
   <div class="post" id="post-182690">
    <div class="subject"><a href="#post-182690">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body">My personal oppinion is optimization comes before readability, unless you are writing a book/tutorial. Any code that is meant to be ran should be optimized, leave comments for readability where needed. I do believe in writing readable code, but not at the sacrafice of optimization. Readability is always an afterthought for me. The difference is, if development time is critical then PROC&#39;s and such are an asset which should be used.<br /><br /><div class="quote">If you look at the MASM coding problems posted on this board and others, a very high percentage are about PROCs; what they are doing and how to make them do what you want.&nbsp; That makes me feel that PROCs are causing more consternation and confusion then they are worth for beginners.&nbsp; Perhaps the support staff can comment on this point.</div><br /><br />I agree with that. My view is not that PROC&#39;s are bad, but should only be used once you have a good understand of what they are adding to your application. For me, that goes for all HL constructs and macros.<br /><br /><div class="quote">Writing code a certain way in order to be more understanding to nubes is not the way to go.&nbsp; The code should should be written to facilitate the program, not the other programmer.</div><br /><br />But when working in groups what is apparent to one person is not always apparent to the other person. Fact is, I&#39;ve handed code off to people which I would hardly condsider &quot;nubes&quot; and it&#39;s rare that they would understand fully what my application does unless I clean up the code. If you think your source code will ever be handed off to another human being, then you should make your source code readable. Honestly, I&#39;m not sure how readability effects the current conversation as I feel the STRUCT method is very readable. I just think it&#39;s overkill, and adds a lot of unneeded typing, and I personally wouldn&#39;t use it. But then again I&#39;ve also been known to use fastcall on smaller routines to keep from having to type PROC&#39;s.<br /><br /><div class="quote">I code that I myself know what&#39;s going on, and make EXTENISIVE use of comments in the program.</div><br /><br />I&#39;ve personally never seen any of your source code, but I do believe that there is a such thing as over commenting. Comments are good, but should only be used to point out what isn&#39;t apparent (an application isn&#39;t meant to be a tutorial so commenting a line like &#39;xor eax, eax&#39; would just be a little much). ;)<br /><br /><div class="quote">And I make sure that my program is as efficient as I can make it without seriously spending time optimizing.</div><br /><br />I find it better to create a working application as a draft; then spend the rest of the development time optimizing, fixing bugs, adding features, etc. That way you know that the goal is actually achievable, and you get to spend a greater amount of focus on optimization without having to worry about how to implement the next peice of the puzzle.<br /><br />It seems this thread has turned into more of an argument of opinion. The problem with opinions is that nobody is ever right or wrong so the arugments simply continue on (sorta like &quot;Lamb Chop&#39;s&quot; Song that never ends). What started out as a bit of confusion has began to spiral out of control. I desist my arguments from here on out about this topic.<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2006-06-30 20:02:24 by Synfire</div>
   </div>
   <div class="post" id="post-182693">
    <div class="subject"><a href="#post-182693">Re: ESP in procedures compiled by MASM</a></div>
    <div class="body"><div class="quote"><br />It seems this thread has turned into more of an argument of opinion. The problem with opinions is that nobody is ever right or wrong so the arugments simply continue on (sorta like &quot;Lamb Chop&#39;s&quot; Song that never ends). What started out as a bit of confusion has began to spiral out of control. I desist my arguments from here on out about this topic.<br /></div><br /><br />Agreed. If the original question was answered, then please let this thread die peacefully. If it hasn&#39;t, please get back on subject.<br /><br />Considering the content-value, any more open opinions (i.e. doesn&#39;t *factually* satisfy the original poster&#39;s inquiry) and I will have to move this thread to &quot;The Crusades&quot;.</div>
    <div class="meta">Posted on 2006-06-30 20:27:34 by SpooK</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=24957&amp;page=1" style="">&laquo;</a><a href="../?id=24957&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="24957" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
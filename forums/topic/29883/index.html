<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>U and V something - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29883" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29883">U and V something</a></p>
   <div class="post" id="post-211102">
    <div class="subject"><a href="#post-211102">U and V something</a></div>
    <div class="body">Hello friends.<br /><br />I was reading this book lately, and the wize guy there said one<br />can group two asm instructions in such a way that they will be done simultaneously<br />by different conveyors or something, called U and V ( in pentium as far as i understood).<br /><br /> i would look forward to hearing more about this feature of pentium cpu.<br /><br />especially about application of this in code. what are the rules to code that way? etc</div>
    <div class="meta">Posted on 2010-03-22 11:05:47 by Turnip</div>
   </div>
   <div class="post" id="post-211103">
    <div class="subject"><a href="#post-211103">Re: U and V something</a></div>
    <div class="body">Avoid reading from a register/memory location immediately after writing to it.<br /><br />This is it in a nutshell :P</div>
    <div class="meta">Posted on 2010-03-22 11:15:42 by ti_mo_n</div>
   </div>
   <div class="post" id="post-211104">
    <div class="subject"><a href="#post-211104">Re: U and V something</a></div>
    <div class="body">Some info here:<br /><br />http://www.asdf.org/~fatphil/x86/pentopt/10.html<br /><br />Pretty much obsolete, I think...<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2010-03-22 11:38:01 by fbkotler</div>
   </div>
   <div class="post" id="post-211105">
    <div class="subject"><a href="#post-211105">Re: U and V something</a></div>
    <div class="body">Thanks timon &amp; fbkotler. :P<br /><br /><br />why obsolete?</div>
    <div class="meta">Posted on 2010-03-22 12:10:28 by Turnip</div>
   </div>
   <div class="post" id="post-211106">
    <div class="subject"><a href="#post-211106">Re: U and V something</a></div>
    <div class="body"><div class="quote"><br />why obsolete?<br /></div><br /><br />Since the original Pentium, there has been the introduction of things such as instruction re-ordering, SSE, hyperthreading and multiple cores. I would be willing to bet that there&#039;s more than just &quot;two pipelines&quot; these days.</div>
    <div class="meta">Posted on 2010-03-22 12:29:07 by SpooK</div>
   </div>
   <div class="post" id="post-211107">
    <div class="subject"><a href="#post-211107">Re: U and V something</a></div>
    <div class="body">Correct. The Pentium was the first x86 to have a superscalar architecture, which means that it had two parallel instruction pipelines, named U and V, capable of executing two instructions in parallel.<br />This is very specific to the Pentium architecture. The architecture was in-order, which means that the instructions were executed exactly as they were encoded. In other words, the assembly programmer or compiler was responsible for grouping instructions so that they could be executed in U and V in parallel (there were various rules, because you cannot execute an instruction in V if it depends on the result of the instruction in U, and V did not support all instructions, etc).<br />In practice this meant that most code wasn&#039;t all that efficient.<br /><br />The Pentium Pro was the first out-of-order architecture, which meant that it would pre-decode a block of code, and then it would attempt to re-order the code to make the best possible use of its superscalar architecture. This means that you no longer rely on the assembly programmer or compiler for the actual scheduling of instructions.<br />Instead of pipelines, Pentium Pro speaks of &#039;execution ports&#039;. It&#039;s slightly different. There&#039;s a number of different ports, each one capable of processing a subset of instructions. A set of &#039;mini pipelines&#039; which together form &#039;the pipeline&#039;.<br /><br />Both AMD and Intel CPUs today are still very close to the original Pentium Pro.<br />This means that an assembly programmer or compiler mainly has to worry about optimizing the code for the decoder (and picking the fastest instructions for the job, not legacy ones). Instruction scheduling and parallelism are extracted by the CPU on-the-fly, through its out-of-order mechanism.<br /><br />Having said that, it&#039;s not *entirely* obsolete, since Intel&#039;s Atom processor is an in-order architecture, just like the Pentium. I haven&#039;t studied the architecture in detail, but I wouldn&#039;t be surprised if it works very similarly to the U and V pipes in the Pentium.</div>
    <div class="meta">Posted on 2010-03-22 13:33:02 by Scali</div>
   </div>
   <div class="post" id="post-211144">
    <div class="subject"><a href="#post-211144">Re: U and V something</a></div>
    <div class="body">thanks for explaining, guys.<br /></div>
    <div class="meta">Posted on 2010-03-28 04:57:38 by Turnip</div>
   </div>
  </div>
 </body>
</html>
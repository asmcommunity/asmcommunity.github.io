<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C like strings in MASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17217" />
    <link rel="next" href="../?id=17217&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17217">C like strings in MASM</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=17217&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=17217&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="17217" /><input type="number" name="page" min="1" max="7" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=17217&amp;page=2">&gt;</a><a href="../?id=17217&amp;page=7">&raquo;</a></form>   <div class="post" id="post-133428">
    <div class="subject"><a href="#post-133428">C like strings in MASM</a></div>
    <div class="body">Is there a macro for MASM/MASM32 that lets you pass plain strings like this to a function<br /><br /><pre><code><br />invoke funcname, &quot;This is a string&quot;<br /><br /><br /></code></pre><br /><br />Just like in C?<br /><br />Also is there anything like a printf or something like that for MASM?</div>
    <div class="meta">Posted on 2004-02-13 16:43:31 by x86asm</div>
   </div>
   <div class="post" id="post-133432">
    <div class="subject"><a href="#post-133432">C like strings in MASM</a></div>
    <div class="body">look for CSTR and stay away from whatever &quot;jmp skip_data&quot; style junk hutch as made ^_^</div>
    <div class="meta">Posted on 2004-02-13 17:01:22 by f0dder</div>
   </div>
   <div class="post" id="post-133433">
    <div class="subject"><a href="#post-133433">C like strings in MASM</a></div>
    <div class="body">CTEXT, even. I dunno who made this macro originally, I snatched it and forgot to write down the author name - wouldn't be surprised if it's bitRAKE though ^_^<br /><br /><pre><code><br />CTEXT MACRO y&#58;VARARG<br />	LOCAL sym<br /><br />	CONST segment<br />		IFIDNI &lt;y&gt;,&lt;&gt;<br />			sym db 0<br />		ELSE<br />			sym db y,0<br />		ENDIF<br />	CONST ends<br /><br />	EXITM &lt;OFFSET sym&gt;<br />ENDM<br /></code></pre></div>
    <div class="meta">Posted on 2004-02-13 17:02:26 by f0dder</div>
   </div>
   <div class="post" id="post-133443">
    <div class="subject"><a href="#post-133443">C like strings in MASM</a></div>
    <div class="body">And my <strong>trace</strong> macro, used as follows:<br />trace &quot;eax is %d and this string is %s&quot;,eax,ebx<br /><pre><code><br />trace macro What1&#58;REQ,What2&#58;VARARG<br />	ifndef trace_buffer1<br />		.data?<br />			trace_buffer1 db 400 dup &#40;?&#41;<br />		.code<br />	endif<br />	invoke wsprintf,addr trace_buffer1,CTEXT&#40;What1&#41;,What2<br />	invoke DebugPrint,addr trace_buffer1<br />endm	<br /></code></pre></div>
    <div class="meta">Posted on 2004-02-13 18:46:03 by Ultrano</div>
   </div>
   <div class="post" id="post-133445">
    <div class="subject"><a href="#post-133445">C like strings in MASM</a></div>
    <div class="body">that's pretty neat, Ultrano - and for people who don't know, check out <a target="_blank" href="http://www.sysinternals.com/ntw2k/freeware/debugview.shtml">http://www.sysinternals.com/ntw2k/freeware/debugview.shtml</a></div>
    <div class="meta">Posted on 2004-02-13 19:11:44 by f0dder</div>
   </div>
   <div class="post" id="post-133462">
    <div class="subject"><a href="#post-133462">Macro newbie</a></div>
    <div class="body">Hello, as any shoud known there is a macro in the macro directory of the masm32, and could be used like this:<br /><br />invoke MessageBox,NULL,SADD(&quot;Cant open file&quot;),SADD(&quot;Error&quot;),MB_OK<br />invoke MessageBox,NULL,SADD(&quot;Sorry option not allowed&quot;),SADD(&quot;Error&quot;),MB_OK<br />...<br />..<br />and so on.<br /><br /><br />I been check the macro reference for masm and i make my own macros, with my macros i can do this:<br /><br />invoke MessageBox,NULL,_T(&quot;Cant open file&quot;),_T(&quot;Error&quot;),MB_OK<br />invoke MessageBox,NULL,_T(&quot;Sorry option not allowed&quot;),_T(&quot;Error&quot;),MB_OK<br />...<br />..<br />and so on.<br /><br /><br />????#@ I don't understand, what is the new feature?<br />Easy my friend, i will explain, with the sadd macro in the two lines of the messagebox invokes, whe declare 4 strings.<br />but with the _T macro whe just declare 3 strings, and reuse 1.<br /><br />WARNING:<br />I found a bug, and i dont know how to solve, the errors come when i put on a string the character '\', like this:<br />mov eax,_T(&quot;c:\blabla&quot;)<br />mov ecx,_T(&quot;file:///c:\&quot;)<br /><br />the error came in the second instruction<br />if any macro expert found the bug let me know<br /><br />so here is the macros:</div>
    <div class="meta">Posted on 2004-02-13 23:55:47 by mauricioprado</div>
   </div>
   <div class="post" id="post-133466">
    <div class="subject"><a href="#post-133466">C like strings in MASM</a></div>
    <div class="body">You could just switch to GoAsm, it allows that syntax and doesn't create a new section if you don't have a .data section it puts it in .const, if .data already exists it puts it in .data. Actually it's about the only high level construct that it does have but it makes up for it with USEDATA and USES FLAGS etc... as well as internal unicode support.<br /><br />Then again if you're looking for C like constructs GoAsm isn't likely to be for you, no high level constructs like .IF/.WHILE and jumps and data size are explicit. Nice when you get used to it but it certainly takes a while to loose the high level crutches.</div>
    <div class="meta">Posted on 2004-02-14 00:29:32 by donkey</div>
   </div>
   <div class="post" id="post-133483">
    <div class="subject"><a href="#post-133483">C like strings in MASM</a></div>
    <div class="body">Try my string macros. Syntax and examples are inside.</div>
    <div class="meta">Posted on 2004-02-14 06:13:01 by Four-F</div>
   </div>
   <div class="post" id="post-133489">
    <div class="subject"><a href="#post-133489">C like strings in MASM</a></div>
    <div class="body">x86asm,<br /><br />In the latest service pack for MASM32 there is a macro that does exactly that.<br /><pre><code><br />fn MessageBox,hWnd,&quot;Text Message&quot;,&quot;Title&quot;,MB_OK<br /></code></pre><br />You can in fact use it on any API call that uses an initialised string.<br /><br /><div class="quote"><br />look for CSTR and stay away from whatever &quot;jmp skip_data&quot; style junk hutch as made ^_^<br /></div><br />:tongue: <br /><br />f0dder,<br /><br />You will have to learn some assembler one day and give up using a C compiler as a crutch.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-14 07:51:13 by hutch--</div>
   </div>
   <div class="post" id="post-133507">
    <div class="subject"><a href="#post-133507">C like strings in MASM</a></div>
    <div class="body">Heh, using a C compiler as a crutch? I don't see what the CTEXT I posted has to do with using C compilers. And the &quot;jmp skipdata&quot; approach used in the SADD macro is just plain... SAD. Anyway, mauricioprado's (and other similar macros that's been presented before, probably by bitRAKE) beats them both.</div>
    <div class="meta">Posted on 2004-02-14 10:27:39 by f0dder</div>
   </div>
   <div class="post" id="post-133511">
    <div class="subject"><a href="#post-133511">C like strings in MASM</a></div>
    <div class="body"><div class="quote">f0dder,<br /><br />You will have to learn some assembler one day and give up using a C compiler as a crutch.</div><br /><br />Actually f0dder is the one making sense here, from an assembly point-of-view. Or at least, from a CPU-architecture point-of-view. If you read some recent Intel optimization manuals (or probably AMD or others), you will find that the code and data cache are mutually exclusive. This means that embedded data in a code-page is explicitly not cached, and therefore it will cause a cache-miss.<br />So, yes, assembly programmers should know that putting data in the code and jumping over it is indeed... 'junk'.</div>
    <div class="meta">Posted on 2004-02-14 10:45:27 by Henk-Jan</div>
   </div>
   <div class="post" id="post-133528">
    <div class="subject"><a href="#post-133528">C like strings in MASM</a></div>
    <div class="body">mauricioprado,<br />It appears that your MACROs are getting confused with the line continuation character \ .  Your method appears to concatenate several strings into one big string and use the INSTR function to see if the string was used before.  There might be a limit to how long the string can be, in which case the method fails.  In any case, it makes your MACROs quite complicated.  See if you don't like how I do it better.  It is much simpler and does not have your backslash problem.  Ratch<br /><br /><br /><pre><code><br />;-------------------------------------------------------------------------------<br />BYTER MACRO P1&#58;VARARG            ;inline code for BYTE string and implicit label<br />LOCAL L1<br /> .DATA<br />L1 BYTE P1<br /> .CODE<br /> EXITM &lt;OFFSET L1&gt;<br />ENDM<br />;-------------------------------------------------------------------------------<br />LBYTER MACRO P1,P2&#58;VARARG        ;inline code for BYTE string and explicit label<br /> .DATA<br />P1 BYTE P2<br /> .CODE<br /> EXITM &lt;OFFSET P1&gt;<br />ENDM<br />;-------------------------------------------------------------------------------<br /> 00000008		     1	 .DATA<br /> 00000008 41 6C 6C 20 74     1	??0019 BYTE 'All things happen\\to those who wait',0<br />	   68 69 6E 67 73<br />	   20 68 61 70 70<br />	   65 6E 5C 5C 74<br />	   6F 20 74 68 6F<br />	   73 65 20 77 68<br />	   6F 20 77 61 69<br />	   74 00<br /> 00000037		     1	 .CODE<br /> 0000002D		     1	 .DATA<br /> 0000002D 4E 55 4D 42 45     1	TAG1 BYTE 'NUMBER ONE',0<br />	   52 20 4F 4E 45<br />	   00<br /> 00000037		     1	 .CODE<br />				 INVOKE MessageBox,0,BYTER&#40;'All things happen\\to those who wait',0&#41;,LBYTER&#40;TAG1,'NUMBER ONE',0&#41;,MB_OK<br /> 00000037  6A 00	   *	    push   +000000000h<br /> 00000039  68 0000002D R   *	    push   dword  ptr OFFSET FLAT&#58;TAG1<br /> 0000003E  68 00000008 R   *	    push   dword  ptr OFFSET FLAT&#58;??0019<br /> 00000043  6A 00	   *	    push   +000000000h<br /> 00000045  E8 00000000 E   *	    call   MessageBoxA<br /> 00000038		     1	 .DATA<br /> 00000038 54 72 79 20 69     1	??001A BYTE 'Try it this // way',0<br />	   74 20 74 68 69<br />	   73 20 2F 2F 20<br />	   77 61 79 00<br /> 0000004A		     1	 .CODE<br />				 INVOKE MessageBox,0,BYTER&#40;'Try it this // way',0&#41;,OFFSET TAG1,MB_OK<br /> 0000004A  6A 00	   *	    push   +000000000h<br /> 0000004C  68 0000002D R   *	    push   dword  ptr OFFSET FLAT&#58;TAG1<br /> 00000051  68 00000038 R   *	    push   dword  ptr OFFSET FLAT&#58;??001A<br /> 00000056  6A 00	   *	    push   +000000000h<br /> 00000058  E8 00000000 E   *	    call   MessageBoxA<br />				END MAIN<br /></code></pre></div>
    <div class="meta">Posted on 2004-02-14 16:41:33 by Ratch</div>
   </div>
   <div class="post" id="post-133533">
    <div class="subject"><a href="#post-133533">C like strings in MASM</a></div>
    <div class="body">Guess who does not do his research before opening his mouth ? The SADD macro writes initialised data to the initialised data section, the macro name is in fact a reuse of an older technical term which meant STRING ADDRESS.<br /><br />Henk,<br /><br />Data in the code section is built into the processor design with immediate operands like<br /><pre><code><br />mov eax, 1<br /></code></pre><br />Fortunately the designers of the PE specification that Microsoft uses a subset of were not cloned by the ANSI C standard and wrote a file format that used FLAT memory model which can contain both code and data set out by the requirements of the program in mch the same way as old dos COM files.<br /><br />Many people confuse data written into the code section as being read into the code cache but as you would be aware, data cannot normally be executed and the code simply jumps over it. When the address of the embedded data is referenced as data, it resides in the data cache.<br /><br />It is a left over with many C programmers who don't seem to be familiar with PE specifications when they insist that code and data be seperated as it had to be in the old dos segmented memory models. There are in fact a lot of things from the dos day that can well be forgotten and assumptions based on segmented architecture are among them.<br /><br />For f0dder, code is code and data is data and the processor is smart enough to know which is which and what gets loaded into which cache. When you jump over data, it does NOT end up in the code cache.<br /><br />Now in areas where cache usage is actually critical in terms of performance, Intel recommend that data be local which means STACK based, not data section or code section static data as it is closer in terms of cache load. The other requirement when performance matters is data alignment to ensure the processor does not have to fetch twice across a 4 byte boundary.<br /><br />Perhaps f0dder should take his foot out of his mouth before making smartarse comments when he is out of date and short of the facts.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-14 17:31:59 by hutch--</div>
   </div>
   <div class="post" id="post-133548">
    <div class="subject"><a href="#post-133548">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br /><br /><br />Actually f0dder is the one making sense here, from an assembly point-of-view. Or at least, from a CPU-architecture point-of-view. If you read some recent Intel optimization manuals (or probably AMD or others), you will find that the code and data cache are mutually exclusive. This means that embedded data in a code-page is explicitly not cached, and therefore it will cause a cache-miss.<br />So, yes, assembly programmers should know that putting data in the code and jumping over it is indeed... 'junk'. </div><br /><br />I tried to put code in the data segment as a temp storage in my Z80 CPU emu and I was unable to access it, it causes a fault.</div>
    <div class="meta">Posted on 2004-02-14 20:55:17 by x86asm</div>
   </div>
   <div class="post" id="post-133574">
    <div class="subject"><a href="#post-133574">C like strings in MASM</a></div>
    <div class="body"><div class="quote">Many people confuse data written into the code section as being read into the code cache but as you would be aware, data cannot normally be executed and the code simply jumps over it. When the address of the embedded data is referenced as data, it resides in the data cache.</div><br /><br />Firstly, immediate operands are a different case, and you cannot use strings as immediate operands.<br />Secondly, you are wrong here, as I said before. Read the manuals and see that data and code cache are mutually exclusive. So if you are accessing data from a page that is currently in code-cache (such as the code you are currently executing), it is NOT in the data-cache, because the CPU-designers assumed that code does not contain data, and vice versa, and can therefore make the caching more efficient, by eliminating redundant caching of pages.<br />So yes you DO get a cache miss the first time. If you don't believe me, read the manuals.<br />Other than that, it's ugly too, and it can be error-prone, since code pages don't have the same rights as data pages.<br /><br />By the way, the P4 doesn't actually cache code at all anymore, in its L1 cache. It grabs on an L2-level, and predecodes everything to trace-cache.<br />So your data is at most in L2-cache, it is not in L1-cache at all, not as data, and not as code.<br /><br /><div class="quote">code is code and data is data and the processor is smart enough to know which is which and what gets loaded into which cache. When you jump over data, it does NOT end up in the code cache.</div><br /><br />Whether it ends up in the code cache or not, is not that relevant. Ofcourse as you know, caches don't work on a byte-level granularity, but on a cacheline level, which is usually 32 or 64 bytes. So as you will understand, SOME of the data will be in code-cache (assuming no trace-cache here), unless it happens to be just outside any cacheline boundaries.<br />But the relevant part is: it will not end up in data-cache either, not unless you access it for the first time.<br />So you always get a cache miss, while normally you would group data together, and (some of) it will be prefetched by earlier operations on nearby data.<br />Also, you won't have the problem of polluting part of your data cachelines with code, and vice versa.<br />So in short, you never want to do this. And defending it is just silly.</div>
    <div class="meta">Posted on 2004-02-15 06:35:48 by Henk-Jan</div>
   </div>
   <div class="post" id="post-133642">
    <div class="subject"><a href="#post-133642">C like strings in MASM</a></div>
    <div class="body">Henk,<br /><br /><div class="quote"><br />Firstly, immediate operands are a different case, and you cannot use strings as immediate operands.<br /></div><br /><pre><code><br />mov eax, &quot;sihT&quot;<br />mov ebx, &quot; si &quot;<br />mov ecx, &quot; ton&quot;<br />mov edx, &quot;eurt&quot;<br /></code></pre><br />In a portable executable file there is no mechanical seperation between data and code and the sections are defined by the read / write / execute attributes only. You can copy binary data into GlobalAlloc() memory and run it from there.<br /><br />A common method of avoiding a seperate initialised data section in very small programs is to write it as follows,<br /><pre><code><br />.code<br />    align 4<br />    MyVar dd 125<br />    AnotherVar dd 500<br />    mybytes db &quot;This is a test&quot;,0<br />start&#58;<br />    ; your user code here.<br /></code></pre><br />This is clearly data in the code section yet it is NEVER read into the code cache. If you need to to both read and write the data in the code section, you change the file attributes so the code section is writable.<br /><br />First pass on ANY information is slow, data or code so its no great loss that the first pass at data embedded in the code section is slow. Conditional jumps have problems first pass even if the jump prediction direction is correct, data reads from the data section are slow first pass as they are not yet in the data cache. When you are running large sections of code that is too big to fit into the code section you have fetch delays and this pattern works across all data and code run by modern hardware.<br /><br />It is a side effect of pipeline length and cached data and code access. We all know the theory of data and code seperation but it also needs to be put into the context of what the code is doing.<br /><br />Most code is not critical and the code that is has to be set up in a particular way in any case. Data alignment, procedure and label alignment and of couse instruction sequencing.<br /><br />Put against the clock, most of these leftover theories from segmented architecture don't perform so there is little point to insisting on them in an assembler environment where you don't have to suffer restriction of this type.<br /><br />Regards,<br /><br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-15 19:00:50 by hutch--</div>
   </div>
   <div class="post" id="post-133644">
    <div class="subject"><a href="#post-133644">C like strings in MASM</a></div>
    <div class="body">Putting 4-byte ASCII values in registers is not the same as the null-terminated by-reference strings that most functions require.<br /><br /><div class="quote">This is clearly data in the code section yet it is NEVER read into the code cache. If you need to to both read and write the data in the code section, you change the file attributes so the code section is writable.</div><br /><br />That's not the same as the case under discussion, which is more like:<br /><pre><code><br />.code<br />lea eax, mystring<br />jmp endofstring<br />mystring db &quot;hello&quot;,0<br />invoke printf, eax<br /></code></pre><br /><br />Argue about other code all you want, that's not what I was talking about (I keep wondering why you throw in that useless segmented crap and C-compiler crap anyway, it is completely unrelated to the cache-issue).<br />Besides, since when do asm programmers accept anything less than optimal cache-usage and top performance?<br /><br />Stop trying to cover up with silly evasions. The above example is BAD, do NOT do it, EVER. Why not? I mentioned that earlier.</div>
    <div class="meta">Posted on 2004-02-15 19:29:44 by Henk-Jan</div>
   </div>
   <div class="post" id="post-133647">
    <div class="subject"><a href="#post-133647">C like strings in MASM</a></div>
    <div class="body">I occasionally inline strings to keep them with the procedures they belong to, I reuse the procs and it is just easier that way, each one comes with it's own data. I just put inline string constants after the return and never use them outside of a procedure. The cache is blown anyway and it does not adversely affect anything. After all if you're trying to flub up the decompiler that is a pretty easy trick to get around and a hex editor will let you quickly see what's up so there is absolutely no code security advantage.<br /><br /><pre><code>.<br />.<br />.<br />xor eax,eax<br />RET<br /><br />ENV_upd_url&#58;		DB	&quot;upd_url&quot;,0<br />ENV_upd_script&#58;		DB	&quot;upd_script&quot;,0<br />ENV_upd_root&#58;		DB	&quot;upd_root&quot;,0<br />ENV_upd_title&#58;		DB	&quot;upd_title&quot;,0<br />ENV_upd_textovl&#58;	DB	&quot;upd_textovl&quot;,0<br />ENV_upd_textbtn&#58;	DB	&quot;upd_textbtn&quot;,0<br />ENV_upd_bitmap&#58;		DB	&quot;upd_bitmap&quot;,0<br />ENV_upd_process&#58;	DB	&quot;upd_process&quot;,0<br />ENV_upd_rsparams&#58;	DB	&quot;upd_rsparams&quot;,0<br /><br />ENDF</code></pre><br /><br />Ofcourse the advantage is that if I do not have a .DATA section in the application that I am using it in then none is created. Besides that I can think of no real advantage.<br /><br />For example in the following code, putting icc  in the data section would add 512 bytes to the executable, there are many even large apps that I write that have very little initialized data and it is a waste to put in a few 10s of bytes when there is no reason:<br /><br /><pre><code>#Define WM_INITDIALOG 110h<br />#Define WM_COMMAND 111h<br />#Define WM_CLOSE 10h<br /><br />.DATA<br />	hInstance DD ?<br />;	icc DQ 3FFF00000008h<br /><br />.CODE<br />	icc&#58; DQ 3FFF00000008h<br />Start&#58;<br />	invoke InitCommonControlsEx,OFFSET icc<br />	invoke GetModuleHandleA, 0<br />	mov &#91;hInstance&#93;,eax<br />	invoke DialogBoxParamA,eax,1000,0,ADDR DlgProc,0<br />	invoke ExitProcess,0<br /><br />DlgProc FRAME hwnd,uMsg,wParam,lParam<br /><br />	WMINITDIALOG&#58;<br />		cmp D&#91;uMsg&#93;,WM_INITDIALOG<br />		jne &gt;WMCOMMAND<br />		jmp &gt;.EXIT<br /><br />	WMCOMMAND&#58;<br />		cmp D&#91;uMsg&#93;,WM_COMMAND<br />		jne &gt;WMCLOSE<br />		jmp &gt;.EXIT<br /><br />	WMCLOSE&#58;<br />		cmp D&#91;uMsg&#93;,WM_CLOSE<br />		jne &gt;DEFPROC<br />		INVOKE EndDialog,&#91;hwnd&#93;,0<br /><br />	DEFPROC&#58;<br />		mov eax,0<br />		ret<br /><br />	.EXIT<br /><br />	mov eax, 1<br />	ret<br />ENDF</code></pre></div>
    <div class="meta">Posted on 2004-02-15 20:11:41 by donkey</div>
   </div>
   <div class="post" id="post-133666">
    <div class="subject"><a href="#post-133666">C like strings in MASM</a></div>
    <div class="body">You can also merge sections at link-time.</div>
    <div class="meta">Posted on 2004-02-16 01:48:47 by Henk-Jan</div>
   </div>
   <div class="post" id="post-133667">
    <div class="subject"><a href="#post-133667">C like strings in MASM</a></div>
    <div class="body">Henk,<br /><br />Don't get so excited, there are very few hard and fast rules in programming and especially in assembler coding and when you make them, someone breaks them.<br /><div class="quote"><br />Argue about other code all you want, that's not what I was talking about (I keep wondering why you throw in that useless segmented crap and C-compiler crap anyway, it is completely unrelated to the cache-issue).<br /></div><br />This is where the idea of seperated code and data came from originally, dos model segmented architecture where you could not put data in the code segment.<br /><br />DOS com files were never restricted to this dos EXE model and with the advent of 32 bit PE files, they are not either.<br /><div class="quote"><br />Besides, since when do asm programmers accept anything less than optimal cache-usage and top performance?<br /></div><br />1. When it does not matter. Why build the fastest MessageBox on the planet when the user will not see the difference.<br /><br />2. When it does not perform any better. Casual string reads are by no means a performance issue so you can read them from data, code, resource section, file or more or less where-ever you like and it just does not go any faster.<br /><div class="quote"><br />Stop trying to cover up with silly evasions. The above example is BAD, do NOT do it, EVER. Why not? I mentioned that earlier.<br /></div><br />I trust the clock far more than I trust opinion and that is what I base what I say on. Hunger is bad, war is worse and code that breaks the rules is truly wicked but none of it is worth losing sleep over.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-16 03:37:20 by hutch--</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=17217&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=17217&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="17217" /><input type="number" name="page" min="1" max="7" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=17217&amp;page=2">&gt;</a><a href="../?id=17217&amp;page=7">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C like strings in MASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17217" />
  <link rel="prev" href="../?id=17217&amp;page=6" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17217">C like strings in MASM</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=17217&amp;page=1" style="">&laquo;</a><a href="../?id=17217&amp;page=6" style="">&lt;</a><input type="hidden" name="id" value="17217" /><input type="number" name="page" min="1" max="7" step="1" value="7" onchange="this.form.submit();" /></form>   <div class="post" id="post-134145">
    <div class="subject"><a href="#post-134145">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br /><br /><br />You've already proven not to know what you're missing with your earlier cache-statements. I'm not exactly here for you. </div><br /><br />I realize that I have alot to learn, I just have nothing to learn from you. You are an asshole and distasteful and I would remain ignorant before I would consider anything you said. I will continue to read and take my lessons from the likes of f0dder and bitRake and NaN and I will continue to laugh at you and pity your attittude and the waste of skin that surrounds it.</div>
    <div class="meta">Posted on 2004-02-19 03:25:54 by donkey</div>
   </div>
   <div class="post" id="post-134147">
    <div class="subject"><a href="#post-134147">C like strings in MASM</a></div>
    <div class="body">Poor old scali, still can't take a trick. Iczelion started the win32asm community and notty and masta started the win32asm IRC channel, who the PHUK was scali ?<br /><br />Gattling =&gt; Xcalibre =&gt; Scali<br /><br />You will never win an argument with me as long as your arsehole points to the ground because you start with the wrong premise that you are actually smart enough to stand over someone.<br /><br />You have kept insulting Harold with your bad manners and abuse of other people and even after you have been banned again, you rejoin under another phony name and keep it up.<br /><br />It would not matter if you were God's gift to programming which in fact you aren't, your approach continues to display that you are not as good as you would like to claim to be and every time you perform another childish tantrum, you just prove it again and again.<br /><br />It may have been OK years ago to be a passenger on Ewald who was a very good assembler programmer and some time after being a passenger on Michael Kalms who is a very well know graphics programmer but at the bottom line, to be the highly self acclaimed guru you want to be seen as, you have to deliver in the performace area and you don't have the talent to do it.<br /><br />If you could learn to shut your mouth and write some decent code instead, you would actually get somewhere but its your mouth that keeps getting you into trouble and it appears you don't have enough brains to realise that and keep shooting it off time after time.<br /><br />I wonder how many more times you will join this forum to abuse its members and insult Harold with your conduct ?<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-19 03:34:10 by hutch--</div>
   </div>
   <div class="post" id="post-134148">
    <div class="subject"><a href="#post-134148">C like strings in MASM</a></div>
    <div class="body"><div class="quote">If anything, you'd probably be working for me... </div><br />Yea, right. I've been in this business for 35 years. How long have you been at it, junior?<br /><br />But you're right, I couldn't work for someone like you. You just bitch and bitch and bitch, and bitch and bitch and bitch, then bitch some more. Talk about ego...<br /><br />Look, I don't care about your history. All I care about is what I see going on now. You take a simple question, like this thread, and turn it into a 1,000 page novel.<br /><br />I don't hate anyone, including you. But I don't think any of us come here to see this crap, over and over again. <br /><br />Ever if you are right, you've got to learn when to shut up.<br /><br />It's really too bad. You do seem like a pretty smart guy. Most likely you could make some good contributions here.<br /><br />But this BS has just got to stop. Life is too short...</div>
    <div class="meta">Posted on 2004-02-19 03:38:13 by S/390</div>
   </div>
   <div class="post" id="post-134149">
    <div class="subject"><a href="#post-134149">C like strings in MASM</a></div>
    <div class="body">S/390,<br /><br />Arguing with a kid like this is a waste of gas, I know people like yourself have forgotten more than he knows but you cannot assume a reasonable person here who listens to common sense. I have seen his appalling performances for years on IRC then his attempts to continue them here.<br /><br />We used to call them script kiddies back then but the IRC medium was so badly abused that the only successful method of supporting assembler programming is to run a moderated forum where idiots like this get arseholed out when they misbehave.<br /><br />Unfortunately Harold will have to deal with this problem as the continued abuse of his efforts in maintaining this forum effect how effective it is.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-19 03:47:47 by hutch--</div>
   </div>
   <div class="post" id="post-134150">
    <div class="subject"><a href="#post-134150">I'VE GOT  PEOPLE SKILLS!!!!! DAMNIT, WHY WON'T YOU PEOPLE SE</a></div>
    <div class="body">The moral of the story always is that if your means of delivering isn't good, nobody will listen to what you have to say.<br /><br />You're not welcome here anymore, so don't come back to the thing you label as &quot;something you don't care about&quot; and move on.<br /><br /><br />(a cookie for anyone identifying the movie where the post subject came from ;) )<br />edit: it's been dealt with, I hope it'll be sufficient.</div>
    <div class="meta">Posted on 2004-02-19 03:49:33 by Hiroshimator</div>
   </div>
   <div class="post" id="post-134152">
    <div class="subject"><a href="#post-134152">C like strings in MASM</a></div>
    <div class="body">Yea, I hear ya hutch.<br /><br />Maybe some day he'll grow up.<br /><br />It really is a shame. He is a smart guy, and he could be a valuable resource.<br /><br />But he's got to learn how to get along with the rest of the world first.<br /><br />Imagine, if he put as much energy into actually doing something, as he does &quot;bit picking&quot;... ... ... :grin:</div>
    <div class="meta">Posted on 2004-02-19 03:58:56 by S/390</div>
   </div>
   <div class="post" id="post-134153">
    <div class="subject"><a href="#post-134153">C like strings in MASM</a></div>
    <div class="body">ROFL :grin:<pre><code>.686<br />.MMX<br />.XMM<br />.MODEL FLAT, STDCALL<br />OPTION SCOPED<br />OPTION CASEMAP&#58;NONE<br /><br />INCLUDE C&#58;\masm32\include\windows.inc<br />INCLUDE C&#58;\masm32\include\kernel32.inc<br />INCLUDELIB C&#58;\masm32\lib\kernel32.lib<br />INCLUDE C&#58;\masm32\include\user32.inc<br />INCLUDELIB C&#58;\masm32\lib\user32.lib<br /><br />.CODE<br /><br />@str macro _str&#58;vararg<br />local @@1<br />    if @InStr&#40;1, &lt;_str&gt;, &lt;!&quot;&gt; &#41;<br />        .data<br />            @@1 db _str, 0<br />        .code<br />        exitm &lt;offset @@1&gt;<br />    else<br />        exitm &lt;_str&gt;<br />    endif<br />endm<br /><br />@preverse MACRO ParList&#58;REQ<br />    LOCAL Value, arg<br />    Value TEXTEQU &lt;&gt;<br />    % FOR arg, &lt;ParList&gt;<br />        Value CATSTR &lt;arg&gt;, &lt;,&gt;, Value<br />    ENDM<br />    Value SUBSTR Value, 1, @SizeStr&#40; %Value &#41; - 1<br />    Value CATSTR &lt;!&lt;&gt;, Value, &lt;!&gt;&gt;<br />    EXITM Value<br />ENDM<br /><br />xcall MACRO function&#58;REQ, parameters&#58;VARARG<br />    LOCAL paddr<br />    IFNB &lt;parameters&gt;<br />        % FOR param, @preverse&#40;&lt;parameters&gt;&#41;<br />            IF @SizeStr&#40;&lt;param&gt; &#41; GT 4<br />                paddr SUBSTR &lt;param&gt;, 1, 5<br />                IFIDNI paddr, &lt;ADDR &gt;<br />                    paddr SUBSTR &lt;param&gt;, 6, @SizeStr&#40;&lt;param&gt;&#41; - 5<br />                    lea eax, paddr<br />                    push eax<br />                ELSE<br />                    push @str&#40;&lt;param&gt;&#41;<br />                ENDIF<br />            ELSE<br />                push @str&#40;&lt;param&gt;&#41;<br />            ENDIF<br />        ENDM<br />    ENDIF<br />    call function<br />ENDM<br /><br />start&#58;<br /><br />    xcall   MessageBox, 0, &quot;message&quot;, &quot;title&quot;, MB_OK+MB_ICONEXCLAMATION<br /><br />    invoke  ExitProcess, 0<br />    ret<br /><br />END start</code></pre>slightly modified <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=6187&amp;perpage=15&amp;highlight=xcall&amp;pagenumber=1">http://www.asmcommunity.net/board/index.php?topic=6187&amp;perpage=15&amp;highlight=xcall&amp;pagenumber=1</a><br /><br />:grin:<br /><br />I believe this satisfies the main problem<div class="quote">invoke funcname, &quot;This is a string&quot;</div>:wave:<br /><br />not something like<div class="quote">invoke funcname, somemacro(&quot;This is a string&quot;)</div>:grin:</div>
    <div class="meta">Posted on 2004-02-19 04:00:09 by arkane</div>
   </div>
   <div class="post" id="post-134178">
    <div class="subject"><a href="#post-134178">C like strings in MASM</a></div>
    <div class="body">Josh,<br /><br />Nice macros, why didn't you write them earlier so I did not have to write the ones in the macro file in MASM32.<br /><br />This is how I did it.<br /><pre><code><br />    reparg MACRO arg<br />      LOCAL nustr<br />        quot SUBSTR &lt;arg&gt;,1,1<br />      IFIDN quot,&lt;&quot;&gt;            ;; if 1st char = &quot;<br />        .data<br />          nustr db arg,0        ;; write arg to .DATA section<br />        .code<br />        EXITM &lt;ADDR nustr&gt;      ;; append name to ADDR operator<br />      ELSE<br />        EXITM &lt;arg&gt;             ;; else return arg<br />      ENDIF<br />    ENDM<br /><br />This macro is called by the following &quot;fn&quot; macro<br /><br />    fn MACRO args&#58;VARARG<br />      LOCAL cnt<br />      cnt = 0<br />      arg equ &lt;&gt;<br />      FOR var,&lt;args&gt;<br />        arg CATSTR arg,&lt;var&gt; ;; get the proc name as 1st arg<br />        EXITM<br />      ENDM<br />      FOR var,&lt;args&gt;<br />        IF cnt gt 0<br />        arg CATSTR arg,&lt;,reparg&#40;var&#41;&gt; ;; replace quotes and append arg<br />        ENDIF<br />        cnt = cnt + 1<br />      ENDM<br />      invoke arg<br />    ENDM<br /></code></pre><br /><br />Main difference is it still uses invoke so you get the type checking as well.<br /><br />You may like this one, its the opposite of the first macro and it prevents a user from using quoted text where it should not be used. A form of type checking.<br /><pre><code><br />    tstarg MACRO arg<br />      quot SUBSTR &lt;arg&gt;,1,1<br />      IFIDN quot,&lt;&quot;&gt;            ;; if 1st char = &quot;<br />        % echo arg ** QUOTED TEXT ERROR ** memory address expected<br />        .ERR<br />      ELSE<br />        EXITM &lt;arg&gt;             ;; else return arg<br />      ENDIF<br />    ENDM<br /></code></pre><br /><br />Damnit, you could have saved me all that work. :grin: <br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-19 08:41:22 by hutch--</div>
   </div>
   <div class="post" id="post-134197">
    <div class="subject"><a href="#post-134197">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br />Basically if the macro is not called from the code section as a programmer writes the code, direct writing in the data section works fine so I don't see the point.<br /></div><br />errorstrings_start:<br />	dd CTEXT(&quot;Error Message #1&quot;)<br />	dd CTEXT(&quot;Error Message #2&quot;)<br />	; ...<br />errorstrings_end:<br /><br />- so there is a point. Besides, why not fix the macro when it has no bad side effects, but allows stuff like this?<br /><br /><div class="quote"><br />The reason why I aligned the exit but not the entry was that BYTE data is hapily read at BYTE alignment when the following entry in the data section may be a DWORD or similar where the alignment actually matters.<br /></div><br />What about speed-optimized string copiers? While the alignment is irrelevant for API calls, initializing local buffers with string constants, or appending string constants to buffers, could benefit from string alignment.<br /><br />S/390...<br /><div class="quote"><br />Go think about your people skills for a while, and leave us alone.<br /></div><br />He definitely does need to do that... he manages 'sorta okay' these days though, as long as hutch isn't involved ^_^ (and I still think that hutch'es manipulative &amp; patronizing crap is a lot worse than whatever emotional outbursts scali have).</div>
    <div class="meta">Posted on 2004-02-19 10:55:14 by f0dder</div>
   </div>
   <div class="post" id="post-134230">
    <div class="subject"><a href="#post-134230">C like strings in MASM</a></div>
    <div class="body">Well, since scali was banned again...<br /><br /><div class="quote"><br />&lt;Scali&gt; boyer moore works smarter, not harder.<br />&lt;hutch--&gt; testing says otherwise, try it on 100 meg strings<br />...snip...<br />&lt;hutch--&gt; same problem it was designed at HLL, too much overhead<br />...snip...<br />&lt;hutch--&gt; I know the theory, its overhead kils it<br /></div><br /><br />(quite a while passes, and hutch finally (miraculously) gets the idea that boyer-moore is actually a nice algorithm)<br /><br /><div class="quote"><br />Contrary to our friend's assertion, I did not need any other help as the original authors wrote the original code in PDP10 assembler back in the 70s.<br /></div><br /><br />... am I the only one seeing a mismatch between &quot;designed at HLL&quot; and &quot;original code in PDP10 assembler&quot;? I think it would be funny seeing the logs of bl0rght trying to explain boyer-moore to hutch, as she's a pretty friendly person with a lot more social skill than scali - but even she (as most other) failed to get through hutch'es thick skull, it seems. Fun that he emerges years later with Teh LEET asm0r versions of BM.<br /><br />The comment about being a Passenger on Ewals and Kalms... bum bum. Sounds like you haven't seen anything scali has done for a couple of years. The java software 3D rendering demo was pretty cute. His toying around with multi-pass 3D hardware rendering has been cute to watch too, especially the field-of-vision stuff. Oh, and the marching cubes stuff... all of it runs rather well, and as far as I know, it was written from scratch from tech papers... rather than ripping off other people's code, or just blindly translating C examples to ASM.<br /><br />Before anybody belittles this, you might want to have a look at some of the tech papers, especially on marching cubes. Or does scali have to write an assembly version of BoyerMoore before you care to even find out what marching cubes are about? ^_^<br /><br />Oh, and btw, am I the only one thinking that virogen==vg==Jeremy Collake? :rolleyes:</div>
    <div class="meta">Posted on 2004-02-19 17:30:03 by f0dder</div>
   </div>
   <div class="post" id="post-134232">
    <div class="subject"><a href="#post-134232">C like strings in MASM</a></div>
    <div class="body">f0dder,<br /><br />As you choose to try and continue this argument as scali's proxy, try reading the old log posting in context. Since I actually do renember the conversations from back then, I heard a lot about how fast a BM was but no-one who could produce the code, the documentation or the research to back it up.<br /><br />The one exception was Jeremy Collake who coded a variation of a Michael Abrash BM algo in 32 bit who published it back around that time.<br /><br />Now actually bother to read the outrageous bullsh*t in that old log and you will find your friend making the assertion that you can scan a 600 meg CD with a BM in a very short period yet any script kiddies knows that the read and seek time for 600 meg of data from a current CD is still into the many seconds to minutes time frame.<br /><br />When you are faced with obvious bullsh*t at this level, you in fact take no notice of it. What I did after being bored sh*tless with the bullsh*t was to research the available info I could find and with early examples that were available, a classic byte scanner beat them in almost every case.<br /><br />Faced with a barrage of platitudes and bullsh*t from people like your friend, the place to get the technical data was from the French site maintained by Theirry La ? (La Crox from memory) which had a wide range of examples written in ANSI C.<br /><br />The other source of info was the two original authors Bob Boyer and Moore, both professors at the big UNI in Texas who were more than happy to help.<br /><br />With high quality information from well documented university sites and assistance from the original authors did I need some snotty nosed kid ranting and raving on IRC as a technical advisor ?<br /><br />I had a use at the time for the research and produced a set of algos that were completely unrelated to anything alse on the market that handled the range of the original designs of the authors.<br /><br />Some of the assertions were also naive in that BM algos are not all that flexible and have well known problems in certain contexts. They have a lead time to scan the required search word and then construct the 256 character table and they are directly slower on patterns of 6 bytes and under on any source length.<br /><br />The majority of string searches are performed on relatively short sections of text and here a byte scanner is faster. A byte scanner is effectively linear under almost all conditions where a BM has wide time variation due to the character order of the pattern.<br /><br />Worst case for a BM is very bad where the worst case for a byte scanner varies very little from a normal case.<br /><br />Where a BM outperforms anything else is with large patterns on very large sources as long as the character distribution is not badly skewed. Uses are scanning entire drives for known virus patterns and scanning very large source for recognisable pattern of specifc types of data.<br /><br />When your friend makes the assertion that he contributed to development of these algos, he is right to this extent that the bullsh*t coming out of him in this area was so blatant that I went looking elsewhere and found high quality technical data from people who actually knew what they were talking about.<br /><br />If you acually bother to read the old log you will notice a pattern that most people learnt on IRC before they abandoned it, don't listen to script kiddies shooting their mouth off.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-19 18:20:03 by hutch--</div>
   </div>
   <div class="post" id="post-134236">
    <div class="subject"><a href="#post-134236">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br />As you choose to try and continue this argument as scali's proxy, try reading the old log posting in context. Since I actually do renember the conversations from back then, I heard a lot about how fast a BM was but no-one who could produce the code, the documentation or the research to back it up.<br /></div><br />Obviously I'm going to proxy for him, since he's not in a position where he can defend himself, and you're writing some things that are... plain wrong.<br /><br />So you missed the few lines about bl0rght searching through an ISO file in a few seconds? ^_^ - yes, an ISO FILE, aka CD IMAGE, aka thing you have on your harddrive. I wonder how you would use Boyer-Moore on &quot;a CD&quot; anyway :rolleyes: (CreateFile with \.\x: ? We weren't on NT back then, don't think even bl0rght was.)<br /><br />I certainly don't hope you're calling bl0rght a &quot;snotty nosed kid ranting and raving on IRC&quot; - and she did try to explain the algorithm to you, didn't she? (Oh, and if you cared to listen to people every once in a while, you'd probably have fixed that UnmapViewOfFile bug earlier, too. You kept on ranting against microsoft even after several people on this board had pointed out your error.)<br /><br /><div class="quote"><br />The majority of string searches are performed on relatively short sections of text and here a byte scanner is faster.<br /></div><br />I don't think anybody suggested BM is the holy grail for all kinds of searches... but it's obviously a very good algorithm for the situations where it's applied, otherwise it wouldn't have survived since the dark ages. If you look back to the logs, you will see:<br /><div class="quote"><br />&lt;hutch--&gt; its fast enough, overlaps Boyer Moore with no problems<br />...<br />&lt;Scali&gt; boyer moore kills it on <strong>large</strong> searches<br /></div><br />- I don't think you'll be disagreeing (these days, anyway) that BM does pretty well for large strings?<br /><br /><div class="quote"><br />Where a BM outperforms anything else is with large patterns on very large sources as long as the character distribution is not badly skewed. Uses are scanning entire drives for known virus patterns and scanning very large source for recognisable pattern of specifc types of data.<br /></div><br />...And scanning through ISO images ;). Besides, using it for virus patterns is just about useless, as you need dynamic signatures and heuristic code analysers to catch todays virii.<br /><br /><div class="quote"><br />When your friend makes the assertion that he contributed to development of these algos<br /></div><br />Where does he do that? While cocky, all I see is him saying that BM is better for large strings, and that you must have looked at bad implementations if benchmarks showed otherwise. Did scali make any false claims about BM in that little log snippet?<br /><br /><div class="quote"><br />don't listen to script kiddies shooting their mouth off.<br /></div><br />hutch makes optimized bytescanner (which does work fine for small strings, indeed). hutch talks a lot about bytescanner. bl0rght, scali, and probably JC/vg notices and suggests (in polite and less polite ways) that BM is a better algo for large strings. Lots of nonsense follows. Now who were shouting their mouths off?<br /><br />Oh, before you write off stuff like Marching Cubes as 'graphics junk', take a look at this: <a target="_blank" href="http://www.crd.ge.com/esl/cgsp/projects/medical/">http://www.crd.ge.com/esl/cgsp/projects/medical/</a> - that's one of the applications of the MC algo: medical imaging. &quot;It allows the doctor to fly through the colon without having to shove a camera up the arse of the patient.&quot; - how's that for useless junk? :rolleyes: . If you look at the algorithm description, it should also be clear that it's not all that trivial, and requires some skill to get running at decent speed, whether you do it in C or Assembly.<br /><br />I don't really expect you to read through all this, nor even understand it fully, but I'm sure other people will.</div>
    <div class="meta">Posted on 2004-02-19 19:20:05 by f0dder</div>
   </div>
   <div class="post" id="post-134272">
    <div class="subject"><a href="#post-134272">C like strings in MASM</a></div>
    <div class="body">smile,<br /><div class="quote"><br />Obviously I'm going to proxy for him<br /></div><br />With this matter settled, I can respond on the basis of birds of a feather in bed together.<br /><div class="quote"><br />I certainly don't hope you're calling bl0rght<br /></div><br />No, you and your buddy will do. bl0rght was always both very smart and gracious, something that neither of you have managed.<br /><div class="quote"><br />&lt;Scali&gt; boyer moore kills it on large searches<br /></div><br />It actually depends on the pattern length and how the search is done. Try finding short patterns in a few million different strings, something for example that you do in very large log files. When you and your buddy dilute your ignorance some, you will draw the distinction. There are enough places where a byte scanner eats a BM alive, both of you need to learn this and there is nothing &quot;smart&quot; in the choice of an algo design that fails badly in known cases.<br /><br />Now for the log file without the selective quoting.<br /><div class="quote"><br />&lt;hutch--&gt; its fast enough, overlaps Boyer Moore with no problems<br />*** owned0 has quit IRC (Read error: 0 (Undefined error: 0))<br />&lt;SpanxMFCS&gt; sorry to be harassing u at end of hard day <br />*** sat0r^zZZ (~me@astnet3.astelit.ru) has joined #win32asm<br />&lt;Scali&gt; hutch--: Urm?<br />&lt;SpanxMFCS&gt; are you making or breaking the encryption dude?<br />&lt;Scali&gt; hutch--: That silly rubbish with that loop?<br />&lt;hutch--&gt; making<br />&lt;Scali&gt; boyer moore kills it on large searches<br />&lt;hutch--&gt; which one ?<br />&lt;wrightie-&gt; l8er <br />&lt;Scali&gt; boyer moore works smarter, not harder.<br />&lt;hutch--&gt; testing says otherwise, try it on 100 meg strings<br />&lt;Scali&gt; it's the best searcher known to man.<br />&lt;SpanxMFCS&gt; lol<br />&lt;SpanxMFCS&gt; u guys are funny<br />&lt;Scali&gt; hutch--: Then the implementation reeks.<br />&lt;hutch--&gt; yes but ofen slower<br />&lt;SpanxMFCS&gt; debating speeds of string searches <br />&lt;Scali&gt; hutch--: go talk to blorght<br />&lt;SpanxMFCS&gt; hehehehe<br />&lt;Scali&gt; hers kicks total butt<br />&lt;hutch--&gt; same problem it was designed at HLL, too much overhead<br />*** wrightie- has quit IRC (Don't be so sad: I'll be back... )<br />*** DarkSheep (DarkSheep@pC19F36CE.dip.t-dialin.net) has left #Win32Asm<br />&lt;hutch--&gt; its the tests I am interested in<br />&lt;Scali&gt; hutch--: Honestly, do you understand the algo?<br />&lt;hutch--&gt; yes, its overhead heavy<br />&lt;Scali&gt; I don't think you do, else you would KNOW that it was the fastest hands<br />down.<br />&lt;Scali&gt; it has way less memory access<br />&lt;Scali&gt; which is the bottleneck<br />&lt;hutch--&gt; has problems with large occurrences of the leading string<br />&lt;Scali&gt; no, that's yours<br />&lt;Scali&gt; not boyre<br />&lt;Scali&gt; anyway, I see that yet another coder is clueless about algos...<br />&lt;hutch--&gt; mine has problems with the trailing string<br />&lt;Scali&gt; Time for breakfast.<br />&lt;hutch--&gt; haha<br />&lt;hutch--&gt; let me test yours <br />&lt;Scali&gt; hutch--: you check every byte man!<br />&lt;SpanxMFCS&gt; scali is cheeky ;p<br />&lt;Scali&gt; it CAN NOT be fast<br />&lt;Scali&gt; Just think!<br />&lt;Scali&gt; damnit!<br />&lt;hutch--&gt; I benchmark mine<br />&lt;Scali&gt; think!<br />&lt;hutch--&gt; clock says different<br />&lt;Scali&gt; clock my arse.<br />&lt;hutch--&gt; much less overhead<br />&lt;endo|ZzZz&gt; heh<br />&lt;hutch--&gt; per loop<br />&lt;endo|ZzZz&gt; well, im going to bed for real<br />&lt;Scali&gt; Like I said, blorght could find a file in a 650 mb ISO in 4 seconds<br />&lt;endo|ZzZz&gt; nite<br />&lt;Scali&gt; you do that with your searcher<br />&lt;hutch--&gt; seeya<br />&lt;Scali&gt; will take ages<br />&lt;hutch--&gt; from what, no CD is that fast<br />&lt;Scali&gt; hutch--: GRRRRRRRRRRRR!!<br />&lt;Scali&gt; YOU DON'T GET IT!!!<br />&lt;hutch--&gt; and how was it tested, in linear memory ?<br />&lt;Scali&gt; Boyer moore doesn't HAVE TO READ THE ENTIRE CD!!!!<br />&lt;Scali&gt; That's the beauty man!<br />&lt;Scali&gt; that's why it's so damn fast!<br />&lt;hutch--&gt; I have 4 Boyer moore inplementations here<br />&lt;hutch--&gt; they are SLOW at some stuff<br />*** faster has quit IRC (EOF of client)<br />&lt;hutch--&gt; neither does mine<br />*** CrashAway (~crashtest@pierramenta.imag.fr) has joined #win32asm<br />&lt;CrashAway&gt; mmm... no topic ?<br />&lt;hutch--&gt; the theory does not match the practice<br />&lt;Scali&gt; hutch--: Practice is searching an ISO in 4 secodnds<br />&lt;Scali&gt; you can NEVER do that.<br />&lt;Scali&gt; Boyer can<br />&lt;hutch--&gt; never seen it done, 650 meg in 4 seconds, haha<br />&lt;Scali&gt; hutch--: Talk to blorght<br />&lt;SpanxMFCS&gt; hutch: thanks again <br />&lt;SpanxMFCS&gt; nite all<br />&lt;Scali&gt; she can at least think<br />&lt;hutch--&gt; np spanx<br />&lt;Scali&gt; And code it<br />&lt;hutch--&gt; I hear it but I never saw it, all the BMs I have are not fast<br />&lt;Scali&gt; hutch--: Damnit, I thought you were leet<br />&lt;Scali&gt; BM does NOT search 650 mb<br />&lt;Scali&gt; Don't you get it?<br />&lt;hutch--&gt; I am a primitive, thats asm for you<br />&lt;SpanxMFCS&gt; scali: hes had a hard day, give him a break ;p<br />&lt;SpanxMFCS&gt; try him tomorrow<br />&lt;hutch--&gt; I know the theory, its overhead kils it<br />&lt;Scali&gt; SpanxMFCS: We've been through this a few times... vg told me he<br />explained the algo.<br />&lt;SpanxMFCS&gt; ok say 'good nite spanx' or 'goodbye spanx'<br />&lt;Scali&gt; Guess he did a lousy job<br />&lt;hutch--&gt; reading backwards is SLOW<br />&lt;Scali&gt; hutch--: Why?<br />&lt;Scali&gt; Cache can handle that<br />&lt;hutch--&gt; I have both of viro's<br />*** faster (~bored@will.always.have.a.Need-4-Speed.net) has joined<br />#win32asm<br />&lt;hutch--&gt; benchmarked against them<br />&lt;Scali&gt; besides, you don't read NEARLY as much as with your algo<br />&lt;Scali&gt; Well, then mebbe viro isn't leet either<br />&lt;Scali&gt; blorght is<br />&lt;SpanxMFCS&gt; good night spanx, sleep well spanx <br />&lt;hutch--&gt; it reads it a lot faster<br />&lt;hutch--&gt; seeya spanx<br />&lt;SpanxMFCS&gt; heeh thanks <br />*** owned0 (bored@OwnZ.yER.localh0.st) has joined #win32asm<br />&lt;Scali&gt; Blah, ASM will do you no good if you can't use a smart algo.<br />&lt;hutch--&gt; I am willing to benchmark it, the rest is hot air<br />&lt;hutch--&gt; its ancient tech based on C<br />&lt;Scali&gt; hutch--: If you would understand BM, there would be no need for<br />benchmarking.<br />&lt;Scali&gt; it's just SO F*CKING OBVIOUS<br />&lt;Scali&gt; doh<br />*** SpanxMFCS has quit IRC (hutch IS LEET!! )<br />&lt;hutch--&gt; its the only test<br />*** Scali is now known as Scalefood<br />&lt;Scalefood&gt; buncha llamaz here<br /></div><br /><br />Now for my comments on the statements from the self appointed oracle of #win32asm.<br /><br /><div class="quote"><br />&lt;Scali&gt; hutch--: That silly rubbish with that loop?<br /></div><br />This is analysis ?<br /><div class="quote"><br />&lt;Scali&gt; boyer moore kills it on large searches<br /></div><br />Which ones ?<br /><div class="quote"><br />&lt;Scali&gt; boyer moore works smarter, not harder.<br /></div><br />There is nothing smart about using it in the wrong place where it is slower.<br /><div class="quote"><br />&lt;Scali&gt; it's the best searcher known to man.<br /></div><br />Until a faster one is applied to the situation being searched.<br /><div class="quote"><br />&lt;Scali&gt; it has way less memory access<br />&lt;Scali&gt; which is the bottleneck<br /></div><br />This is bullsh*t, when a BM is faster, it is because it can ADD to the offset instead of scanning through each byte.<br /><div class="quote"><br />&lt;Scali&gt; anyway, I see that yet another coder is clueless about algos...<br /></div><br />Has the oracle spoken here while not knowing how to code the algo either then or now.<br /><div class="quote"><br />&lt;Scali&gt; hutch--: Damnit, I thought you were leet<br />&lt;Scali&gt; BM does NOT search 650 mb<br />&lt;Scali&gt; Don't you get it?<br /></div><br />This is from a guy who still does not get it.<br /><div class="quote"><br />&lt;Scali&gt; hutch--: If you would understand BM, there would be no need for<br />benchmarking.<br />&lt;Scali&gt; it's just SO F*CKING OBVIOUS<br />&lt;Scali&gt; doh<br /></div><br />Apart from the ignorance and the bad manners, here is a man who hold his opinion above objective testing.<br /><br />Now to dilute you ignorance a little further, a BM algo is no real joy to code in that one stall will kill it stone dead. The advantage of benchmarking is you don't have to listen to bullsh*t, you check the results instead.<br /><br />I make no apologies for the criticism of the stuff that was around at the time, with the exception of Jeremy Collake's version of Micheal Abrash's BM algo, the rest were slow and it was not opinion, it was benchmarking that demonstrated it.<br /><br />From memory I was developing on a PIII 4 years ago which did have enough memory to test large sources and most of the code I could find performed very badly. It usually followed from porting poorly designed C algorithms to assembler without understanding Bob Boyer's original design.<br /><br />The reason why I did the work was to get past the crappy ported C code that was around at the time. The only other BM I saw that performed a bit later was one that Lingo optimised for early pentiums.<br /><br />I did not then and I do not now take much notice of script kiddies and it is for reasons that are well demonstrated in the old log, a clown with a big mouth who could not deliver, either then or when he issued a challenge some years later.<br /><br />Regards,<br /><br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-20 03:17:30 by hutch--</div>
   </div>
   <div class="post" id="post-134286">
    <div class="subject"><a href="#post-134286">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br />No, you and your buddy will do. bl0rght was always both very smart and gracious, something that neither of you have managed.<br /></div><br />You ignored her attempts to tell you about BM, too.<br /><br /><div class="quote"><br />Try finding short patterns in a few million different strings, something for example that you do in very large log files.<br /></div><br />Hrm, parsing a large log file line-by line? I'd rather read the whole chunk into memory (or memory-map-file it) and do a BM or similar, in case I need case-sensitive exact match; otherwise I'd use som regexp probably.<br /><br /><div class="quote"><br />There is nothing smart about using it in the wrong place where it is slower.<br /></div><br />Like, duh. It goes without saying that you'll use the right algorithm for the right job.<br /><br /><div class="quote"><br /><div class="quote"><br />&lt;Scali&gt; it has way less memory access<br />&lt;Scali&gt; which is the bottleneck<br /></div><br />This is bullsh*t, when a BM is faster, it is because it can ADD to the offset instead of scanning through each byte.<br /></div><br />...and thus doing less memory access.<br /><br /><div class="quote"><br /><div class="quote"><br />&lt;Scali&gt; hutch--: Damnit, I thought you were leet<br />&lt;Scali&gt; BM does NOT search 650 mb<br />&lt;Scali&gt; Don't you get it?<br /></div><br />This is from a guy who still does not get it.<br /></div><br />Seems like it's you who don't get it? BM wouldn't search through each and every of the 650MB because of the offset shifting.<br /><br />And obviously you failed to notice any of the other points, as I had expected. Including your failure to comprehend that bl0rght were searching ISO images, not directly from the CD media.<br /><br />Better luck next time.</div>
    <div class="meta">Posted on 2004-02-20 07:31:48 by f0dder</div>
   </div>
   <div class="post" id="post-134291">
    <div class="subject"><a href="#post-134291">C like strings in MASM</a></div>
    <div class="body">/enters thread<br /><br />Scali == TheSage of CLAX fame?<br /><br />/quickly exits thread</div>
    <div class="meta">Posted on 2004-02-20 09:02:40 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-134328">
    <div class="subject"><a href="#post-134328">C like strings in MASM</a></div>
    <div class="body">f0dder,<br /><br />Your attempt to recycle history is about as bad as his and for much the<br />same reason, lack of technical understanding of the fundamental issues.<br /><pre><code><br />Hrm, parsing a large log file line-by line? I'd rather read the whole chunk<br />into memory &#40;or memory-map-file it&#41; and do a BM or similar, in case I need<br />case-sensitive exact match; otherwise I'd use som regexp probably.<br /></code></pre><br />Your ignorance is showing here, most log files of this type are written<br />line by line so doing a binary search will not locate the data in relation<br />to the line, only in relation to the start address.<br /><br />I have already published the assistance I had available while developing<br />these algos years ago and again, apart from hot air, bad manners and<br />ignorant posturing from your friend, the only useful assistance came from<br />the original author, Bob Boyer.<br /><br />The log file in fact does demonstrate what he did not know about the design<br />and mouthing platitudes about it without understanding what it does is<br />evident from the logs.<br /><br />As far as my conversations with bl0rght, as neither you or your buddy were<br />privy to any of them, you are hardly in a position to comment here. I<br />never did hear any patronising nonsense from bl0rght because she actually<br />did understand the design.<br /><br />There is something that both you and your buddy need to learn and that is<br />for whatever you may be good at, it does not make you good at what you<br />don't know about. Both of you have this foolish characterisic of shooting<br />your mouth off then trying to cover it up by abusing the privileges that<br />are made available to you in a forum like this one.<br /><br />Harold has put in a lot of work over time to maintain this community yet<br />you treat both him and his work like a convenience to keep up personal<br />attacks while disregarding what the members want which is not hearing<br />either of you propping up your mistakes.<br /><br />Now as far as my regard for you, it used to be very considerable as I saw<br />that you learnt things quickly and had very original ideas but over time I<br />have seen you continue to suck up to this clown like he was some form of<br />guru and slowly lose your own originality.<br /><br />You can afford to abandon a clown like this and actually start having a few<br />ideas of your own again. He may have committed himself to a neurotic ever<br />closing circle but you actually had more talent than that.<br /><br />Try to have a little more ambition and not be a lap dog to someone like<br />this.<br /><br />Regards,<br /><br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-20 19:00:10 by hutch--</div>
   </div>
   <div class="post" id="post-134338">
    <div class="subject"><a href="#post-134338">C like strings in MASM</a></div>
    <div class="body"><div class="quote"><br />Your ignorance is showing here, most log files of this type are written line by line so doing a binary search will not locate the data in relation to the line, only in relation to the start address.<br /></div><br />And it would be hard getting a line of text from this start address? Scan back until you hit end of previous line, plus forward until you hit the end of the line with the match. Presto, you have a line you can display. If you want line numbers too, it might be smarter using a hybrid of a non-BM scanner combined with the LF/CRLF/CR (or whatever delimiter) checking (though I guess for logs with &quot;massive size&quot;, you wouldn't need linenumbers, as the log entry would have a timestamp or whatever).<br /><br />And as always, choose the right algorithm for the job, don't limit yourself to a single piece of (optimized or not) code. I can't think of many situations where I could use BM for ascii scanning - while case insensitivity could probably be hacked into BM and still be fast, I would generally need more complex pattern matching rules (think intrusion detection systems, semi-automated log auditing on compromised systems, ...)<br /><br />Binary search is quite another matter though. For stuff like, say, locating 64kb patterns of data in a 700MB <strong>ISO IMAGE</strong>, to patch it with correct data before burning the image, I don't know of an algorithm that's nicer than BM. Feel free to show me one, though.<br /><br /><div class="quote"><br />As far as my conversations with bl0rght, as neither you or your buddy were privy to any of them, you are hardly in a position to comment here. I never did hear any patronising nonsense from bl0rght because she actually did understand the design.<br /></div><br />I've talked with bl0rght though... and I think it's quite clear the she, scali and vg/jc all knew &amp; were able to implement the algorithm. (and you wouldn't listen to any of them, because you were talking your head off about bruteforce byte scanners). It's not like it's a big deal anyway. I used 16bit asm version of BM in... bum bum, earliest dated source file is 1997, my old hex editor written in pascal. And a few apps that did binary search + patching. Obviously I chose BM because it performed.<br /><br />As for the context of the log both you and scali have pasted, wasn't if after both scali, vg/jc and bl0rght tried explaining the fundamentals of BM to you, but you still kept on dismissing anything else but your brute-force scanner? I might be wrong though, it's been a couple++ of years, and the major parts might have taken place while I was fooling around with some girl ;)<br /><br /><div class="quote"><br />You can afford to abandon a clown like this and actually start having a few ideas of your own again.<br /></div><br />Socially underequipped person, sure. I can deal with that, though (and I hope that he learns some more about social interaction before he's out to get a job). Quite interesting that you get away with all your patronization and reality bending because of your english skills - must be real hard to smother non-native speakers. You should've went into politics btw.<br /><br />Also, contrary to what you say, the guy can code. But I guess it's just &quot;graphics junk&quot; to you if you don't know anything about the math behind it. Rather cute to see what he got going with a language as slow as java... As for &quot;ideas of my own&quot;, I have plenty of them. I don't deal with graphics though, I leave scali at that. Interesting to read about, though.<br /><br /><div class="quote"><br />Try to have a little more ambition and not be a lap dog to someone like this.<br /></div><br />Lap dog? So you're a lap dog if you stand up for a friend who's been robbed of his voice? Not that it'd do any good to have him in here, the argument would just degenerate even further.<br /><br />Try harder. Too easy to take things out of context, highlight bad manners and ignore that scali's actually right about quite a few things... (and silly and anal retentive about other stuff, sure. It's not like I'm trying to glorify the guy.)</div>
    <div class="meta">Posted on 2004-02-20 21:00:13 by f0dder</div>
   </div>
   <div class="post" id="post-134344">
    <div class="subject"><a href="#post-134344">C like strings in MASM</a></div>
    <div class="body">You are still off the pace here f0dder, acting like someone elses lap dog is not the way to go. From what I remembered before you started grovelling to his interests and taking up his arguments, you were smarter than he was and a lot more creative.<br /><br />While I don't see the guy as without talent, he like you tend to extend what you know universally and pontificate on that basis when there are people around who have forgotten more than you know.<br /><br />You also make the mistake of assuming that wide ranging information is included in your own incestual little circle when as a matter of fact it has always been an enormous market.<br /><br />Noting that the log shows your buddy as the ignorant pig that he is and this includes the BM algo design, I will again make the point that the research I did was done with the authors help, not f0dder or scali or anyone else and to put it bluntly, a script kiddies with a loud mouth is not a competitor to the authors.<br /><br />The other aspect of your approach is your willingness to continue second hand fights that you have already lost even though you buddy was banned a number of times in the last few days because of his conduct.<br /><br />I know Harold is very patient with bad mannered people but your continuation of your buddies follies is just as ill informed and just as bad mannered and it shows a lack of respect for all the work Harold has done to protect and maintain this community.<br /><br />As I informed your buddy, as long as your arsehole points to the ground, you will never win an argument with me because you start from the wrong basis. I have made more mistakes than you will make in a lifetime and over a lifetime I have the help of many very talented people but none of them ever tried the posturing and bullsh*t that comes out of you and your buddy.<br /><br />To make the point here, none of them were runny nosed little sh*ts with an ego problem trying to make a name for themselves in the absence of talent.<br /><br />Regards,<br /><br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-02-21 00:39:49 by hutch--</div>
   </div>
   <div class="post" id="post-134355">
    <div class="subject"><a href="#post-134355">C like strings in MASM</a></div>
    <div class="body">Afternoon, All.<br /><br />That's about as far as this thread will go.<br />Hope you enjoyed the show.<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2004-02-21 04:28:58 by Scronty</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=17217&amp;page=1" style="">&laquo;</a><a href="../?id=17217&amp;page=6" style="">&lt;</a><input type="hidden" name="id" value="17217" /><input type="number" name="page" min="1" max="7" step="1" value="7" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
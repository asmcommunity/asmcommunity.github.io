<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>could i always use edi, esi, ebx as preserved after an api c - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1678" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1678">could i always use edi, esi, ebx as preserved after an api c</a></p>
   <div class="post" id="post-10727">
    <div class="subject"><a href="#post-10727">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">sorry if i'm lazy to read again the tutorials ....<br /><br />Is it correct if always use esi, edi, ebx regs without pushing an pop them for API calls ?  Seems them are always preserved...<br /><br />Is it always true for all 95 98 2K ME and NT ?<br /><br />thanks Angelo</div>
    <div class="meta">Posted on 2001-10-30 12:40:03 by Bit7</div>
   </div>
   <div class="post" id="post-10733">
    <div class="subject"><a href="#post-10733">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">yes, it's always true for all 95 98 2K ME and NT.</div>
    <div class="meta">Posted on 2001-10-30 13:52:04 by n u M I T_o r</div>
   </div>
   <div class="post" id="post-10747">
    <div class="subject"><a href="#post-10747">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">n u M I T_o r ,<br /><br />So it should be true that eax, ecx, edx are lost after api call.<br /><br />thanks.</div>
    <div class="meta">Posted on 2001-10-30 15:52:06 by Bit7</div>
   </div>
   <div class="post" id="post-10752">
    <div class="subject"><a href="#post-10752">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">Yeah. It's just like when you write functions to be called by Windows. The function can do whatever it wants with eax, ecx, and edx, and it has to preserve edi, esi, and ebx.</div>
    <div class="meta">Posted on 2001-10-30 16:32:42 by Irving W.</div>
   </div>
   <div class="post" id="post-10777">
    <div class="subject"><a href="#post-10777">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">I've gotten into the habit of just putting &quot;USES esi edi ebx&quot; at the start of every function (proc), it prevents problems in the long run.</div>
    <div class="meta">Posted on 2001-10-30 22:56:06 by sluggy</div>
   </div>
   <div class="post" id="post-10783">
    <div class="subject"><a href="#post-10783">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">tanks all</div>
    <div class="meta">Posted on 2001-10-31 00:45:26 by Bit7</div>
   </div>
   <div class="post" id="post-10803">
    <div class="subject"><a href="#post-10803">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">Sluggy, the only place you should need those &quot;uses&quot; are in your<br />wndprocs, dlgprocs, and other forms of callbacks. Perhaps you<br />might use the registers in some subproc of yours, but when you<br />return to the callback, they will be restored for the API.<br /><br />But of course, if you use esi,edi,ebx other places in your code and<br />depend on them being preserved... :)</div>
    <div class="meta">Posted on 2001-10-31 04:54:17 by f0dder</div>
   </div>
   <div class="post" id="post-10914">
    <div class="subject"><a href="#post-10914">ebp?</a></div>
    <div class="body">again everybody forgets ebp ;(</div>
    <div class="meta">Posted on 2001-11-01 11:33:28 by lifewire</div>
   </div>
   <div class="post" id="post-11020">
    <div class="subject"><a href="#post-11020">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">Is ebp nessacary?</div>
    <div class="meta">Posted on 2001-11-02 23:29:20 by lackluster</div>
   </div>
   <div class="post" id="post-11023">
    <div class="subject"><a href="#post-11023">could i always use edi, esi, ebx as preserved after an api c</a></div>
    <div class="body">You really only need to push / save the registers<br />EBX, ESI, EDI, &amp; EBP if your routine (or any<br />routine / procedure / API your routine calls)<br />modifies those registers.  It's probably unusual<br />within a WIN32 routine or callback to modify EBP<br />without eventually restoring it back to it's <br />original value.<br /><br />farrier</div>
    <div class="meta">Posted on 2001-11-03 00:09:12 by farrier</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Image to Screen. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1083" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1083">Image to Screen.</a></p>
   <div class="post" id="post-7100">
    <div class="subject"><a href="#post-7100">Image to Screen.</a></div>
    <div class="body">Hallo to all,<br /><br />I tried to bring a bitmap on the screen.<br />I loaded it with CreateFile()/ReadFile(). Then I got the DC and got the bitmaphandle via CreateBitmap(). Ok. But when I used SelectObject() with both, I got errorcode 87. Why ???<br />The loaded Bitmap is 24 Bit, the DC works in 16 Bit mode. Is this incompatible ? Who can help me?<br /><br />Sorry for my bad english.<br /><br /><br />Nordwind64</div>
    <div class="meta">Posted on 2001-09-14 09:40:00 by Nordwind64</div>
   </div>
   <div class="post" id="post-7103">
    <div class="subject"><a href="#post-7103">Image to Screen.</a></div>
    <div class="body">I dont think the ReadFile() method of loading a bitmap will work properly.  I've never tried, as i always pack my bitmaps in exe resources.  But browsing thru the win API i stumbled upon the LoadImage() API.. this might do the trick as there is an option for load from file.  At least then you will definitely have a handle to a Bitmap.  (ReadFile only gives you a handle to pure data).<br /><br />NaN</div>
    <div class="meta">Posted on 2001-09-14 10:42:26 by NaN</div>
   </div>
   <div class="post" id="post-7104">
    <div class="subject"><a href="#post-7104">nan is right</a></div>
    <div class="body">hi,<br />nan is right. if you try to use ReadFile to open a bitmap, you have to fill a bitmap structure (dunno which it was) with the data the bitmap has. it is of very great detail.<br /><br />take nans advice and use LoadImage.<br /><br />NOP-erator</div>
    <div class="meta">Posted on 2001-09-14 11:10:23 by NOP-erator</div>
   </div>
   <div class="post" id="post-7107">
    <div class="subject"><a href="#post-7107">Image to Screen.</a></div>
    <div class="body">You can use both LoadImage() and file I/O to read bitmaps. One advantage to using LoadImage() is it fills in the structures for you and automatically returns a bitmap handle. With file I/O, I've always used CreateDIBitmap() to create a bitmap and had trouble with CreateBitma(). So see which one works better for you.</div>
    <div class="meta">Posted on 2001-09-14 11:38:32 by comrade</div>
   </div>
   <div class="post" id="post-7121">
    <div class="subject"><a href="#post-7121">Image to Screen.</a></div>
    <div class="body">Hallo,<br /><br />thank you, but...<br /><br />LoadImage() or LoadBitmap() won't work with my Problem, because the datas were decompressed before. I Know LoadImage() and LoadBitmap() but I could not write the datas to disk and then load again...<br /><br />Any help ?</div>
    <div class="meta">Posted on 2001-09-14 13:17:16 by Nordwind64</div>
   </div>
   <div class="post" id="post-7140">
    <div class="subject"><a href="#post-7140">Image to Screen.</a></div>
    <div class="body">Hallo !!!!!<br /><br />I've found the way............<br /><br />GlobalAlloc()<br />CreateFile()<br />ReadFile()<br />CreateCompatibleDC()<br />CreateDIBSection()<br />SelectObject()<br />GetDIBits()<br />...now copy memory...<br />SetDIBits()<br /><br />..........and it works very fine !!!!!<br /><br /><br />Nordwind 64</div>
    <div class="meta">Posted on 2001-09-14 16:06:50 by Nordwind64</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need Graphic algo - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14116" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=14116">Need Graphic algo</a></p>
   <div class="post" id="post-109105">
    <div class="subject"><a href="#post-109105">Need Graphic algo</a></div>
    <div class="body">I have entered Protect Mode. I planning made my own gamesince a years ago, Now I have accessed the Video Memory through Protected Mode.<br />What I need:<br />-Load Bitmap function from DOS ( LoadBitMap,lpwhereitload,Filename).<br />-Line function( Line,lpwhereitload,x,y,x2,y2).<br />-Circle Function ( Circle,lpwhereitload,x,y,width,height)<br /><br /><br />Thank you.<br /><br />NB: I upload the test source, Run it from DOS. Press esc and it restarted.</div>
    <div class="meta">Posted on 2003-07-02 21:54:50 by realvampire</div>
   </div>
   <div class="post" id="post-109189">
    <div class="subject"><a href="#post-109189">Need Graphic algo</a></div>
    <div class="body">have some algorithms for you (written in c, shoud be no problem to translate) - they are hardcore-optimized, no need to understand them :). the brilliant thing about them is that you don't need the fpu!!<br /><br /><pre><code><br />void line&#40;int x, int y, int x2, int y2, dword color&#41; <br />&#123; int i, steep = 0, sx, sy, dx, dy, e;<br /><br />  dx = ABS&#40;x2 - x&#41;;<br />  sx = &#40;&#40;x2 - x&#41; &gt; 0&#41; ? 1 &#58; -1;<br />  dy = ABS&#40;y2 - y&#41;;<br />  sy = &#40;&#40;y2 - y&#41; &gt; 0&#41; ? 1 &#58; -1;<br /><br />  if&#40;dy &gt; dx&#41; &#123;<br />    steep = 1;<br />    x ^= y;  // swap x and y<br />    y ^= x;<br />    x ^= y;<br />    dx ^= dy; // swap dx and dy<br />    dy ^= dx;<br />    dx ^= dy;<br />    sx ^= sy; // swap sx and sy<br />    sy ^= sx;<br />    sx ^= sy; //the ^=-operator is an xor sx, sy<br />  &#125;<br /><br />  e = 2 * dy - dx;<br />  for&#40;i = 0;i &lt; dx;i++&#41;	&#123;<br />    if&#40;steep&#41; putpixel&#40;y, x, color&#41;;<br />    else  putpixel&#40;x, y, color&#41;;<br />    while&#40;e &gt;= 0&#41; &#123;<br />      y += sy;<br />      e -= 2 * dx;<br />    &#125;<br />    x += sx;<br />    e += 2 * dy;<br />  &#125;<br />  putpixel&#40;x2, y2, color&#41;;<br />&#125;<br /><br />void circle&#40;int xc, int yc, int r, dword color&#41; &#123;<br />  int x = 0, y = r, d = 2 * &#40;1 - r&#41;;<br /><br />  while&#40;y &gt;= 0&#41; &#123;<br />    putpixel&#40;xc + x, yc + y, color&#41;;<br />    putpixel&#40;xc + x, yc - y, color&#41;;<br />    putpixel&#40;xc - x, yc + y, color&#41;;<br />    putpixel&#40;xc - x, yc - y, color&#41;;<br />    if&#40;d + y &gt; 0&#41;  &#123;<br />      y -= 1;<br />      d -= &#40;2 * y * max_x / max_y&#41; - 1;<br />    &#125;<br />    if&#40;x &gt; d&#41; &#123;<br />    x += 1;<br />    d += &#40;2 * x&#41; + 1;<br />  &#125;<br />&#125;<br /></code></pre><br />make use of them, have fun!</div>
    <div class="meta">Posted on 2003-07-03 14:03:33 by hartyl</div>
   </div>
   <div class="post" id="post-109209">
    <div class="subject"><a href="#post-109209">yeah..., Great</a></div>
    <div class="body">What is ABS? I will try to translated it. But hartyl can you give me the shell code?:grin:  (Im a bit lazzy to translated it.).<br /><br />:alright: :stupid:</div>
    <div class="meta">Posted on 2003-07-03 19:56:27 by realvampire</div>
   </div>
  </div>
 </body>
</html>
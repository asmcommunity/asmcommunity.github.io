<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need an easy square-root algo - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6132" />
    <link rel="next" href="../?id=6132&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6132">Need an easy square-root algo</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=6132&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=6132&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="6132" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=6132&amp;page=2">&gt;</a><a href="../?id=6132&amp;page=2">&raquo;</a></form>   <div class="post" id="post-43954">
    <div class="subject"><a href="#post-43954">Need an easy square-root algo</a></div>
    <div class="body">Okay,<br />Say I have a DWORD in EAX, and I need to calculate its root.<br />So, what do I do? (I'm wondering)<br />Well, I could try to divide (SHR EAX, ), and compare both results, until I get something similar.... okay, that?s all that I?ve come up to.<br />But I?m sure there?s a better way.<br /><br />Can you show me a snippet or just give me a hint.<br /><br />(I know, this is plain basic arithmetic, the same that my small syster would solve, but I just can see a solution....):stupid:</div>
    <div class="meta">Posted on 2002-06-18 10:56:10 by slop</div>
   </div>
   <div class="post" id="post-43959">
    <div class="subject"><a href="#post-43959">Need an easy square-root algo</a></div>
    <div class="body">something like this would do it<br /><br /><pre><code>SquareRoot PROC Number&#58;DWORD<br />        mov ecx, 1<br />@@&#58;     inc ecx<br />        mov eax, ecx<br />        mul ecx<br />        cmp eax, Number<br />        jb @b<br />        ja @f<br />        mov eax, ecx<br />        ret<br />@@&#58;     xor eax, eax<br />        ret<br />    SquareRoot ENDP<br /></code></pre></div>
    <div class="meta">Posted on 2002-06-18 12:02:19 by Kudos</div>
   </div>
   <div class="post" id="post-43960">
    <div class="subject"><a href="#post-43960">Need an easy square-root algo</a></div>
    <div class="body">Thanks a lot, Kudos, exactly what I was looking for :)<br />But what can I do if i have a DWORD ( I mean a big one)<br />that would take ages... and it?s inside a vectorial thingy, that means hundreds of them done at runtime, is there anyway to do it without floating point?</div>
    <div class="meta">Posted on 2002-06-18 12:09:19 by slop</div>
   </div>
   <div class="post" id="post-43968">
    <div class="subject"><a href="#post-43968">Need an easy square-root algo</a></div>
    <div class="body">There is a shift method, binary search and a table lookup method ... You might want to check/research on this. I think there is a K3D and SSE implementation, try google. :)<br /><br />Why Not FPU? Life would be much easier... :)</div>
    <div class="meta">Posted on 2002-06-18 12:25:53 by stryker</div>
   </div>
   <div class="post" id="post-43981">
    <div class="subject"><a href="#post-43981">Need an easy square-root algo</a></div>
    <div class="body">you can make the algo much faster..<br />dont start from one . <br /><br /><br />but you should use fpu much faster and smaller code(i think)</div>
    <div class="meta">Posted on 2002-06-18 13:09:41 by eko</div>
   </div>
   <div class="post" id="post-43982">
    <div class="subject"><a href="#post-43982">Need an easy square-root algo</a></div>
    <div class="body">When in doubt search:<br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=3276&amp;highlight=square+root">http://www.asmcommunity.net/board/index.php?topic=3276&amp;highlight=square+root</a></div>
    <div class="meta">Posted on 2002-06-18 13:13:03 by bitRAKE</div>
   </div>
   <div class="post" id="post-43983">
    <div class="subject"><a href="#post-43983">Need an easy square-root algo</a></div>
    <div class="body">stryker:<br /><br />---------------------quote------------------------------------------<br /> There is a shift method, binary search and a table lookup method ... You might want to check/research on this. I think there is a K3D and SSE implementation, try google.  <br />-----------------------------------------------------------------------<br /><br />1) The shift method looks OK<br /><br />2) The binary search, how can I do that? <br /><br />3) The table lookup? You mean search in the lookup... but then i need to code in an external .inc file all the possible values, is that?<br />---------------------------quote by stryker----------------------------------------<br />Why Not FPU? Life would be much easier...  <br /> ----------------------------------------------------------------------------<br /><br />-----------------and by eko-----------------------------<br />you can make the algo much faster.. <br />dont start from one . <br />but you should use fpu much faster and smaller code(i think)<br />----------------<br /><br />Okay, maybe i?ll guve it atry , have any idea?<br />Thanks you two.</div>
    <div class="meta">Posted on 2002-06-18 13:16:46 by slop</div>
   </div>
   <div class="post" id="post-43984">
    <div class="subject"><a href="#post-43984">Need an easy square-root algo</a></div>
    <div class="body">Wow, you really got it goin'!!<br /><br />A very interesting algo going on bet2ween CodeLover &amp; you, then Hels great idea,with The Svine's explainning  bitRackness, like a good tragedy with its moments of comedy, then the3 lines float by dxantos (though I?ll have to check the intel manual even for that ;) to end up with Arne Steinarson?s code also...extenuating ;). ), and then the place:<br />azillionmonkeys.<br />I wouldn?t have gotten it in a zillion monkey googles (I think, what?s his name? Mike Googles, doesn?t like me, he always points to unknown places ;) )<br /><br />bitRAKE, I owe you one, ;)</div>
    <div class="meta">Posted on 2002-06-18 13:30:26 by slop</div>
   </div>
   <div class="post" id="post-43988">
    <div class="subject"><a href="#post-43988">Need an easy square-root algo</a></div>
    <div class="body">I found it :) <a target="_blank" href="http://www.azillionmonkeys.com/qed/sqroot.html">http://www.azillionmonkeys.com/qed/sqroot.html</a><br /><br /><br />oh!!! shoot ... bitrake's thread already has the link... :grin: I should have read that thread thoroughly.</div>
    <div class="meta">Posted on 2002-06-18 13:42:31 by stryker</div>
   </div>
   <div class="post" id="post-43990">
    <div class="subject"><a href="#post-43990">Need an easy square-root algo</a></div>
    <div class="body">Okay now I?ll thank everybody:<br /><br />Kudos, stryker, eko, bitRake<br /><br />(okay also, CodeLover, Hel, dxantos, Silver,....)<br /><br />And here I have square-root algos until i?ll have grandsons :)</div>
    <div class="meta">Posted on 2002-06-18 13:50:44 by slop</div>
   </div>
   <div class="post" id="post-44016">
    <div class="subject"><a href="#post-44016">Need an easy square-root algo</a></div>
    <div class="body">use trig or Pythagoran theorem<br /><br />make the number you want the root of the hypotenuse of a right angle triangle with the other two sides equal then apply DeMoivre's theorem.</div>
    <div class="meta">Posted on 2002-06-18 16:36:02 by IwasTitan</div>
   </div>
   <div class="post" id="post-44242">
    <div class="subject"><a href="#post-44242">Need an easy square-root algo</a></div>
    <div class="body">I can not believe that at  least one person from this board did not see my con in the last post.<br /><br />are there no math experts  here</div>
    <div class="meta">Posted on 2002-06-19 23:51:19 by IwasTitan</div>
   </div>
   <div class="post" id="post-44365">
    <div class="subject"><a href="#post-44365">Need an easy square-root algo</a></div>
    <div class="body">IwasTitan.<br />I suggest you ponder the following facts:<br /><br />1: 'Experts' don't like to waste time on obvious nonsense.<br />2: The guy who started the thread already got what he wanted, so he didn't need to be warned off from your nonsense.<br />3: Your first act in this thread was an attempt at desinformation...<br /><br />The last point doesn't improve your standing here at all.<br />If you go too far down that road, the moderators may act.</div>
    <div class="meta">Posted on 2002-06-20 15:29:00 by RAdlanor</div>
   </div>
   <div class="post" id="post-44374">
    <div class="subject"><a href="#post-44374">Need an easy square-root algo</a></div>
    <div class="body">I second what RAdlanor said, and add that in fact this forum is not to show that one is a smartass, but to genuinely and humbly help others.<br /><br />Hejd</div>
    <div class="meta">Posted on 2002-06-20 16:25:04 by Maverick</div>
   </div>
   <div class="post" id="post-44394">
    <div class="subject"><a href="#post-44394">Need an easy square-root algo</a></div>
    <div class="body">ok...ok ...sorry...humble apologies<br /><br />I just wanted to see if anyone realized that even if you used DeMoivres theorem you would still have to have an algo to find a square root which is what you wanted in the first place.<br /><br />You guys act like a major sin was committed the way your coming down on me. Look at the hostility in your own words.<br /><br /><br />&quot;from your nonsense&quot;<br /><br />&quot;an attempt at desinformation&quot;<br /><br />&quot;is a smartass&quot;<br /><br />Gee i feel like a Nazi after all those comments.</div>
    <div class="meta">Posted on 2002-06-20 19:04:54 by IwasTitan</div>
   </div>
   <div class="post" id="post-44554">
    <div class="subject"><a href="#post-44554">Need an easy square-root algo</a></div>
    <div class="body">just read the last post and wondered what Nazi has to do with it.. :confused: <br /><br />...but OK.. <br /><br />-NOP-</div>
    <div class="meta">Posted on 2002-06-21 11:09:30 by NOP-erator</div>
   </div>
   <div class="post" id="post-44567">
    <div class="subject"><a href="#post-44567">Need an easy square-root algo</a></div>
    <div class="body">No way, nazis don know how to code ;)<br /><br /><br />Maverick and Radlanor are right, I was looking for an easy algo, bitRAKE showed me the link, and that's it... great, because I was stuck, and quick also.<br /><br />Now, I've never heard about DeMoivre (sorry, I'm not a mathemagician ;) ), but if you know a nice algo using his method and you feel like posting it here, feel free to do it.<br />It always interesting to learn new stuff :)</div>
    <div class="meta">Posted on 2002-06-21 11:47:37 by slop</div>
   </div>
   <div class="post" id="post-44571">
    <div class="subject"><a href="#post-44571">Need an easy square-root algo</a></div>
    <div class="body">fjrp2 is right, if you're such an expert, why don't you dare an attempt to explain us your idea in detail? <br /><br />regards,<br />  -NOP-</div>
    <div class="meta">Posted on 2002-06-21 12:02:00 by NOP-erator</div>
   </div>
   <div class="post" id="post-44609">
    <div class="subject"><a href="#post-44609">Need an easy square-root algo</a></div>
    <div class="body"><strong>IwasTitan</strong>: please don't get me wrong, I didn't call <em>you</em> a smartass, but I've seen some here, and I was referring to that. Nothing personal, I don't know you. You're welcome, and please as other already said feel free to contribute with your knowledge, it will be appreciated by many, I'm sure.</div>
    <div class="meta">Posted on 2002-06-21 16:51:55 by Maverick</div>
   </div>
   <div class="post" id="post-44649">
    <div class="subject"><a href="#post-44649">Need an easy square-root algo</a></div>
    <div class="body"><strong>IwasTitan</strong> ,<br />I did <strong>not</strong>  'come down' on you, but merely pointed out that your post was inappropriate.  Had I really thought you meant any harm by it, then I might have 'come down' on you, in an entirely different manner.<br /><br />I notice that you object to two of my phrases, which surprises me.<br /><br />One is: &quot;from your nonsense&quot;.  Used by me about your first post.<br />Yet you yourself also know it to be nonsense, since you expected those who know math well to notice that it wouldn't solve anything.  (You just don't use trigonometry for square roots.)<br /><br />The other is: &quot;an attempt at desinformation&quot;<br />But you told a guy, who needed info, to use a method that you knew as incorrect.  By definition, that is 'desinformation'.<br /><br />But don't get me wrong now, again ;) <br />I have no hard feelings, as I realize that you were just kidding, though I still think you shouldn't do that this way, in threads where someone needs help.  Save it for the 'Heap' instead.</div>
    <div class="meta">Posted on 2002-06-22 02:29:08 by RAdlanor</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=6132&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=6132&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="6132" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=6132&amp;page=2">&gt;</a><a href="../?id=6132&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
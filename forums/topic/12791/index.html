<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Self-Updating App - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12791" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=12791">Self-Updating App</a></p>
   <div class="post" id="post-99076">
    <div class="subject"><a href="#post-99076">Self-Updating App</a></div>
    <div class="body">Hello,<br />I would like to hear your opinions about the following:<br />I am writting a client/server app. The client will be installed on only 1 computer and the server on about 20-30 comps. I want to make the server part to be able to update it self. I was thinking, maybe the client can send a msg to all servers and then each server can request the update from the client. something like that.<br />What do you think? If someone has something  better, please let me know.</div>
    <div class="meta">Posted on 2003-04-24 12:05:33 by Ray</div>
   </div>
   <div class="post" id="post-99164">
    <div class="subject"><a href="#post-99164">Self-Updating App</a></div>
    <div class="body">I think you got client&lt;-&gt;server mixed up. Otherwise, idea sounds fine to me.</div>
    <div class="meta">Posted on 2003-04-24 17:35:45 by comrade</div>
   </div>
   <div class="post" id="post-99289">
    <div class="subject"><a href="#post-99289">Self-Updating App</a></div>
    <div class="body">well,<br />server sits and waits commands right?<br />client makes the commands right?<br /><br />If the above is right, then I have everything just fine :):tongue:</div>
    <div class="meta">Posted on 2003-04-25 04:41:29 by Ray</div>
   </div>
   <div class="post" id="post-99291">
    <div class="subject"><a href="#post-99291">Self-Updating App</a></div>
    <div class="body">Sometimes, clients do a bit of server work, and servers do a bit of client work.. happens.</div>
    <div class="meta">Posted on 2003-04-25 04:47:24 by f0dder</div>
   </div>
   <div class="post" id="post-99370">
    <div class="subject"><a href="#post-99370">Self-Updating App</a></div>
    <div class="body">I would suggest putting the functions in a DLL and loading it dynamically. In that case, if an update is required, you can unload the old dll and reload the updated dll. That is if you require to update the app while it's running.<br /><br />There is a difference between server and client app and servers and workstations. The client app connect to the server app who is listening. After the connection, both can be doing stuff. As for Servers and workstations, normally you have few servers and many workstations. In this case, 20 workstations would connect to 1 server.</div>
    <div class="meta">Posted on 2003-04-25 11:21:56 by Silas</div>
   </div>
   <div class="post" id="post-99493">
    <div class="subject"><a href="#post-99493">Self-Updating App</a></div>
    <div class="body">thanks ,<br /><br />indeed the next problem is how to update while running!<br />Iam still working on it....</div>
    <div class="meta">Posted on 2003-04-26 03:53:30 by Ray</div>
   </div>
   <div class="post" id="post-99572">
    <div class="subject"><a href="#post-99572">Self-Updating App</a></div>
    <div class="body">The Server can update it self by using URLDownloadToFile.<br /><br />One way would be to Create a batch file, Which will delete the old app and run the new one.<br /><br />eg.<br />OLD.exe creates and runs Run.bat,<br />Starts the bat file then OLD.exe terminates itself to allow deletion<br /><br />del OLD.exe           &gt;&gt; Delete the Old Server<br />NEW.exe /install    &gt;&gt; Install the new one<br />del Run.bat            &gt;&gt; Delete the batch file to clean up<br /><br />Thats just one way.</div>
    <div class="meta">Posted on 2003-04-26 17:22:59 by -=TM=-</div>
   </div>
   <div class="post" id="post-99816">
    <div class="subject"><a href="#post-99816">Self-Updating App</a></div>
    <div class="body">Ray,<br /><br />Our we talking about an intranet update ( local/private wiring ) or an internet update ( public wiring )?<br /><br />Regards,  P1</div>
    <div class="meta">Posted on 2003-04-28 08:58:05 by Pone</div>
   </div>
   <div class="post" id="post-100265">
    <div class="subject"><a href="#post-100265">Self-Updating App</a></div>
    <div class="body">Its an intranet update.<br />Sorry if it was not clear.</div>
    <div class="meta">Posted on 2003-04-30 02:44:43 by Ray</div>
   </div>
   <div class="post" id="post-100269">
    <div class="subject"><a href="#post-100269">Self-Updating App</a></div>
    <div class="body">for &quot;update while running&quot;, I'd go for the modular DLL approach. Means you have to get the &quot;core&quot; right fairly quickly, but since the &quot;core&quot; only has to be a simple program, that should be fairly easy.</div>
    <div class="meta">Posted on 2003-04-30 02:49:36 by f0dder</div>
   </div>
   <div class="post" id="post-100314">
    <div class="subject"><a href="#post-100314">I use a simple Loader for my Apps.</a></div>
    <div class="body">All the loader does is to check the exe version and compare it to the network version, if there is a mis-match ( because I wanted the ability to go back as well as forward in rev. ), then it copies the updated exe file to the local client.  Then do a CreateProcess for the local exe file.  I also adjust the process to HIGH_PRIORITY_CLASS, to give the apps some pep to it.<br /><br />This is an intermittant app, the user starts it numerous times, gives me the ability to update at startup.  But I have also programmed a signaled restart for the app, if I need a immediate update.<br /><br />The app exe has a updater code for the loader exe, so I am not stuck running around to a couple hundred workstations updating local software.<br /><br />If you want a copy of the loader, let me know.<br /><br />That why I asked if it was a local network app or not, this would not work for a internet app.<br /><br />Enjoy your work,  P1</div>
    <div class="meta">Posted on 2003-04-30 08:35:05 by Pone</div>
   </div>
   <div class="post" id="post-100318">
    <div class="subject"><a href="#post-100318">Self-Updating App</a></div>
    <div class="body">x-Ray,<br /><br />Curiosity has got the best of me.<br /><br />What is the purpose of your client/server app?<br /><br />Regards,  P1</div>
    <div class="meta">Posted on 2003-04-30 08:50:05 by Pone</div>
   </div>
   <div class="post" id="post-100516">
    <div class="subject"><a href="#post-100516">Self-Updating App</a></div>
    <div class="body">Hello again,<br /><br />F0d, <br />I willl have to agre with you. The modular dll approach is a much more 'cleaner' approach but because of the way i coded the whole thing ( call it bad programming ) i never thought of that, so its gonna take some time to modularize it, i Think ! :tongue: <br />So, i am looking an 'easier' method of updating, if i can say this...!<br /><br />Pone,<br />Yea, i would like to see your work.<br />As for the purpose of the client/server thing, its actually a personal remote control app.<br />I have around 60 comps and actually i want to do a few things without running up and down a 4 floor building.</div>
    <div class="meta">Posted on 2003-05-01 06:37:18 by Ray</div>
   </div>
   <div class="post" id="post-100517">
    <div class="subject"><a href="#post-100517">Self-Updating App</a></div>
    <div class="body">Ray, either the batch file approach then, or have a &quot;monitor&quot; app that launches your main app and can handle the updates (I prefer the latter, so I don't have to depend on command.com / cmd.exe)</div>
    <div class="meta">Posted on 2003-05-01 06:41:37 by f0dder</div>
   </div>
   <div class="post" id="post-100518">
    <div class="subject"><a href="#post-100518">Self-Updating App</a></div>
    <div class="body">Fod,<br /><br />Indeed,<br />I was going for the bat file approach, but Pone's loader (, and monitor i would say,) seems interesting.<br />I will wait for his posting:)<br /><br />:alright: <br />thanks.</div>
    <div class="meta">Posted on 2003-05-01 06:48:10 by Ray</div>
   </div>
   <div class="post" id="post-102158">
    <div class="subject"><a href="#post-102158">Self-Updating App</a></div>
    <div class="body">My first attempt was messy, involving ShellExecuting the newly-downloaded update (wininet yes) and then, sleeping 2 second while it fires up, and terminating. The new one deletes the old one as soon as it is able. It works, but it's not exactly pretty.</div>
    <div class="meta">Posted on 2003-05-09 11:22:58 by Homer</div>
   </div>
   <div class="post" id="post-105097">
    <div class="subject"><a href="#post-105097">funny :)</a></div>
    <div class="body">so how is your trojan developement coming along? :)</div>
    <div class="meta">Posted on 2003-05-28 07:49:39 by johnqpublic2323</div>
   </div>
   <div class="post" id="post-105276">
    <div class="subject"><a href="#post-105276">Self-Updating App</a></div>
    <div class="body">Heh. I'm interested in a lot of things, but that's not one of them :)<br />Sure, I admit to having written that kind of code as a learning exercise, but by the same token, I freely admit to having written all kinds of code.<br />If I don't find something challenging, I lose interest very quickly - my attention span isn't the greatest. Surely there's more to life...</div>
    <div class="meta">Posted on 2003-05-29 09:03:59 by Homer</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Comparing two 64bit integers - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16086" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=16086">Comparing two 64bit integers</a></p>
   <div class="post" id="post-124713">
    <div class="subject"><a href="#post-124713">Comparing two 64bit integers</a></div>
    <div class="body">Hi,<br />i have following test code what dont work, the problem is it's always jumping on jg statement not depending on f2 value but i'd like to know is f1 greater or not.<br /><br />.DATA<br />    f1       QWORD 03h<br />    f2       QWORD 01h<br />.CODE<br />start:<br />   finit<br />   fild f1<br />   fild f2<br />   fcompp<br />   fstsw ax<br />   fwait<br />   sahf<br />   je @F<br />   nop<br />   jg @F<br />   nop<br />   jl @F<br />   nop<br />@@:</div>
    <div class="meta">Posted on 2003-11-18 18:19:47 by sirurx</div>
   </div>
   <div class="post" id="post-124716">
    <div class="subject"><a href="#post-124716">Comparing two 64bit integers</a></div>
    <div class="body">When you <strong>fnstsw ax/sahf</strong>, CF/ZF/PF are modified.  Use <strong>jc</strong> or <strong>jnc</strong> (or, jb/ja) instead of jl or jg.</div>
    <div class="meta">Posted on 2003-11-18 18:40:18 by Starless</div>
   </div>
   <div class="post" id="post-124722">
    <div class="subject"><a href="#post-124722">Comparing two 64bit integers</a></div>
    <div class="body">Yes you're right in this way all works fine. Thanx.</div>
    <div class="meta">Posted on 2003-11-18 19:27:56 by sirurx</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>.WHILE/.DO Loop problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9814" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9814">.WHILE/.DO Loop problem</a></p>
   <div class="post" id="post-72984">
    <div class="subject"><a href="#post-72984">.WHILE/.DO Loop problem</a></div>
    <div class="body">Hello all,<br /><br />Tried searching the forums for for any mention of .WHILE .DO loops not peforming as they should (I seem to remember a Microsoft tech note about it) but didn't find what I was looking for.<br /><br />Has anyone else had problems using .WHILE .DO loops when the loop when the <em>condition</em> of the loop consists of an (XXXX==BBB) OR (YYY==FFF) e.g. <br /><br />.WHILE (ecx &lt; PROFILELENGTH) &amp;&amp; (numberOfSamples &lt; NUMBEROFSAMPLES)<br /><br />   <em>execute code</em> <br /><br />   inc ecx<br />   inc numberOfSamples<br /><br />.ENDW<br /><br />When I try this loop, it seems to ignore the second (numberOfsamples &lt; NUMBEROFSAMPLES) condition and only end the loop when the first becomes invalid. Anyone else come across this ? It's possible I might have badly coded the loop, I didn't spend alot of time trying to figure out why it wouldn't work, I just used a .REPEAT/.UNTIL, but i should like to know if it's me or a masm bug, (ok.. most likely me !) as the use of .REPEAT.UNTIL is sometimes inappropriate etc etc.<br /><br />Cheers<br /><br />Codey</div>
    <div class="meta">Posted on 2002-12-28 06:41:42 by CodeBug</div>
   </div>
   <div class="post" id="post-73001">
    <div class="subject"><a href="#post-73001">.WHILE/.DO Loop problem</a></div>
    <div class="body">For OR you should use &quot;||&quot;, not &quot;&amp;&amp;&quot; :) . Actually the loop ends if both conditions are false.</div>
    <div class="meta">Posted on 2002-12-28 09:15:38 by japheth</div>
   </div>
   <div class="post" id="post-73012">
    <div class="subject"><a href="#post-73012">.WHILE/.DO Loop problem</a></div>
    <div class="body">Japeth,<br /><br />Thinking about it, I must have got my &amp;&amp;'s and ||'s mixed up. thats what comes when i don't go and get my beauty sleepy<br /><br />Cheers !<br /><br />Codebug</div>
    <div class="meta">Posted on 2002-12-28 10:05:07 by CodeBug</div>
   </div>
   <div class="post" id="post-73013">
    <div class="subject"><a href="#post-73013">.WHILE/.DO Loop problem</a></div>
    <div class="body">As well, use brackets..<br /><br />.WHILE <strong>(  </strong>(ecx &lt; PROFILELENGTH) &amp;&amp; (numberOfSamples &lt; NUMBEROFSAMPLES)  <strong>)</strong><br /><br />.ENDW<br /><br />Last thing to remember is that as you have it, the values will be treated as UNSIGNED numbers.  A negative signed number is a very LARGE unsigned number, and may be causing faults.<br /><br />To indicate signed conditions use &quot;SDWORD PTR&quot; (signed-DWORD)<br /><br />.WHILE (  (<strong>SDWORD PTR ecx</strong> &lt; PROFILELENGTH) &amp;&amp; (<strong>SDWORD PTR numberOfSamples</strong> &lt; NUMBEROFSAMPLES)  )<br /><br />Hope this helps..<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-12-28 10:07:46 by NaN</div>
   </div>
   <div class="post" id="post-73015">
    <div class="subject"><a href="#post-73015">.WHILE/.DO Loop problem</a></div>
    <div class="body">Tried messing with the brackets but didn't affect the result stragnely. I think the thing about unsigned words may have possibly been a problem</div>
    <div class="meta">Posted on 2002-12-28 10:37:27 by CodeBug</div>
   </div>
  </div>
 </body>
</html>
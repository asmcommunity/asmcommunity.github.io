<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>MASM syntax (ml.exe) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27387" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27387">MASM syntax (ml.exe)</a></p>
   <div class="post" id="post-195999">
    <div class="subject"><a href="#post-195999">MASM syntax (ml.exe)</a></div>
    <div class="body">What would be the proper command syntax in masm to compile a file (say xyz.asm) and link it to an exe/create an exe?  The inclused microsoft documentation is vague, and i can seem to create an exe...</div>
    <div class="meta">Posted on 2001-03-25 17:29:00 by KLJ</div>
   </div>
   <div class="post" id="post-196000">
    <div class="subject"><a href="#post-196000">MASM syntax (ml.exe)</a></div>
    <div class="body">since your new i would recommend just trying this in the same directory your ml.exe file is. put your .asm file into the ml directory and then in the dos prompt type

c:\masm32\bin\ml /c /coff yourfile.asm

c:\masm32\bin\Link /SUBSYSTEM:WINDOWS /LIBPATH:c:\masm32\lib yourfile.obj

c:\masm32\bin\ml /c /coff yourfile.asm


this is the way i do it and there is an extra unneccessary step but it will still work for ya.

smurf</div>
    <div class="meta">Posted on 2001-03-25 17:36:00 by smurf</div>
   </div>
   <div class="post" id="post-196001">
    <div class="subject"><a href="#post-196001">MASM syntax (ml.exe)</a></div>
    <div class="body">KLJ,

If you are using MASM32v6, have a look at the batch files that
the editor uses to build the EXE files.

If your app uses a resource file,

\masm32\bin\rc /v yourres.rc    ; compile the RC file
\masm32\bin\cvtres /machine:ix86 yourres.res ; convert to OBJ

\masm32\bin\ml /c /coff yourfile.asm

To get the complete ML command line syntax, run it from the command
prompt and redirect it to a text file. "ML /? > MLHELP.TXT"

\masm32\bin\Link /SUBSYSTEM:WINDOWS yourfile.obj rsrc.obj

This tells the linker that the EXE will be a GUI application and
that a resource file is being appended in the form of an object module.

There is a prototyping tool in MASM32 called ProStart, either the old
or new version will do the job and it writes all of this stuff up
so that you can get the swing of how it works.

You can get MASM32v6 from the following URL,

http://www.pbq.com.au/home/hutch/masm.htm

Also get the two service packs and install them manually as they
have later examples and other bits.

Regards,

hutch@pbq.com.au</div>
    <div class="meta">Posted on 2001-03-25 17:56:00 by hutch--</div>
   </div>
   <div class="post" id="post-196002">
    <div class="subject"><a href="#post-196002">MASM syntax (ml.exe)</a></div>
    <div class="body">K, thanks guys... I thing i am using masm32 (could be 16), as it came with Microsoft's latest DDK kit for NT/9.x/2k/Me (win2kddk.exe and it installs to c:\ntddk\). ML ver 6.13.8204 & LINK ver 5.12.8181 . A few last questions though: what entry point option would I use to create an exe that is strictly a console app (considering that i am using the correct masm ver in ther first place)?  Where can I get documetation about the minor structural adjustments necessasary to compile assembly w/ masm? i.e. nams requires "..start" and "SEGMENT stack stack" inserts in order to assemble asm to obj.  And lastly, am i using the best compiler for the job of creating dos/consol progs/routines?

Thanks again</div>
    <div class="meta">Posted on 2001-03-25 18:27:00 by KLJ</div>
   </div>
  </div>
 </body>
</html>
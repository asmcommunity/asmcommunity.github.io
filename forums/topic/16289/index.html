<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>why dosen't @@: work in the data section? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16289" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16289">why dosen't @@: work in the data section?</a></p>
   <div class="post" id="post-126529">
    <div class="subject"><a href="#post-126529">why dosen't @@: work in the data section?</a></div>
    <div class="body">something like this dosen't assemble is it a bug in masm?<br /><pre><code><br />.data<br />@@&#58;<br />jmp @b<br /></code></pre></div>
    <div class="meta">Posted on 2003-12-04 08:52:40 by ENF</div>
   </div>
   <div class="post" id="post-126531">
    <div class="subject"><a href="#post-126531">why dosen't @@: work in the data section?</a></div>
    <div class="body">Do you have any specific reason to use  that ??   --  I?m sorry  I don?t see any use of a jump in .data section</div>
    <div class="meta">Posted on 2003-12-04 09:05:52 by WinCC</div>
   </div>
   <div class="post" id="post-126536">
    <div class="subject"><a href="#post-126536">why dosen't @@: work in the data section?</a></div>
    <div class="body">I'm trying to store a small fragment of code in the data section so that it can be modified.</div>
    <div class="meta">Posted on 2003-12-04 09:21:18 by ENF</div>
   </div>
   <div class="post" id="post-126550">
    <div class="subject"><a href="#post-126550">why dosen't @@: work in the data section?</a></div>
    <div class="body">Replace it with jmp $-1 ?</div>
    <div class="meta">Posted on 2003-12-04 10:33:16 by roticv</div>
   </div>
   <div class="post" id="post-126552">
    <div class="subject"><a href="#post-126552">why dosen't @@: work in the data section?</a></div>
    <div class="body">dosen't work either.<br />gives the error a2107 cannot have implicit far jump or call to near label<br />It would seam that using the data section for anything other then data is not a good idea</div>
    <div class="meta">Posted on 2003-12-04 10:51:19 by ENF</div>
   </div>
   <div class="post" id="post-126553">
    <div class="subject"><a href="#post-126553">why dosen't @@: work in the data section?</a></div>
    <div class="body">Last resort<br /><pre><code><br />db 0Ebh, 0FEh <br /></code></pre></div>
    <div class="meta">Posted on 2003-12-04 11:09:56 by roticv</div>
   </div>
   <div class="post" id="post-126561">
    <div class="subject"><a href="#post-126561">why dosen't @@: work in the data section?</a></div>
    <div class="body">:) use GoAsm, it does all of that rather easily...<br /><br /><pre><code>.data<br />newlabel&#40;arg1&#41; equ	mov eax,arg1 \<br />			test eax,eax \<br />			jnz &gt; \<br />				mov edx,FALSE\<br />			&#58;</code></pre><br /><br />Edit : the &gt; and : are equivalent to @F and @@:</div>
    <div class="meta">Posted on 2003-12-04 11:54:51 by donkey</div>
   </div>
   <div class="post" id="post-126564">
    <div class="subject"><a href="#post-126564">why dosen't @@: work in the data section?</a></div>
    <div class="body">is this sort of a macro?Dose it produce code each time or just change the argument.</div>
    <div class="meta">Posted on 2003-12-04 12:10:14 by ENF</div>
   </div>
   <div class="post" id="post-126567">
    <div class="subject"><a href="#post-126567">why dosen't @@: work in the data section?</a></div>
    <div class="body">It produces code so it is a sort of macro. Though in reality GoAsm has very poor macro support. It does however imbed the code in the data section so if you have no arguments you can call it directly. For example:<br /><br /><pre><code>.data<br />newlabel&#58;	equ 	mov eax,100 \<br />			ret</code></pre><br /><br />can be directly called in code with CALL newlabel</div>
    <div class="meta">Posted on 2003-12-04 12:19:24 by donkey</div>
   </div>
   <div class="post" id="post-126606">
    <div class="subject"><a href="#post-126606">why dosen't @@: work in the data section?</a></div>
    <div class="body">What I remember of MASM is that the .DATA section does not do an ASSUME CS:_DATA, so that it is not possible to define <strong>code labels</strong> (using &quot;:&quot;) in the .DATA section, unless you add the ASSUME.</div>
    <div class="meta">Posted on 2003-12-04 17:31:07 by tenkey</div>
   </div>
  </div>
 </body>
</html>
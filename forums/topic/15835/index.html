<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>dialog boxes unwanted resizing - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15835" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15835">dialog boxes unwanted resizing</a></p>
   <div class="post" id="post-122688">
    <div class="subject"><a href="#post-122688">dialog boxes unwanted resizing</a></div>
    <div class="body">Hello everybody,<br /><br />My program creates a number of dialog boxes, some with bitmaps, some with icons.  These look fine on my computer but when I run it on a friend's computer the dialog boxes are not displayed at the right size, thus leaving out text/controls.  <br /><br />I have learned that the dialog box size is somehow affected by the size of the default font on the user's computer and there seems to be no way of forcing the dialog box to display at a size constant on all systems.  Bitmaps seem to make the problem worse.<br /><br />My questions:<br /><br />1)  Should I be using StretchBlt  to set the size of the bitmaps?  If so how can I determine at run time how much the dialog box size is going to be changed?<br /><br />2)  Should I not use bitmaps on dialog boxes?<br /><br />3)  Would converting the dialog box into a window help?  This would be a headache cuz there are a lot of dialog boxes with a lot of controls to hand code unless someone knows of a tool to do the conversion.<br /><br />Any help or suggestions would be appreciated.<br /><br />best regards,<br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-10-28 09:23:55 by czDrillard</div>
   </div>
   <div class="post" id="post-122720">
    <div class="subject"><a href="#post-122720">dialog boxes unwanted resizing</a></div>
    <div class="body">Hi, czDillard.<br />My 0.02:<br /><br />1) You can use the APIs and some math to convert DUBs (Dialog Box Units) to pixels. It must be done on runtime, and it's all in the API docs (I think the function name was GetDBUnits, but I could be wrong).<br /><br />2) You <em>can</em> use them, but it's usually a pain in the back since you have to either resize the bitmaps or the dialog boxes. Alternatively if you're using static boxes to show icons, you could set WS_BORDER and SS_CENTER and see how well it looks with bigger fonts... :grin:<br /><br />3) There are some RadAsm addins to do the conversion, but it's still some work as your DlgProc's must be converted to WindowProc's and that can only be done by hand. :(<br /><br />Probably the best way to solve your problem is to resize the dialog and all it's controls when processing WM_INITDIALOG. It's not very elegant but you can get it working with little effort. However, you might then experience trouble with the font sizes...<br /><br />That's the whole point of DBUs depending on the font size, so the controls will be automatically resized to fit the text always. If you hardcode pixel values in your program, you'll either have to figure out a way to resize the fonts, or use more bitmaps instead of statics.<br /><br />If you also have edit boxes and the such, you should consider stretching the bitmaps instead.<br /><br />Hope it helps. :)</div>
    <div class="meta">Posted on 2003-10-28 16:27:13 by QvasiModo</div>
   </div>
   <div class="post" id="post-122728">
    <div class="subject"><a href="#post-122728">dialog boxes unwanted resizing</a></div>
    <div class="body">Because of that reason, I don't like to use dialog resources. I use my window classes instead.</div>
    <div class="meta">Posted on 2003-10-28 17:21:16 by JohnFound</div>
   </div>
   <div class="post" id="post-122732">
    <div class="subject"><a href="#post-122732">dialog boxes unwanted resizing</a></div>
    <div class="body"><div class="quote"><br />Because of that reason, I don't like to use dialog resources. I use my window classes instead. </div><br />:grin: <br />But then you'd have a problem with different font sizes...<br />Try switching to &quot;large fonts&quot; (it was in the desktop properties, if I'm not wrong) and you'll see what happens when you hardcode pixel values...</div>
    <div class="meta">Posted on 2003-10-28 17:57:06 by QvasiModo</div>
   </div>
   <div class="post" id="post-122799">
    <div class="subject"><a href="#post-122799">dialog boxes unwanted resizing</a></div>
    <div class="body">Thanks everybody for your replies,<br /><br />Stretching bitmaps it is.<br /><br />Btw,  pity there is no way to force users to display the fonts I choose.  Afterall I knows what's best for everybody; and then I wouldn't have this problem;)<br /><br /><br />best regards,<br /><br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-10-29 09:40:00 by czDrillard</div>
   </div>
  </div>
 </body>
</html>
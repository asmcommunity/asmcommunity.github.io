<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Assembler &amp; Delphi Bitmaps. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28954" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28954">Assembler &amp; Delphi Bitmaps.</a></p>
   <div class="post" id="post-204717">
    <div class="subject"><a href="#post-204717">Assembler &amp; Delphi Bitmaps.</a></div>
    <div class="body">Delphi:&nbsp; &nbsp; image1.Canvas.LineTo(265,237);<br /><br />I want to access the image/canvas from assembler, any ideas?<br /><br />Something like:<br /> <br />&nbsp; &nbsp; &nbsp; &nbsp; mov ebx,265	 <br />&nbsp; &nbsp; &nbsp; &nbsp; mov ecx,237<br />&nbsp; &nbsp; &nbsp; &nbsp; mov edi,image1.canvas	&nbsp;  ; or something?? <br />	mul ecx			&nbsp; &nbsp; &nbsp; <br />	add eax,ebx			&nbsp; &nbsp; &nbsp; ;<br />	mov dword ptr ,0FFFF00h	; Set Pixel to Yellow<br />&nbsp; &nbsp; &nbsp; &nbsp; ret<br />-------<br /><br />I found one solution. (dunno if its the best?)<br /><br />var<br />&nbsp; APointer : Pointer;<br />&nbsp; ABitmap : HBITMAP;<br /><br />&nbsp; ABitmap := CreateDIBSection(a,b,c, APointer, 0, 0);<br /> .<br /> . <br /> mov&nbsp;  edi, APointer<br /><br /><br /></div>
    <div class="meta">Posted on 2008-02-06 06:11:11 by sittingduck</div>
   </div>
   <div class="post" id="post-204729">
    <div class="subject"><a href="#post-204729">Re: Assembler &amp; Delphi Bitmaps.</a></div>
    <div class="body">It&#039;s been too many years since I&#039;ve messed with Delphi... Trying to access &quot;image1.canvas&quot; from assembly is generally <strong>the wrong way</strong> to go about things, you&#039;ll want to check if the Canvas object has a method for getting at it&#039;s pixel data... if not, you&#039;ll be in a world of workaround hurt.</div>
    <div class="meta">Posted on 2008-02-06 19:09:24 by f0dder</div>
   </div>
   <div class="post" id="post-204733">
    <div class="subject"><a href="#post-204733">Re: Assembler &amp; Delphi Bitmaps.</a></div>
    <div class="body">oh, thanks.&nbsp; :thumbsup:</div>
    <div class="meta">Posted on 2008-02-07 02:25:28 by sittingduck</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>HELP!! can anyone fix this?! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19612" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19612">HELP!! can anyone fix this?!</a></p>
   <div class="post" id="post-150981">
    <div class="subject"><a href="#post-150981">HELP!! can anyone fix this?!</a></div>
    <div class="body">Can anyone please fix this program for me and send it to my e-mail! i'd appreciate it<br /><br />chinulatinu@yahoo.com<br /><br /><br />thnx</div>
    <div class="meta">Posted on 2004-10-05 22:15:20 by BabyGirl</div>
   </div>
   <div class="post" id="post-150996">
    <div class="subject"><a href="#post-150996">HELP!! can anyone fix this?!</a></div>
    <div class="body">hi <br />ur link is not wrking.... atleast on my pc<br />please give another link and zip it with winzip<br />before u upload it<br />thank you<br />nickdigital</div>
    <div class="meta">Posted on 2004-10-06 09:49:38 by nickdigital</div>
   </div>
   <div class="post" id="post-151000">
    <div class="subject"><a href="#post-151000">here it is again zipped</a></div>
    <div class="body">please if anyone can do this for me within the next 12 hours i'd appreciate it : ((</div>
    <div class="meta">Posted on 2004-10-06 12:11:49 by BabyGirl</div>
   </div>
   <div class="post" id="post-151004">
    <div class="subject"><a href="#post-151004">HELP!! can anyone fix this?!</a></div>
    <div class="body">People shouldn't be downloading MS Word documents from unknown sources. Maybe you could post your file in another format (like .rtf, .pdf, or some other)?</div>
    <div class="meta">Posted on 2004-10-06 13:32:26 by QvasiModo</div>
   </div>
   <div class="post" id="post-151007">
    <div class="subject"><a href="#post-151007">HELP!! can anyone fix this?!</a></div>
    <div class="body">What kind of assembly language is that?</div>
    <div class="meta">Posted on 2004-10-06 13:38:42 by Greg</div>
   </div>
   <div class="post" id="post-151011">
    <div class="subject"><a href="#post-151011">HELP!! can anyone fix this?!</a></div>
    <div class="body">this assembly program runs by PC spim<br /><br /><br /># This program converts between hex and single precision IEEE<br /># floating point numbers.  The read_int syscall apparently does <br /># not understand inputing hex integers so this program converts<br /># hex strings (without the leading 0x) to an integer and determines<br /># the corresponding float value.  Given a floating value, it will<br /># display the hex string that corresponds to that value.  When a string<br /># of hex digits is entered, a 0x0a is at the end of that string prior<br /># to the terminating 0x00 and is thus used to find the end of the string.<br /># No error checking is performed on the hex strings that are input<br /># although either upper (A-F) or lower (a-f) case will work.  Any <br /># mal-formed hex input will result in garbage.<br /><br />	.data<br />	.align 2<br />temp:	.space 4<br />buffer:	.space 40<br />p1:	.asciiz &quot;Enter 1 to convert from hex to float.\n&quot;<br />p2:	.asciiz &quot;Enter 2 to convert from float to hex.\n&quot;<br />p3:	.asciiz &quot;Enter the bit pattern (in hex without 0x)\n:&quot;<br />p4:	.asciiz &quot;Enter the float value to be converted\n:&quot;<br />ans:	.asciiz &quot;The converted value is: &quot;<br />nl:	.asciiz &quot;\n\n&quot;<br /><br />	.text<br />	.globl main 		# main must always be global<br /><br />main:	# start by printing the menu<br />        li	$v0, 4		# system call code for print_str<br />	la	$a0, p1		# address of string to print<br />	syscall			# print the first prompt<br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, p2		# address of string to print<br />	syscall			# print the second prompt<br /><br />	# get user's menu choice<br />	li	$v0, 5		# system call code for read_int<br />	syscall			# read the integer<br />	move	$t0, $v0	# and store it<br /><br />	li	$t1, 1		# prepare to compare selection to 1<br />	beq	$t0, $t1, one	# branch to label one if convert from hex to float<br /><br />	li	$t1, 2		# prepare to compare selection to 2<br />	beq	$t0, $t1, two	# branch to label two if convert from float to hex<br /><br />	# bad user selection, loop back<br />	j	main<br /><br />one:	# begin process of converting from hex to float<br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, p3		# address of string to print<br />	syscall			# print the &quot;get hex&quot; prompt<br /><br />	# get user's hex value<br />	li	$v0, 8		# system call code for read_string<br />	la	$a0, buffer	# address to put string<br />	li	$a1, 40		# size of buffer<br />	syscall			# read the integer<br />	li	$t2, 0		# used to accumulate numeric value<br /><br />loop:	lb	$t3, 0($a0)	# get a character with load byte instruction<br />	beq	$t3, 0x0a, done	# is it a newline character?<br />	bgt	$t3, '9', letr1 # branch if character is a letter<br />	sub	$t4, $t3, '0'	# get value of numeric digit<br />	j 	hexmul<br /><br />letr1:	ble	$t3, 'F', letr2	# upper case hex digit?<br />	sub	$t3, $t3, 32	# convert to uppercase<br /><br />letr2:	sub	$t4, $t3, 'A'	# get value of letter digit<br />	add	$t4, $t4, 10<br /><br />hexmul:	mul	$t2, $t2, 16	# shift previous value left<br />	addu	$t2, $t2, $t4	# and add in new digit<br />	add	$a0, $a0, 1	# go to next character of hex string<br />	j 	loop<br /><br />done:	# there is no way to move a value directly from a general purpose<br />        # register to a floating point register.  We must temporarily <br />        # store it to memory and then read into a float register to do this.<br />        sw	$t2, temp	# store computed value to memory<br />	l.s	$f12, temp	# and read it into a float register<br /><br />	# print it as a float<br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, ans	# address of string to print<br />	syscall			# print the answer prompt	<br /><br />	li	$v0, 2		# system call code for print_float<br />	syscall			# print the floating number in $f12	<br /><br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, nl		# address of string to print<br />	syscall			# print the new lines<br /><br />	j main			# ready to solve another problem<br /><br />two:	# begin process of converting from float to hex<br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, p4		# address of string to print<br />	syscall			# print the &quot;get float&quot; prompt<br /><br />	li	$v0, 6		# system call code for read_float<br />	syscall			# result is in $f0<br /><br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, ans	# address of string to print<br />	syscall			# print the answer prompt	<br /><br />        # to move the value just received to a general purpose register, we<br />        # must first store it to memory, then load it to a general purpose <br />        # register.<br />        s.s	$f0, temp       # store the value to memory<br />	lw	$t2, temp	# get float bits to $t2<br />	li	$t3, 0xf0000000	# masking constant<br />	li	$t9, 8		# number of characters to print<br /><br />loop1:	and	$t4, $t2, $t3	# use mask to get upper 4 bits<br />	srl	$t4, $t4, 28	# move these to lsb positions<br />	bgt	$t4, 9, let	# branch if this hex digit is letter<br />	add	$t4, $t4, '0'	# make digit an ascii char (add ascii of zero)<br />	j	fin<br /><br />let:	add	$t4, $t4, -10	# convert &gt;9 to ascii char <br />	add	$t4, $t4, 'A'<br /><br />fin:	# First fill a word with nulls, then copy the char to the first byte.<br />        # The result is a string of one character and then a null<br />        sw	$zero, temp	# make word of nulls<br />	sb	$t4, temp       # our char goes to the first byte of this word.<br /><br />	li	$v0, 4          # now print it<br />	la	$a0, temp<br />	syscall			# print a hex digit<br />	<br />	mul	$t2, $t2, 16<br />	add	$t9, $t9, -1	# one more done.  is there another character<br />                                # to process?<br />	bgtz	$t9, loop1<br /><br />	li	$v0, 4		# system call code for print_str<br />	la	$a0, nl		# address of string to print<br />	syscall			# print the new lines<br /><br />	j main			# ready to solve another problem<br /><br /># will never get to the following statement.  This program is an infinite loop!<br />	jr	$31		# return to system</div>
    <div class="meta">Posted on 2004-10-06 14:00:07 by BabyGirl</div>
   </div>
   <div class="post" id="post-151018">
    <div class="subject"><a href="#post-151018">HELP!! can anyone fix this?!</a></div>
    <div class="body">I'm sorry, don't know this language... :(</div>
    <div class="meta">Posted on 2004-10-06 15:15:09 by QvasiModo</div>
   </div>
   <div class="post" id="post-151026">
    <div class="subject"><a href="#post-151026">HELP!! can anyone fix this?!</a></div>
    <div class="body">That's MIPS R3000 assembly.<br />What you have to remember is that when you use branch instructions, the following instruction will always be executed. So you have to order the instructions appropriately, and use NOPs when necessary.<br />Anothing thing that must be kept in mind is when you use a load instruction, the following instruction may not use the loaded register.</div>
    <div class="meta">Posted on 2004-10-06 17:26:14 by Sephiroth3</div>
   </div>
   <div class="post" id="post-151090">
    <div class="subject"><a href="#post-151090">HELP!! can anyone fix this?!</a></div>
    <div class="body">Hmm, all right, I fixed it up a bit. Maybe it will work now?<br /><pre><code><br />.data <br />.align 2 <br />temp&#58; .space 4 <br />buffer&#58; .space 40 <br />p1&#58; .asciiz &quot;Enter 1 to convert from hex to float.\n&quot; <br />p2&#58; .asciiz &quot;Enter 2 to convert from float to hex.\n&quot; <br />p3&#58; .asciiz &quot;Enter the bit pattern &#40;in hex without 0x&#41;\n&#58;&quot; <br />p4&#58; .asciiz &quot;Enter the float value to be converted\n&#58;&quot; <br />ans&#58; .asciiz &quot;The converted value is&#58; &quot; <br />nl&#58; .asciiz &quot;\n\n&quot; <br /><br />.text <br />.globl main # main must always be global <br /><br />main&#58; # start by printing the menu <br />li $v0, 4 # system call code for print_str<br />main_2&#58;<br />la $a0, p1 # address of string to print <br />syscall # print the first prompt <br />li $v0, 4 # system call code for print_str <br />la $a0, p2 # address of string to print <br />syscall # print the second prompt <br /><br /># get user's menu choice <br />li $v0, 5 # system call code for read_int <br />syscall # read the integer <br />li $t1, 2 # prepare to compare selection to 2 <br />beq $v0, $t1, two # branch to label two if convert from float to hex <br />li $t1, 1 # prepare to compare selection to 1 <br />bne $v0, $t1, main_2 # bad user selection, loop back <br />li $v0, 4 # system call code for print_str<br /><br /># begin process of converting from hex to float <br />la $a0, p3 # address of string to print <br />syscall # print the &quot;get hex&quot; prompt <br /><br /># get user's hex value <br />li $v0, 8 # system call code for read_string <br />la $a0, buffer # address to put string <br />li $a1, 40 # size of buffer <br />syscall # read the integer <br />li $t2, 0 # used to accumulate numeric value <br /><br />loop&#58; lb $t3, 0&#40;$a0&#41; # get a character with load byte instruction<br />li $t4,10<br />beq $t3, $t4, done # is it a newline character?<br />sltiu $v0, $t3, 58<br />bne $v0,$zr, hexmul # branch if character is a letter <br />addi $t3, $t3, -48 # get value of numeric digit <br />andi $t3, $t3, 223 # convert to uppercase<br />addi $t3, $t3, -7 # get value of letter digit <br />hexmul&#58; sll $t2, $t2, 4 # shift previous value left <br />addu $t2, $t2, $t3 # and add in new digit <br />j loop <br />addiu $a0, $a0, 1 # go to next character of hex string <br /><br />done&#58; # there is no way to move a value directly from a general purpose <br /># register to a floating point register. We must temporarily <br /># store it to memory and then read into a float register to do this. <br />sw $t2, temp # store computed value to memory <br />l.s $f12, temp # and read it into a float register <br /><br /># print it as a float <br />li $v0, 4 # system call code for print_str <br />la $a0, ans # address of string to print <br />syscall # print the answer prompt <br /><br />li $v0, 2 # system call code for print_float <br />syscall # print the floating number in $f12 <br /><br />li $v0, 4 # system call code for print_str <br />la $a0, nl # address of string to print <br />syscall # print the new lines <br /><br />j main_2 # ready to solve another problem <br />li $v0,4<br />two&#58; # begin process of converting from float to hex <br />li $v0, 4 # system call code for print_str <br />la $a0, p4 # address of string to print <br />syscall # print the &quot;get float&quot; prompt <br /><br />li $v0, 6 # system call code for read_float <br />syscall # result is in $f0 <br /><br />li $v0, 4 # system call code for print_str <br />la $a0, ans # address of string to print <br />syscall # print the answer prompt <br /><br /># to move the value just received to a general purpose register, we <br /># must first store it to memory, then load it to a general purpose <br /># register. <br />s.s $f0, temp # store the value to memory <br />lw $t2, temp # get float bits to $t2 <br />lui $t3, 0xf000 # masking constant <br />li $t9, 7 # number of characters to print <br />loop1&#58; and $t4, $t2, $t3 # use mask to get upper 4 bits <br />srl $t4, $t4, 28 # move these to lsb positions<br />sltiu $v0,$t4,10<br />bne $v0,$zr,fin # branch if this hex digit is letter <br />addiu $t4, $t4, '0' # make digit an ascii char &#40;add ascii of zero&#41; <br />addiu $t4, $t4, 7 # convert &gt;9 to ascii char <br /><br />fin&#58; <br />sw $t4, temp # our char goes to the first byte of this word. <br /><br />li $v0, 4 # now print it <br />la $a0, temp <br />syscall # print a hex digit <br /><br />sll $t2, $t2, 4<br />bgtz $t9, loop1 # one more done. is there another character <br /># to process? <br />addi $t9, $t9, -1<br /><br />li $v0, 4 # system call code for print_str <br />la $a0, nl # address of string to print <br />syscall # print the new lines <br /><br />j main_2 # ready to solve another problem <br />li $v0, 4<br /></code></pre></div>
    <div class="meta">Posted on 2004-10-07 18:11:46 by Sephiroth3</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SetBkMode problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14930" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14930">SetBkMode problem</a></p>
   <div class="post" id="post-115846">
    <div class="subject"><a href="#post-115846">SetBkMode problem</a></div>
    <div class="body">Hi all<br />When i set the SetBkMode to TRANSPARENT<br />the background will not change when use TextOut<br />but if i need change the text, the previous text will not clear<br />and next text overwrite to old text<br />is there any way to clear previous text ??<br />PS: Don't tell me that TextOut blank text, it's not a correct answer</div>
    <div class="meta">Posted on 2003-08-27 20:58:33 by jordanc</div>
   </div>
   <div class="post" id="post-115868">
    <div class="subject"><a href="#post-115868">SetBkMode problem</a></div>
    <div class="body"><strong>jordanc</strong><br />Show your code.<br /><br />I try<br /><pre><code>...<br />case WM_PAINT&#58;<br />  &#123;<br />    const char msg1&#91;&#93; = &quot;one message&quot;;<br />    const char msg2&#91;&#93; = &quot;two message&quot;;<br />    PAINTSTRUCT ps;<br />    HDC hdc = BeginPaint&#40;hwnd, &amp;ps&#41;;<br />    SetBkMode&#40;hdc, TRANSPARENT&#41;;<br />    TextOut&#40;hdc, 0, 0, msg1, lstrlen&#40;msg2&#41;&#41;;<br />    TextOut&#40;hdc, 4, 4, msg2, lstrlen&#40;msg1&#41;&#41;;<br />    EndPaint&#40;hwnd, &amp;ps&#41;;<br />  &#125;<br />  return 0;<br />...</code></pre><br />result</div>
    <div class="meta">Posted on 2003-08-28 00:02:29 by P2M</div>
   </div>
   <div class="post" id="post-115875">
    <div class="subject"><a href="#post-115875">SetBkMode problem</a></div>
    <div class="body">Hello P2M<br />like your result<br />the msg2 is or msg1 on screen<br />it's not i want<br />i hope msg2 can &quot;cover&quot; msg1, not &quot;or&quot;<br />thanks</div>
    <div class="meta">Posted on 2003-08-28 01:07:59 by jordanc</div>
   </div>
   <div class="post" id="post-115877">
    <div class="subject"><a href="#post-115877">SetBkMode problem</a></div>
    <div class="body"><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/fillshap_6i0k.asp">FillRect (Windows GDI)?</a></div>
    <div class="meta">Posted on 2003-08-28 01:10:10 by P2M</div>
   </div>
   <div class="post" id="post-115885">
    <div class="subject"><a href="#post-115885">SetBkMode problem</a></div>
    <div class="body">Why not switch back to opaque mode when you need draw so.</div>
    <div class="meta">Posted on 2003-08-28 01:52:16 by C.Z.</div>
   </div>
   <div class="post" id="post-115923">
    <div class="subject"><a href="#post-115923">SetBkMode problem</a></div>
    <div class="body">SetBkMode does not have anything to do with the text you write, it merely turns on or off the transparency of the control (and text) background. The text is in the foreground.</div>
    <div class="meta">Posted on 2003-08-28 06:12:45 by sluggy</div>
   </div>
   <div class="post" id="post-116034">
    <div class="subject"><a href="#post-116034">SetBkMode problem</a></div>
    <div class="body">Hi all<br /><br />Use FillRect can solve my problem<br /><br />thanks to all</div>
    <div class="meta">Posted on 2003-08-28 21:00:56 by jordanc</div>
   </div>
  </div>
 </body>
</html>
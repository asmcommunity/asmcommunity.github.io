<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SetPixelV - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26611" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26611">SetPixelV</a></p>
   <div class="post" id="post-192332">
    <div class="subject"><a href="#post-192332">SetPixelV</a></div>
    <div class="body">In my prog, I make plenty of calls to SetPixelV. 
My code goes something like this:

invoke GetDC ,hWnd ;Valid window handle
mov hDC,eax

invoke CreateCompatibleDC ,hDC ;Valid DC
mov hBackDC,eax

invoke SetPixelV ,hBackDC,xPos,yPos,crColor ;Valid cordinates etc

For some reason the call to SetPixel does not work, i am 100% certain everything else is fine. The problem is somehow related to the fact that the DC is not on screen:

invoke GetDC ,hWnd
mov hDC,eax

invoke SetPixelV ,hDC,xPos,yPos,crColor

This works perfectly, just i dont want the pixels to be regenerated everytime they are hidden. Cause that doesn't work for me. 

To make sure things were extra-perfectly fine, i checked via GetDeviceCaps ,that the RC_BITBLT flag was set, and it was, meaning that it has gotten me completly confused.
:(</div>
    <div class="meta">Posted on 2001-01-17 02:14:00 by manimal</div>
   </div>
   <div class="post" id="post-192333">
    <div class="subject"><a href="#post-192333">SetPixelV</a></div>
    <div class="body">Do you call ReleaseDC after creating the CompatibleDC ?</div>
    <div class="meta">Posted on 2001-01-17 11:40:00 by Test Department </div>
   </div>
   <div class="post" id="post-192334">
    <div class="subject"><a href="#post-192334">SetPixelV</a></div>
    <div class="body">hi,
um, i'm not sure, but don't you have to create a compatible bitmap too if you want to draw on this new dc? check out CreateCompatibleBitmap for more information or take a look on the sources on my site which use backbuffering, i did the same there as you try to do (i suppose).
www.fly.to/safcon</div>
    <div class="meta">Posted on 2001-01-17 12:12:00 by [SaFc0n] </div>
   </div>
   <div class="post" id="post-192335">
    <div class="subject"><a href="#post-192335">SetPixelV</a></div>
    <div class="body">haha, i had a thought, would the fact that a different thread than the one that created the window was making the calls (GetDC, CreateCompatibleDC, SetPixelV, etc) have anything to do  with it
.
.
.
.
.
.
.
.
.</div>
    <div class="meta">Posted on 2001-01-18 05:35:00 by manimal </div>
   </div>
  </div>
 </body>
</html>
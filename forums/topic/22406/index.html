<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>newbie problem - i can't compile my 1st asm prog - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22406" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22406">newbie problem - i can't compile my 1st asm prog</a></p>
   <div class="post" id="post-168154">
    <div class="subject"><a href="#post-168154">newbie problem - i can't compile my 1st asm prog</a></div>
    <div class="body">hi, i&#39;m very new to asm, and tried to compile this code which i found in a tute with masm:<br /><br /><pre><code><br /><br />&nbsp; &nbsp; DOSSEG<br />&nbsp; &nbsp; .MODEL SMALL<br />&nbsp; &nbsp; .STACK 200h<br />&nbsp; &nbsp; .DATA<br /><br />OurString&nbsp;  DB&nbsp; &quot;This is a string of characters.&nbsp; &quot;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; DB&nbsp; &quot;Do you lack imagination?&nbsp; Put something interesting here!$&quot;<br /><br />&nbsp; &nbsp; .CODE<br /><br />START:<br />&nbsp; &nbsp; MOV&nbsp;  AX, SEG OurString&nbsp; &nbsp;  ; Move the segment where OurString is located<br />&nbsp; &nbsp; MOV&nbsp;  DS, AX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; into AX, and now into DS<br /><br />&nbsp; &nbsp; MOV&nbsp;  DX, OFFSET OurString&nbsp; ; Offset of OurString -&gt; DX<br />&nbsp; &nbsp; MOV&nbsp;  AH, 9h&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Print string subfunction<br />&nbsp; &nbsp; INT&nbsp;  21h&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Generate interrupt 21h<br /><br />&nbsp; &nbsp; MOV&nbsp;  AX, 4C00h&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Exit to DOS sufunction<br />&nbsp; &nbsp; INT&nbsp;  21h&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Generate interrupt 21h<br />END START<br /><br /></code></pre><br /><br />but it gave these errors:<br /><br /><pre><code><br /><br />End of file encountered on input file<br />Test.asm(21) : error 85: End of file, no END directive<br />Test.asm(1) : error 10: Syntax error<br />Test.asm(2) : error 10: Syntax error<br />Test.asm(3) : error 10: Syntax error<br />Test.asm(4) : error 10: Syntax error<br />Test.asm(6) : error 86: Data emitted with no segment<br />Test.asm(7) : error 86: Data emitted with no segment<br />Test.asm(9) : error 10: Syntax error<br />Test.asm(11) : error 62: No or unreachable CS<br />Test.asm(12) : error 43: Operand must have segment<br />Test.asm(13) : error 86: Data emitted with no segment<br />Test.asm(15) : error 86: Data emitted with no segment<br />Test.asm(16) : error 86: Data emitted with no segment<br />Test.asm(17) : error 86: Data emitted with no segment<br />Test.asm(19) : error 86: Data emitted with no segment<br />Test.asm(20) : error 86: Data emitted with no segment<br />End of file encountered on input file<br />Test.asm(21) : error 85: End of file, no END directive<br /><br /></code></pre><br /><br /> :shock:<br /><br />why is this happening?<br /><br />thanx for any help.</div>
    <div class="meta">Posted on 2005-11-22 23:31:15 by geek@02</div>
   </div>
   <div class="post" id="post-168155">
    <div class="subject"><a href="#post-168155">Re: newbie problem - i can't compile my 1st asm prog</a></div>
    <div class="body"><br />you must use MASM to assemble this source. From the error numbers in your log I can tell that it isnt MASM what you are using (at least not MASM 5-7).<br /></div>
    <div class="meta">Posted on 2005-11-22 23:59:19 by japheth</div>
   </div>
   <div class="post" id="post-168167">
    <div class="subject"><a href="#post-168167">Re: newbie problem - i can't compile my 1st asm prog</a></div>
    <div class="body">i downloaded masm38 v8 and assembled the above program in it, but it gives these errors now:<br /><br /><pre><code><br /> Assembling: C:\MASM32\Test.asm<br />C:\MASM32\Test.asm(1) : warning A4015: directive ignored with /coff switch<br />C:\MASM32\Test.asm(12) : error A2004: symbol type conflict<br />C:\MASM32\Test.asm(21) : warning A4023: with /coff switch, leading underscore re<br />quired for start address : START<br />_<br />Assembly Error<br /></code></pre><br /><br /> :sad:<br /><br />i&#39;m really new 2 asm, please help!</div>
    <div class="meta">Posted on 2005-11-23 13:23:22 by geek@02</div>
   </div>
   <div class="post" id="post-168168">
    <div class="subject"><a href="#post-168168">Re: newbie problem - i can't compile my 1st asm prog</a></div>
    <div class="body">That&#39;s 16-bit asm there - I strongly recommend you start up from 32-bit. <br />16-bit code will only make you give up ASM, since 16-bit has no fun in it, isn&#39;t well-supported on Win2k &amp; WinXP, and generally has a million limitations. <br /><br />The MASM32 package, that you downloaded, has enough examples and tutes on writing 32-bit asm code. <br />Start by studying the \masm32\EXAMPLE1\MINIMUM\minimum.asm </div>
    <div class="meta">Posted on 2005-11-23 14:18:29 by Ultrano</div>
   </div>
   <div class="post" id="post-168178">
    <div class="subject"><a href="#post-168178">Re: newbie problem - i can't compile my 1st asm prog</a></div>
    <div class="body">&gt; 16-bit code will only make you give up ASM, since 16-bit has no fun in it<br /><br />I would suggest to ignore such remarks, geek@02. Whether 16-bit is fun or not depends on many things.<br /><br />About your error: if your version of MASM is &gt;= 7, try command line option -omf<br /><br /><br /><br /><br /></div>
    <div class="meta">Posted on 2005-11-24 02:01:03 by japheth</div>
   </div>
  </div>
 </body>
</html>
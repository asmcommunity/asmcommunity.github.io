<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Wm_ctlcolorbtn - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3649" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3649">Wm_ctlcolorbtn</a></p>
   <div class="post" id="post-24359">
    <div class="subject"><a href="#post-24359">Wm_ctlcolorbtn</a></div>
    <div class="body">ANY ONE CAN TELL ME HOW TO USE WM_CTLCOLORBTN IN A PROCETURE IF I HAVE THREE BUSHBUTTON , HOW CAN I CHANGE THE COLOR TO ALL OF THEM.<br /><br />.ELSEIF    uMsg==WM_CTLCOLORBTN<br />.......................................................<br />......................................................<br />......................................................<br />an example would be better<br /><br />THANKS<br /><a href="mailto:sudeer@37.com">sudeer@37.com</a></div>
    <div class="meta">Posted on 2002-02-15 07:02:24 by sudeer</div>
   </div>
   <div class="post" id="post-24437">
    <div class="subject"><a href="#post-24437">Wm_ctlcolorbtn</a></div>
    <div class="body">sudeer,<br /><br />Contrary to the documentation, I have never got a standard button to work with changed colours.<br /><br /><pre><code><br />    .elseif uMsg == WM_CTLCOLORBTN<br /><br />      invoke SetBkMode,wParam,OPAQUE<br />      invoke SetBkColor,wParam,0000FF00h<br />      invoke SetTextColor,wParam,0000FF00h<br /><br />      mov lb.lbStyle, BS_SOLID<br />      mov lb.lbColor, 0000FF00h<br />      mov lb.lbHatch, NULL<br /><br />      invoke CreateBrushIndirect,ADDR lb  ; return is in eax<br />      ret<br /></code></pre><br /><br />This is the type of code that it should use, it just does not work. Maybe someone else has got it to work on win95 ?<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-15 18:23:55 by hutch--</div>
   </div>
   <div class="post" id="post-24452">
    <div class="subject"><a href="#post-24452">Wm_ctlcolorbtn</a></div>
    <div class="body">If I remember correctly WM_CTLCOLORBTN is for checkboxes, radio buttons and stuff like that. For push buttons you should use an owner drawn button.</div>
    <div class="meta">Posted on 2002-02-15 21:27:52 by Soul~Drudge</div>
   </div>
   <div class="post" id="post-24474">
    <div class="subject"><a href="#post-24474">can not edit to reply</a></div>
    <div class="body">may be i have to change some of the codes in this RC FILE<br />Here is my RC file if i include BS_OWNERDRAWN the button is going to disappear,i do not know what do you mean by an owner drawn button<br /><br />IDD_ADD     DIALOG  45,20,205,140         ;X ,Y ,WIDTH ,HIGHT<br />STYLE	DS_MODALFRAME|WS_VISIBLE|WS_CAPTION|WS_SYSMENU|WS_MINIMIZEBOX       <br />CAPTION     &quot;ADD NAME&quot;<br />FONT 9, &quot;MS Sans Serif&quot;<br /><br />BEGIN<br />      GROUPBOX    &quot;&quot;,-1,3,1,195,70<br />      CTEXT       &quot;Name &quot;,12,10,12,40,11,SS_SYSGRP<br />      EDITTEXT    413,60,12,130,12,  ES_UPPERCASE<br />      GROUPBOX          &quot;&quot;,-1,12,100,182,28<br />      PUSHBUTTON        &quot;Yes&quot;   ,IDYES   ,22,110,40,12,WS_CHILD<br />      PUSHBUTTON        &quot;No&quot;    ,IDNO    ,82,110,40,12,WS_CHILD<br />      PUSHBUTTON        &quot;Cancel&quot;,IDCANCEL,142,110,40,12,WS_CHILD<br />END<br />regards,<br /><a href="mailto:sudeer@37.com">sudeer@37.com</a></div>
    <div class="meta">Posted on 2002-02-15 23:52:55 by sudeer</div>
   </div>
   <div class="post" id="post-24504">
    <div class="subject"><a href="#post-24504">Wm_ctlcolorbtn</a></div>
    <div class="body"><div class="quote"><br />i do not know what do you mean by an owner drawn button <br /></div><br />time to read your documentation. BS_OWNERDRAW button style,<br />and look up owner-drawn buttons in PlatformSDK.<br /><br />Oh, and don't use &quot;report this post to a moderator&quot; the way you<br />just did... as the red text says:<br /><div class="quote"><br />This is ONLY to be used to report spam, advertising messages, and problematic (harassment, fighting, or rude) posts.<br /></div></div>
    <div class="meta">Posted on 2002-02-16 05:58:34 by f0dder</div>
   </div>
   <div class="post" id="post-24531">
    <div class="subject"><a href="#post-24531">Wm_ctlcolorbtn</a></div>
    <div class="body">sudeer,<br /><br />BS_OWNERDRAW style buttons are pretty crappy stuff leftover from win3.? A custom control is a better way to go. There are a few examples in MASM32 of custom buttons and a proper custom control in the MASM32 library that will handle different UP and DOWN bitmaps.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-16 08:25:43 by hutch--</div>
   </div>
   <div class="post" id="post-24625">
    <div class="subject"><a href="#post-24625">Wm_ctlcolorbtn</a></div>
    <div class="body">hutch,<br />the SetBkColor will not work in a WM_CTLCOLORBTN message. Try using CreateSolidBrush instead, it should work fine.</div>
    <div class="meta">Posted on 2002-02-17 04:24:37 by sluggy</div>
   </div>
   <div class="post" id="post-24627">
    <div class="subject"><a href="#post-24627">Wm_ctlcolorbtn</a></div>
    <div class="body">Thanks for the suggestion sluggy but on my win95b, it just does not work.<br /><br /><pre><code><br />    .elseif uMsg == WM_CTLCOLORBTN<br />        invoke CreateSolidBrush, 000000FFh<br />        ret<br /></code></pre><br /><br />Maybe its version specific ?<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-17 04:38:31 by hutch--</div>
   </div>
   <div class="post" id="post-24686">
    <div class="subject"><a href="#post-24686">Wm_ctlcolorbtn</a></div>
    <div class="body">hutch you really need to upgrade your operating system. dont get left behind im sure there are many people more than willing to sell there windows 2000 to you for a very cheap price since xp is out now.<br /><br /> sudeer : check out Ewayne's button example. here is his website: <a target="_blank" href="http://asmedit.massmind.org/">http://asmedit.massmind.org/</a></div>
    <div class="meta">Posted on 2002-02-17 12:25:40 by smurf</div>
   </div>
   <div class="post" id="post-24707">
    <div class="subject"><a href="#post-24707">Wm_ctlcolorbtn</a></div>
    <div class="body">hutch,<br />yep, you have to move out of the dark ages some time :)</div>
    <div class="meta">Posted on 2002-02-17 14:24:56 by sluggy</div>
   </div>
   <div class="post" id="post-24710">
    <div class="subject"><a href="#post-24710">Wm_ctlcolorbtn</a></div>
    <div class="body">I agree with Steve here and don't recomend him to be in a hurry changing OS.<br />For 9x most stable and fast is OSR2 95. (not 98 or M)<br />For NT - NT 4 (not NT5 AKA Win 2000)<br /><br />I know all new Win32 OS well since I need to work with them.<br />All they another step to make things slower buggier, and impossible to comprehend.</div>
    <div class="meta">Posted on 2002-02-17 14:37:56 by The Svin</div>
   </div>
   <div class="post" id="post-24743">
    <div class="subject"><a href="#post-24743">Wm_ctlcolorbtn</a></div>
    <div class="body">There are some advantages in developing with an antique operating system, its no longer updated by Microsoft so its actually stable.<br /><br />The main reason apart from the speed is that most computers around the world running 32 bit windows are running win95 on old hardware so writing stuff that does not work on the majority of computers is out.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-17 17:45:20 by hutch--</div>
   </div>
   <div class="post" id="post-24796">
    <div class="subject"><a href="#post-24796">Wm_ctlcolorbtn</a></div>
    <div class="body"><div class="quote"><br />For 9x most stable and fast is OSR2 95. (not 98 or M)<br />For NT - NT 4 (not NT5 AKA Win 2000)<br /></div><br />Upgrading to win98SE (not vanilla 98) from 95sr2 reduced my<br />crashes to a percentage. Also NULL pointer errors and the like<br />didn't bring down the system quite as often.<br /><br />As for NT4 vs NT5... dunno if either is more stable than the<br />other, the only crashes I've had on NT5 is from bad drivers.<br />No matter how dirty my ring3 code has been, I've never made<br />anything but my own app crash. While boot is slow, the system<br />flies when it's booted. NT4 might be a bit faster, but it lacks<br />support for the latest DirectX and whatnot.<br /><br /><div class="quote"><br />There are some advantages in developing with an antique operating system,<br />its no longer updated by Microsoft so its actually stable. <br /></div><br />That is just bullshit and you should know better, hutch. An operating<br />system that randomly shits itself and can't handle null pointer errors...<br />I wouldn't exactly call that stable. And the reason it's not updated<br />anymore? It's obsolete and is being phased out.</div>
    <div class="meta">Posted on 2002-02-18 03:19:00 by f0dder</div>
   </div>
   <div class="post" id="post-24798">
    <div class="subject"><a href="#post-24798">Wm_ctlcolorbtn</a></div>
    <div class="body">I am not shure I understand what the fuzz is about.<br /><br /><pre><code>MyProc proc arg&#58;DWORD<br />	LOCAL	var&#58;DWOED<br /><br />	call MySub<br />	ret<br /><br />MySub&#58;<br /><br />	retn<br /><br />MyProc endp</code></pre> <br /><br />Does nothing weird and is fully recursive and is sometimes very useful.<br /><br />KetilO<br /><br />Oh, sorry, wrong thread.</div>
    <div class="meta">Posted on 2002-02-18 03:25:00 by KetilO</div>
   </div>
   <div class="post" id="post-24810">
    <div class="subject"><a href="#post-24810">Wm_ctlcolorbtn</a></div>
    <div class="body">Win2k isnt cheaper than WinXP here<br />Win2k = $500 aus<br />Winxp = $3** aus<br /><br />You pay for the best ;)</div>
    <div class="meta">Posted on 2002-02-18 04:48:42 by ThrawN</div>
   </div>
   <div class="post" id="post-24813">
    <div class="subject"><a href="#post-24813">Wm_ctlcolorbtn</a></div>
    <div class="body">Hahahaha,<br /><br />f0dder, stop trying to make me laugh.<br /><br />===================<br />That is just bullshit and you should know better, hutch. An operating system that randomly shits itself and can't handle null pointer errors... I wouldn't exactly call that stable. And the reason it's not updated anymore? It's obsolete and is being phased out.<br />===================<br /><br />I also have the last version released of win98se on a technically perfect P4 with 100 gig of disk space and 768 meg of ram and its a slow fragile pig with bad manners and other irritating glitches.<br /><br />The version of NT4 I have on my old AMD is a lot better with service pack 6a in it. It only took !!!! 6 !!!! versions of service packs to get it right as it was another slow bad mannered pig that suffered from very poor hardware support and very ordinary peformance.<br /><br />Is it strange that my PIII 600 is generally faster to use that my P4. Later box benchmarks better but is slow to use with its piggish interface and thats with all the junk turned off.<br /><br />Nah, I run win95b because it faster and generally more reliable than others I have seen. I can also fix it in 5 minutes with a ghost image. Its main adbvantage though is that it is stable at last, everything works well and nothing else will be changed so as long as the majority of the world uses win95, I have a good reason to continue using it.<br /><br />Its demise will be when my PIII dies and that will be some time yet.<br /><br />ANOTHER Win2k bug. (Muhahahaha)<br /><br />Loss of precision in floating point maths after calling &quot;MessageBox&quot;.<br /><br />I nearly died laughing.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-18 05:47:06 by hutch--</div>
   </div>
   <div class="post" id="post-24836">
    <div class="subject"><a href="#post-24836">Wm_ctlcolorbtn</a></div>
    <div class="body"><strong>***Moves to &quot;The Crusades&quot;***</strong> <br /><br /><br /><br />Oh wait, I'm not a mod.  Oops.....never mind.  Carry on.  ;)</div>
    <div class="meta">Posted on 2002-02-18 08:25:15 by Will</div>
   </div>
   <div class="post" id="post-24855">
    <div class="subject"><a href="#post-24855">Wm_ctlcolorbtn</a></div>
    <div class="body">wakeup old man! someone needs to take your cane from you and whack you in the head!<br /><br />its hard to teach an old dog new tricks hutch. i just wanted to let you know there's another world out there and if your willing to open up you might realize what your missing.<br /><br />as far as your windows 98 is concered get rid of it as soon as you can. thats the most unrealiable windows os ive ever used. and if you do come out of your hole dont you dare get window me either, thats another bad situation all in its own.</div>
    <div class="meta">Posted on 2002-02-18 10:48:54 by smurf</div>
   </div>
   <div class="post" id="post-24868">
    <div class="subject"><a href="#post-24868">Wm_ctlcolorbtn</a></div>
    <div class="body">Steve, I just want let you know recalling the subj -<br />that code that didn't work on your OS(they gave you), wouldn't work on any new OSs with ordenary btn style.<br />And code they recomend you to see (Eyawen buttons tutor)<br />will work on your OS without any problem.<br />As for me the only problem with old OS - lack of support new<br />hardware and new DirectX.<br />I keep new OSs on my machine, only to get used to their NEW<br />problems and learn NEW recepies how to solve their NEW problems. 'Cause when admin in the firm surrenders in front of<br />new problem they usually send to me to deal with it, so I need to be upto scrach.</div>
    <div class="meta">Posted on 2002-02-18 12:08:26 by The Svin</div>
   </div>
   <div class="post" id="post-24927">
    <div class="subject"><a href="#post-24927">Wm_ctlcolorbtn</a></div>
    <div class="body">Alex,<br /><br />Thanks for the info, I personally prefer custom controls for non standard buttons, works on all Windows versions and is a lot more flexible than tweaking system based stuff.<br /><br />Smurf,<br /><br />never fear, i will not go down the road of ME, it cannot normally be started up in DOS so I don't want it. My next box will probably have win2k after they succeed in debugging it properly, SP2 is clearly a flop and I refuse to pay for stuff that I have to debug the OS to get it going.<br /><br />===============<br />wakeup old man! someone needs to take your cane from you and whack you in the head!<br />===============<br /><br />You have to watch us &quot;old fellas&quot;, we full of surprises. Years ago when I had a broken leg from a motorcycle accident, I had to use a cane occasionally while I was recovering and there are a very useful set of defence techniques using a walking cane. :tongue: <br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-18 19:27:21 by hutch--</div>
   </div>
  </div>
 </body>
</html>
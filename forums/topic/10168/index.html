<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>A very small lib - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10168" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=10168">A very small lib</a></p>
   <div class="post" id="post-76168">
    <div class="subject"><a href="#post-76168">A very small lib</a></div>
    <div class="body">This is a continuation of some work that Vortex did in <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=9510&amp;highlight=crtdll.dll">This Thread for FASM.</a>  I in turn took it a bit further and made an import lib with masm.  I dont have the C++ help that expains all the other functions in the crtdll.dll that is standard in window\system directorys.  However, im giving you the definitions to modify and provide definitions for more of the common runtime functions that C++ provides in this dll.<br /><br />Personally im only interested in the sprintf for its ability to handle floats as well as any other data type.  So this is all im giving you.  Besides an example of it working...  However, i will happily answer any quesitons if you decided to build on it.<br /><br />Enjoy..<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-01-13 23:28:53 by NaN</div>
   </div>
   <div class="post" id="post-76180">
    <div class="subject"><a href="#post-76180">A very small lib</a></div>
    <div class="body">Nice work!  :alright:<br /><br />One previous effort on the same thing is old MinGW32's library.  However, based on Microsoft's position about ditching crtdll.dll and keeping it only for the compatibility with early versions of Win32, MinGW32 team moved on the msvcrt.dll for their libc.  (I suppose that MinGW32 team contacted privately because I have not seen such comment myself.)<br /><br />If you are going to develop this library further, old MinGW32 source will be of great help to you.  (And, eventually, everyone here.)  I remember it was not covered by GPL, so if they still keep the original license (which was close to public domain) everyone can benefit from it.</div>
    <div class="meta">Posted on 2003-01-14 01:21:29 by Starless</div>
   </div>
   <div class="post" id="post-76200">
    <div class="subject"><a href="#post-76200">A very small lib</a></div>
    <div class="body">NaN,<br /><br />You prepared a nice example.:alright: Using the sprintf functions is a nice idea.<br />An easy way to explore the functions of C run-time dlls:<br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/showthread.php?s=&amp;postid=71204.msg71204">http://www.asmcommunity.net/board/showthread.php?s=&amp;postid=71204.msg71204</a><br /><br />Thanks Nan:alright: <br /><br />Regards,<br /><br />Vortex</div>
    <div class="meta">Posted on 2003-01-14 02:51:05 by Vortex</div>
   </div>
   <div class="post" id="post-79006">
    <div class="subject"><a href="#post-79006">A very small lib</a></div>
    <div class="body">I should do this myself, but I can't seem to make my own import lib so could I ask a favour NaN?<br /><br />Would it be possible to also add the sscanf to this lib, its a nice counterpart to sprintf :) . No rush or anything, just whenever you've the time.</div>
    <div class="meta">Posted on 2003-01-29 12:16:37 by Eóin</div>
   </div>
   <div class="post" id="post-79081">
    <div class="subject"><a href="#post-79081">A very small lib</a></div>
    <div class="body">Surprised it worked on the first attempt ( the neocitrine makes your head fuzzy ;) )<br /><br />Here is the repackaged lib/inc with a working test.exe (just as before).  I named this v1.1 cause i get the feeling i will need to co-ordinate in the future if more requests come in. <br /><br />The hard part is getting the parameter line right.  (I had to use a google search for &quot;sscanf&quot; cause i dont like/have/program in C ).  For any future requests you might have, simply give me the proto parameters for the function as well (thanx ;) )<br /><br />Anywho here you go.<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-01-29 21:53:29 by NaN</div>
   </div>
   <div class="post" id="post-79090">
    <div class="subject"><a href="#post-79090">A very small lib</a></div>
    <div class="body">Nan,<br />    Here is a c reference <a target="_blank" href="http://www.acm.uiuc.edu/webmonkeys/book/c_guide/">http://www.acm.uiuc.edu/webmonkeys/book/c_guide/</a> that might be useful.<br />If there is a big demand for standard c functions would it be advantageous to reimplement it as an assembly library?</div>
    <div class="meta">Posted on 2003-01-29 22:49:32 by jInuQ</div>
   </div>
   <div class="post" id="post-79224">
    <div class="subject"><a href="#post-79224">A very small lib</a></div>
    <div class="body">Thank you NaN, very helpful :alright: .</div>
    <div class="meta">Posted on 2003-01-30 14:30:52 by Eóin</div>
   </div>
   <div class="post" id="post-79225">
    <div class="subject"><a href="#post-79225">A very small lib</a></div>
    <div class="body">NaN: I don't think you need to write a crtdll.asm file, just a .def is enough. This produces a working lib for me:<br /><br /><pre><code>lib /MACHINE&#58;ix86 /def&#58;crtdll.def</code></pre><br />Thomas</div>
    <div class="meta">Posted on 2003-01-30 14:40:53 by Thomas</div>
   </div>
   <div class="post" id="post-79266">
    <div class="subject"><a href="#post-79266">A very small lib</a></div>
    <div class="body">Thank you for the tip Thomas, i didnt realize it could be done this easily (not that writing the asm was alot of work either ;)  )<br /><br />Thanx again!<br />:alright:<br />NaN<br /><br />PS: so no-one like my 'boobless' trick :grin: , that was a real hit in grade3 ;)</div>
    <div class="meta">Posted on 2003-01-30 21:57:30 by NaN</div>
   </div>
  </div>
 </body>
</html>
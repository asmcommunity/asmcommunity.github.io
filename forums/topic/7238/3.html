<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>changing syscolors only for prog - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7238" />
  <link rel="prev" href="../?id=7238&amp;page=2" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7238">changing syscolors only for prog</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=7238&amp;page=1" style="">&laquo;</a><a href="../?id=7238&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="7238" /><input type="number" name="page" min="1" max="3" step="1" value="3" onchange="this.form.submit();" /></form>   <div class="post" id="post-52733">
    <div class="subject"><a href="#post-52733">changing syscolors only for prog</a></div>
    <div class="body">I've checked out all of those before. Actually I believe I spent about 10-15 hours<br />trying and searching - unfortunately none of this helped with the problems I have.<br />GDI sucks big time.<br /><br />For a dialog without a caption use WS_POPUP and make sure you don't specify a<br />caption (window name) in the resource and if you create it with CreateDialogParam <br />don't specify a window name either. Instead use WM_SETTEXT to set the title.<br />I think SetWindowTitle may also not be used.<br /><br />Regards,<br /><br />goofee</div>
    <div class="meta">Posted on 2002-08-11 15:43:13 by goofee</div>
   </div>
   <div class="post" id="post-52736">
    <div class="subject"><a href="#post-52736">changing syscolors only for prog</a></div>
    <div class="body">Ops, I didn't know you already read them. I don't remember where but IIRC I saw a piece of code which remove the caption bar at 'run time' during the WM_INITDIALOG, but I think your method is more easy.</div>
    <div class="meta">Posted on 2002-08-11 16:04:12 by LuHa</div>
   </div>
   <div class="post" id="post-52978">
    <div class="subject"><a href="#post-52978">ownerdrawn menu's a probem</a></div>
    <div class="body">in the win32api i've read, that i can't set the MF_OWNERDRAW flag in the resource, so i've written a proc to set it on a whole menu's items. EVERY function succeeds but Get-/SetMenuItemInfo DON'T ! here's the code:<br /><br /><pre><code><br />invoke GetMenu,wParam<br />mov dc,eax<br />invoke GetMenuItemCount,eax<br />mov buf&#91;0&#93;,al<br />next_submenu&#58; ; process all submenus<br />  dec buf&#91;0&#93;<br />  invoke GetSubMenu,dc,buf&#91;0&#93;<br />  mov brush,eax<br />  invoke GetMenuItemCount,brush<br />  mov buf&#91;1&#93;,al<br />  next_item&#58;    ;process all items<br />    dec buf&#91;1&#93;<br />    invoke GetMenuItemInfo,brush,buf&#91;1&#93;,TRUE,addr mii ; &lt;-- dunno where's the mistake. returns NULL, GetLastError too...<br />    or mii.fType,MFT_OWNERDRAW<br />    invoke SetMenuItemInfo,brush,buf&#91;1&#93;,TRUE,addr mii<br />    movzx eax,buf&#91;1&#93;<br />    test eax,eax<br />  jnz next_item<br />  movzx eax,buf&#91;0&#93;<br />  test eax,eax<br />jnz next_submenu<br /></code></pre><br /><br />further, can i set this flag to the popups themselves too? i hope so, it would look ugly...<br /><br />i haven't tried the method to prevent the caption, <strong>goofee</strong>, but it sounds working :)<br />but you could post your code too, <strong>LuHa</strong>, if goofee's doesn't work</div>
    <div class="meta">Posted on 2002-08-12 13:58:25 by hartyl</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=7238&amp;page=1" style="">&laquo;</a><a href="../?id=7238&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="7238" /><input type="number" name="page" min="1" max="3" step="1" value="3" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
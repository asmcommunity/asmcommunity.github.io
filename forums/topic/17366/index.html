<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Idea: Multi-Sort Header Bar - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17366" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=116">Windows</a> &raquo; <a href="../?id=17366">Idea: Multi-Sort Header Bar</a></p>
   <div class="post" id="post-134504">
    <div class="subject"><a href="#post-134504">Idea: Multi-Sort Header Bar</a></div>
    <div class="body">Often a list view is used to perform multiple sorting by clicking consecutively on different fields, but the header does not maintain the sort order for multiple fields.  After adding new records to the list the multiple sorting is not applied - only the current selected field.<br /><br />The functionality should add to the existing familiarity in current header control design.  Implementation would consist of a sort stack.<br /><br />Left click on field:<br />- move field to top of stack<br />- toggle sort direction<br />- mark as a sort field<br /><br />Double-click on field:<br />- move field to top of stack<br />- set sort direction ascending<br />- mark as sort field<br />- turn sorting flag off on all other fields<br /><br />Each column can only appear once in the sort, so clicking on a column already in the stack reverses the order of sorting if it is the top of the stack or moves the column to the top of stack.  Complex sort criteria can be maintained from the header.<br /><br />I am currently at a loss as to how to display the sort order in the header.  I have seen multiple arrows used, and entertained the idea of numbers in circles briefly.</div>
    <div class="meta">Posted on 2004-02-22 21:16:29 by bitRAKE</div>
   </div>
   <div class="post" id="post-134518">
    <div class="subject"><a href="#post-134518">Idea: Multi-Sort Header Bar</a></div>
    <div class="body">Hi bitRAKE,<br /><br />I was also playing with the idea of different kinds of sorting in a listview. My idea was to allow groupings, where you could group items in a listview and they would effectively be locked together during a sort. I had pretty much decided that the only way to indicate the groups would be to have the first column as a group indicator (probably a colored square or icon) and the header would be a lock/unlock button. Then when a sort column is selected each of the groups is independantly sorted and kept together. I have been working on it for a few days but currently have nothing to show but miserable failures for my efforts :)</div>
    <div class="meta">Posted on 2004-02-22 23:11:11 by donkey</div>
   </div>
   <div class="post" id="post-134521">
    <div class="subject"><a href="#post-134521">Idea: Multi-Sort Header Bar</a></div>
    <div class="body">I recall doing something like this a while back - I used the ListView param as a pointer to a struct which contained the real item data as well as a tag indicating the group to which the item belonged. I used this in a debug tracer, to group different operators in a LV during tracetime, allowing fast identification of things like conditional branch opcodes.</div>
    <div class="meta">Posted on 2004-02-22 23:30:11 by Homer</div>
   </div>
   <div class="post" id="post-134522">
    <div class="subject"><a href="#post-134522">Idea: Multi-Sort Header Bar</a></div>
    <div class="body"><strong>donkey</strong>, I was thinking maybe highlight the headers in a gradient color based on the sort order combined with an up/down arrow. :P  It is not practical to use more than three columns for sorting - I've rarely needed more even when working with 100,000+ records.  So, multiple up/down arrows might not be a bad thing either.  I'm not quite sure how your grouping works -- I was thinking of sorting somthing like  or .  If your grouping works similarly then is the sort direction always ascending?<br /><br />I was hoping to lazily sub-class the existing header control. :P</div>
    <div class="meta">Posted on 2004-02-22 23:37:31 by bitRAKE</div>
   </div>
   <div class="post" id="post-134524">
    <div class="subject"><a href="#post-134524">Idea: Multi-Sort Header Bar</a></div>
    <div class="body">Hi bitRAKE,<br /><br />Basically the grouping would be a flag that is common between like items. For example all management employees could be grouped and all warehouse, or there could be multiple groupings in an array pointer to by lParam and the sort criteria would specify which to use. My current idea is to have up to 4 groupings of 256 groups each so it will all fit a single DWORD. The different groups could be either user defined or application defined. When the LVM_SORTITEMSEX is sent the sorting proc would check the two items to see the group they belonged to, if they were the same it would sort based on the header selected field, if they were different it would sort based on the group. If the groupings were unlocked it would sort normally ignoring the groups all together. That was the original concept but for now it isn't giving me anything but a randomized list.</div>
    <div class="meta">Posted on 2004-02-22 23:46:52 by donkey</div>
   </div>
   <div class="post" id="post-134529">
    <div class="subject"><a href="#post-134529">Idea: Multi-Sort Header Bar</a></div>
    <div class="body"><strong>donkey</strong>, cool idea to simplify sorting with a sacrifice in flexiblity.  Unfortunately, I have a situation where only a few records are non-unique between sorting groups -- something like 30K records with 12K unique.</div>
    <div class="meta">Posted on 2004-02-23 00:27:13 by bitRAKE</div>
   </div>
   <div class="post" id="post-134531">
    <div class="subject"><a href="#post-134531">Idea: Multi-Sort Header Bar</a></div>
    <div class="body">Hi bitRAKE,<br /><br />Yeah, it would not work in a situation like that. My end goal is to also have the groupings collapsible where the top item would be displayed but the rest would be hidden until the group is opened. I had the idea that it might simplify the interface to my next project which is an install builder to compliment UpdateManager. I want to make a complete software publishing suite for web based distribution if possible. The engine is coming along slowly but I have not worked out the details of the UI. A treeview requires that too much information is not available on sight and has to be viewed and edited in child dialogs etc... A listview does not allow the same heirarchical structuring of the sections. If I don't give up, as I do too often, I will post the results.</div>
    <div class="meta">Posted on 2004-02-23 00:35:21 by donkey</div>
   </div>
  </div>
 </body>
</html>
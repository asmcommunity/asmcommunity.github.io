<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Animated toolbar buttons - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16186" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=16186">Animated toolbar buttons</a></p>
   <div class="post" id="post-125493">
    <div class="subject"><a href="#post-125493">Animated toolbar buttons</a></div>
    <div class="body">This little example shows how to put animated (ANI) icons onto a toolbar. It creates a static control set to SS_ICON with the resource based ani's ID as it's text and places it over the button. This has the effect of a toolbar button with animation, I'm not too sure if this could be done easier but I couldn't find anything that would do it in the flags or TB_ messages so I decided to come up with a way. It was a cool idea but turned out to be far too annoying for any real applications but maybe for kid's things it might be useful. I found that most ANI icons that you find on the NET must be converted to comply with the RIFF ACON standard, Animation Shop will do it, ani's created with Toolbar Paint conform to the standard as well as those from Windows.<br /><br /><strong>&lt;Check a little further down in this thread for the file&gt;</strong></div>
    <div class="meta">Posted on 2003-11-25 22:54:49 by donkey</div>
   </div>
   <div class="post" id="post-125500">
    <div class="subject"><a href="#post-125500">Animated toolbar buttons</a></div>
    <div class="body"><strong>donkey</strong>, I imagine a GUI contest program which challenges the user to use the interface - all the while rating the users effectiveness.  Your example would be part of level one. :grin:</div>
    <div class="meta">Posted on 2003-11-26 00:02:16 by bitRAKE</div>
   </div>
   <div class="post" id="post-125502">
    <div class="subject"><a href="#post-125502">Animated toolbar buttons</a></div>
    <div class="body">Hi bitRAKE,<br /><br />I had originally thought it would be cool to have a print button that would spew out a sheet of paper when the program was printing and tried to figure a way to do it. In the end when I finally got it working I just found it incredibly annoying and scrapped the idea :) Figured that maybe some-one might like it so I posted it.<br /><br />I love doing GUI stuff, it's about my favourite part of programming, and I usually spend more time on a GUI than on the meat and potatoes part of a program.</div>
    <div class="meta">Posted on 2003-11-26 00:10:18 by donkey</div>
   </div>
   <div class="post" id="post-125506">
    <div class="subject"><a href="#post-125506">Animated toolbar buttons</a></div>
    <div class="body">good exercise, but i seem to have problems finding any button. eyes keep rolling to all other places.:grin: <br /><br />more of a disturbance. you should try using a static pastel-shades image when the mouse pointer is not over and animate the pic when it's over it.<br /><br />i hope that will look much better.<br /><br />Regards,<br />Art:grin: :grin: :grin:</div>
    <div class="meta">Posted on 2003-11-26 02:18:59 by art_sands</div>
   </div>
   <div class="post" id="post-125595">
    <div class="subject"><a href="#post-125595">Animated toolbar buttons</a></div>
    <div class="body">Wow, 21 downloads for something I had said was annoying :grin: Well, here's a slightly less annoying version. TBPaint can't import ANI icons directly and MicroAngelo has a pretty sucky histogram algo so the icons lost color detail when they were set from Animation Shop on an Imac to MicroAngelo on a PC but the idea is the same.<br /><br />EDIT : Went direct from the IMac to Toolbar Paint, the imagelist looks much better.<br /><br />EDIT: <strong>&lt; There is a fixed version that works with Win9x further down &gt; </strong></div>
    <div class="meta">Posted on 2003-11-26 10:14:41 by donkey</div>
   </div>
   <div class="post" id="post-125596">
    <div class="subject"><a href="#post-125596">Animated toolbar buttons</a></div>
    <div class="body">yeah, thats nice donkey<br /><br />this might seem odd but i gotta learn a lot of gui programming from you. i'm not good at that.<br /><br />I hope you've got some excellent tutorials on that up your sleeves. Roll em out a litte. <br /><br />Regards,<br />Art</div>
    <div class="meta">Posted on 2003-11-26 10:33:53 by art_sands</div>
   </div>
   <div class="post" id="post-125598">
    <div class="subject"><a href="#post-125598">Animated toolbar buttons</a></div>
    <div class="body">Hi Art,<br /><br />Yeah, I might do some GUI tutorials. I'm kind of stuck on toolbars right now, as I'm looking for applications for the features already in TBPaint and looking for new features to add to the package. Bug fixes are just about done as there is only one bug still outstanding in my notes so I am just about ready to start expanding it again. But in the meantime I may do a couple of articles on GUI design if I can come up with something original and that is of interest.</div>
    <div class="meta">Posted on 2003-11-26 10:42:11 by donkey</div>
   </div>
   <div class="post" id="post-126352">
    <div class="subject"><a href="#post-126352">Animated toolbar buttons</a></div>
    <div class="body">lmao I love it :alright:</div>
    <div class="meta">Posted on 2003-12-02 23:08:41 by Homer</div>
   </div>
   <div class="post" id="post-126400">
    <div class="subject"><a href="#post-126400">Animated toolbar buttons</a></div>
    <div class="body">Hi, donkey. :)<br /><br />Cool GUI effect, I wouldn't mind to see it in any program, just as long as there's a way to switch it off. ;)<br /><br /><span style="font-size:9px>(just kidding) :grin:</span><br /><br />One problem though, a bug under Win98. Looks like this:</div>
    <div class="meta">Posted on 2003-12-03 10:29:30 by QvasiModo</div>
   </div>
   <div class="post" id="post-126421">
    <div class="subject"><a href="#post-126421">Animated toolbar buttons</a></div>
    <div class="body">Well, I cannot find a way to directly load an animated icon in Win9x. It just keeps returning 0 and there is no equivalent to the CreateIconFromResource function for ani's so creaating it on the fly is pretty much out as well. But I did come up with a solution however it is dirty. The ani resource is loaded from the resource section as raw data and dumped to a temporary file where it is then loaded via LoadImage. The temporary file is then deleted. Since I don't particularly like this method I will continue to look for an alternative but I don't hold out much hope as even a normal static control cannot load a resource based animated icon. The program will only use the hack if a Win9x OS is detected...<br /><br />edit: just a minor clean up of the code...</div>
    <div class="meta">Posted on 2003-12-03 13:41:55 by donkey</div>
   </div>
   <div class="post" id="post-126431">
    <div class="subject"><a href="#post-126431">Animated toolbar buttons</a></div>
    <div class="body">It's working now. :)<br />Strange about win98 not loading animated icons from resources. Did you try hardcoding the icons in the .data section rather than as a resource? if it works, it makes a cleaner solution...<br />:confused:</div>
    <div class="meta">Posted on 2003-12-03 16:20:36 by QvasiModo</div>
   </div>
   <div class="post" id="post-126434">
    <div class="subject"><a href="#post-126434">Animated toolbar buttons</a></div>
    <div class="body">The icons are in RIFF ACON format and are very large. I guess I could put them in the data section but getting at the raw data is not a problem, that is what I do in the solution and the extra overhead is something like 40 bytes as there is already a resource section to hold the dialog and toolbar strip. The problem is to convert the data to a handle that can be used with STM_SETIMAGE, I still have found no way to do that as of yet. Also it is meant to be a general purpose demonstration, hard coding icons in .DATA is not well suited to this type of application.</div>
    <div class="meta">Posted on 2003-12-03 16:33:49 by donkey</div>
   </div>
   <div class="post" id="post-126477">
    <div class="subject"><a href="#post-126477">Animated toolbar buttons</a></div>
    <div class="body">Well, I give up. It is perfectly possible to get a usable handle from a raw resource in Win2K using CreateIconFromResource but it doesn't work in 98SE. The experience has answered a question that I had for a while about the cursor folder in Windows. I always wondered why MS chose to place all of the ANI cursors in that folder individually as files when almost everything else in the OS was resource based. Now I know, there is no easy way to load an ANI icon or cursor (they are virtually the same thing) from resources. It was probably added to Win2K+ because it is a pretty stupid limitation.</div>
    <div class="meta">Posted on 2003-12-04 00:49:35 by donkey</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Ctrl-Break Handler for Console Mode programs - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15465" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=15465">Ctrl-Break Handler for Console Mode programs</a></p>
   <div class="post" id="post-120173">
    <div class="subject"><a href="#post-120173">Ctrl-Break Handler for Console Mode programs</a></div>
    <div class="body">Randy,<br /><br />How do you set up the Ctrl-Break Handler, please?<br /><br />I would like to hook the handler so as to save before exitting, when Ctrl-Break is pressed.</div>
    <div class="meta">Posted on 2003-09-30 23:52:34 by V Coder</div>
   </div>
   <div class="post" id="post-120224">
    <div class="subject"><a href="#post-120224">Re: Ctrl-Break Handler for Console Mode programs</a></div>
    <div class="body"><div class="quote"><br />Randy,<br /><br />How do you set up the Ctrl-Break Handler, please?<br /><br />I would like to hook the handler so as to save before exitting, when Ctrl-Break is pressed. </div><br /><br />Good Question, I don't remember ever having looked into this.<br />Anyone else have a comment?<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-10-01 11:31:14 by rhyde</div>
   </div>
   <div class="post" id="post-120242">
    <div class="subject"><a href="#post-120242">Ctrl-Break Handler for Console Mode programs</a></div>
    <div class="body">The SetConsoleCtrlHandler function adds or removes an application-defined HandlerRoutine function from the list of handler functions for the calling process. If no handler function is specified, the function sets an inheritable attribute that determines whether the calling process ignores CTRL+C signals. <br /><br />BOOL SetConsoleCtrlHandler(<br /><br />    PHANDLER_ROUTINE  pHandlerRoutine,	// address of handler function  <br />    BOOL  fAdd 	// handler to add or remove <br />   );<br /><br />BOOL HandlerRoutine(<br /><br />    DWORD  dwCtrlType 	//  control signal type<br />   );	<br />Parameters<br /><br />dwCtrlType<br /><br />Indicates the type of control signal received by the handler. This value is one of the following: <br /><br />Signal	Description<br />CTRL_C_EVENT	A CTRL+C signal was received, either from keyboard input or from a signal generated by the GenerateConsoleCtrlEvent function.<br />CTRL_BREAK_EVENT	A CTRL+BREAK signal was received, either from keyboard input or from a signal generated by GenerateConsoleCtrlEvent.<br />CTRL_CLOSE_EVENT	A signal that the system sends to all processes attached to a console when the user closes the console (either by choosing the Close command from the console window's System menu, or by choosing the End Task command from the Task List).<br />CTRL_LOGOFF_EVENT	A signal that the system sends to all console processes when a user is logging off. This signal does not indicate which user is logging off, so no assumptions can be made.<br />CTRL_SHUTDOWN_EVENT	A signal that the system sends to all console processes when the system is shutting down.<br /><br /><br />think thats the one ;)</div>
    <div class="meta">Posted on 2003-10-01 14:40:09 by evlncrn8</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Language ID Error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13274" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=13274">Language ID Error</a></p>
   <div class="post" id="post-102903">
    <div class="subject"><a href="#post-102903">Language ID Error</a></div>
    <div class="body">Many examples that come with FASMW, including FASMW source-code itself, define language in resources simply as <strong>LANG_ENGLISH+SUBLANG_DEFAULT</strong>, but MSDN states that sublanguage ID (SUBLANG_*) should be shifted left by 10 bits, and then added to primary language ID (LANG_*):<br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/en-us/intl/nls_97vo.asp">http://msdn.microsoft.com/library/en-us/intl/nls_97vo.asp</a><br /><a target="_blank" href="http://msdn.microsoft.com/library/en-us/intl/nls_8xo3.asp">http://msdn.microsoft.com/library/en-us/intl/nls_8xo3.asp</a><br /><br />I checked and macro is:<br /><pre><code>#define MAKELANGID&#40;p,s&#41;	&#40;&#40;&#40;&#40;WORD&#41;&#40;s&#41;&#41;&lt;&lt;10&#41;|&#40;WORD&#41;&#40;p&#41;&#41;</code></pre><br /><br />So resource code in sources should be changed to:<br /><pre><code>SUBLANG_DEFAULT shl 10 + LANG_ENGLISH</code></pre></div>
    <div class="meta">Posted on 2003-05-13 18:56:55 by comrade</div>
   </div>
   <div class="post" id="post-102989">
    <div class="subject"><a href="#post-102989">Language ID Error</a></div>
    <div class="body">All SUBLANG_... constants in my KERNEL32.INC file are already shifted left by 10 bits (also SORT_... items are shifted by 16 bits). I'm sorry if it leads to confusion.</div>
    <div class="meta">Posted on 2003-05-14 02:40:51 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-103088">
    <div class="subject"><a href="#post-103088">Language ID Error</a></div>
    <div class="body">So it is all fine. :)</div>
    <div class="meta">Posted on 2003-05-14 18:22:29 by comrade</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to convert a word to a lpstr - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16616" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16616">How to convert a word to a lpstr</a></p>
   <div class="post" id="post-129156">
    <div class="subject"><a href="#post-129156">How to convert a word to a lpstr</a></div>
    <div class="body">how would I go about that?<br />I though i could use the c function _toa()..<br />or to convert a word into a lpstr directy thru asm maybe<br /><br />Somebody enlight me up about this<br /><br />thanks in advance</div>
    <div class="meta">Posted on 2003-12-28 11:25:31 by bRaNcO</div>
   </div>
   <div class="post" id="post-129217">
    <div class="subject"><a href="#post-129217">How can i call the _toa() C function in my proggy?</a></div>
    <div class="body">well i did it like this in one time and it works well<br /><br />try it out<br /><pre><code><br />00401000 &gt;PUSH DWORD PTR &#91;40330D&#93;       ; /BufSize = 104 &#40;260.&#41;<br />00401006  PUSH 403209                   ; |Buffer = 2c.00403209<br />0040100B  CALL 0040120A                 ; \GetSystemDirectoryA<br />00401010  PUSH 403311                   ; /StringToAdd = &quot;\*crt*.dll&quot;<br />00401015  PUSH 403209                   ; |ConcatString = &quot;C&#58;\WINNT\System32\*crt*.dll&quot;<br />0040101A  CALL 00401216                 ; \lstrcatA<br />0040101F  PUSH 403322                   ; /pFindFileData = 2c.00403322<br />00401024  PUSH 403209                   ; |FileName = &quot;C&#58;\WINNT\System32\*crt*.dll&quot;<br />00401029  CALL 004011EC                 ; \FindFirstFileA<br />0040102E  MOV &#91;403578&#93;,EAX<br />00401033  /PUSH 40334E                  ; /FileName = &quot;crtdll.dll&quot;<br />00401038  |CALL 00401210                ; \LoadLibraryA<br />0040103D  |MOV &#91;403574&#93;,EAX<br />00401042  |PUSH 40331C                  ; /ProcNameOrOrdinal = &quot;_itoa&quot;<br />00401047  |PUSH EAX                     ; |hModule = 74FA6FEB<br />00401048  |CALL 00401204                ; \GetProcAddress<br />0040104D  |MOV &#91;40357C&#93;,EAX<br />00401052  |OR EAX,EAX<br />00401054  |JNZ SHORT 00401073           ;  2c.00401073<br /><br /></code></pre><br /><br />all aystems have either crtdll or msvcrtdll in thier system directory<br />so it works most of the times<br />or if u are using nt system the ntdll.dll also has _itoa in it<br /><br />or use start --&gt;search for files with text _itoa  grab any of the dll that comes up load it and getproc address it</div>
    <div class="meta">Posted on 2003-12-29 00:22:02 by bluffer</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Q: About Local Variables and Global Variables - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21634" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=17">Iczelion's Tutorials</a> &raquo; <a href="../?id=21634">Q: About Local Variables and Global Variables</a></p>
   <div class="post" id="post-163292">
    <div class="subject"><a href="#post-163292">Q: About Local Variables and Global Variables</a></div>
    <div class="body">This is takes from Iczelion tutorial 3<br /><br />	LOCAL wc:WNDCLASSEX<br />	LOCAL msg:MSG<br />	LOCAL hwnd:HWND<br /><br />Where he declares some local variables (or at least space for them) on the stack.? I&#39;m OK with that but I was wondering why he used local variables on the stack to hold these structures.<br /><br />Iczelion points out that these local structures are just reserved space and must be initialised by the program - and so I was thinking it would be OK then just to declare them as uninitialised global variables instead, so I gave it a go ;)<br /><br />Believing the best way to learn is to play around with things I&#39;ve tried commenting these lines out and putting these lines in DATA? section<br /><br />? ? ? ? wc WNDCLASSEX<br />? ? ? ? msg MSG<br />? ? ? ? hwnd HWND<br /><br />But this does not give the result I expected - I get loads of error messages the main ones being for the above lines<br /><br />C:\RadAsm\Masm\Projects\tut03a\tut03.asm(19) : error A2179: structure improperly initialized<br />C:\RadAsm\Masm\Projects\tut03a\tut03.asm(19) : error A2008: syntax error : in structure<br />C:\RadAsm\Masm\Projects\tut03a\tut03.asm(20) : error A2179: structure improperly initialized<br />C:\RadAsm\Masm\Projects\tut03a\tut03.asm(20) : error A2008: syntax error : in structure<br /><br />the line hwnd HWND seems ok though....<br /><br />This is baffling me - why does the assembler complain these structures are improperly initialised when they are in the DATA? area - as putting them on the stack as local variables means they are also uninitialised!<br /><br /><br />dicky<br /><br /></div>
    <div class="meta">Posted on 2005-08-15 10:31:26 by dicky96</div>
   </div>
   <div class="post" id="post-163293">
    <div class="subject"><a href="#post-163293">Re: Q: About Local Variables and Global Variables</a></div>
    <div class="body">You should be declaring it like<br /><br />hwnd HWND ?<br />wc WNDCLASSEX &lt;&gt;<br />msg MSG &lt;&gt;<br /><br />As MSG and WNDCLASSEX are all structs.</div>
    <div class="meta">Posted on 2005-08-15 10:37:39 by roticv</div>
   </div>
   <div class="post" id="post-163295">
    <div class="subject"><a href="#post-163295">Re: Q: About Local Variables and Global Variables</a></div>
    <div class="body">Thank you very much for the rapid reply? ;D<br /><br />I did put a ? at the end of each line - forgot to post that above.<br /><br />I knew it was a structure but I did not know the &lt;&gt; tells the assembler it&#39;s a structure (I assume that is the purpose of &lt;&gt;) <br /><br />As a learner there is so much simple stuff? I don&#39;t know.<br /><br />dicky<br /><br /></div>
    <div class="meta">Posted on 2005-08-15 10:41:25 by dicky96</div>
   </div>
   <div class="post" id="post-163299">
    <div class="subject"><a href="#post-163299">Re: Q: About Local Variables and Global Variables</a></div>
    <div class="body">Don&#39;t worry about that. We were all once a beginner. Do ask questions if you are unsure about anything.</div>
    <div class="meta">Posted on 2005-08-15 11:25:22 by roticv</div>
   </div>
   <div class="post" id="post-163300">
    <div class="subject"><a href="#post-163300">Re: Q: About Local Variables and Global Variables</a></div>
    <div class="body">Ahh OK thanks,<br /><br />Just while on the topic - does Iczelion declare these as local variables just to illustrate the technique - or is there some other adavantage or gain in program efficiency?</div>
    <div class="meta">Posted on 2005-08-15 11:36:34 by dicky96</div>
   </div>
   <div class="post" id="post-163301">
    <div class="subject"><a href="#post-163301">Re: Q: About Local Variables and Global Variables</a></div>
    <div class="body">Personally I have no idea why he did that. I would perfer the msg and wc to be declared as global variable. Local variables are useful in the sense that the scope is only within that function.</div>
    <div class="meta">Posted on 2005-08-15 12:25:57 by roticv</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Nmake problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24731" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=24731">Nmake problem</a></p>
   <div class="post" id="post-180651">
    <div class="subject"><a href="#post-180651">Nmake problem</a></div>
    <div class="body">Haven&#39;t used nmake in quite a while.&nbsp; I have a library I need to compile from C source.&nbsp; I ran vcvars32.bat.&nbsp; I installed the VS Toolkit and copied nmake from elsewhere and put it in the bin folder of the kit.&nbsp; <br /><br />Everyone says it works by just doing nmake -f (filename) but I keep getting the error &quot;can&#39;t make /include/fcgi_lib.h&quot;.&nbsp; I did this:&nbsp; nmake -f c:\fcgi\makefile.nt<br /><br />So then I put nmake in the fcgi folder but this time it says it can&#39;t find cl.exe to compile it.<br /><br />I know I&#39;m forgetting something stupid so can a brother give a helping hand?</div>
    <div class="meta">Posted on 2006-05-13 18:08:19 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180652">
    <div class="subject"><a href="#post-180652">Re: Nmake problem</a></div>
    <div class="body">Perhaps you need to do something to the effect of...<br /><br /><pre><code><br />set INCLUDE=%INCLUDE%;c:\fcgi\include<br /></code></pre><br /><br />before running nmake?<br /><br />Could you provide an URL to &#39;fcgi&#39; if it&#39;s something publicly available?<br /></div>
    <div class="meta">Posted on 2006-05-14 02:50:29 by f0dder</div>
   </div>
   <div class="post" id="post-180656">
    <div class="subject"><a href="#post-180656">Re: Nmake problem</a></div>
    <div class="body"><a target="_blank" href="http://fastcgi.com/#TheDevKit">FastCGI Development Kit</a>.<br />This is only a 0.5M download.&nbsp; I shortened the name to fcgi.&nbsp; If you can figure out how to create this, I&#39;d appreciate it.</div>
    <div class="meta">Posted on 2006-05-14 09:41:18 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180657">
    <div class="subject"><a href="#post-180657">Re: Nmake problem</a></div>
    <div class="body">A URL, please.</div>
    <div class="meta">Posted on 2006-05-14 13:44:01 by PBrennick</div>
   </div>
   <div class="post" id="post-180660">
    <div class="subject"><a href="#post-180660">Re: Nmake problem</a></div>
    <div class="body">Paul, which theme are you using? My theme doesn&#39;t distinguish URLs from normal text in any way &gt;_&lt;, until I hover the mouse above them... The URL is at FastCGI Development Kit ( http://fastcgi.com/#TheDevKit ).<br /><br />Howard, I hope I&#39;ll have some time tomorrow to look at it.<br /></div>
    <div class="meta">Posted on 2006-05-14 16:41:27 by f0dder</div>
   </div>
   <div class="post" id="post-180662">
    <div class="subject"><a href="#post-180662">Re: Nmake problem</a></div>
    <div class="body">Thanks.&nbsp; Yes, hover over the url for me, too.</div>
    <div class="meta">Posted on 2006-05-14 18:33:09 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180667">
    <div class="subject"><a href="#post-180667">Re: Nmake problem</a></div>
    <div class="body">Control Panel -&gt; System -&gt; Advanced -&gt; Environment Variables<br /><br />to &quot;include&quot; add your include folders<br />to &quot;lib&quot; - the libs<br />to &quot;path&quot; - the folders of your cl.exe, nmake and all other necessary apps. <br /><br />every new path is terminated with a &quot;;&quot; <br /><br />For instance, my &quot;path&quot; has the value:<br /><br />C:\Program Files\Microsoft Visual Studio\Common\Tools\WinNT;C:\Program Files\Microsoft Visual Studio\Common\MSDev98\Bin;C:\Program Files\Microsoft Visual Studio\Common\Tools;C:\Program Files\Microsoft Visual Studio\VC98\bin;D:\PalmOSCygwin;D:\masm32\bin;D:\Dev-Cpp\VCToolkit<br /></div>
    <div class="meta">Posted on 2006-05-15 04:36:27 by Ultrano</div>
   </div>
   <div class="post" id="post-180668">
    <div class="subject"><a href="#post-180668">Re: Nmake problem</a></div>
    <div class="body">I tried &quot;nmake -f makefile.nt&quot; , worked as it should :), the examples .exe were all built. <br /></div>
    <div class="meta">Posted on 2006-05-15 04:49:39 by Ultrano</div>
   </div>
   <div class="post" id="post-180673">
    <div class="subject"><a href="#post-180673">Re: Nmake problem</a></div>
    <div class="body">If you don&#39;t want to set the environment variables permanently, you can do <strong>&quot;set PATH=blablabla;blubblub;kaka&quot;</strong> etc. from your cmd.exe prompt. Also, if you use Visual Studio, there&#39;s a &quot;vcvars.bat&quot; you can run to set the variables automagically.<br /></div>
    <div class="meta">Posted on 2006-05-15 05:46:01 by f0dder</div>
   </div>
   <div class="post" id="post-180684">
    <div class="subject"><a href="#post-180684">Re: Nmake problem</a></div>
    <div class="body">Well, I did all that, which is why I figured I must have forgotten how to do this.&nbsp; Obviously, I did something wrong so I&#39;m going to start from scratch again.&nbsp;  <br /><br />I do not have VS installed, just the Toolkit, but I don&#39;t think that makes any difference.</div>
    <div class="meta">Posted on 2006-05-15 10:15:03 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180686">
    <div class="subject"><a href="#post-180686">Re: Nmake problem</a></div>
    <div class="body">So, with nmake in the bin file<br />c:\Program Files\Microsoft Visual C++ Toolkit 2003\bin<br />I run nmake -f c:\fcgi\makefile.nt and I get the following error:<br />&quot;cl.exe is not recognized as an internal or external command&quot;<br /><br />I get the same error if I run nmake from c:\fcgi<br /><br />If I move nmake to c:\Program Files\Microsoft Visual C++ Toolkit 2003, I get:<br />&quot;don&#39;t know how to make include\fcgi_config_x86.h&quot;<br /><br />Here is what I have set in env variables per Ultrano&#39;s instructions above:<br />INCLUDE c:\fcgi\include;c:\Microsoft Visual C++ Toolkit 2003\include;<br />LIB c:\fcgi\libfcgi;c:\Microsoft Visual C++ Toolkit 2003\lib;<br />PATH %SystemRoot%\system32;%SystemRoot%;%SystemRoot%\System32\Wbem;C:\Program Files\Common Files\GTK\2.0\bin;C:\Program Files\gs\gs8.51\bin;C:\Program Files\QuickTime\QTSystem\;c:\Microsoft Visual C++ Toolkit 2003\bin;<br /><br />EDIT:&nbsp; Is LIB supposed to be LIBS?&nbsp; Tried both ways but got same errors.<br />Do I need to restart after changing these?&nbsp; I have before with no difference.</div>
    <div class="meta">Posted on 2006-05-15 12:09:11 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180688">
    <div class="subject"><a href="#post-180688">Re: Nmake problem</a></div>
    <div class="body">drhowarddrfine, <br /><br />Manually switch to the directory where Makefile.nt is located and do &#39;nmake -f Makefile.nt&#39;.<br />(nmake should be located in it&#39;s original dir. i.e. c:\Microsoft Visual C++ Toolkit 2003\bin)<br /><br />Otherwise if you run nmake from other dir and specify full path i.e. &#39;nmake -f c:\fcgi\makefile.nt&#39; all the paths inside the makefile will be treated relatively to the current user dir - hence the &quot;don&#39;t know how to make include\fcgi_config_x86.h&quot; error.</div>
    <div class="meta">Posted on 2006-05-15 13:37:46 by arafel</div>
   </div>
   <div class="post" id="post-180689">
    <div class="subject"><a href="#post-180689">Re: Nmake problem</a></div>
    <div class="body">I tried that but when nmake is not in that folder it says it can&#39;t find nmake.<br />When I move nmake into fcgi, it says it can&#39;t find cl.exe</div>
    <div class="meta">Posted on 2006-05-15 13:59:36 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180690">
    <div class="subject"><a href="#post-180690">Re: Nmake problem</a></div>
    <div class="body">Then probably it&#39;s something to do with environment variables. <br />It seems that you have changed them correctly. However if you did that trough &quot;control panel-&gt;system properties-&gt;....&quot; you will need to restart the command prompt to reflect the changes.<br />Also just in case type SET to check if everything is okay.<br /><br />I have created a new account on my system and tried to compile fcgi-2.4.0. It compiled without any errors. (although I am using VC++ instead of VC Toolkit there should be any difference for your task). This is what SET shows about LIB, Path and INCLUDE variables: <br /><br />INCLUDE=C:\Program Files\Microsoft Visual Studio\VC98\include<br />LIB=C:\Program Files\Microsoft Visual Studio\VC98\lib<br />Path=C:\WINDOWS.0\system32;C:\WINDOWS.0;C:\Program Files\Microsoft Visual Studio\VC98\bin<br /><br />nmake was located in &#39;C:\Program Files\Microsoft Visual Studio\VC98\bin&#39; and when compiling I followed instructions in my previous post.<br /></div>
    <div class="meta">Posted on 2006-05-15 14:41:36 by arafel</div>
   </div>
   <div class="post" id="post-180692">
    <div class="subject"><a href="#post-180692">Re: Nmake problem</a></div>
    <div class="body">The problem was setting the environment.&nbsp; With all the fiddling around I was doing I think I lost track of something but it&#39;s working now.&nbsp; <br /><br />Unfortunately, it needs some include files from the Platform SDK, such as windows.h, which I don&#39;t have.&nbsp; I thought they would be in the toolkit.&nbsp; I tried pointing it to PellesC include files but it has problems with that.&nbsp; <br /><br />If the compiled version of that lib isn&#39;t too big, can one of you guys email it to me?&nbsp; I just don&#39;t feel like installing the SDK.</div>
    <div class="meta">Posted on 2006-05-15 16:19:49 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180693">
    <div class="subject"><a href="#post-180693">Re: Nmake problem</a></div>
    <div class="body">sorry I can&#39;t log into my email account at the moment.<br />the attached zip contains compiled lib and compiled example executables from the package.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1624" target="_blank">fcgi-compiled.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-05-15 16:32:43 by arafel</div>
   </div>
   <div class="post" id="post-180696">
    <div class="subject"><a href="#post-180696">Re: Nmake problem</a></div>
    <div class="body">arafel,&nbsp; thanks so much!&nbsp; Saved me a lot of trouble.</div>
    <div class="meta">Posted on 2006-05-15 17:23:52 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-180703">
    <div class="subject"><a href="#post-180703">Re: Nmake problem</a></div>
    <div class="body"><div class="quote"><br />If the compiled version of that lib isn&#39;t too big, can one of you guys email it to me?&nbsp; I just don&#39;t feel like installing the SDK.<br /></div><br /><br />Understandable, considering how big a download and install you need just to get at a few files :|<br /><br />I wish Microsoft had a somewhat more liberal (re)distribution policy... I&#39;ve set up my own little personal-use package which includes vc2003 toolkit, latest platformsdk header+libs, and the last .CHM version of the platformsdk help. A lot smaller than all the downloads you need to get this, but of course I have to keep it to myself because of license issues :(<br /></div>
    <div class="meta">Posted on 2006-05-16 04:29:39 by f0dder</div>
   </div>
  </div>
 </body>
</html>
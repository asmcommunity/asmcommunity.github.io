<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Assembly Language Help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29932" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=116">Windows</a> &raquo; <a href="../?id=29932">Assembly Language Help</a></p>
   <div class="post" id="post-211378">
    <div class="subject"><a href="#post-211378">Assembly Language Help</a></div>
    <div class="body">I am new to Assembly. I am learning it. I have a question. I am doing this piece of code which is supposed to ask at the prompt for decimal value values, put them in a register and then display them in a reverse order. For example if we entered 12345 then the display will show them as reversed as 54321 then also show them their sum as = 15.<br /><br />Below is the code I was working on it is doing everything except for the accumulation of the numbers entered and also it does not display them in reverse order. <br />============================================================================================<br />Detailed program requirement<br /><br /><strong>The program will allow the user to enter a list of numbers in base 10. The number of values to be entered will be entered by the user when the program starts.<br /><br />After the user enters the numbers, the program will display the numbers in reverse order in hexadecimal, binary, and decimal, separated by the tab character. <br /><br />Finally, the sum of the numbers will be shown.</strong> <br /><br /><br /><br />=============================================================================================<br /><br /><br />Can Someone help me please?<br /><br /><pre><code><br />TITLE Integer Summation Program &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; (Addnums.asm)<br /><br />;This program prompts the user for three Integers,<br />; stores them in an Array, Calculates the sum of the <br />; array, and displays the sum<br /><br />INCLUDE Irvine32.inc<br /><br />TAB = 9						; ASCII code for Tab<br /><br />INTEGER_VALUE_COUNTS = 5<br />.data<br />str1 BYTE &quot;Enter an integer: &quot;,0<br />str2 BYTE &quot;The sum of the integers is: &quot;,0<br />array DWORD INTEGER_VALUE_COUNTS DUP(?)<br /><br />.code<br />;main Program control procedure<br />;calls: Clrsr, PromptForIntegersValues,<br />; &nbsp; &nbsp; &nbsp; ArraySum, DisplaySum<br />main PROC<br /> &nbsp; &nbsp; call Clrscr<br /> &nbsp; &nbsp; mov esi, OFFSET array<br /> &nbsp; &nbsp; mov ecx, INTEGER_VALUE_COUNTS<br /> &nbsp; &nbsp; call PromptForIntegerValues<br /> &nbsp; &nbsp; call ArraySum<br /> &nbsp; &nbsp; call DisplaySum<br /> &nbsp; &nbsp; exit<br />main ENDP<br /><br />;------------------------------------------------------<br />PromptForIntegerValues PROC USES ecx edx esi<br />;<br />;Prompts the user for the ten integers, inserts<br />;them in an array.<br />;Receives: ESI points to an array of <br />; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;doubleword integers, ECX = array size.<br />;Returns: nothing<br />;Calls: ReaInt, WriteString<br />;------------------------------------------------------<br /> &nbsp; mov edx, OFFSET str1 &nbsp; &nbsp; &nbsp; &nbsp; ; &quot;Eter a signed integer&quot;<br />L1: call WriteString &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; display string<br /> &nbsp; &nbsp;call ReadInt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; read integer into EAX<br /> &nbsp; &nbsp;call Crlf &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; go to next output line<br /> &nbsp; &nbsp;mov ,eax &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; store in array<br /> &nbsp; &nbsp;add esi, TYPE DWORD &nbsp; &nbsp; &nbsp; &nbsp; ; next integer<br /> &nbsp; &nbsp;loop L1<br /> &nbsp; &nbsp;ret<br />PromptForIntegerValues ENDP<br /><br />;------------------------------------------------------<br />ArraySum PROC USES esi ecx<br />;<br />; Calculate the sum of an array of 32-bit integers.<br />; Receives: ESI points to the array, ECX = number of array elements<br />; Returns: EAX = sum of the array elements<br />;------------------------------------------------------<br /> &nbsp; &nbsp;mov eax, 0 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Set the sum to zero<br />L1: add eax,  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; add each integer to sum<br /> &nbsp; &nbsp;add esi, TYPE DWORD &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; point to next integer<br /> &nbsp; &nbsp;loop L1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; repeat for array size<br /> &nbsp; ret<br />ArraySum ENDP<br /><br />;------------------------------------------------------<br />DisplaySum PROC USES edx<br />;<br />; Display the sum on the screen.<br />; Receives: EAX = the sum<br />; Returns: nothing<br />; Calls: WriteString, writeInt<br />;------------------------------------------------------<br /> &nbsp; mov edx, OFFSET str2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; &quot;The sum of the ...&quot;<br /> &nbsp; call WriteString				 ; display the string of values<br /> &nbsp; call WriteInt &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; display EAX contents in signed decimal<br /> &nbsp; mov al, TAB					 ; horizontal tab<br /> &nbsp; call Crlf<br /><br />;Display the digits in Hexadecimal<br /> &nbsp; mov edx, OFFSET str2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; &quot;The sum of the digits in HEX ...&quot;<br /> &nbsp; call WriteHex &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; display EAX contents in Hexadecimal<br /> &nbsp; mov al, TAB					 ; horizontal tab<br /> &nbsp; call Crlf <br /> &nbsp; <br /><br />;Display the digits in Hexadecimal<br /> &nbsp; mov edx, OFFSET str2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; &quot;The sum of the digits in BIN...&quot;<br /> &nbsp; call WriteBin &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;; display EAX contents in Binary<br /> &nbsp; mov al, TAB					 ; horizontal tab<br /> &nbsp; call Crlf &nbsp;<br /> &nbsp; <br />;Display the digits in Hexadecimal<br /> &nbsp; mov edx, OFFSET str2			 ; &quot;The sum of the digits in Dec...&quot;<br /> &nbsp; call WriteDec				 &nbsp; &nbsp; &nbsp; &nbsp; ; display EAX contents in unsigned decimal<br /> &nbsp; mov al, TAB					 ; horizontal tab<br /> &nbsp; call Crlf <br /><br /><br /> &nbsp; &nbsp; &nbsp; &nbsp;ret<br />DisplaySum ENDP <br />END main<br /></code></pre><br /><br /><span style="font-size:8pt><em>Edit by SpooK: CODE blocks are better than BOLD blocks ;)</em></span></div>
    <div class="meta">Posted on 2010-04-20 02:48:09 by john_blogger</div>
   </div>
   <div class="post" id="post-211428">
    <div class="subject"><a href="#post-211428">Re: Assembly Language Help</a></div>
    <div class="body">I&#039;m still somewhat of a newbie with ASM as well, also I&#039;m kind of just eyeballing the code, so take my comments with a grain of salt.<br /><br />-on your&nbsp; call WriteInt you have a comment &quot;display EAX contents in signed decimal&quot; - this is called upon return of WriteString though, so if it it&#039;s your intention to pass it a value the standard calling convention is to use EAX for passing values to a function<br /><br />-I can&#039;t really find any fault with your code, look up the purpose of the function calls and make sure your passing them the right data i.e. passing WriteHex the string of data on the next line (I get that from crlf above in your listed code)<br /><br />-One potental good way I suggest is run it through a debugger and watch the values to get a good understanding of what&#039;s going on..<br /><br />&quot;Eter a signed integer&quot; is probably a typo for enter</div>
    <div class="meta">Posted on 2010-04-23 11:11:14 by Brainiac</div>
   </div>
   <div class="post" id="post-213689">
    <div class="subject"><a href="#post-213689">Re: Assembly Language Help</a></div>
    <div class="body">Register AX is made of two smaller registers AH and AL. You stored the sum of your inputs in AX.<br /><br />However, right after you print the sum of your inputs for the first time, you moved to AL the value of 9 (TAB) which overwrote your total value.<br /><br />I got your code working after commenting out every line that overwrites AL:<br /><pre><code>&nbsp;  ;mov al, TAB					 ; horizontal tab</code></pre><br /><br />Also, i have no idea why are moving the value of 9 (TAB) onto AL.</div>
    <div class="meta">Posted on 2010-12-18 20:43:02 by banzemanga</div>
   </div>
   <div class="post" id="post-214991">
    <div class="subject"><a href="#post-214991">Re: Assembly Language Help</a></div>
    <div class="body">This really helped me a lot!:D Thanks!</div>
    <div class="meta">Posted on 2011-09-12 21:04:00 by ziaweslee</div>
   </div>
  </div>
 </body>
</html>
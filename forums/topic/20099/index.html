<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>a few questions abouth HLA and the stack. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20099" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=20099">a few questions abouth HLA and the stack.</a></p>
   <div class="post" id="post-154003">
    <div class="subject"><a href="#post-154003">a few questions abouth HLA and the stack.</a></div>
    <div class="body">Hello to all.<br />I'm new to the board, and new to programming in general, also new to assembler programming.<br />I have 4 questions.<br /><br />1)Is there going be an  HLA in the future, because despite of what some are                        saying abouth HLA, i kinda love the the HLA concept , i hope it don't fade away just like delphi did.<br />It's a great way for poeple like me who does it the hard way, with lots of books,(not in school that is).<br /><br /><br />2)Is there a HLA Help file that i could use in RadASM IDE , or any hint how to convert the HTML or PDF files to a help file .?<br /><br />3);Is this the main HLA forum or is there more ??<br /><br />4)Ok i'm a n00b, so i have been making these little programs so i can understand a little what's going on in the stack and in this procedure i've made.<br />As i said before i'm one of those poeple who love to do things the hard way, so here a little code iv? made, where is my procedure's data at is it at  ????, because i can't find it there.<br />can someone clear my mind please, and remember i'm a n00b, so be  gentle with me.<br /><br /><br /><pre><code>program pushpop;<br />//<br />#include&#40; &quot;stdlib.hhf&quot; &#41;<br />#include&#40; &quot;console.hhf&quot;&#41;<br />const<br /> myText				&#58;= &quot;Hello and welcome to Assembly Language with HLA&quot;;<br /> conText			&#58;= &quot;Press any key to continue&quot;;	<br /> Const_Data 		&#58;= 6666666;<br /> Const_Data_Two		&#58;= 8888888;<br />static<br />	Test_Data_One		&#58; 	dword	&#58;= 1234567;<br />	Test_Data_Two		&#58;  	dword	&#58;= 7654321;<br />	Test_Const_Data		&#58; 	dword	&#58;= Const_Data;<br />	Test_Const_Data_Two	&#58;	dword	&#58;= Const_Data_Two;<br />	TestPtr				&#58;	dword;<br />	 		 <br />procedure Test_Var&#40;var Var_To_Push&#58;dword &#41;;<br />	<br /><br />begin	Test_Var;<br /><br />	<br />	push &#40;eax&#41;;		//save register this would be &#91;esp+12&#93;<br />	mov	&#40;Var_To_Push,eax&#41;;<br />	push &#40;eax&#41;;		// this should be &#91;esp+16&#93;<br />	<br />	stdout.put&#40;&quot;In our procedure our ESP points to ----------------&gt;&#91; &quot;, esp ,&quot; &#93; &quot;,nl&#41;;<br />	stdin.readLn&#40;&#41;;		// check the sht here<br />	pop	&#40;eax&#41;;<br />	pop	&#40;eax&#41;;<br />	<br />	<br />end 	Test_Var;<br /><br /><br /><br />begin pushpop;<br /><br />	stdout.put&#40; myText, nl, nl &#41;;<br />	stdout.put&#40; conText &#41;;<br />	stdin.readLn&#40;&#41;;<br />	<br />	stdout.put&#40;&quot;Before we push anything on the stack   &quot;&#41;;<br />	stdout.put&#40;&quot;ESP points to&#91; &quot;, esp ,&quot; &#93; &quot;,nl&#41;;<br />	<br />	push	&#40;Test_Data_One&#41;;<br />	stdout.put&#40;&quot;Push the first test data on the stack  &quot;&#41;;<br />	stdout.put&#40;&quot;ESP points to&#91; &quot;, esp ,&quot; &#93; &quot;,nl&#41;;<br />	<br />	push	&#40;Test_Data_Two&#41;;<br />	stdout.put&#40;&quot;Push the second test data on the stack &quot;&#41;;<br />	stdout.put&#40;&quot;ESP points to&#91; &quot;, esp ,&quot; &#93; &quot;,nl&#41;;<br />	<br />	push	&#40;ebx&#41;;			// this wil become &#91;esp+4&#93;<br />	mov	&#40;9999999,ebx&#41;;<br />	Test_Var&#40;&#91;ebx&#93;&#41;;				// wat will happen here ..???<br />	<br />	// try getting the data on the stack that our proc pushed<br />	<br />	xor	&#40;ebx,ebx&#41;;			// zero eax<br />	mov	&#40;&#91;esp+20&#93;,ebx&#41;;		// copy pushed data form procedure  &#91;esp+20&#93; into ebx<br />	stdout.put&#40;&quot;Data on &#91;ESP+20&#93; is now&#91; &quot;,&#40; type int32 ebx&#41;, &quot; &#93; &quot;,nl&#41;;<br />	<br />	<br />	xor	&#40;ebx,ebx&#41;;			// zero eax<br />	mov	&#40;&#91;esp+4&#93;,ebx&#41;;		// copy data at &#91;esp+4&#93; into ebx<br />	stdout.put&#40;&quot;Data on &#91;ESP+4&#93; is now &#91; &quot;,&#40; type int32 ebx&#41;, &quot; &#93; &quot;,nl&#41;;<br />	<br />	xor	&#40;ebx,ebx&#41;;<br />	mov	&#40;&#91;esp+8&#93;,ebx&#41;;<br />	stdout.put&#40;&quot;Data on &#91;ESP+8&#93; is now &#91; &quot;,&#40; type int32 ebx&#41;, &quot; &#93; &quot;,nl,nl&#41;;<br /><br />	pop	&#40;ebx&#41;;<br />	pop		&#40;Test_Data_Two&#41;;<br />	stdout.put&#40;&quot;After pop Test_Data_One &quot; &#41;;<br />	stdout.put&#40;&quot;ESP points to&#91; &quot;, esp ,&quot; &#93; &quot;,nl&#41;;<br />	<br />	pop		&#40;Test_Data_One&#41;;<br />	stdout.put&#40;&quot;After pop Test_Data_Two &quot; &#41;;<br />	stdout.put&#40;&quot;ESP points to&#91; &quot;, esp ,&quot; &#93; &quot;,nl,nl&#41;;<br />	<br />	stdout.put&#40;&quot;Press any key to clear the screen&quot;,nl,nl&#41;;<br />	stdin.readLn&#40;&#41;;<br />	console.cls&#40;&#41;;<br />	<br />// -----------------------------------------------<br />// Pointer testing here<br />// Change values via a Pointer<br />// -----------------------------------------------<br />	mov	&#40;&amp;Test_Data_One,eax&#41;;<br />	mov &#40;&#91;eax&#93;,ebx&#41;;<br />	stdout.put&#40;&quot;Old data Test_Data_One &#58; &quot;,&#40;type int32 ebx&#41;,nl&#41;;<br />	// Hmmm this won't work<br />	//mov &#40;$646569,&#91;eax&#93;&#41;;<br />	mov	&#40;Test_Const_Data,&#91;eax&#93;&#41;;<br />	mov	&#40;&#91;eax&#93;,ebx&#41;;<br />	stdout.put&#40;&quot;New data Test_Data_One &#58; &quot;,&#40;type int32 ebx&#41;,nl,nl&#41;;<br />// ----------------------------------------------<br />// Pointer Testing old fashion style<br />// Change value via pointer<br />// ----------------------------------------------<br />	<br />	lea	&#40;Test_Data_Two,eax&#41;;<br />	// Hmmm not working<br />	//mov	&#40;Test_Data_Two,eax&#41;;<br />	mov &#40;&#91;eax&#93;,ebx&#41;;<br />	stdout.put&#40;&quot;Old data Test_Data_Two &#58; &quot;,&#40;type int32 ebx&#41;,nl&#41;;<br />	<br />	mov	&#40;Test_Const_Data_Two,&#91;eax&#93;&#41;;<br />	mov	&#40;&#91;eax&#93;,ebx&#41;;<br />	stdout.put&#40;&quot;New data Test_Data_Two &#58; &quot;,&#40;type int32 ebx&#41;,nl,nl&#41;;<br />	<br />	stdout.put&#40; conText &#41;;<br />	stdin.readLn&#40;&#41;;<br />	<br />end pushpop;<br /><br /></code></pre></div>
    <div class="meta">Posted on 2004-12-10 19:10:31 by zellennium</div>
   </div>
   <div class="post" id="post-154022">
    <div class="subject"><a href="#post-154022">a few questions abouth HLA and the stack.</a></div>
    <div class="body">1. HLA is currently still being regularily developed.  As the sources are readily available, it will remian as long as there are people who use it :)<br /><br />2. There is a general help file (that includes HLA) as well as some sample projects at the RADAsm home page.<br /><br />http://radasm.visualassembler.com/<br /><br />3. No main forum, there is another fourm at Hutch's site<br /><br />http://masmforum.com/index.php<br /><br />And there is the aoaprogramming group on Yahoo<br /><br />http://groups.yahoo.com/<br /><br />There are also general assembly news groups on Google: alt.lang.asm and alt.lang.asm.x86, the latter more friendly than the former.<br /><br />Now some comments on your code:<br /><br /><pre><code><br />   mov   &#40;9999999,ebx&#41;;<br />   Test_Var&#40;&#91;ebx&#93;&#41;;            // wat will happen here ..??? </code></pre><br /><br />This could cause a memory access violation. <br /><br /><div class="quote">xor   (ebx,ebx);         // zero eax<br />   mov   (,ebx);      // copy pushed data form procedure   into ebx<br />   stdout.put(&quot;Data on  is now[ &quot;,( type int32 ebx), &quot; ] &quot;,nl); </div><br /><br />Prior to this point, there are only 3 outstanding  dwords of pushed data on the stack (the stack is restored, as it should be after the procedure), addressed at , , and .   is way out of range.<br /><br /><br /><pre><code>// Hmmm not working<br />   //mov   &#40;Test_Data_Two,eax&#41;; </code></pre><br /><br />Because this moves the value of &quot;Test_Data_Two&quot; into EAX, rather than the address.  If you want the static address of Test_Data_Two, use:<br />mov ( &amp;Test_Data_Two, eax);</div>
    <div class="meta">Posted on 2004-12-12 02:42:00 by Kain</div>
   </div>
   <div class="post" id="post-154088">
    <div class="subject"><a href="#post-154088">a few questions abouth HLA and the stack.</a></div>
    <div class="body"><div class="quote">1. HLA is currently still being regularily developed.  As the sources are readily available, it will remian as long as there are people who use it :)</div><br /><br />Well i sure hope so because i,m learning a lot from HLA book, and HLA seems (TO ME) a great way to slide into assembly programming.<br /><br /><div class="quote"><br />2. There is a general help file (that includes HLA) as well as some sample projects at the RADAsm home page.<br /></div><br /><br />Hmmm wel this didn't work for me, i was looking for a help file wich works like the win32api help file, by pressing F1 you get instant help in RadASM, or Hide.<br /><br /><br /><div class="quote"><br />Now some comments on your code:<br /><br /><pre><code><br />   mov   &#40;9999999,ebx&#41;;<br />   Test_Var&#40;&#91;ebx&#93;&#41;;            // wat will happen here ..??? </code></pre><br /><br />This could cause a memory access violation. <br /><br /></div><br /><br /> Yep it did, and i fixing it now.<br /><br /><div class="quote"><br />xor   (ebx,ebx);         // zero eax<br />   mov   (,ebx);      // copy pushed data form procedure   into ebx<br />   stdout.put(&quot;Data on  is now[ &quot;,( type int32 ebx), &quot; ] &quot;,nl); <br /><br />Prior to this point, there are only 3 outstanding  dwords of pushed data on the stack (the stack is restored, as it should be after the procedure), addressed at , , and .   is way out of range.<br /><br /></div><br /><br />Well as i said before i'm running when i should be walking, i haven't hit that  chapter yet, but i was playing around with the proc, i know that when you use @noframe and @frame, something changes, not shure what, but i think ebp get's pushed on the stack and esp get copied.<br />But i fixed this one 2.<br /><br /><br /><div class="quote"><br /><pre><code>// Hmmm not working<br />   //mov   &#40;Test_Data_Two,eax&#41;; </code></pre><br /><br />Because this moves the value of &quot;Test_Data_Two&quot; into EAX, rather than the address.  If you want the static address of Test_Data_Two, use:<br />mov ( &amp;Test_Data_Two, eax);</div><br />Yes i know this now i could of use lea (Test_data_Two,eax) also same <br />effect i think.<br /><br />Thank you for replying and for your help.</div>
    <div class="meta">Posted on 2004-12-13 13:53:18 by zellennium</div>
   </div>
   <div class="post" id="post-154106">
    <div class="subject"><a href="#post-154106">a few questions abouth HLA and the stack.</a></div>
    <div class="body"><div class="quote">Hmmm wel this didn't work for me, i was looking for a help file wich works like the win32api help file, by pressing F1 you get instant help in RadASM, or Hide. </div><br /><br />Try the Borland site to get the API .hlp file (kind of old, but quidk to load)<br /><br />ftp://ftp.borland.com/pub/delphi/techpubs/delphi2/<br /><br />The file is called Win32.zip<br /><br />The SDK can be downloaded from microsoft.com (huge file).</div>
    <div class="meta">Posted on 2004-12-13 19:55:55 by Kain</div>
   </div>
   <div class="post" id="post-154109">
    <div class="subject"><a href="#post-154109">a few questions abouth HLA and the stack.</a></div>
    <div class="body"><div class="quote"><div class="quote">Hmmm wel this didn't work for me, i was looking for a help file wich works like the win32api help file, by pressing F1 you get instant help in RadASM, or Hide. </div><br /><br />Try the Borland site to get the API .hlp file (kind of old, but quidk to load)<br /><br />ftp://ftp.borland.com/pub/delphi/techpubs/delphi2/<br /><br />The file is called Win32.zip<br /><br />The SDK can be downloaded from microsoft.com (huge file).</div><br />Well i allready have this file , but was looking for a HLA help file wich could work within RadASM,so when my cursur stands on let's say @nodisplay that Rad will open a HLA help file instead of win32api help file.<br />But thanks anyway.</div>
    <div class="meta">Posted on 2004-12-13 20:29:55 by zellennium</div>
   </div>
   <div class="post" id="post-154111">
    <div class="subject"><a href="#post-154111">a few questions abouth HLA and the stack.</a></div>
    <div class="body">I'm afraid there aren't any.  Randall has taken the care to make PDF and HTML versions of HLA help files but those won't work the same way.<br /><br />Sounds like an idea though.  I'll have to look into the cost/benefit factor to see if it's worth doing (or even doable) with the existing files.</div>
    <div class="meta">Posted on 2004-12-13 20:48:13 by Kain</div>
   </div>
   <div class="post" id="post-154159">
    <div class="subject"><a href="#post-154159">a few questions abouth HLA and the stack.</a></div>
    <div class="body"><div class="quote">I'm afraid there aren't any.  Randall has taken the care to make PDF and HTML versions of HLA help files but those won't work the same way.<br /><br />Sounds like an idea though.  I'll have to look into the cost/benefit factor to see if it's worth doing (or even doable) with the existing files.</div><br /><br />Ooh it's worth it allright, i think it will make things easyer especially for beginners like me.<br />I use grep but this doesn't always give you what you ask for.<br />I hope someone does make this help file.<br />Don't know abouth the cost, but for the benefit factor it's worth it.<br />:lol:</div>
    <div class="meta">Posted on 2004-12-14 15:09:18 by zellennium</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Why will not the last bt work? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7880" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7880">Why will not the last bt work?</a></p>
   <div class="post" id="post-57368">
    <div class="subject"><a href="#post-57368">Why will not the last bt work?</a></div>
    <div class="body"><pre><code><br />	xor	cx,cx<br />	mov	eax, &quot;____&quot;<br />	mov	cl, &#91;ebx&#93;.PSCB<br />	bt	cx, 1<br />	jnc	@F<br />		mov	al, &quot;6&quot;<br />@@&#58;	bt	cx, 2<br />	jnc	@F<br />		mov	ah, &quot;7&quot;<br />@@&#58;	rol	eax, 16<br />	bt	cx, 3<br />	jnc	@F<br />		mov	al, &quot;8&quot;<br />@@&#58;	bt	cx, 4<br />	jnc	@F<br />		mov	ah, &quot;9&quot;<br />@@&#58;	ror	eax, 16<br />	mov	&#91;edi&#93;, eax<br />	add	edi, 4<br /><br />	mov	cl, &quot; &quot;<br />	mov	&#91;edi&#93;, cl<br />	inc	edi<br /></code></pre><br /><br />This works for bit 1, 2 and 3 <strong>but</strong> for bit 4, this doesn't work, even though I've set the fourth bit (double and quad checked this :rolleyes: ) it will not replace the last &quot;_&quot; with &quot;9&quot; (in fact it doesn't replace anything but my happy peacefull mind to a   not so happy peace full mind... :) ).</div>
    <div class="meta">Posted on 2002-09-12 12:58:27 by scientica</div>
   </div>
   <div class="post" id="post-57382">
    <div class="subject"><a href="#post-57382">Why will not the last bt work?</a></div>
    <div class="body">Remember bit count is zero based. :)</div>
    <div class="meta">Posted on 2002-09-12 15:25:50 by bitRAKE</div>
   </div>
   <div class="post" id="post-57533">
    <div class="subject"><a href="#post-57533">Why will not the last bt work?</a></div>
    <div class="body">It is?, the pdf I looked into didn't say this. :(<br />It works perfectly now. Thanks, (I'll take a look in the Volume 2 instead of <em>the</em> pdf next time...) :)</div>
    <div class="meta">Posted on 2002-09-13 08:16:53 by scientica</div>
   </div>
  </div>
 </body>
</html>
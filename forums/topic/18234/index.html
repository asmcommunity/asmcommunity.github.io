<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Dll -&gt; Def - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18234" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=18234">Dll -&gt; Def</a></p>
   <div class="post" id="post-141047">
    <div class="subject"><a href="#post-141047">Dll -&gt; Def</a></div>
    <div class="body">Another (almost useless) test proggy... someone might find it useful or educational. :)<br /><br />It reads the exports table from any DLL and generates a DEF file. It works Ok for dlls I have built myself, but when trying it with some system DLLs it seems to generate some garbage in the end... does anyone know why? :confused:</div>
    <div class="meta">Posted on 2004-05-13 11:27:09 by QvasiModo</div>
   </div>
   <div class="post" id="post-141072">
    <div class="subject"><a href="#post-141072">Dll -&gt; Def</a></div>
    <div class="body">Mario,<br /><br />It work fine on a third party dll and kernel32(W2K-SP4).<br /><br />Which system dlls did you notice the problem on?<br /><br />BTW, Fine piece of work there.<br /><br />Regards,  P1 :cool:</div>
    <div class="meta">Posted on 2004-05-13 14:07:16 by Pone</div>
   </div>
   <div class="post" id="post-141150">
    <div class="subject"><a href="#post-141150">Dll -&gt; Def</a></div>
    <div class="body">Hi Pone, thanks for your kind words. :)<br /><br />I noticed a problem with wsock32.dll under W98. It seems to be outputting a large number of nameless imports, all with an ordinal of 1.</div>
    <div class="meta">Posted on 2004-05-14 15:09:45 by QvasiModo</div>
   </div>
   <div class="post" id="post-141274">
    <div class="subject"><a href="#post-141274">Dll -&gt; Def</a></div>
    <div class="body">I don't think you should be too worried about wsock32.dll. That file has some weird crap in it! A few disassemblers even fail to disassemble it.</div>
    <div class="meta">Posted on 2004-05-17 02:38:40 by SubEvil</div>
   </div>
   <div class="post" id="post-141304">
    <div class="subject"><a href="#post-141304">Dll -&gt; Def</a></div>
    <div class="body">Hi QvasiModo,<br /><br />Your work is not useless, it demonstrates the use of imagehlp.dll<br /><br />With my own dll2def tool ( coded before year), I dumped the functions exported by wsock32.dll, plus  I tried the MS dumpbin tool:<br /><pre><code><br />\masm32\bin\dumpbin /exports \windows\system32\wsock32.dll<br /></code></pre><br /><br />Yet, I couldn't view those strange functions displayed by your tool, is it possible that wsock32.dll has some undocumented features?<br /><br />O.S:Win Xp HE Sp1a<br /><br />Keep up your work:alright:</div>
    <div class="meta">Posted on 2004-05-17 11:56:17 by Vortex</div>
   </div>
   <div class="post" id="post-141762">
    <div class="subject"><a href="#post-141762">Dll -&gt; Def</a></div>
    <div class="body"><div class="quote"><br />Hi QvasiModo,<br />Your work is not useless, it demonstrates the use of imagehlp.dll<br /></div><br />Thanks! :)<br /><div class="quote"><strong><br />With my own dll2def tool ( coded before year), I dumped the functions exported by wsock32.dll, plus  I tried the MS dumpbin tool:<br /><pre><code><br />\masm32\bin\dumpbin /exports \windows\system32\wsock32.dll<br /></code></pre><br /><br />Yet, I couldn't view those strange functions displayed by your tool, is it possible that wsock32.dll has some undocumented features?<br /><br />O.S:Win Xp HE Sp1a<br /><br />Keep up your work:alright: </div><br /><br />Not likely, your tool is not reporting this exports simply because it doesn't look for functions exported by ordinal only (no name). I don't really know about dumpbin. My app is simply &quot;making up&quot; this names.<br /><br />Probably I made a mistake, or wsock32.dll is not 100% PE compatible.. it doesn't need to be as long as the system can load it successfully, and since functions will only be searched for ordinal in MS apps the &quot;bogus&quot; ones would never get used.</div>
    <div class="meta">Posted on 2004-05-21 18:20:26 by QvasiModo</div>
   </div>
  </div>
 </body>
</html>
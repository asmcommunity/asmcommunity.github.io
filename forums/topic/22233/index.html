<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Is masm able to output it's assembled source? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22233" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22233">Is masm able to output it's assembled source?</a></p>
   <div class="post" id="post-167146">
    <div class="subject"><a href="#post-167146">Is masm able to output it's assembled source?</a></div>
    <div class="body">Hey, I&#39;m looking for a way to see my assembled code (not compiled, just a txt file where I could see the final code, before it gets converted to hex) I&#39;ve been searching for a command line in masm32.hlp but couldn&#39;t find it...<br /><br />Sorry if I&#39;m not clear enough...</div>
    <div class="meta">Posted on 2005-10-23 10:37:09 by Lenin</div>
   </div>
   <div class="post" id="post-167147">
    <div class="subject"><a href="#post-167147">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">Tasm generates the so called &quot;list file&quot;. I don&#39;t know wheter the masm does the same or not.</div>
    <div class="meta">Posted on 2005-10-23 11:55:13 by ti_mo_n</div>
   </div>
   <div class="post" id="post-167148">
    <div class="subject"><a href="#post-167148">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">You should be typing ml.exe /? instead of searching through that help file.<br /><br />the flag you should be using is /Fl</div>
    <div class="meta">Posted on 2005-10-23 12:25:19 by roticv</div>
   </div>
   <div class="post" id="post-167150">
    <div class="subject"><a href="#post-167150">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">I&#39;m afraid that&#39;s not exactly what I wanted... When I do that I get a file name test.lst with lot&#39;s of equates but not the actual code of my program... I wanted something like:<br /><br />I type this in MASM:<br /><pre><code>.if variable == eax<br />&nbsp; &nbsp; invoke MessageBox, hWnd, addr text, addr AppName, MB_OK<br />.endif</code></pre><br /><br />And get this outputed:<br /><pre><code>0x400001&nbsp; &nbsp; cmp , eax<br />0x400002&nbsp; &nbsp; jnz 0x400008<br />0x400003&nbsp; &nbsp; push 0<br />0x400004&nbsp; &nbsp; push 0x67de23 ; random offset (AppName)<br />0x400005&nbsp; &nbsp; push 0x67fr4e2 ; random offset (text)<br />0x400006&nbsp; &nbsp; push <br />0x400007&nbsp; &nbsp; call MessageBox<br />0x400008&nbsp; &nbsp; etc....</code></pre><br /><br />For debugging purposes... <br /></div>
    <div class="meta">Posted on 2005-10-23 13:07:30 by Lenin</div>
   </div>
   <div class="post" id="post-167152">
    <div class="subject"><a href="#post-167152">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">You can try a tool like dumppe.exe from masm32\bin</div>
    <div class="meta">Posted on 2005-10-23 13:33:15 by comrade</div>
   </div>
   <div class="post" id="post-167155">
    <div class="subject"><a href="#post-167155">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">It should list everything including the code (it&#39;ll be tiny compared to all the equates and so is hard to find). There is a way of using directives inside the source to describe which sections should be listed or not, that way you can tell it not to list the include files there by avoiding all those equates, See this <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vcmasm/html/vclrf_masm_topicalcross-referencefordirectives.asp">Masm Ref.</a> on MSDN.</div>
    <div class="meta">Posted on 2005-10-23 14:04:51 by EÃ³in</div>
   </div>
   <div class="post" id="post-167161">
    <div class="subject"><a href="#post-167161">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body"><span class="mono"><br />drv:\path\ml.exe /c /EP yourfile.asm &gt; output.txt<br /></span><br /><br />This gives you the complete preprocessor output. To get the PE header and a disassembly, use DumpPE.</div>
    <div class="meta">Posted on 2005-10-23 18:59:40 by hutch--</div>
   </div>
   <div class="post" id="post-167162">
    <div class="subject"><a href="#post-167162">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">try this too:<br />\masm32\bin\link /DUMP /DISASM yourexe.obj &gt; 1.asm<br />this gives disassembly with symbols.<br /></div>
    <div class="meta">Posted on 2005-10-23 20:03:08 by drizz</div>
   </div>
   <div class="post" id="post-167163">
    <div class="subject"><a href="#post-167163">Re: Is masm able to output it's assembled source?</a></div>
    <div class="body">Thanks, that fit&#39;s perfectly :)</div>
    <div class="meta">Posted on 2005-10-23 21:32:20 by Lenin</div>
   </div>
  </div>
 </body>
</html>
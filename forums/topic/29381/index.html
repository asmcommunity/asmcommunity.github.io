<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>File I/O help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29381" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29381">File I/O help</a></p>
   <div class="post" id="post-207411">
    <div class="subject"><a href="#post-207411">File I/O help</a></div>
    <div class="body">Hi all,<br /><br />As a part of a larger project I&#039;m currently trying to read in a file or unknown length comprised of a lot of ints separated by line breaks. I&#039;d like to read each int into an array. I&#039;d like to use ReadFile from the irvine32 library but I see that it only reads into a buffer and I&#039;m also confused as to if it will handle a file of variable length (since it requires a number of bytes to read). Any help or clarification with reading in line by line into an array with a file or variable length?<br /><br />Thanks!</div>
    <div class="meta">Posted on 2009-04-29 14:00:03 by 66replica</div>
   </div>
   <div class="post" id="post-207413">
    <div class="subject"><a href="#post-207413">Re: File I/O help</a></div>
    <div class="body">Simply read until there is no further data..?</div>
    <div class="meta">Posted on 2009-04-29 15:30:43 by ti_mo_n</div>
   </div>
   <div class="post" id="post-207445">
    <div class="subject"><a href="#post-207445">Re: File I/O help</a></div>
    <div class="body">Ok, I can read the whole file into a buffer using an Irinve32 library function but I need to parse the data by line break into an array and also be able to take a different path when I encounter a blank line. Sorry, I&#039;m not super proficient with assembly.</div>
    <div class="meta">Posted on 2009-05-01 17:13:37 by 66replica</div>
   </div>
   <div class="post" id="post-207455">
    <div class="subject"><a href="#post-207455">Re: File I/O help</a></div>
    <div class="body">You need to read up on simple tokenizing, like for expression calculators or pre-compilers. As you read in your integers, strip out the EOL sequences, if you hit two EOL sequences back to back that&#039;s a blank line, You have two options, take your alternate action right then, or save a secondary array containing the index of where blank lines where and then when you begin reading your integer array you can check the second array&#039;s contents for the current index to see if it&#039;s flagged for the alternate execution path.<br /><br />A better way would be to save your file as a binary file, dump your integers directly into the file (without separators) as binary data. Then when you read it in, just read them as integers into memory directly and access them as an integer array (no parsing of the end of line sequence needed).<br /><br />Implementation of this is solely up to you. I just thought I would give you a bump in a possible direction.</div>
    <div class="meta">Posted on 2009-05-03 13:11:14 by Synfire</div>
   </div>
   <div class="post" id="post-207462">
    <div class="subject"><a href="#post-207462">Re: File I/O help</a></div>
    <div class="body">Thanks for the direction. I&#039;ll give it a shot this afternoon.</div>
    <div class="meta">Posted on 2009-05-04 10:46:12 by 66replica</div>
   </div>
  </div>
 </body>
</html>
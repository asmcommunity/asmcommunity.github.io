<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>troubleshoot MPU? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12962" />
    <link rel="next" href="../?id=12962&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=32">Electronics</a> &raquo; <a href="../?id=12962">troubleshoot MPU?</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=12962&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=12962&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="12962" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=12962&amp;page=2">&gt;</a><a href="../?id=12962&amp;page=2">&raquo;</a></form>   <div class="post" id="post-100742">
    <div class="subject"><a href="#post-100742">troubleshoot MPU?</a></div>
    <div class="body">hi, i had got a luck to repair A board with a bad 6502 MPU. uh... after tracing back and forth of course. i wanna to ask if there is a way to know if the culprit on the arcade board or whatever board with mpu inside was the culprit.<br /><br />like, what is minimally needed by a mpu to start working/pulsing? the 6502 for instance, have Addr Bus and Data Bus and several control pin. i was facing with another board that have the clock pulsing and it seems other control pin was ok, i.e reset pin. Am i miss something here?<br /><br />gosh, i was replacing a big mpu 68k today, and guess what!! i dont change anything :mad:</div>
    <div class="meta">Posted on 2003-05-02 07:01:49 by dion</div>
   </div>
   <div class="post" id="post-100753">
    <div class="subject"><a href="#post-100753">troubleshoot MPU?</a></div>
    <div class="body">In the past, I rarely found the problem to be the cpu.  Check to see if an interrupt line is being held low constantly or a 'wait' line.  With a scope, when you press reset, do you see any activity, however briefly, on the data lines.</div>
    <div class="meta">Posted on 2003-05-02 07:53:12 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-100920">
    <div class="subject"><a href="#post-100920">troubleshoot MPU?</a></div>
    <div class="body">yes, i think its rare. uhmm... int pin, eh? yup, yup, need to check that one.<br /><br />i was thinking that mpu need a rom and ram, am i right? now, if one of them was fail, whatever the fail is <em>, would the mpu working/pulsing?</div>
    <div class="meta">Posted on 2003-05-03 07:00:06 by dion</div>
   </div>
   <div class="post" id="post-101303">
    <div class="subject"><a href="#post-101303">troubleshoot MPU?</a></div>
    <div class="body">Hi, dion,<br /><br />What makes a microcontroller different from a microprocessor is the fact that in general it has ROM, RAM and I/O ports built-in.<br />So you will no longer see the familiar address/ data/ control busses. The entire computer is inside the chip.<br />You are dealing now with I/O ports, which can be configured (internally through software) as either inputs or outputs. <br />You need to look closely at the schematic and see if an I/O point is used as input or output. (If it's connected to the output of a gate for example, almost certainly it's an input, and so on).<br /><br />If the micro doesn't work, first check th I/O lines and make sure the signals are correct, based on what the I/O points should be (inputs or outputs) and their normal state for operation. <br />Some of the lines can be stuck at Vcc or GND. Now these being I/O lines, the microcontroller may in fact be working inside, but it may be waiting for one of these signals to go HIGH or LOW, so it will <u>appear</u> that it is not working.<br />I found microcontrollers where everything was working, but one of the I/O lines was damaged and stuck to ground so just that one feature was not working.<br /><br />Hope this helps a little.</div>
    <div class="meta">Posted on 2003-05-05 12:03:36 by VVV</div>
   </div>
   <div class="post" id="post-101510">
    <div class="subject"><a href="#post-101510">troubleshoot MPU?</a></div>
    <div class="body">thanks for that explanation, VVV :grin: <br /><br />uhm... i still cant determine though, i facing many 68K processor, a DIP 60? or 68 pins, dont remember it, what i know is, it is the biggest chip afaik. i found many faulty board which is no pulsing on the data/addr bus of the 68k. but, i notice that most of them having /IPL1 was low. and i try to trace back, but geeh!!!, i lost the trace behind the chip, dont know where he go :mad:  my final effort was trying to test from nearest pin, if i can get to what it is connected. but... it failed, and i'm so down, and discourage :(</div>
    <div class="meta">Posted on 2003-05-06 08:13:26 by dion</div>
   </div>
   <div class="post" id="post-101688">
    <div class="subject"><a href="#post-101688">troubleshoot MPU?</a></div>
    <div class="body">Hi, dion,<br /><br />I did not realize it was actually a 68K processor. In that case all my previous ramblings do not apply.<br />You will need to look at the obvious signals:<br />Correct power?<br />Clock present?<br />Reset correct state?<br />Hold correct state?<br />Any activity on the address bus?<br />Is the micro attempting to read anything? is the READ signal being asserted?<br />Do you see the ROM being accessed?<br />And so on.<br /><br />I would also use a reset button and reset the micro periodically, while probing pins. Does it appear to start after reset and get stuck? This could provide some clues.<br /><br />I am sorry I cannot be any more help.</div>
    <div class="meta">Posted on 2003-05-06 19:07:38 by VVV</div>
   </div>
   <div class="post" id="post-101960">
    <div class="subject"><a href="#post-101960">troubleshoot MPU?</a></div>
    <div class="body">the power line was not an issue, i though, because i testing it in my bench. i'm always check the clock existance, pin 15 . the reset at pin 18, in normal is high, and it is, although i found one board with this pin low, and seeing chip MB87???, sorry forgot it. <br /><br />hold pin? uhm... maybe i should read the pinout again ;) addr bus and databus checked too :D<br /><br />unfortunately, the r/w pin is low, most of them iirc. <br />hmm... how to see the mpu accessing the ROM??<br />with see its addr bus, isnt it? or with r/w pin?<br /><br />and your last tip, yeah! i do it sometime. but, thanks you remind me about this one. i found one, that when start all pin reacting ok, aka pulsing. but shortly after, all pin get stuck state. and i can figure out that the picture is somehow showing static garbage.<br /><br />anyway, thanks, you had help me, i need to push myself more harder on this <br />:mad:</div>
    <div class="meta">Posted on 2003-05-08 05:47:15 by dion</div>
   </div>
   <div class="post" id="post-102191">
    <div class="subject"><a href="#post-102191">troubleshoot MPU?</a></div>
    <div class="body">Hi, dion,<br /><br />The line I meant is actually /HALT.  Anyway, if some device drives is low, this will stop the processor.<br />Also, if there is a bus fault, the processor will drive it low. So, check this line. It should be high.<br /><br />Check the /BR signal. If it's low it means some device requested the bus and that is why the processor stopped.<br /><br />The R/W pin being low tells you the micro is trying to write to some device. But I would check to make sure the pin is not actually pulled low (stuck), because this could be the problem.<br /><br />To see if the micro is accessing the ROM, check the /CS and /OE of the ROM. They should go low sometimes, but should not be stuck low. If the ROM is in a socket please check it carefully. Sockets are a major source of trouble. Sometimes it helps just to remove and reinsert the ROM into the socket. If possible, try to replace the ROM with a known good one. If the firmware is corrupted, that can have effects like these.<br /><br />From what you are describing, it seems the micro is attempting to start and then it gets stuck.<br />Probe the /BERR signal. If it goes low, this tells you there is a bus error in the current cycle. Then you know the micro is actually working but something else is wrong.<br /><br />Please try to describe the board, what it contains, maybe that will give me some clues.<br /><br />Good luck.</div>
    <div class="meta">Posted on 2003-05-09 20:17:23 by VVV</div>
   </div>
   <div class="post" id="post-102268">
    <div class="subject"><a href="#post-102268">troubleshoot MPU?</a></div>
    <div class="body">hi VVV, i see you're so seasoned in this stuff, great thanks for the tips :grin: <br /><br />btw, i need to take some time to digest what you said and doing it. oh, and would you know if i mention arcade board name here? or what do you mean for me to describe the board?<br /><br />thanks</div>
    <div class="meta">Posted on 2003-05-10 08:28:26 by dion</div>
   </div>
   <div class="post" id="post-102826">
    <div class="subject"><a href="#post-102826">troubleshoot MPU?</a></div>
    <div class="body">Hi, dinon,<br /><br />Well, I had my share of debugging boards. But it seems there is no easy way to fix them.<br /><br />What I meant was if you could tell me a little more about the board:<br /><br />Actual uP used<br />what kind of ROM it uses<br />what kind of RAM<br />Does it have any I/O ports? Other peripherals?<br />Things like that.  Unfortunately the name Arcade doesn't ring a bell.  I searched the net for it and it only comes up as game. Is there a connection?<br /><br />Best regards,</div>
    <div class="meta">Posted on 2003-05-13 11:33:56 by VVV</div>
   </div>
   <div class="post" id="post-102828">
    <div class="subject"><a href="#post-102828">troubleshoot MPU?</a></div>
    <div class="body">Hi, dion,<br /><br />I thought I'd post this link. Maybe you get lucky and find your schematic. Then we can talk.<br /><br /><a target="_blank" href="">http://www.geocities.com/SiliconValley/Horizon/2253/arcade.html</a> <br /><br />Good luck!</div>
    <div class="meta">Posted on 2003-05-13 11:45:40 by VVV</div>
   </div>
   <div class="post" id="post-103788">
    <div class="subject"><a href="#post-103788">I always check for a clock first</a></div>
    <div class="body">As you state is it &quot;pulsing&quot; ? Yes that is the first place I would begin. Make sure you have a clock. Then check all address and data lines. You may have to keep reseting the processor by cutting power probably. That way you can observe if the processor is reading memory and executing instructions.</div>
    <div class="meta">Posted on 2003-05-18 17:49:06 by mrgone</div>
   </div>
   <div class="post" id="post-103903">
    <div class="subject"><a href="#post-103903">troubleshoot MPU?</a></div>
    <div class="body">Hi guys,<br /><br />I'm new to the board and just thought I would put in my 2 cents worth on a subject I used to be pretty good at.<br /><br />We're talking old technology here.<br /><br />From the sound of things, you have a clock and uP activity till it locks. The buss buffers on these old systems are very static sensitive, so along with all the other obvious things to check are the signals through the buffers.<br /><br />And yes, socketed chips are a major cause of problems. When you pull them be careful of static, clean the pins with a soft eraser, and reinsert them making sure all the pins insert properly.<br /><br />Hope this tip helps.</div>
    <div class="meta">Posted on 2003-05-19 14:55:58 by djinn</div>
   </div>
   <div class="post" id="post-103998">
    <div class="subject"><a href="#post-103998">troubleshoot MPU?</a></div>
    <div class="body">great thanks guys :alright: <br /><br /><strong>djinn:</strong> welcome :) thanx for putting your 2 cent for giving us tips :D btw, i know that tips already , but as time going through, i need to earn my experience by myself. guess what, actually i dont want to say it too early, but checklist from VVV has pass, and lo, the board still dont work.</div>
    <div class="meta">Posted on 2003-05-20 05:56:35 by dion</div>
   </div>
   <div class="post" id="post-104200">
    <div class="subject"><a href="#post-104200">troubleshoot MPU?</a></div>
    <div class="body">Dion,<br /><br />I can relate with your difficulties. CPU boards can be a bear to troubleshoot.<br /><br />Does your board have a battery on it for any memory retention? If so, it may also have a circuit that is usually referred to as a 'watch dog timer', which is used to pulse the battery and make it last longer. If something goes wrong in that circuit, it can prevent the entire system from working properly.<br /><br />Good Luck,<br />Djinn</div>
    <div class="meta">Posted on 2003-05-21 10:57:35 by djinn</div>
   </div>
   <div class="post" id="post-104207">
    <div class="subject"><a href="#post-104207">troubleshoot MPU?</a></div>
    <div class="body">Hi, dion,<br /><br />I take it the link I posted did not help you find the schematic for your board.<br />Can you tell the model, type, any numbers on the board? Anything that would help identify it?<br />Maybe something will just &quot;click&quot;.</div>
    <div class="meta">Posted on 2003-05-21 11:34:24 by VVV</div>
   </div>
   <div class="post" id="post-104292">
    <div class="subject"><a href="#post-104292">troubleshoot MPU?</a></div>
    <div class="body"><strong>djinn:</strong> hi djinn, afaik that watchdog timer was used to inform processor that everything is allright, i.e. bus/ram/rom/whatever. i'm neva read that it related to batt . instead, watchdog timer no need a batt to operate, because it no need to operate in power off situation. but, if theres a batt in the board, what i know is the baord keep a ram/ a piece of memory to be used for saving setting values, or in the CPS1-2 systems, its used for decrypting the roms/programs.<br /><br /><strong>VVV:</strong> hi VVV, i think i cant do that, because the board has been sent back to the owner :( it mean i can do nothing with it. as you mention about arcade, its not a name, but its a term for games produced in 70/80's . well, thats not mean its not produced anymore. recent product uses smd alot. thanks for asking me further, i thought we could continue this thread like what the subj is, tips for troubeshoot mpu, shall we discuss it more detail, or made a tutorial maybe. btw, the board is cadillac &amp; dinasour, not a cps type board. i saw every modified/botleg board using the same 68k processor.</div>
    <div class="meta">Posted on 2003-05-22 06:15:30 by dion</div>
   </div>
   <div class="post" id="post-104338">
    <div class="subject"><a href="#post-104338">troubleshoot MPU?</a></div>
    <div class="body">Dion,<br /><br />thnx for reminding me, the watch dog timer was used as you say also. Motorola used it in a lot of their equipment boards because they didn't want the system doing strange things if the battery backed ram was lost.<br /><br />Examples include MIR series of weather station controllers, Centracom series dispatch stations, early cell site controllers, and others.<br /><br />Djinn</div>
    <div class="meta">Posted on 2003-05-22 10:22:37 by djinn</div>
   </div>
   <div class="post" id="post-104342">
    <div class="subject"><a href="#post-104342">troubleshoot MPU?</a></div>
    <div class="body">Hi, guys,<br /><br />I just want to make comment here on watchdogs, resets and battery backed-up RAM. I sense some confusion.<br /><br />A watchdog is actually a timer. When it overflows it resets the microprocessor (or microcontroller; in modern micros, it can also just generate an interrupt).<br />If the microprocessor operates correctly, then <u>under program control</u> it will periodically clear the timer, not allowing it to overflow and generate a reset. <br />If there is something wrong with the program, if the micro gets stuck (because it read some bad data, or... something weird happened ), it cannot clear the timer, the timer overflows and resets the microprocessor.  Kind of like your resetting the computer when it's &quot;frozen&quot;.<br /><br />A battery backed-up RAM is used to store data and retain it even when power is lost. To do that it needs a circuit that senses the power is about to be lost and switches over to a battery. That is a battery switchover circuit.<br /><br />A reset generator is a circuit which senses the supply voltage and as soon as it goes below a certain level, it resets the micro and it keeps it in reset until the voltage reaches normal operating value. That prevents the micro fom operating with a low supply voltage, which could cause malfunction. The reset circuit also includes some sort of delay or timing circuit, which ensures that once a reset is generated, it lasts long enough, typically 100~200msec. That ensures the micro gets a good reset, not just a thin spike, even if the supply voltage recovers very quickly. This delay is necessary for the micro's oscillator to start-up and stabilize before any instructions are executed.  This circuit inherently works at power-up. When you switch on the power, the voltage increases rather slowly, but the reset circuit keeps the processor in reset until the supply voltage reaches the correct value. It's really a comparator with hysteresis, followed by a timer.<br /><br />The confusion I think arises from the fact that some manufacturers packed the watchdog timer, the reset generator and the battery switchover circuit in a single package. (An example is Linear Technology's LTC694). This makes a lot of sense, because once the power is about to be lost, two things have to happen: reset the micro and back-up the RAM. So the sense circuit can be shared. Also, whether the reset is generated by the watchdog or by the undervoltage, it makes no difference, a 100~200ms signal has to be generated, so again some circuitry is shared, including the reset output pin.<br /><br />I hope my little dissertation here helps clear up some things.</div>
    <div class="meta">Posted on 2003-05-22 11:43:10 by VVV</div>
   </div>
   <div class="post" id="post-104357">
    <div class="subject"><a href="#post-104357">troubleshoot MPU?</a></div>
    <div class="body">Hi VVV,<br /><br />EXCELLENT explanation. That's exactly what Motorola did was package everything and call it a watch dog timer. I had forgotten and it's been awhile since I've seen one.<br /><br />Thank you,<br />Djinn</div>
    <div class="meta">Posted on 2003-05-22 16:36:26 by djinn</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=12962&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=12962&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="12962" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=12962&amp;page=2">&gt;</a><a href="../?id=12962&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
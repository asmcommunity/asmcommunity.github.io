<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>RadAsm and masm64 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17727" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=42">RadASM</a> &raquo; <a href="../?id=17727">RadAsm and masm64</a></p>
   <div class="post" id="post-136905">
    <div class="subject"><a href="#post-136905">RadAsm and masm64</a></div>
    <div class="body">Well, it's just a question...<br /><br />I've tried to use RadASM 2.0.4.2 for developing 64bit applications (XP64/2K3-64). Also i want to see where the problems are. I use masm64, 64Bit API Calls, Structs, Consts etc. (Yeah, that's why i want multiple &quot;.API&quot; files and it's possible since 2.0.4.2)  Normal compilation (manual by using an editor and create via console) is possible...<br /><br />Masm64 differs - as usual - from masm32. Serveral things work already, serveral not.<br />Default instructions of IA64/Amd64 work (stored in masm64.ini), thats not the problem. In general, RadASM has no <strong>problem</strong>, only the handling differs...<br /><pre><code><br />Statements &#58; -&gt; Use &quot;//&quot; instead of &quot;;&quot;  -&gt; Syntax Hilightning and &quot;;;&quot; instruction &#40;Yes, &#91;b&#93;masm64 instruction&#91;/b&#93;&#41;<br />Procedures &#58; -&gt; Usage of &quot;.proc name,...&quot; - &quot;.endp name,...&quot; instead of &quot;myProc proc ...&quot; - &quot;myProc endp&quot;<br />PseudoOps  &#58; -&gt; e.g. &quot;brp.ret.dptk.many.nt.nt.imp&quot; -&gt; use point as seperator inside instructions<br />Registers  &#58; -&gt; e.g. &quot;ar16&quot; == &quot;ar.rsc&quot; -&gt; use point as seperator for registers &#40;pseudo-regs&#41;<br /></code></pre><br /><br />The idea to create structs (inside masm64Struct.api) for registers/pseudo ops with points in order to use them will be obsolete work.<br />I didn't find a way (by changing the line &quot;6=$ proc,{T}{C}{I}{T},{C}{I}{T}ret{C}{C}{I}{$} endp&quot; to get the correct output for procedures. Maybe i missed something)<br /><br />I understand if it is not possible at the moment. But maybe it will show up trouble to avoid in (far) future ;)<br />As i told before, only a question. I know that this implementation (64bit compatibility) might end up in a coding nightmare to keep <strong>both</strong> versions (32bit / 64bit) running. Maybe it will end up in RADASM64 :)<br /><br />And in 64bit, i'm able to &quot;mix&quot; the whole shit (32bit <strong>and</strong> 64bit usage) ... ;)<br /><br />Regards, Pegasus</div>
    <div class="meta">Posted on 2004-03-24 18:08:03 by cu.Pegasus</div>
   </div>
   <div class="post" id="post-136978">
    <div class="subject"><a href="#post-136978">RadAsm and masm64</a></div>
    <div class="body">cu.Pegasus,<br /><br />Currently, how many members of the board are using masm64? :)</div>
    <div class="meta">Posted on 2004-03-25 12:21:39 by Vortex</div>
   </div>
   <div class="post" id="post-136980">
    <div class="subject"><a href="#post-136980">RadAsm and masm64</a></div>
    <div class="body">Hi cu.Pegasus,<br /><br />It would not be difficult to create an INI file for masm64. You have simply to enter the rules for the assembler like any other. For example:<br /><br /><pre><code><br />Code=endp $,proc $<br /><br />for <br /><br />proc MyProc<br /><br />   ret<br />endp MyProc<br /><br />This is what I did when I wanted RadASM to support GoAsm, I wrote my own implementation. We can't have Ketil do everything for us ;)<br /><br />If you have a working masm64 program email it to me and I will take a look at it if you don't feel up to it. I have MASM64 but it is an older version :<br /><br />Microsoft (R) Macro Assembler (x86-64) Version 8.00.2207<br /><br />Never figured out how to specify STDCALL or use the procs.</div>
    <div class="meta">Posted on 2004-03-25 12:29:18 by donkey</div>
   </div>
   <div class="post" id="post-136992">
    <div class="subject"><a href="#post-136992">RadAsm and masm64</a></div>
    <div class="body">Found a solution for pseudo-ops and regs....<br /><br />I made a mistake while entering them into api struct file. After rewriting the files, it works.<br />And by using structures, it shows a box with possible values for regs/ops ;)<br /><br />I'm so glad we have multiple api files now :grin: ....<br /><br />@donkey: Me is using the same version of ml64.exe (Date: 25.03.03)</div>
    <div class="meta">Posted on 2004-03-25 16:44:19 by cu.Pegasus</div>
   </div>
   <div class="post" id="post-137002">
    <div class="subject"><a href="#post-137002">RadAsm and masm64</a></div>
    <div class="body">Well,<br /><br />I looked at it for about 2 seconds again and still can find no way to specify STDCALL, the option that is apparently for that purpose /Gz does not work, OPTION LANGUAGE:STDCALL does not work. Your thing about:<br /><br />.proc name,...<br /><br />just results in errors. However:<br /><br />name proc<br /><br />name endp<br /><br />Works fine, as long as you do not specify any parameters because there is no way I could find to specify a language type. The registers are pretty screwed up. RAX is fine but it allows mov ax,0FFFFFFFFFFh. For the most part it looks like a badly thrown together hack of a program and is only for use in assembling a few opcodes for the x86-64. Though it does seem to support much of the new instruction set even that is incomplete. Also I could not find a way to make invoke work at all, it is not even recognized as a keyword.<br /><br />I think we have to wait a bit to see if Microsoft decides to actually make masm64 something useful, for now they seem to have gutted it to remove the ability to make standalone masm apps. If you have found a way to specify STDCALL and have a proc that uses parameters I would be interested in seeing it because I could not figure it out.</div>
    <div class="meta">Posted on 2004-03-25 17:59:37 by donkey</div>
   </div>
   <div class="post" id="post-137026">
    <div class="subject"><a href="#post-137026">RadAsm and masm64</a></div>
    <div class="body">@donkey:<br />I think you're right. We have to wait until a usable version is avail. <br />Several assemblers - <strong>for Linux64bit</strong> - are more useful then masm64 for Windows64.<br /><br /><pre><code><br />.align 32 <br />.section .text <br /><br />.proc demo <br />demo&#58;&#58; ld4              r32 = &#91;r32&#93; <br />       mov              r55 = r24 <br />       add              r44 = 32, r10 <br />       mov              r17 = 3 <br />       ;; <br />j_loop&#58; <br />       cmp.le           p15,p0 = r32,r0 <br />       add              r32 = -1,r32 <br />       ;; <br />&#40;p15&#41; br.cond.spnt.few j_loop_end <br />       ;; <br />       add              r55 = r44, r43 <br />       fadd             f6 = f4, f6 <br />       nop.m            0 <br />&#40;p17&#41; ld8              r40 = &#91;r50&#93; <br />       ;; <br />j_loop_end&#58; <br />&#40;p16&#41; add              r50 = r40,r0 <br />       nop.f            0 <br />       br.ctop.sptk.few j_loop <br />       ;; <br />_done&#58; <br />       br.ret.sptk.few  b0 <br />       ;; <br />.endp <br /></code></pre><br /><br />masm64 is driving nuts with the shown codepart above, while IAS is able to interpret it...</div>
    <div class="meta">Posted on 2004-03-26 01:53:10 by cu.Pegasus</div>
   </div>
   <div class="post" id="post-137030">
    <div class="subject"><a href="#post-137030">RadAsm and masm64</a></div>
    <div class="body">Doesn't quite compile using MASM64, I assume that is for inline asm. This just confirms the suspicion I have that MS has gutted MASM64 and has no intentions of making a useful version. BTW that is one of the reasons I switched to GoAsm, Jeremy is already thinking of a 64 bit version.<br /><pre><code>testmasm.asm&#40;1&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;2&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;4&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;5&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;6&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;7&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;8&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;10&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;11&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;12&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;14&#41; &#58; error A2008&#58; syntax error &#58; &#40;<br />testmasm.asm&#40;16&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;17&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;18&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;19&#41; &#58; error A2008&#58; syntax error &#58; p17<br />testmasm.asm&#40;21&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;22&#41; &#58; error A2008&#58; syntax error &#58; p16<br />testmasm.asm&#40;23&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;24&#41; &#58; error A2008&#58; syntax error &#58; br<br />testmasm.asm&#40;26&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;27&#41; &#58; error A2008&#58; syntax error &#58; br<br />testmasm.asm&#40;29&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;58&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;59&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;61&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;62&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;63&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;64&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;65&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;67&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;68&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;69&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;71&#41; &#58; error A2008&#58; syntax error &#58; &#40;<br />testmasm.asm&#40;73&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;74&#41; &#58; error A2008&#58; syntax error<br />testmasm.asm&#40;75&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;76&#41; &#58; error A2008&#58; syntax error &#58; p17<br />testmasm.asm&#40;78&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;79&#41; &#58; error A2008&#58; syntax error &#58; p16<br />testmasm.asm&#40;80&#41; &#58; error A2008&#58; syntax error &#58; .<br />testmasm.asm&#40;81&#41; &#58; error A2008&#58; syntax error &#58; br<br />testmasm.asm&#40;83&#41; &#58; error A2034&#58; must be in segment block<br />testmasm.asm&#40;84&#41; &#58; error A2008&#58; syntax error &#58; br<br />testmasm.asm&#40;86&#41; &#58; error A2008&#58; syntax error &#58; .</code></pre></div>
    <div class="meta">Posted on 2004-03-26 03:06:15 by donkey</div>
   </div>
   <div class="post" id="post-137038">
    <div class="subject"><a href="#post-137038">RadAsm and masm64</a></div>
    <div class="body">Hi<br /><br />I currently use Yasm 0.3, I develop on my Opteron under DOS :grin: (rather : starting from DOS, and entering 64-bit long mode. Ad : can somebody do the same as me WITH INT/IRQ 64-bit support ? I'd be REALLY interested, dunno why it bugs :().<br /><br />So Yasm is quite useful, available for DOS/Win/Linux.<br />Nasm64 is going to be widespread (soon ? Xmas ?) too.<br />ML64.EXE : does not work<br />And of course I develop my own one (since yesterday :grin: ) I currently waste too much time because of the lack of a 64-bit debugger.<br /><br />Of course Radasm/Masm32/Ollydbg/vkdebug are nice, but 10-year old TurboC 1.0 visually shows/traces your source/binary with such an ease... I wonder if somebody here (including me) could do it.</div>
    <div class="meta">Posted on 2004-03-26 05:51:08 by valy</div>
   </div>
   <div class="post" id="post-137147">
    <div class="subject"><a href="#post-137147">RadAsm and masm64</a></div>
    <div class="body">Hi valy,<br /><br />I don't know of any good 64 bit debugging tools either. It will be a while before they catch up I geuss. I am not too worried about it as GoBug is always developped in step with GoAsm and when the 64 bit GoAsm comes out I am sure to have a 64 bit dedicated debugger as well.</div>
    <div class="meta">Posted on 2004-03-27 11:23:48 by donkey</div>
   </div>
   <div class="post" id="post-150574">
    <div class="subject"><a href="#post-150574">RadAsm and masm64</a></div>
    <div class="body">How would I go about downloading MASM64?  Didn't even know they pumped it out yet.  I know this thread is about MASM, but if MASM64 can't make stand-alone apps yet, has anybody here messed with GNU's gas?</div>
    <div class="meta">Posted on 2004-09-27 18:30:30 by Al_Leitch</div>
   </div>
  </div>
 </body>
</html>
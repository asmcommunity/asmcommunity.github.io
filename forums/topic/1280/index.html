<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SetProcessWorkingSetSize - any disadvantages? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1280" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1280">SetProcessWorkingSetSize - any disadvantages?</a></p>
   <div class="post" id="post-8291">
    <div class="subject"><a href="#post-8291">SetProcessWorkingSetSize - any disadvantages?</a></div>
    <div class="body">Hi,<br />currently, my Mailclient needs approx. 2100k memory.<br />If I add the following two lines at the beginning, it only needs approx. 940k memory.<br /><br /><pre><code><br />&#91;...&#93;<br />    .code<br />start&#58;<br />    call GetCurrentProcess<br />    invoke SetProcessWorkingSetSize, eax, 0FFFFFFFFh, 0FFFFFFFFh<br />&#91;...&#93;<br /></code></pre><br /><br />Are there any known disadvantages if I use this tiny trick to strip down the memory usage? (so far, my App runs without any error)<br /><br />TIA,<br />bAZiK<br /><br /><em>EDIT</em><br />Just saw one disadvantage:<br /><div class="quote"><br />Windows NT: Requires version 3.5 or later.<br />Windows: Unsupported.  ; &lt;-- :(<br />Windows CE: Unsupported.<br />Header: Declared in winbase.h.<br />Import Library: Use kernel32.lib.<br /></div></div>
    <div class="meta">Posted on 2001-09-29 20:28:59 by bazik</div>
   </div>
   <div class="post" id="post-8323">
    <div class="subject"><a href="#post-8323">SetProcessWorkingSetSize - any disadvantages?</a></div>
    <div class="body">I don't think there's any real advantage of using it... you should only<br />be really concerned with committed pages, not just allocated memory.<br />Also, I believe stack size and such is included in the needed memory.</div>
    <div class="meta">Posted on 2001-09-30 11:09:46 by f0dder</div>
   </div>
  </div>
 </body>
</html>
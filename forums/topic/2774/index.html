<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Calling methods of DMUSIC8 / DSOUND8 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2774" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=2774">Calling methods of DMUSIC8 / DSOUND8</a></p>
   <div class="post" id="post-17778">
    <div class="subject"><a href="#post-17778">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body"><strong>Hi folks !</strong><br /><br />I've just converted the DSOUND8 and DMUSIC8 includes, but I still need to test them with examples ...<br /><br />But there is a little problem ...<br /><br />Many of the declared interface-methods needs WORD / BYTE / INT64 (QWORD) / DOUBLE (REAL8) parameters. But the COINVOKE-MACRO will only support DWORD-Values ... so I need to update this one ...<br /><br />My serious problem is how are those parameters needed here ?<br /><br />Should I put always DWORD-Value for WORD / BYTE and two DWORD-VALUES for QWORD / REAL8 ?<br /><br />The 2-DWORD solution needs a change to the parameter-count which I don't want to change ..!<br /><br />I hope anyone can help me to avoid spending hours / days on disassembling .exe-files !<br /><br />Thanx, CALEB !</div>
    <div class="meta">Posted on 2002-01-05 18:23:17 by Caleb</div>
   </div>
   <div class="post" id="post-17810">
    <div class="subject"><a href="#post-17810">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">Afternoon, Caleb.<br /><br />I'm only a third of the way through dsound.h :(.<br /><br />Can you post what you've done on this file? It'll be quicker/easier for me to modify the last 2/3s of your file for mcall usage, than to duplicate the work you've done.:grin:<br /><br />With regards to the dmusic stuff:<br />Maybe the programmers at M$ stuffed up? I can't find where those *problem* methods are used, so maybe they're errors?<br />All of the other include files for DX8 (that I've seen) only use dwords in the methods. That's why I'm suspicious about the dmusic files.<br /><br />As a temporary solution:<br />Use dwords for those problem methods, and make a note at the top of the file which methods may be incorrect.<br /><br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2002-01-06 01:12:07 by Scronty</div>
   </div>
   <div class="post" id="post-17843">
    <div class="subject"><a href="#post-17843">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body"><strong>Hi Scronty !</strong><br /><br />I'will post them here perhabs tomorrow, some basic stuff still need to be done. So I do not know what to do with all the GUIDS ...<br /><br /><br />Well, the examples don't need them, but if you wanna do a right job I think you must take care of them ....<br /><br />I  don't think that this is a mistake of M$-coders. Those methods need following types as parameters:<br /><br />SAMPLE_POSITION<br />SAMPLE_TIME<br />REFERENCE_TIME<br />    .<br />    :<br /><br />and they are defined as LONGLONG (= INT64). Also some interfaces in DSOUND needs them !<br /><br />Sometimes only pointers to them are needed and sometimes the direct values !<br /><br /><br /><br />Why do you still use mcall ?<br /><br />The interfaces declared by oaidl.inc are much easier to use ...<br /><br /><br /><br />Greetings, CALEB !</div>
    <div class="meta">Posted on 2002-01-06 06:44:28 by Caleb</div>
   </div>
   <div class="post" id="post-17891">
    <div class="subject"><a href="#post-17891">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">OK - I've included them in my DX8.1-Includes.<br /><br />Some Includes have changed since the last version. Also Objbase.DEF was replaced for better include-handling.<br />Please read the README !<br /><br />The problems with DMusic and DSound still resists<br /><br />Greetings, CALEB<br /><br /><strong><a target="_blank" href="http://people.freenet.de/CalebsSite/DirectX81_by_CALEB.zip">Download !</a></strong></div>
    <div class="meta">Posted on 2002-01-06 17:14:05 by Caleb</div>
   </div>
   <div class="post" id="post-17965">
    <div class="subject"><a href="#post-17965">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">YEP - I've found something !<br /><br />COINVOKE and then INVOKE, too, is able to put QWORD-types as parameter, so I have to correct some interface-methods (I can't use comethod in those cases !). I will do this the next days !<br /><br />I wonder noone has replied this fact ... there are many invoke-specialists here, aren't ? ;)<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2002-01-07 03:07:55 by Caleb</div>
   </div>
   <div class="post" id="post-17977">
    <div class="subject"><a href="#post-17977">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">Just wondering... how easy is it to use DirectMusic, just to play a<br />normal midi file? I don't want any code samples, I can probably dig<br />that up myself, just wondering if I'd need to invest multiple hours<br />to get something simple done :).</div>
    <div class="meta">Posted on 2002-01-07 04:57:14 by f0dder</div>
   </div>
   <div class="post" id="post-17991">
    <div class="subject"><a href="#post-17991">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">Afternoon, f0dder.<br /><br />heh. Have a look at the PlayAudio.cpp file in samples\Multimedia\DirectMusic\PlayAudio in the SDK.<br /><br />It's looks pretty straight forward, once the &quot;include&quot; files are complete;) . Most of the file is just for menu adjustments. The DMusic stuff is pretty simple/short/sweet.:alright: <br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2002-01-07 05:45:28 by Scronty</div>
   </div>
   <div class="post" id="post-18002">
    <div class="subject"><a href="#post-18002">Calling methods of DMUSIC8 / DSOUND8</a></div>
    <div class="body">OK its done ! The above file is updated.<br /><br />One more thing I've discovered is that with invoke BYTE and WORD parameters are loaded into AL / AX and then pushed as EAX onto the stack without clearing the higher unused bits ... we have to wait for examples to check out if its ok or not.<br /><br />I hope the conversions are allright. It wasn't magic at all that I need just a week for conversion but UltraEdit has a very fine MACRO-language implemented which makes this possible. (The best macro I've ever done is to tell UEdit how to increase numbers, so I am able to count parameters  :grin: )<br /><br />I wish all those coders of alternate IDE's will try to implement a macro-language :) <br /><br />There are still some files left (DInput, DShow, DMO ...) but I am optimistic to manage them in the next time !<br /><br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2002-01-07 08:13:45 by Caleb</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>looking for help to speed up this game - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1240" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=1240">looking for help to speed up this game</a></p>
   <div class="post" id="post-8084">
    <div class="subject"><a href="#post-8084">looking for help to speed up this game</a></div>
    <div class="body">Hi all,<br /><br />from some time i was dreaming to do a little game compatible for w95/98 with no directX. Just a little and easy game to demonsrtrate asm power.<br /><br />This is the first step: two stars backgronds scrolling (one fast and the other slower) and a starship (fire with space bar).<br /><br /> Now i like it very much but it's too much slow.<br /><br />If someone have some minutes to spend, I would appreciate any suggestion for speed up these easy scrolling.<br /><br />If some help,  thanks       A</div>
    <div class="meta">Posted on 2001-09-26 14:12:00 by Bit7</div>
   </div>
   <div class="post" id="post-8085">
    <div class="subject"><a href="#post-8085">looking for help to speed up this game</a></div>
    <div class="body">oops, forget the .exe</div>
    <div class="meta">Posted on 2001-09-26 14:16:41 by Bit7</div>
   </div>
   <div class="post" id="post-8087">
    <div class="subject"><a href="#post-8087">looking for help to speed up this game</a></div>
    <div class="body">Hi angelo, should this not have been in the game programming section? Anyway...<br /><br />A) I can't run it under win2k. My best guess is that this has to with the fact that edi isn't preserved.<br /><br />B) I couldn't test this theory as you forgot to include spacet.inc.<br /><br />Otherwise it looked promising.</div>
    <div class="meta">Posted on 2001-09-26 16:38:58 by Eóin</div>
   </div>
   <div class="post" id="post-8090">
    <div class="subject"><a href="#post-8090">Yup</a></div>
    <div class="body">i have moved it to the Game section where it belongs,<br /><br />besides i will check your code and advice about where to improve it, GDI was not that slow when we used it in HE...</div>
    <div class="meta">Posted on 2001-09-26 17:02:34 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-8221">
    <div class="subject"><a href="#post-8221">looking for help to speed up this game</a></div>
    <div class="body">Eoin, Bogdan,<br /><br />thanks you all  for the interest !<br /><br />Sorry to forget the include and rc ... attached is the entire project..<br /><br />Bye</div>
    <div class="meta">Posted on 2001-09-28 16:02:23 by Bit7</div>
   </div>
   <div class="post" id="post-8227">
    <div class="subject"><a href="#post-8227">looking for help to speed up this game</a></div>
    <div class="body">Angelo, unfortunatly its written in Tasm so I can't compile it. I suggest you try and preserve edi, esi and ebx through out the WinProc (Looking at the code I think only edi needs preserveing) And post that exe here.<br /><br />Hopefully that will solve the Win2k problems.</div>
    <div class="meta">Posted on 2001-09-28 17:39:36 by Eóin</div>
   </div>
   <div class="post" id="post-8239">
    <div class="subject"><a href="#post-8239">looking for help to speed up this game</a></div>
    <div class="body">Angelo i like the fact thet you use two bitmaps..thats neat<br /><br />However i think scrolling bitmaps is a very heavy load on the processor...especially of that size.<br /><br />What you should do is create a black background and set pixels on and off for your stars<br /><br />All your star data can be put in an array including color ,x position ,y position and even star size<br /><br />you can change the data in your array while at the same time reading it<br /><br />Just make your code able to read your array the way you want<br /><br />And sure it will take a little work but it will take a hell of a load off the processor and speed thing ups dramatcally...like about a thousand times. This is because every pixel in your bitmap has to be processed whereas if you have a black bacground only the pixel representing the stars have to be turned on, turned off and then the position for them updated in your array.<br /><br />Put it in a thread so you dont lose mouse control.<br /><br /><br />Oh yes ..you can also generate random values as you go so your star feild will never repeat itself exacty.<br /><br />NaN has a great random number generator i started using in my prog. <br /><br />I still have it but i am too lazey to look right now. If your interested in just replie and i'll post it in this thread.<br /><br />Maybe you already downloaded it.<br /> :alright:</div>
    <div class="meta">Posted on 2001-09-28 20:00:57 by titan</div>
   </div>
   <div class="post" id="post-8262">
    <div class="subject"><a href="#post-8262">looking for help to speed up this game</a></div>
    <div class="body">Hi all !<br />Eoin,<br />i've re-compiled, now only edi is preserved. All work fine.<br />attached the game complete with new exe. Hope now it run in 2K.<br /><br />Hei titan,<br />your is a great idea ! <br />I just need to learn correct syntax and data definition for arrays, i've never used them till now. Just a little time to learn and then i will try  with SetPixel !<br />I have already have a random generator, is the one you see in the code of the game. Could it work fine ?<br /><br />Thanks all,<br /><br />Bye</div>
    <div class="meta">Posted on 2001-09-29 08:07:00 by Bit7</div>
   </div>
   <div class="post" id="post-8391">
    <div class="subject"><a href="#post-8391">looking for help to speed up this game</a></div>
    <div class="body">angelo,<br /><br />your game doesn't run on WinNT 4.0 (GPF when I press a key). I dont have TASM so I cant compile it. Would you please be so kind and make another copy and save esi,edi and ebx registers in functions WinProc and GameLoop?<br /><br />japheth</div>
    <div class="meta">Posted on 2001-10-01 07:15:07 by japheth</div>
   </div>
   <div class="post" id="post-8513">
    <div class="subject"><a href="#post-8513">a step forward</a></div>
    <div class="body">hi all,<br /><br />with your help and suggestions a step forward has been done, i think.<br /><br />Japheth,<br />i've preserved esi, edi and ebx on both routines you mentioned.<br />Hope it now can run in 2K. Let me know if it is, i'm interested also in compatibility.<br /><br />Titan,<br />look at the new much more fast scrolling done with an array of pixels ! It seem wonderful !<br /><br />Thanks all ! Next step will be a second slower stars background, to give a tridimensional effect. <br /><br />Bye</div>
    <div class="meta">Posted on 2001-10-02 16:35:50 by Bit7</div>
   </div>
   <div class="post" id="post-8541">
    <div class="subject"><a href="#post-8541">looking for help to speed up this game</a></div>
    <div class="body">angelo if you were pleased with using an array to speed up the scrolling background thats great.<br />To get your tridimensional effect you don't have to use a different array.<br /><br />Just make some element in the array scroll at different speeds....like every second one.<br /><br />Heck...maybe you go further and make every element based on division by 2,3, 4 scroll at different speeds.<br /><br />just a thought.<br />:alright:</div>
    <div class="meta">Posted on 2001-10-02 22:20:46 by titan</div>
   </div>
   <div class="post" id="post-8545">
    <div class="subject"><a href="#post-8545">looking for help to speed up this game</a></div>
    <div class="body">thanks titan !<br /><br />if you don't told me this, i sure had create a second array :(<br /><br /><br />thanks again :alright: :alright: <br /><br />@ next step<br /><br />bye</div>
    <div class="meta">Posted on 2001-10-03 00:59:53 by Bit7</div>
   </div>
   <div class="post" id="post-8639">
    <div class="subject"><a href="#post-8639">looking for help to speed up this game</a></div>
    <div class="body">angelo,<br /><br />IN/OUT isnt allowed in WinNT/2k. This will not work:<br /><br /><pre><code><br />                ; starship position<br />Starship&#58;       in      ax,60h                <br /><br />                cmp     al,4bh<br />                je      MoveLeft                 <br />                cmp     al,4dh<br /></code></pre><br /><br />japheth</div>
    <div class="meta">Posted on 2001-10-04 04:44:07 by japheth</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>(¦ nbsp;) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22742" />
    <link rel="next" href="../?id=22742&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=22742">(¦ nbsp;)</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=22742&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=22742&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="22742" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=22742&amp;page=2">&gt;</a><a href="../?id=22742&amp;page=2">&raquo;</a></form>   <div class="post" id="post-170306">
    <div class="subject"><a href="#post-170306">(¦ nbsp;)</a></div>
    <div class="body">I double space regularly in my posts.<br /><br />I modify and save, then these&nbsp;  show up every where I double spaced at.<br /><br />Any queses as why this is happenning???<br /><br />Regards,&nbsp; P1&nbsp; 8)<br /><br />PS:&nbsp; It&#39;s annoying to fix them.</div>
    <div class="meta">Posted on 2006-03-08 13:28:58 by P1</div>
   </div>
   <div class="post" id="post-170315">
    <div class="subject"><a href="#post-170315">Re: |nbsp;</a></div>
    <div class="body">Because the board is using the non-breaking-space HTML code to force a space. HTML ignores anything more than just one space, so it has a markup called &amp;nbsp; which allows you to force an extra space. These are especially useful if you want a single line to vertically scroll the web page but not to wrap on your spaces. It&#39;s just a part of the translation process to keep things lined up. If you want to parse them out for later storage Hutch&#39;s QEditor can strip HTML Code.. or if you have PERL you can use..<br /><br /><pre><code><br />#!perl.exe<br />my $file = join (&#39; &#39;, @ARGV);<br />open ( INPUT, &quot;$file&quot; ) or die &quot;Could not open &#39;$file&#39;\n&quot;;<br />open ( OUTPUT, &quot;&gt;$file.new&quot;) or die &quot;Could not open &#39;$file.new&#39;\n&quot;;<br />while ( my $line = &lt;INPUT&gt; ) {<br />&nbsp; $line = s/\&amp;nbsp\;/\ /ig;<br />&nbsp; print OUTPUT $line;<br />}<br />close ( OUTPUT );<br />close ( INPUT );<br /></code></pre><br /><strong>edit</strong>: forgot to close my file handles&nbsp; :oops:<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2006-03-08 18:36:13 by Synfire</div>
   </div>
   <div class="post" id="post-170350">
    <div class="subject"><a href="#post-170350">Re: |nbsp;</a></div>
    <div class="body">Spook,<br /><br />Please fix the substitution from |nbsp; to &amp;nbsp;<br /><br />Thanks in Advance!!!<br /><br />Bryant,&nbsp; Thanks for the heads up!&nbsp; It&#39;s the board making the bad substitutions.&nbsp; You see them evreywhere.<br /><br />Regards,&nbsp; P1&nbsp; 8)</div>
    <div class="meta">Posted on 2006-03-09 17:10:14 by P1</div>
   </div>
   <div class="post" id="post-170409">
    <div class="subject"><a href="#post-170409">Re:  </a></div>
    <div class="body">The fact that this thread now looks goofy should be proof that the problem has been temporarily fixed. I had to change the topic of the thread because it became a simple space due to the resolution of the issue.</div>
    <div class="meta">Posted on 2006-03-11 00:16:10 by SpooK</div>
   </div>
   <div class="post" id="post-170410">
    <div class="subject"><a href="#post-170410">Re: (¦ nbsp;)</a></div>
    <div class="body">Bryant,<br /><br />This is unrelated to the topic but I just downloaded and had a look at your NASM32 package and it looks good and all the demos work correctly. I always had a soft spot for NASM and even had a good play with it in early 97 but sad to say I don&#39;t have the time these days.<br /><br />Give me a yell if there is anything I can help you with out of the toys I have available.<br /><br />Regards,<br /><br />hutch at movsd dot com</div>
    <div class="meta">Posted on 2006-03-11 01:43:10 by hutch--</div>
   </div>
   <div class="post" id="post-178316">
    <div class="subject"><a href="#post-178316">Re: (¦ nbsp;)</a></div>
    <div class="body">Thanks Spook!!!?&nbsp; They are still being inserted.?&nbsp; note: below<br /><br />Regards,?&nbsp; P1?&nbsp; 8)<br /><br />Edit to check for proper substitution.<br /><br />Spook,<br />1st edit put them in.<br />2nd edit took them out.<br />3rd edit put them in.<br />4th edit took them out.<br />5th edit put them in.<br />I believe there is a pattern developing.</div>
    <div class="meta">Posted on 2006-03-13 10:42:54 by P1</div>
   </div>
   <div class="post" id="post-178323">
    <div class="subject"><a href="#post-178323">Re: (¦ nbsp;)</a></div>
    <div class="body">first test&nbsp; second test&nbsp; third test&nbsp; fourth test&nbsp; fifth test&nbsp;  sixth test&nbsp; &nbsp;  seventh test&nbsp; &nbsp;  <br /><br />This is an example of the same conditions you set-up. There has been no evidence of your condition. Since you are the only one who seems to suffer from this issue, I would check your browser/language/character-encoding because it seems like a client issue on your end.</div>
    <div class="meta">Posted on 2006-03-13 18:19:08 by SpooK</div>
   </div>
   <div class="post" id="post-178330">
    <div class="subject"><a href="#post-178330">Re: (¦ nbsp;)</a></div>
    <div class="body">Spook, seems like I have the same problem. Check this post http://www.asmcommunity.net/board/index.php?topic=24416.msg178315#msg178315 <br />All double spaces in the code snippet got replaced by ¦nbsp. </div>
    <div class="meta">Posted on 2006-03-13 21:03:27 by arafel</div>
   </div>
   <div class="post" id="post-178332">
    <div class="subject"><a href="#post-178332">Re: (¦ nbsp;)</a></div>
    <div class="body">What web browsers are you (arafel and P1) using (name/release/version/patch)???</div>
    <div class="meta">Posted on 2006-03-13 22:08:52 by SpooK</div>
   </div>
   <div class="post" id="post-178334">
    <div class="subject"><a href="#post-178334">Re: (¦ nbsp;)</a></div>
    <div class="body">IE 6.0.2900.2180.xpsp_sp2_gdr.050301-1519 and Firefox 1.5.0.1<br /><br />It&#39;s really weird that you can&#39;t see those replaced characters. It doesn&#39;t seems to be a client side problem. I tried both FF and IE (including Mozilla from linux station) with different encodings and the problem persisted on all occasions.</div>
    <div class="meta">Posted on 2006-03-13 22:32:32 by arafel</div>
   </div>
   <div class="post" id="post-178335">
    <div class="subject"><a href="#post-178335">Re: (¦ nbsp;)</a></div>
    <div class="body">I just tried it with one of the posts and I didn&#39;t have any problem (double-space remains a double-space). It might be a problem with the UTF-8 encoding on this forum. I still need info from P1.<br /><br />Also, I would like to know the keyboard layouts you use on your OS when attempting this.</div>
    <div class="meta">Posted on 2006-03-13 22:49:38 by SpooK</div>
   </div>
   <div class="post" id="post-178340">
    <div class="subject"><a href="#post-178340">Re: (¦ nbsp;)</a></div>
    <div class="body">Okay, I&#39;ve finally downloaded SMF and looked over the code and it seems everything is right.<br /><br /><pre><code><br />$message = strtr($message, array(&#39;&nbsp; &#39; =&gt; &#39; &amp;nbsp;&#39;, &quot;\r&quot; =&gt; &#39;&#39;, &quot;\n&quot; =&gt; &#39;&lt;br /&gt;&#39;, &#39;&lt;br /&gt; &#39; =&gt; &#39;&lt;br /&gt;&amp;nbsp;&#39;));<br /></code></pre><br /><br />So I went in search and I found a few posts on UTF-8 in regards to non-english language character sets messing up &amp;nbsp; The example I saw was that on the vietnamese UTF-8 variant the &amp;nbsp; generates an ?&nbsp; character. Therefore I think Spook is going in the right direction with this. Check and make sure your language encoding for your browser is set to English, if not that&#39;s probably the problem. If it is, let me know and I&#39;ll continue hunting down a solution. :)<br /><br /><strong>EDIT</strong> That&#39;s <strong>definately</strong> it! notice the ? above, that was supposed to be a hyphenated a character. And the script changed it to a ?. Check the language setting for your browser.<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2006-03-13 23:39:20 by Synfire</div>
   </div>
   <div class="post" id="post-178348">
    <div class="subject"><a href="#post-178348">Re: (¦ nbsp;)</a></div>
    <div class="body">Btw, if anyone is wondering what character is being translated to the ? it&#39;s the ASCII 0xE0 character.</div>
    <div class="meta">Posted on 2006-03-14 01:38:08 by Synfire</div>
   </div>
   <div class="post" id="post-178374">
    <div class="subject"><a href="#post-178374">Re: (¦ nbsp;)</a></div>
    <div class="body">Spook, iam using QWERTY layout. <br />Synfire, encoding is set to english. <br /><br />Maybe the following will explain the problem better. <br /><br />When I post something (doesn&#39;t matter what encoding is used. unicode, western, etc.. all the same) it appears correctly. No nbsp stuff.<br />But when the post is modified (only when thread has been reloaded, otherwise it doesn&#39;t work) - nbsp`s appear. modify+save again - they disappear, modify+save again - appear gain.</div>
    <div class="meta">Posted on 2006-03-14 10:44:15 by arafel</div>
   </div>
   <div class="post" id="post-178377">
    <div class="subject"><a href="#post-178377">Re: (¦ nbsp;)</a></div>
    <div class="body">arafel,<br /><br />K, then I&#39;ll continue looking over the source here in a little bit</div>
    <div class="meta">Posted on 2006-03-14 12:04:40 by Synfire</div>
   </div>
   <div class="post" id="post-178407">
    <div class="subject"><a href="#post-178407">Re: (¦ nbsp;)</a></div>
    <div class="body">I have IE 6.0.2800.1106 on W2K-SP4.<br /><br />I am firing up FF to see if it does the same thing.<br /><br />Regards,&nbsp; P1&nbsp; 8)<br /><br /></div>
    <div class="meta">Posted on 2006-03-15 18:14:23 by P1</div>
   </div>
   <div class="post" id="post-178408">
    <div class="subject"><a href="#post-178408">Re: (¦ nbsp;)</a></div>
    <div class="body">In FF, the |nbsp went away, but I have the diamond shape with a ? in it.<br /><br />Regards,&nbsp; P1&nbsp; 8)</div>
    <div class="meta">Posted on 2006-03-15 18:21:02 by P1</div>
   </div>
   <div class="post" id="post-178409">
    <div class="subject"><a href="#post-178409">Re: (¦ nbsp;)</a></div>
    <div class="body">It might take me a little bit. There are several possible spots where this might be occuring. I&#39;ve uploaded a test version of SMF on my dev-machine to test on. As soon as I find a solution which doesn&#39;t effect the rest of the board then I will pass it over to Spook. The problem in this is that if Spook was to make any changes to the primary filtering parts of the code it could really mess up the forum (or even invalidate security filters which could make the forum vulnerable to certain attacks). This is because all parsing of security elements and html elements are done in the same area&nbsp; :|<br /><br />The developers of SMF do know about this problem (I&#39;ve seen a few posts on their forum about it) but have not commented on a fix for it as of yet. While there is a fix which was distributed by a poster on their forum, the person who posted stated that they were &quot;not sure what else it might have messed up in the process&quot;, so that&#39;s not going to be the road I wish to go ;)<br /><br />Currently, I&#39;m looking over the forums Javascript functions because it seems odd that the browsers behavior could be effecting the server side PHP translation (especially with the filters I&#39;m looking at) I&#39;m checking to see if, since javascript is used to parse the content when using &quot;Preview&quot;, the javascript parsing methods might be what&#39;s causing the different translations of code when they are passed to the server. I&#39;m working on this the best I can and I&#39;ll be sure to post back when I find a solution that won&#39;t mess anything up :)<br /><br />Regards,<br />Bryant Keller<br /></div>
    <div class="meta">Posted on 2006-03-15 18:36:39 by Synfire</div>
   </div>
   <div class="post" id="post-178441">
    <div class="subject"><a href="#post-178441">Re: (¦ nbsp;)</a></div>
    <div class="body">Bryant,<br /><br />Your test SMF site works for me.<br /><br />Regards,¦nbsp; P1¦nbsp; ¦nbsp;8)<br />1st?&nbsp; Modify Note: ¦nbsp;¦nbsp; are still here.<br />2nd?&nbsp; Modify Note it interesting that they turn on and off with each succeeding modify.?&nbsp; Which is why I thought it was a board problem.?&nbsp; Observation: When I manual type |,n,b,s,p,; SMF filters it.<br /><br />New observation:&nbsp; In using modify, on a post, I don&#39;t need to change a thing and SMF will put in and take out the |,n,b,s,p,&amp;&nbsp; in the post.</div>
    <div class="meta">Posted on 2006-03-17 11:27:13 by P1</div>
   </div>
   <div class="post" id="post-178443">
    <div class="subject"><a href="#post-178443">Re: (¦ nbsp;)</a></div>
    <div class="body">P1,<br /><br />Thanks for the quick reply. I&#39;m still working trying to obtain the error that occured here on that test board. The problem is until I can recreate the error, there really is no way for me to find/debug it. I&#39;ve sent an email to the creators of SMF to find out if they might have, by chance, updated the 1.1R2 release with a fix for this error (as there were posts about this error on their board) but I&#39;ve not recieved a reply yet.<br /><br /><div class="quote"><br />Modify Note it interesting that <strong>they turn on and off with each succeeding modify</strong>.&nbsp; Which is why I thought it was a board problem.&nbsp; Observation: When I manual type |,n,b,s,p,; SMF filters it.<br /></div><br /><br />That is actually what has directed my attention to the JavaScript code rather than the PHP code. In the PHP code one parser is used to generate the proper &amp; nbsp; code. But in the JavaScript I noticed that the &quot;Preview&quot; and &quot;Modify&quot; actually go through an extra filter for client side display during editing. The filter isn&#39;t called every time, so it makes sense to me that the error is probably there. This would also explain why it&#39;s only working with MSIE and not with FF (as they both use different scripting engines).<br /><br />Thanks for the feedback and I will continue to try to sort this out.<br /><br />Regards,<br />Bryant Keller</div>
    <div class="meta">Posted on 2006-03-17 13:06:08 by Synfire</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=22742&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=22742&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="22742" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=22742&amp;page=2">&gt;</a><a href="../?id=22742&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Building .com file - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27654" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27654">Building .com file</a></p>
   <div class="post" id="post-197349">
    <div class="subject"><a href="#post-197349">Building .com file</a></div>
    <div class="body">How can I build .com file with MASM ? I just want MASM to take my source file and translate it to binary opcodes. How can I do that ?</div>
    <div class="meta">Posted on 2001-04-15 08:12:00 by karim</div>
   </div>
   <div class="post" id="post-197350">
    <div class="subject"><a href="#post-197350">Building .com file</a></div>
    <div class="body">I use this batch file to build DOS .COM files. It's always worked for me. You also have to download a old version of link.exe from Iczilions site (in the downloads section) to link com files, and put it in your \Masm32\Bin\ folder under the name doslink.exe, in order to use it with this .bat file.

doscom.bat

<pre><code>
@echo off

if exist %1.obj del %1.obj
if exist %1.exe del %1.exe

\masm32\bin\ml /AT /Zm /c %1.asm
if errorlevel 1 goto errasm

\masm32\bin\DosLink /TINY /DOSSEG %1.obj
if errorlevel 1 goto errlink
dir %1.*
goto TheEnd

:errlink
echo _
echo Link error
goto TheEnd

:errasm
echo _
echo Assembly Error
goto TheEnd

:TheEnd

pause
</code></pre></div>
    <div class="meta">Posted on 2001-04-15 09:05:00 by Qweerdy</div>
   </div>
   <div class="post" id="post-197351">
    <div class="subject"><a href="#post-197351">Building .com file</a></div>
    <div class="body">Thanks !</div>
    <div class="meta">Posted on 2001-04-15 11:11:00 by karim</div>
   </div>
  </div>
 </body>
</html>
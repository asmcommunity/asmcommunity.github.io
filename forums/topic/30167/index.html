<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>The structure of ModR/M byte - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30167" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30167">The structure of ModR/M byte</a></p>
   <div class="post" id="post-212750">
    <div class="subject"><a href="#post-212750">The structure of ModR/M byte</a></div>
    <div class="body">7.3.2.3<br />Increment and Decrement Instructions in 64-Bit Mode<br />The INC and DEC instructions are supported in 64-bit mode. However, some forms of<br />INC and DEC (the register operand being encoded using <strong><em>register extension field</em></strong> in the MOD R/M byte) are not encodable in 64-bit mode because the opcodes are treated as REX prefixes.<br />------------------------------------------------------------------------------------<br /><br />Where is the register extension field of ModR/M byte? </div>
    <div class="meta">Posted on 2010-08-17 05:48:58 by logicman112</div>
   </div>
   <div class="post" id="post-212752">
    <div class="subject"><a href="#post-212752">Re: The structure of ModR/M byte</a></div>
    <div class="body">In 32bit mode primary inc and dec&nbsp; when addressing registers were one byte opcodes 40-4F there was a secondary encoding with 0xff(group) for addressing memory (and it could be encoded to registers too!).<br /><br />The 40-4F were only defined for registers - no modrm. (by heart) it looked like this 0100 X RRR , X=0 defines inc, X=1 defines dec, rrr register<br /><br />In 64bit mode they have taken this 1-byte opcode to be a prefix - REX. <br /><br />You should really be reading the &quot;instruction set reference&quot; for the details. (by heart) 0100 remains and XRRR are the flags.</div>
    <div class="meta">Posted on 2010-08-17 07:49:31 by drizz</div>
   </div>
   <div class="post" id="post-212783">
    <div class="subject"><a href="#post-212783">Re: The structure of ModR/M byte</a></div>
    <div class="body">You are completely right, drizz. Thank you.<br /><br />But my surprise was the manual. It is saying: register operand is being encoded by a filed named, register extension field in the MOD R/M byte!! While those registers are encoded by opcode!! not MOD R/M byte!<br /> :shock:<br /></div>
    <div class="meta">Posted on 2010-08-18 01:38:38 by logicman112</div>
   </div>
  </div>
 </body>
</html>
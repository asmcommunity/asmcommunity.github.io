<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>BSP Connectivity Revisited - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28986" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28986">BSP Connectivity Revisited</a></p>
   <div class="post" id="post-204889">
    <div class="subject"><a href="#post-204889">BSP Connectivity Revisited</a></div>
    <div class="body"><br />I&#039;ve just finished implementing Nathan Whitaker&#039;s portal discovery algorithm.<br />Believe me, implementing it was awkward, involving deep recursions and lots of cutting of triangles, sorting between lists and creation of &#039;junk data&#039; along the way, and the algorithm is, all said and done, a bit of a clunker.<br /><br />So, we&#039;ve generated a BSP Tree whose Leaves describe convex spaces which are bounded by the faces of the world, except for some holes in them, which we know just happen to lay on the &#039;cutting planes&#039; that we found and used to construct the tree...<br /><br />Really, we wish to &#039;close&#039; the holes in our open hulls that surround our convex spaces, and we know that the 3D shape of each hole must be along one or more of our cutting planes.<br /><br />We can use a &#039;hole-closing algorithm to find these shapes, accelerated by our knowledge that the vertices which form the edges of the hole all lie on our cutting planes. It will still be expensive, but nowhere near as expensive as the algorithm that cuts and sorts, cuts and sorts..<br /><br />For a given leaf node, we&#039;ll be looking at the set of vertices which are used by its faces.. for each cutting plane, we will try to find three or more vertices that rest apon the plane - if we can find three or more, we have found a portal and its vertices (an n-sided planar polygon).<br />Now for the connectivity part.. for each portal, find the midpoint of its vertices... we know that it will be coplanar. Now using the surface normal, shove the point to each side of the plane, and use the tree to find out which &#039;other&#039; leaf node it lands in... tadaa, connected.<br />Now we can write out the data for each Leaf node, and discard the tree.<br /><br />What do you think?<br /><br /><br /> </div>
    <div class="meta">Posted on 2008-02-29 12:12:16 by Homer</div>
   </div>
  </div>
 </body>
</html>
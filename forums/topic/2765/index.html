<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how can i implement log function? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2765" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2765">how can i implement log function?</a></p>
   <div class="post" id="post-17710">
    <div class="subject"><a href="#post-17710">how can i implement log function?</a></div>
    <div class="body">hi<br />I want to create log func for my server.<br />I choose this way: when server starts,I open a logfile by OPEN_ALWAYS,Then any request access,write file by append method.While server stop,close logfile handle.<br /><br />Now there is a question:<br />I don't know how could I write by append method.<br /><br />I couldn't find append method of WriteFile in Win32API manual.<br />Could anyone show me how to do?<br /><br />thanks<br /><br />terry</div>
    <div class="meta">Posted on 2002-01-05 08:34:45 by xqterry</div>
   </div>
   <div class="post" id="post-17711">
    <div class="subject"><a href="#post-17711">how can i implement log function?</a></div>
    <div class="body">Hi.<br /><br />You can use SetFilePointer (using FILE_END as fourth parameter) to go to the end of your log file and write on it.</div>
    <div class="meta">Posted on 2002-01-05 09:13:57 by JCP</div>
   </div>
   <div class="post" id="post-17727">
    <div class="subject"><a href="#post-17727">how can i implement log function?</a></div>
    <div class="body">Readiosys<br /><br />thanks for your help.</div>
    <div class="meta">Posted on 2002-01-05 11:49:49 by xqterry</div>
   </div>
   <div class="post" id="post-17834">
    <div class="subject"><a href="#post-17834">how can i implement log function?</a></div>
    <div class="body">Here is another option: you could use something like Ernie's debug macros (<a target="_blank" href="http://ourworld.compuserve.com/homepages/ernies_world/debug.htm"><u>here</u></a>) to put together your log file. The advantages? They are damn good, and damn easy to use. You would have alter the macro that opens the logfile so that it appends, but that is a very simple matter (if you use his code commercially, you would have to obtain a license off him first though). Using his macros, your logging lines would look something like this:<br /><br /><pre><code><br />   DLog   &quot;any old literal string here&quot;<br />   DLogValH   eax, &quot;the value of eax is&#58;&quot;<br /></code></pre><br /><br />In case you can't tell, i love these macros, and they can make your job real simple :)</div>
    <div class="meta">Posted on 2002-01-06 05:16:40 by sluggy</div>
   </div>
   <div class="post" id="post-17841">
    <div class="subject"><a href="#post-17841">how can i implement log function?</a></div>
    <div class="body">sluggy: remember that they are *debug* macros, they pushad/popad before and after the log call to preserve all registers, which isn't effecient when using it as log macros. <br />But you could remove the pushad/popads from the macros.. <br /><br />Thomas</div>
    <div class="meta">Posted on 2002-01-06 05:50:54 by Thomas</div>
   </div>
   <div class="post" id="post-17848">
    <div class="subject"><a href="#post-17848">how can i implement log function?</a></div>
    <div class="body">sluggy<br />thanks,i think i would like it more and more.<br /><br /><br />Thomas<br />thanks for tips, i tried to remove those protect.<br /><br />terry</div>
    <div class="meta">Posted on 2002-01-06 09:34:53 by xqterry</div>
   </div>
  </div>
 </body>
</html>
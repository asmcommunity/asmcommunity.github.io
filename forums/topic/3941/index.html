<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Align 32 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3941" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3941">Align 32</a></p>
   <div class="post" id="post-26808">
    <div class="subject"><a href="#post-26808">Align 32</a></div>
    <div class="body">I'm working on a data structure in my .data section that needs members to be aligned on 32 bit boundaries. I was going to just use an &quot;Align 32&quot; before each member, but I'm getting an error:<br /><br /><br />error A2189: invalid combination with segment alignment : 32<br /><br /><br /><br />Any suggestions?</div>
    <div class="meta">Posted on 2002-03-02 17:21:08 by Ernie</div>
   </div>
   <div class="post" id="post-26809">
    <div class="subject"><a href="#post-26809">Align 32</a></div>
    <div class="body">Hi Ernie,<br /><br />I think you need .486, maybe .586, as a minimum to you use anything greater that ALIGN 4.  :)</div>
    <div class="meta">Posted on 2002-03-02 17:23:47 by S/390</div>
   </div>
   <div class="post" id="post-26814">
    <div class="subject"><a href="#post-26814">Align 32</a></div>
    <div class="body">My fix was to set a larger alignment in the segment definition:<pre><code>_DATA SEGMENT &#91;u&#93;PAGE&#91;/u&#93; PUBLIC USE32 'DATA'<br />_DATA ENDS</code></pre><strong>S/390</strong>'s suggestion didn't work for me.</div>
    <div class="meta">Posted on 2002-03-02 17:34:01 by bitRAKE</div>
   </div>
   <div class="post" id="post-26818">
    <div class="subject"><a href="#post-26818">Align 32</a></div>
    <div class="body">Well, it was only a first thought. :grin: <br /><br />But since you made me dig into the docs, I think you're onto something. Seems that you can't ALING to anything greater than the SEGMENT alignment. Since the default is PARA, you can't go above 16.<br /><br />So, perhaps the combination of PAGE for the SEGMENT, will work with ALIGN 32. :)</div>
    <div class="meta">Posted on 2002-03-02 18:01:21 by S/390</div>
   </div>
   <div class="post" id="post-26903">
    <div class="subject"><a href="#post-26903">Align 32</a></div>
    <div class="body">I use ALIGN DWORD and it works fine.</div>
    <div class="meta">Posted on 2002-03-03 08:05:15 by DaveTX47</div>
   </div>
   <div class="post" id="post-26909">
    <div class="subject"><a href="#post-26909">Align 32</a></div>
    <div class="body">I think because the OS paragraph alignment was 16 in the old DOS days, thus anything greater than 16 is not supported by default.</div>
    <div class="meta">Posted on 2002-03-03 08:37:49 by dxantos</div>
   </div>
   <div class="post" id="post-26984">
    <div class="subject"><a href="#post-26984">Align 32</a></div>
    <div class="body">Thanks guys, I'm doing things a different way that isn't going to require 32 bit alignments.<br /><br />Looks like it would require a macro to get a 32 bit boundary alignment.</div>
    <div class="meta">Posted on 2002-03-03 14:54:36 by Ernie</div>
   </div>
   <div class="post" id="post-26990">
    <div class="subject"><a href="#post-26990">Align 32</a></div>
    <div class="body">32byte you mean, 32bit align works just fine ;).</div>
    <div class="meta">Posted on 2002-03-03 14:58:01 by f0dder</div>
   </div>
   <div class="post" id="post-26991">
    <div class="subject"><a href="#post-26991">Align 32</a></div>
    <div class="body">Ernie,<br /><br />You can routinely set alignment to 16 if you specify a high enough processor model. I have seen a few methods of setting 32 bit aignment in dynamically allocated memory which are not all that hard to do, just depends what you are after and why.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-03 14:59:39 by hutch--</div>
   </div>
  </div>
 </body>
</html>
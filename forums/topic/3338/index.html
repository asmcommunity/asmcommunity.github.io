<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>getting offset from data stuff ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3338" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3338">getting offset from data stuff ?</a></p>
   <div class="post" id="post-22100">
    <div class="subject"><a href="#post-22100">getting offset from data stuff ?</a></div>
    <div class="body">Heya,<br /><br />I'd like to have some sentences defined in data referenced by a table for faster acces... Erm... Let's see:<br /><br /><pre><code><br />.data<br />Text1 db &quot;hello&quot;,0<br />Text2 db &quot;wassup&quot;,0<br />Text3 db &quot;welcome&quot;,0<br /><br />TextTable dd &lt;insert here addr/offset of Text1&gt;,<br />                dd &lt;insert here addr/offset of Text2&gt;,<br />                etc<br /></code></pre><br /><br />So I can just use a variable and multiply it by 4 to get the offset instead of having like a huge table of IF's...<br /><br />Anyone knows how to do this?<br />TIA,<br />JimmyC</div>
    <div class="meta">Posted on 2002-01-31 01:40:42 by JimmyClif</div>
   </div>
   <div class="post" id="post-22106">
    <div class="subject"><a href="#post-22106">Simple</a></div>
    <div class="body">Yup is As Simple as that :<br /><br /><pre><code><br />.data<br />Text1 db &quot;hello&quot;,0<br />Text2 db &quot;wassup&quot;,0<br />Text3 db &quot;welcome&quot;,0<br /><br />TextTable dd  offset Text1<br />                dd  offset Text2<br />                dd offset Text3<br />...etc...                <br /></code></pre><br /><br />A note:<br />offsets will not be the same on all OS/boxes just do not save the on file and reload later...ok?</div>
    <div class="meta">Posted on 2002-01-31 02:17:38 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-22150">
    <div class="subject"><a href="#post-22150">getting offset from data stuff ?</a></div>
    <div class="body"><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=3290">(This thread)</a> shows a more compact way using a macro - easier to edit, IMO.</div>
    <div class="meta">Posted on 2002-01-31 09:50:23 by bitRAKE</div>
   </div>
   <div class="post" id="post-22159">
    <div class="subject"><a href="#post-22159">getting offset from data stuff ?</a></div>
    <div class="body">Alright, I see...<br /><br />but what about that Offsets who aren't the same on all OS/boxes mentionned by Bogdan ?<br /><br />Doesn't that imply that I should compute the Offsets at Runtime just to make it compatible for every system?</div>
    <div class="meta">Posted on 2002-01-31 11:22:20 by JimmyClif</div>
   </div>
   <div class="post" id="post-22164">
    <div class="subject"><a href="#post-22164">getting offset from data stuff ?</a></div>
    <div class="body">Relocation information stored in the PE file does that for you.</div>
    <div class="meta">Posted on 2002-01-31 12:11:56 by bitRAKE</div>
   </div>
   <div class="post" id="post-22243">
    <div class="subject"><a href="#post-22243">getting offset from data stuff ?</a></div>
    <div class="body">heya BitRake,<br /><br />I used Bogdan's suggestion in .data and it seems to work fine,<br />I tested it on WinME and 98SE... <br /><br />Well, I use it as I couldn't figure out how your macro works... I just pasted that thing inside my macros file and called it from .data and then the error messages flood began... <br /><br />Anyway... thanks a lot both of you.. :)<br /><br />JClif<br />(PipeDreams v1.0 will be released in approx 1-2 week)</div>
    <div class="meta">Posted on 2002-01-31 21:50:54 by JimmyClif</div>
   </div>
  </div>
 </body>
</html>
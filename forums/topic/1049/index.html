<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to subtract two 64bit values - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1049" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1049">How to subtract two 64bit values</a></p>
   <div class="post" id="post-6855">
    <div class="subject"><a href="#post-6855">How to subtract two 64bit values</a></div>
    <div class="body">Hi,<br /><br />The problem is: I have two 64bit values (Value1 and Value2) and I need to subtract them, like Value1 - Value2.<br /><br />I'm completely out of space, how to subtract them, because they don't fit into any register.<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-11 07:08:06 by SamiP</div>
   </div>
   <div class="post" id="post-6856">
    <div class="subject"><a href="#post-6856">Main::How to subtract two 64bit values</a></div>
    <div class="body">Hi ! <br /><br />Try this to substract Val2 from Val1<br /><br /><br /><pre><code><br /><br />mov eax,   &#91;Val1&#93;<br />mov edx,  4 &#91;Val1&#93;<br /><br />sub  eax,    &#91;Val2&#93;<br />sbb  edx, 4 &#91;Val2&#93;<br /><br /></code></pre> <br /><br />In edx/Eax you got the result !<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2001-09-11 07:26:48 by Caleb</div>
   </div>
   <div class="post" id="post-6862">
    <div class="subject"><a href="#post-6862">Main::How to subtract two 64bit values</a></div>
    <div class="body">This seems to work. Thanks!<br /><br />BTW. what that sbb does/meens?<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-11 09:38:18 by SamiP</div>
   </div>
   <div class="post" id="post-6863">
    <div class="subject"><a href="#post-6863">Main::How to subtract two 64bit values</a></div>
    <div class="body">Subtract with borrow.<br /><br />Its like 'adc' but for subtraction.<br />The official Intel docs state -<br />sbb:<br />DEST &lt;- DEST - (SRC + CF)<br /><br />(CF is the carry flag).<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-09-11 09:52:58 by Mirno</div>
   </div>
   <div class="post" id="post-6864">
    <div class="subject"><a href="#post-6864">Main::How to subtract two 64bit values</a></div>
    <div class="body">No MMX:<br /><pre><code><br />mov eax, &#91;low&#93;<br />mov edx, &#91;high&#93;<br />sub eax, &#91;low2&#93;<br />sbb edx, &#91;high2&#93;<br /></code></pre><br />MMX:<br /><pre><code><br />movq MM0, &#91;int&#93;<br />movq MM1, &#91;int2&#93;<br />psub MM0, MM1<br />movq &#91;int&#93;, MM0<br /></code></pre></div>
    <div class="meta">Posted on 2001-09-11 09:59:40 by comrade</div>
   </div>
   <div class="post" id="post-7200">
    <div class="subject"><a href="#post-7200">Main::How to subtract two 64bit values</a></div>
    <div class="body">Thanks to all!<br /><br />Sami</div>
    <div class="meta">Posted on 2001-09-15 12:33:31 by SamiP</div>
   </div>
  </div>
 </body>
</html>
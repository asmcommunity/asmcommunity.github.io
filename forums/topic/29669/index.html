<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Floating point exception - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29669" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29669">Floating point exception</a></p>
   <div class="post" id="post-209466">
    <div class="subject"><a href="#post-209466">Floating point exception</a></div>
    <div class="body">Hi,<br /><br />The following code is giving floating point exception for some range of values. If this is because of division by zero, then it should occur for every dividend. Any pointer would be appreciated<br /><br />Thank you<br /><br />.intel_syntax noprefix<br />.section .data<br /> &nbsp; &nbsp;divisor: <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .word 10<br /> &nbsp; &nbsp;dividend: <br /> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;.int 1234567 &nbsp; &nbsp; # is working fine if say, the value is 123456<br /><br />.section .text<br /> &nbsp; &nbsp;.globl _start<br /> &nbsp; &nbsp;_start:<br /> &nbsp; &nbsp; &nbsp; &nbsp;nop<br /> &nbsp; &nbsp; &nbsp; &nbsp;mov ax, dividend<br /> &nbsp; &nbsp; &nbsp; &nbsp;mov dx, dividend+2<br /> &nbsp; &nbsp; &nbsp; &nbsp;div &nbsp; word ptr divisor<br /><br /> &nbsp; &nbsp; &nbsp; &nbsp;mov eax, 1<br /> &nbsp; &nbsp; &nbsp; &nbsp;mov ebx, 0<br /> &nbsp; &nbsp; &nbsp; &nbsp;int 0x80<br /></div>
    <div class="meta">Posted on 2009-11-02 23:25:58 by uglyhunK</div>
   </div>
   <div class="post" id="post-209467">
    <div class="subject"><a href="#post-209467">Re: Floating point exception</a></div>
    <div class="body">it&#039;s overflow error. The result doesn&#039;t fit in 16 bits, so the exception is triggered. </div>
    <div class="meta">Posted on 2009-11-02 23:32:33 by Ultrano</div>
   </div>
   <div class="post" id="post-209468">
    <div class="subject"><a href="#post-209468">Re: Floating point exception</a></div>
    <div class="body">Thank you. I overlooked the size of ax register. May be the exception message could have been more specific to the error.</div>
    <div class="meta">Posted on 2009-11-03 00:12:43 by uglyhunK</div>
   </div>
   <div class="post" id="post-209469">
    <div class="subject"><a href="#post-209469">Re: Floating point exception</a></div>
    <div class="body">In order to be more specific, #DE fault handler has to decode faulting opcode to determine, which of the cases is in effect (division by 0 or division overflow). It&#039;s not hard, but rarely occurs.</div>
    <div class="meta">Posted on 2009-11-03 00:26:47 by baldr</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ok - Local IP ;-) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26195" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26195">ok - Local IP ;-)</a></p>
   <div class="post" id="post-190590">
    <div class="subject"><a href="#post-190590">ok - Local IP ;-)</a></div>
    <div class="body">Thanks, that was exactly what i needed.
(Strange that I couldn't find it myself)
Just a small correction, if you please:

call gethostname ;- API Function -
cmp eax,0h ;error ? <<---- You don't need to check if eax=0,
because gethostname returns 0 in case of no error.
Also,
push OFFSET Buffer ;name, pointer to name of the host
call gethostbyname ;- API Function -
cmp eax,0h ;error 
^ (no eax check)
|==== gethostbyname returns NULL pointer if error.
If OK, returns pointer to the HOSTENT structure (MSDN)

Cya!</div>
    <div class="meta">Posted on 2000-11-21 18:48:00 by AndyCar</div>
   </div>
   <div class="post" id="post-190591">
    <div class="subject"><a href="#post-190591">ok - Local IP ;-)</a></div>
    <div class="body">OOps - sorry, this should go to reply in my previous topic!
;-)</div>
    <div class="meta">Posted on 2000-11-21 18:50:00 by AndyCar (00ps sorry) </div>
   </div>
  </div>
 </body>
</html>
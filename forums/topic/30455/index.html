<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how is showing the Progress on FTP client downloads a file. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30455" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30455">how is showing the Progress on FTP client downloads a file.</a></p>
   <div class="post" id="post-213951">
    <div class="subject"><a href="#post-213951">how is showing the Progress on FTP client downloads a file.</a></div>
    <div class="body">		Invoke	FtpGetFile, FtpHandle, RemoteName, LocalName, TRUE, FILE_ATTRIBUTE_NORMAL, FTP_TRANSFER_TYPE_BINARY or INTERNET_FLAG_RELOAD, 255<br /></div>
    <div class="meta">Posted on 2011-01-25 02:10:39 by dcskm4200</div>
   </div>
   <div class="post" id="post-213952">
    <div class="subject"><a href="#post-213952">Re: how is showing the Progress on FTP client downloads a file.</a></div>
    <div class="body">not with this function - implement the ftp protocol file transfer using simple socket so you control the datastream and you can do what you like to show progress ;)</div>
    <div class="meta">Posted on 2011-01-25 07:31:21 by Homer</div>
   </div>
   <div class="post" id="post-213953">
    <div class="subject"><a href="#post-213953">Re: how is showing the Progress on FTP client downloads a file.</a></div>
    <div class="body">Thanks your answer.<br />implement the ftp protocol is some intricacy.<br /><div class="quote">Using InternetSetStatusCallback to get notifications of the download progress gives you good information on how the request is progressing, including connecting status notifications. However, it does not indicate that a certain percentage of a transfer has completed.<br /><br />To get the equivalent of percentage complete notifications, you need to determine the size of the transfer and then call InternetReadFile or InternetWriteFile with small buffers. Then you can calculate the percentage of the transfer as the function calls complete.<br /><br />For instance, suppose you want to download a 1000 byte file. Instead of making one call to InternetReadFile with a 1000 byte buffer, you can make 10 calls to InternetReadFIle with 100 byte buffers. This way as each call to InternetReadFile completes, you know the download is another 10 percent complete.<br /></div></div>
    <div class="meta">Posted on 2011-01-25 19:55:28 by dcskm4200</div>
   </div>
   <div class="post" id="post-213954">
    <div class="subject"><a href="#post-213954">Re: how is showing the Progress on FTP client downloads a file.</a></div>
    <div class="body">I don&#039;t think ftp is a complex protocol.<br />I think it&#039;s less complex to write a single blocking socket function that implements&nbsp; &quot;ftp get&quot; than it is to set up callback event handling, I don&#039;t like these api functions, not a fan at all.<br /> </div>
    <div class="meta">Posted on 2011-01-25 21:01:41 by Homer</div>
   </div>
   <div class="post" id="post-214033">
    <div class="subject"><a href="#post-214033">Re: how is showing the Progress on FTP client downloads a file.</a></div>
    <div class="body">Homer: depends on how much you want to support. PASV + non-PASV, SSL/TLS, possibly handling server quirks... I&#039;d personally go fo ther Internet* API, or libcurl for more elaborate needs.<br /><br />No need to reinvent the wheel, especially not if making a <strong>proper</strong> round one is a fair amount of work :)</div>
    <div class="meta">Posted on 2011-02-07 17:52:23 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>A question,about &quot;call&quot; instruction.I'm a Novice - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29219" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29219">A question,about &quot;call&quot; instruction.I'm a Novice</a></p>
   <div class="post" id="post-206372">
    <div class="subject"><a href="#post-206372">A question,about &quot;call&quot; instruction.I'm a Novice</a></div>
    <div class="body"> My book said:&quot;when you use &quot;CALL&quot; instruction! it&#039;s same as the following instruction:<br />push cs<br />push ip<br />jmp far ptr badge&quot;<br />One thing! I don&#039;t understand<br />when i use CALL instruction<br />and pop data to ax register<br />the data is ....<br /> For&nbsp; example:<br />&nbsp; &nbsp;<pre><code><br />code segment<br />start: mov ax,0000h<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;call far ptr s<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;inc ax<br />s:&nbsp; &nbsp; &nbsp; pop ax<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;pop bx<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;mov ax,4c00h<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int 21h<br />code ends<br />end start<br />end start<br /></code></pre><br /> in debug!<br />first !use -R and IP=0000<br />then use -t and IP=0003<br /> -t&nbsp; IP=0009<br /> -t&nbsp; ax=0008 ;right here<br />&nbsp; &nbsp;why is 0008?<br /><br />I want know how to get this address!<br />when I&nbsp; ask my friend this question ,they said!just remember:IP is always point to next instruction&#039;s address!<br /> it make very helpless<br /> so ! here&#039;s master. tell me please!<br /> I think(just conjecture):<br />&nbsp; CALL&nbsp; occupied 2 byte<br />&nbsp; far&nbsp; &nbsp;occupide 1byte<br />&nbsp; ptr occupide 1byte<br />&nbsp; &quot;some badge&quot; 1byte<br />&nbsp; so IP=IP+2+1+1+1=0008!<br /> Is right? master!!! </div>
    <div class="meta">Posted on 2008-12-02 01:34:48 by dapro</div>
   </div>
   <div class="post" id="post-206373">
    <div class="subject"><a href="#post-206373">Re: A question,about &quot;call&quot; instruction.I'm a Novice</a></div>
    <div class="body">When you stop the execution and see that ax is 8, the &quot;pop ax&quot; instruction, which is -apparently- located at address 8, has already been executed. So, at this exact point, IP points to the NEXT instruction. IP, indeed, points to the instruction which is about to be executed. <br /><br />Try stopping the execution BEFORE the &quot;pop ax&quot;. You&#039;ll see that IP points to this instruction (should be 8, from what I see) and &#039;ax&#039; still holds the value of 0. Now execute this single instruction. The contents of ax will change and IP will increase to point to the following instruction.<br /><br />I hope it&#039;s clear enough now ^^<br /><br />And 1 more thing:<br />&quot;call far address&quot; does &quot;push cs; push ip&quot;, while &quot;call near address&quot; does &quot;push ip&quot; (no cs). Never forget this difference.</div>
    <div class="meta">Posted on 2008-12-02 02:03:01 by ti_mo_n</div>
   </div>
   <div class="post" id="post-206401">
    <div class="subject"><a href="#post-206401">Re: A question,about &quot;call&quot; instruction.I'm a Novice</a></div>
    <div class="body">thanks for your help!</div>
    <div class="meta">Posted on 2008-12-03 22:13:40 by dapro</div>
   </div>
  </div>
 </body>
</html>
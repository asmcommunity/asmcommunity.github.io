<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Trying to understand some instruction timing - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12764" />
  <link rel="prev" href="../?id=12764&amp;page=3" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12764">Trying to understand some instruction timing</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=12764&amp;page=1" style="">&laquo;</a><a href="../?id=12764&amp;page=3" style="">&lt;</a><input type="hidden" name="id" value="12764" /><input type="number" name="page" min="1" max="4" step="1" value="4" onchange="this.form.submit();" /></form>   <div class="post" id="post-99079">
    <div class="subject"><a href="#post-99079">Trying to understand some instruction timing</a></div>
    <div class="body">Thanks for getting me started, Ekted! :)<br />While this particular test might not be that important, nor especially hard to get performing well, it has prompted me to start work on a testbed, which should this time hopefully become rather easy to adapt for other tests (plugin based), more thorough, and perhaps even with a portable core.<br /><br />Furthermore, it's interesting to see what can be done with a P4 vs. Athlon. I still hope somebody will provide nicely optimized Athlon code.</div>
    <div class="meta">Posted on 2003-04-24 12:12:22 by f0dder</div>
   </div>
   <div class="post" id="post-99172">
    <div class="subject"><a href="#post-99172">Trying to understand some instruction timing</a></div>
    <div class="body">If anybody cares, here's a new yodel version. It has conformance testing and allows you to easily write your own test routines (DLL), without having to run through ALL the other timings. It's mostly uploaded as a vague hint of what is to come (I hope this will end up as nice flexible benchmarking that can compile on both windows+linux), and for me to be able to grab the source while at work tomorrow :)</div>
    <div class="meta">Posted on 2003-04-24 17:55:58 by f0dder</div>
   </div>
   <div class="post" id="post-99189">
    <div class="subject"><a href="#post-99189">Trying to understand some instruction timing</a></div>
    <div class="body">Ekted,<br /><br />Lets hope that some of the suggestions were useful to you in designing the code you were after. Don't take any notice of the nonsense that went on in here, its normal from one or two people here.<br /><br />Hope you get a good result.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-04-24 19:38:58 by hutch--</div>
   </div>
   <div class="post" id="post-99270">
    <div class="subject"><a href="#post-99270">Trying to understand some instruction timing</a></div>
    <div class="body">&lt;flame on&gt;<br />I hope you're referring to yourself, hutch. All I tried to do was to be helpful. I've spent quite some time programming the test suite and getting people to run it across a wide range of hardware. Your insulting comments were rather uncalled for, and I believe I deserve an apology.<br />&lt;/flame off&gt;<br /><br />hutch, the floating-point ran rather well on athlon (bad on P4, surprise surprise :-), however there's a problem with it: all the other routines work fine in overflow situations, however the FP code treats the word load from the array as signed, and also when storing - I couldn't really think of any nice way to avoid this, my workaround code involves loading word, storing to dword, then loading to FPU - same way when storing. This totally ruined the instruction timings on all platforms :(, got any ideas?</div>
    <div class="meta">Posted on 2003-04-25 02:37:04 by f0dder</div>
   </div>
   <div class="post" id="post-99277">
    <div class="subject"><a href="#post-99277">Trying to understand some instruction timing</a></div>
    <div class="body">f0dder,<br /><br />There is a basis in the rules of the forum about arguments, if you want to start them, do it in the &quot;Crusades&quot; forum where you can rave away to your heart's content but remember this is a technical forum where starting an argument is not within the rules.<br /><br />Feel free to post in the &quot;Crusades&quot; forum any old time, thats what its there for but try and keep your polemic out of where members post questions looking for ideas or help.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-04-25 03:12:55 by hutch--</div>
   </div>
   <div class="post" id="post-99904">
    <div class="subject"><a href="#post-99904">Trying to understand some instruction timing</a></div>
    <div class="body">as a solution to the original problem ( x * 91 ) i came up with:<br /><br /><pre><code><br />int eax = 542;<br />int edx = eax;<br />int ecx = eax;<br /><br />eax = eax &lt;&lt; 6;<br />edx = edx &lt;&lt; 5;<br />eax = eax + edx;<br />edx = ecx &lt;&lt; 2;<br />eax = eax - edx;<br />eax = eax - ecx;<br /></code></pre><br /><br />obviously its not assembly, but i don't have an assembler here... :)<br /><br />but i imagine it might be slower because the original problem was with SHL .. anyway, just thought i add my 2c.</div>
    <div class="meta">Posted on 2003-04-28 22:54:32 by abc123</div>
   </div>
   <div class="post" id="post-99919">
    <div class="subject"><a href="#post-99919">Trying to understand some instruction timing</a></div>
    <div class="body">abc123,<br /><br />if you tweak the code to do the multiply by 92, f0dder has a thread to bench the different methods that have been suggested and he can probably give you a comparison on the PIV he is using.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-04-28 23:49:42 by hutch--</div>
   </div>
   <div class="post" id="post-99956">
    <div class="subject"><a href="#post-99956">Trying to understand some instruction timing</a></div>
    <div class="body">abc, we moved the thread here:<br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=12817">http://www.asmcommunity.net/board/index.php?topic=12817</a><br />(the focus will probably shift from the mul-by-92 to generic timing)</div>
    <div class="meta">Posted on 2003-04-29 02:28:21 by f0dder</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=12764&amp;page=1" style="">&laquo;</a><a href="../?id=12764&amp;page=3" style="">&lt;</a><input type="hidden" name="id" value="12764" /><input type="number" name="page" min="1" max="4" step="1" value="4" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
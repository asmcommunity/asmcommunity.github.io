<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Macro Generation - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9984" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=9984">Macro Generation</a></p>
   <div class="post" id="post-74584">
    <div class="subject"><a href="#post-74584">Macro Generation</a></div>
    <div class="body">I am performing some test on masm . The following is to generate a macro within a macro.<br /><pre><code><br />.586<br />.model		flat, stdcall<br />option		casemap&#58; none<br /><br />aa macro<br />	@CatStr&#40;&lt;ddd&gt;, &lt;M macro&gt;&#41;<br />	@CatStr&#40;&lt;endm&gt;,&lt;&gt;&#41;<br />endm<br /><br />.code<br />	start&#58;<br />aa<br />end start<br /></code></pre><br /><br />However i got an error. Could anyone help me to resolve what problem is? Thanks<br /><br />test.asm(35) : fatal error A1008: unmatched macro nesting<br /> aa(3): Macro Called From<br />  test.asm(35): Main Line Code<br /><br />Make error(s) occured.</div>
    <div class="meta">Posted on 2003-01-06 03:58:16 by yoursguideline</div>
   </div>
   <div class="post" id="post-74620">
    <div class="subject"><a href="#post-74620">Re: Macro Generation</a></div>
    <div class="body">The MACRO/ENDM keywords need to be outside of the @CatStr because of the way MASM scans the code - otherwise it is unable to 'see' the macro on the first pass.<br /><pre><code>aa macro<br />	@CatStr&#40;&lt;ddd&gt;, &lt;M&gt;&#41; MACRO<br />	endm<br />endm</code></pre></div>
    <div class="meta">Posted on 2003-01-06 08:37:37 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
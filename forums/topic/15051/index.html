<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>HLA - RADASM - nmake - Dialog - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15051" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=15051">HLA - RADASM - nmake - Dialog</a></p>
   <div class="post" id="post-116834">
    <div class="subject"><a href="#post-116834">HLA - RADASM - nmake - Dialog</a></div>
    <div class="body">A Newbie here.<br /><br />I like the concept of HLA. I'll use the resources to start programming in Assembly :alright: and thankyou.<br /><br />After a lot of reading, downloading (HLA, Masm32, RadASM, Ollydbg, nmake etc) and setting paths and editing .inc files I have managed to build and run Hello World both through the console and now in RADASM.<br /><br />I have downloaded the latest versions and believe I have my paths set properly.<br /><br />The WPA documentation uses Borlands make. The RadASM Hla.inc file is set up for nmake.<br /><br />I then tried to build the Dialog App (using nmake) supplied with RadASM. Dialog has a makefile.<br /><br />I changed the line #include (&quot;comctl32.hhf&quot;) to #include (&quot;w.hhf&quot;) after reading a similar post below. I now get the following:-<br /><br />   Microsoft (R) Program Maintenance Utility   Version 1.50<br />   Copyright (c) Microsoft Corp 1988-94. All rights reserved.<br /><br />	hla  -w -c Dialog<br />   Error in file &quot;Dialog.hla&quot; at line 17 :<br />   Could not open include file &quot;\RadASM\Hla\Inc\RADbg.inc&quot;.<br />   Near: &lt;&lt; ) &gt;&gt;<br /><br />   NMAKE : fatal error U1077: 'C:\WINDOWS\system32\cmd.exe' : return code '0x1'<br />   Stop.<br /><br />   Make error(s) occured.<br /><br />This file exists in its directory and I can open it with Notepad. I commented the line out and then got the following:-<br /><br />   Error in file &quot;Dialog.hla&quot; at line 56 :<br />   Expected ':', encountered '('<br />   (Possible undefined ID 'RADbg').<br />   Near: &lt;&lt; ( &gt;&gt;<br /><br />I edited RadASM. inc  XX=RADbg.dll,0 to: XX=RADbg.dll,1 as suggested in the comments. Build All gave:-<br /><br />   Error in file &quot;Dialog.hla&quot; at line 73 :<br />   Expected ':', encountered '('<br />   (Possible undefined ID 'InitCommonControls').<br />   Near: &lt;&lt; ( &gt;&gt;<br /><br />I commented out the InitCommonControls (); call line and Build All gives:-<br /><br />   LINK : fatal error LNK1104: cannot open file &quot;\masm32\lib\comctl32.lib&quot;<br />   Error returned by link = 1104<br />   NMAKE : fatal error U1077: 'C:\WINDOWS\system32\cmd.exe' : return code '0x450'<br />   Stop.<br /><br />This file exists in it's directory.<br /><br />If I comment out <br />       #asm<br />	includelib \masm32\lib\comctl32.lib<br />       #endasm<br /><br />The program buiilds and runs and a small HLA Test window appears with and Exit button. Upon pushing the Exit button I get the Windows Dialog.exe has encountered a problem please tell MSoft box.<br /><br />This may all seem a bit long winded but could anyone suggest where I'm going wrong.<br /><br />With thanks.<br /><br />OBM</div>
    <div class="meta">Posted on 2003-09-03 21:25:55 by OBM</div>
   </div>
   <div class="post" id="post-117095">
    <div class="subject"><a href="#post-117095">Re: HLA - RADASM - nmake - Dialog</a></div>
    <div class="body"><div class="quote"><em>Originally posted by OBM </em><br />A Newbie here.<br /><br />I like the concept of HLA. I'll use the resources to start programming in Assembly :alright: and thankyou.<br /></div><br />You're Welcome!<br /><br /><div class="quote"><br />After a lot of reading, downloading (HLA, Masm32, RadASM, Ollydbg, nmake etc) and setting paths and editing .inc files I have managed to build and run Hello World both through the console and now in RADASM.<br /><br />I have downloaded the latest versions and believe I have my paths set properly.<br /><br />The WPA documentation uses Borlands make. The RadASM Hla.inc file is set up for nmake.<br /><br />I then tried to build the Dialog App (using nmake) supplied with RadASM. Dialog has a makefile.<br /></div><br /><br />Someday I'll have to get around to redoing the Dialog app that comes with RadASM. It was one of the two original applications supplied with RadASM (as opposed to being provided with HLA) and suffers a tiny bit from being a &quot;pioneering application.&quot; There have been many changes to HLA and RadASM since Dialog was written that have broken this application.  It *can* be coerced into running, but....<br /><br /><div class="quote"><br />I changed the line #include (&quot;comctl32.hhf&quot;) to #include (&quot;w.hhf&quot;) after reading a similar post below. I now get the following:-<br /><br />   Microsoft (R) Program Maintenance Utility   Version 1.50<br />   Copyright (c) Microsoft Corp 1988-94. All rights reserved.<br /><br />	hla  -w -c Dialog<br />   Error in file &quot;Dialog.hla&quot; at line 17 :<br />   Could not open include file &quot;\RadASM\Hla\Inc\RADbg.inc&quot;.<br />   Near: &lt;&lt; ) &gt;&gt;<br /><br />   NMAKE : fatal error U1077: 'C:\WINDOWS\system32\cmd.exe' : return code '0x1'<br />   Stop.<br /><br />   Make error(s) occured.<br /><br /></div><br />Interesting, I don't get this error at all. You might try putting a drive letter in the path appearing in the #include directive, e.g., &lt;&lt; #include( &quot;c:\RadASM\Hla\Inc\RADbg.inc&quot; ) &gt;&gt;.<br /><br /><br /><div class="quote"><br />This file exists in its directory and I can open it with Notepad. I commented the line out and then got the following:-<br /><br />   Error in file &quot;Dialog.hla&quot; at line 56 :<br />   Expected ':', encountered '('<br />   (Possible undefined ID 'RADbg').<br />   Near: &lt;&lt; ( &gt;&gt;<br /><br /></div><br />That, of course, makes perfect sense as the declaration for the debugging macro no longer exists.<br /><br /><div class="quote"><br />I edited RadASM. inc  XX=RADbg.dll,0 to: XX=RADbg.dll,1 as suggested in the comments. Build All gave:-<br /><br />   Error in file &quot;Dialog.hla&quot; at line 73 :<br />   Expected ':', encountered '('<br />   (Possible undefined ID 'InitCommonControls').<br />   Near: &lt;&lt; ( &gt;&gt;<br /><br />I commented out the InitCommonControls (); call line and Build All gives:-<br /><br />   LINK : fatal error LNK1104: cannot open file &quot;\masm32\lib\comctl32.lib&quot;<br />   Error returned by link = 1104<br />   NMAKE : fatal error U1077: 'C:\WINDOWS\system32\cmd.exe' : return code '0x450'<br />   Stop.<br /><br /></div><br />This is one of those problems because Dialog.hla was written early on by a non-HLA programmer. When you include &quot;w.hhf&quot; all of the Windows' identifiers appear in the &quot;w&quot; namespace. This means that calls to Win32 API functions like &quot;InitCommonControls&quot; need a &quot;w.&quot; prefix (i.e., w.InitCommonControls&quot;). Originally, you could include files like &quot;kernel32.hhf&quot; outside of the w namespace. But that has changed in the &quot;w.hhf&quot; header file. So now you need to specify the &quot;w.&quot; prefix for most Win32 API names. Note that Dialog includes its own &quot;win.inc&quot; file, so you can use some constants (defined in this header file) without the &quot;w.&quot; prefix, but the API functions are a different matter. Of course, you could define the prototypes for these functions yourself, but it's just easier to stick a &quot;w.&quot; prefix in front of the existing names.<br /><br /><br /><div class="quote"><br />This file exists in it's directory.<br /><br />If I comment out <br />       #asm<br />	includelib \masm32\lib\comctl32.lib<br />       #endasm<br /><br />The program buiilds and runs and a small HLA Test window appears with and Exit button. Upon pushing the Exit button I get the Windows Dialog.exe has encountered a problem please tell MSoft box.<br /><br /></div><br /><br />Interesting that it builds. You should have gotten a linker problem.<br />The Dialog app does fire a &quot;RadASM&quot; debug breakpoint, the fact that this asks you to contact MS probably means that something didn't get linked in properly.<br /><br /><div class="quote"><br />This may all seem a bit long winded but could anyone suggest where I'm going wrong.<br /><br />With thanks.<br /><br />OBM</div><br /><br />The best suggestion I can make is to give up on the dialog project. It can be made to work with a bit of effort, but it does require that you understand what's going on.<br />The latest WPA examples provide RadASM files for make.exe, nmake.exe, and batch files, and they all work with the latest and greatest version of HLA. So I'd recommend playing around with those RadASM projects.  Like I said, I really ought to redo the dialog app that ships with RadASM (it's basically a conversion of some MASM code supplied with the MASM version of RadASM).  As usual, so many projects, so little time...<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-09-05 10:34:53 by rhyde</div>
   </div>
   <div class="post" id="post-117163">
    <div class="subject"><a href="#post-117163">HLA - RADASM - nmake - Dialog</a></div>
    <div class="body">Many Thanks - will work on AoA &amp; WPA</div>
    <div class="meta">Posted on 2003-09-05 22:09:02 by OBM</div>
   </div>
   <div class="post" id="post-117166">
    <div class="subject"><a href="#post-117166">Clear Breakpoints</a></div>
    <div class="body">Randall, I made the changes you suggested and I also cleared the breakpoints (Edit/Clear BreakPoints) before building as I don't have a JIT debugger installed (KetilO's suggestion).<br /><br />It worked like a treat and no Windows Error box.<br /><br />Many thanks all.<br />:)</div>
    <div class="meta">Posted on 2003-09-05 22:30:43 by OBM</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SAQ: about EVEN and ALIGN - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28129" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28129">SAQ: about EVEN and ALIGN</a></p>
   <div class="post" id="post-199493">
    <div class="subject"><a href="#post-199493">SAQ: about EVEN and ALIGN</a></div>
    <div class="body">First of all EVEN is exactly the same as ALIGN 2.

The ALIGN directive 'aligns' the Location Pointer to the next integer multible of the operand given. This means that the next data item, instruction etc is arranged so that it lies on an even memory boundry. Masm (Or tasm) fill in space to get this boundry:

<pre><code>
00401000 00             BYTE 0h
00401001 00000000000000 ALIGN 8
00401008 0101           WORD 0101h
</code></pre>
or
<pre><code>
00401000 00           BYTE 0h
00401001 01           BYTE 1h
00401001 000000000000 ALIGN 8
00401008 0101         WORD 0101h
</code></pre>

This technique improves processor performace in reading/writing the memory location due to reasons right down basic hardware on any CPU. This is because the processor can only access memory on mutibles of 4 (I think this is correct for pentiums, im not sure if it still applys because extra catches etc). This means to access a dword at the memory address 00401001 it would have to read the address 00401000 and 00401004 and combine the results to get the dword result. 

As I said before I dont know if this still applys to newer CPUs. There are many people more knowledgable than me on this topic.</div>
    <div class="meta">Posted on 2001-05-20 06:33:00 by George</div>
   </div>
   <div class="post" id="post-199494">
    <div class="subject"><a href="#post-199494">SAQ: about EVEN and ALIGN</a></div>
    <div class="body">You are correct George, the DOS usage of EVEN means ALIGN 2.

DOS was 16 bit and it could be either BYTE aligned or WORD
aligned which is by 2 BYTES. 32 bit code has some advantages
when data is aligned but the later processors are not particularly
sensitive to CODE alignment.

DATA is a different matter, misaligned DATA can seriously slow
down access at the data which in turn slows a speed critical algorithm
by a substantial amount. One of the good things about using OLE
string memory is that it is 16 BYTE aligned so its access is very
fast.

Regards,

hutch@pbq.com.au</div>
    <div class="meta">Posted on 2001-05-20 06:45:00 by hutch--</div>
   </div>
  </div>
 </body>
</html>
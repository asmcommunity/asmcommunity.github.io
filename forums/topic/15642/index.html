<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>going to 1024*768 @ 85Hz - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15642" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=15642">going to 1024*768 @ 85Hz</a></p>
   <div class="post" id="post-121303">
    <div class="subject"><a href="#post-121303">going to 1024*768 @ 85Hz</a></div>
    <div class="body">Hez does anybody know how to get to this reselution: 1024*768*32Bits @85Hz<br /><br />I have looked everywhere, but The only thing i found was how to get 1024*768*32 Bits @60 Hz, using int 10h, AX = 0x4F02, (the Vesa video modes).<br /><br />Can Anybody help me :( <br /><br />Regards<br />pyr0_mathic</div>
    <div class="meta">Posted on 2003-10-14 05:30:47 by pyr0_mathic</div>
   </div>
   <div class="post" id="post-121309">
    <div class="subject"><a href="#post-121309">going to 1024*768 @ 85Hz</a></div>
    <div class="body">using SciTech UNIVBE, it's free and is able to lock screen refresh rate.</div>
    <div class="meta">Posted on 2003-10-14 06:27:26 by optimus</div>
   </div>
   <div class="post" id="post-121772">
    <div class="subject"><a href="#post-121772">going to 1024*768 @ 85Hz</a></div>
    <div class="body">it is possible - even without additional software, just with vesa 3.0+ (today's cards usually have that one; you know how to get the version number)<br /><br />much info from ralph brown's interrupt list (brilliant thing :)), i made bold what's important for you.<br />i don't know how exactly this works, but i think you have to get the video-mode-info to fill in all fields of the CRTC-information-block.<br /><pre><code><br />--------V-104F02-----------------------------<br />INT 10 - VESA SuperVGA BIOS - SET SuperVGA VIDEO MODE<br />	AX = 4F02h<br />	BX = new video mode &#40;see #04082,#00083,#00084&#41;<br />&#91;b&#93;	ES&#58;DI -&gt; &#40;VBE 3.0+&#41; CRTC information block, bit mode bit 11 set<br />		  &#40;see #04083&#41;&#91;/b&#93;<br />Return&#58; AL = 4Fh if function supported<br />	AH = status<br />	    00h successful<br />	    01h failed<br />Notes&#58;	bit 13 may only be set if the video mode is present in the list of<br />	  accelerated video modes returned by AX=4F00h<br />	if the DAC supports both 8 bits per primary color and 6 bits, it will<br />	  be reset to 6 bits after a mode set; use AX=4F08h to restore 8 bits<br />SeeAlso&#58; AX=4E03h,AX=4F00h,AX=4F01h,AX=4F03h,AX=4F08h<br /><br />&#40;Table 00083&#41;<br />Values for VESA video mode&#58;<br /> 00h-FFh OEM video modes &#40;see #00010 at AH=00h&#41;<br /> 100h	640x400x256<br /> 101h	640x480x256<br /> 102h	800x600x16<br /> 103h	800x600x256<br /> 104h	1024x768x16<br /> 105h	1024x768x256<br /> 106h	1280x1024x16<br /> 107h	1280x1024x256<br /> 108h	80x60 text<br /> 109h	132x25 text<br /> 10Ah	132x43 text<br /> 10Bh	132x50 text<br /> 10Ch	132x60 text<br />---VBE v1.2+ ---<br /> 10Dh	320x200x32K<br /> 10Eh	320x200x64K<br /> 10Fh	320x200x16M<br /> 110h	640x480x32K<br /> 111h	640x480x64K<br /> 112h	640x480x16M<br /> 113h	800x600x32K<br /> 114h	800x600x64K<br /> 115h	800x600x16M<br /> 116h	1024x768x32K<br /> 117h	1024x768x64K<br /> 118h	1024x768x16M<br /> 119h	1280x1024x32K &#40;1&#58;5&#58;5&#58;5&#41;<br /> 11Ah	1280x1024x64K &#40;5&#58;6&#58;5&#41;<br /> 11Bh	1280x1024x16M<br />---VBE 2.0+ ---<br /> 120h	1600x1200x256<br /> 121h	1600x1200x32K<br /> 122h	1600x1200x64K<br />81FFh	special full-memory access mode<br />Notes&#58;	the special mode 81FFh preserves the contents of the video memory and<br />	  gives access to all of the memory; VESA recommends that the special<br />	  mode be a packed-pixel mode.	For VBE 2.0+, it is required that the<br />	  VBE implement the mode, but not place it in the list of available<br />	  modes &#40;mode information for this mode can be queried directly,<br />	  however&#41;.<br />	as of VBE 2.0, VESA will no longer define video mode numbers<br />SeeAlso&#58; #00010,#00011,#00084,#00191<br />Index&#58;	video modes;VESA<br /><br />&#40;Table 00084&#41;<br />Values for S3 OEM video mode&#58;<br /> 201h	640x480x256<br /> 202h	800x600x16<br /> 203h	800x600x256<br /> 204h	1024x768x16<br /> 205h	1024x768x256<br /> 206h	1280x960x16<br /> 207h	1152x864x256 &#40;Diamond Stealth 64&#41;<br /> 208h	1280x1024x16<br /> 209h	1152x864x32K<br /> 20Ah	1152x864x64K &#40;Diamond Stealth 64&#41;<br /> 20Bh	1152x864x4G<br /> 211h	640x480x64K &#40;Diamond Stealth 24&#41;<br /> 211h	640x400x4G  &#40;Diamond Stealth64 Video / Stealth64 Graphics&#41;<br /> 212h	640x480x16M &#40;Diamond Stealth 24&#41;<br /> 301h	640x480x32K<br />Note&#58;	these modes are only available on video cards using S3's VESA driver<br />SeeAlso&#58; #00083,#00191,#00732 at INT 1A/AX=B102h<br />Index&#58;	video modes;S3<br /><br />&#91;b&#93;Format of VESA VBE CRTC Information Block&#58;&#91;/b&#93;<br />Offset	Size	Description	&#40;Table 04083&#41;<br /> 00h	WORD	total number of pixels horizontally<br /> 02h	WORD	horizontal sync start &#40;in pixels&#41;<br /> 04h	WORD	horizontal sync end &#40;in pixels&#41;<br /> 06h	WORD	total number of scan lines<br /> 08h	WORD	vertical sync start &#40;in scan lines&#41;<br /> 0Ah	WORD	vertical sync end &#40;in scan lines&#41;<br /> 0Ch	BYTE	flags &#40;see #04084&#41;<br /> 0Dh	DWORD	pixel clock, in Hz<br />&#91;b&#93; 11h	WORD	refresh rate, in 0.01 Hz units<br />		this field MUST be set to pixel_clock / &#40;HTotal * VTotal&#41;,<br />		  even though it may not actually be used by the VBE<br />		  implementation&#91;/b&#93;<br /> 13h 40 BYTEs	reserved<br /><br />Bitfields for VESA VBE CRTC Information Block flags&#58;<br />Bit&#40;s&#41;	Description	&#40;Table 04084&#41;<br /> 0	enable double scanning<br /> 1	enable interlacing<br /> 2	horizontal sync polarity &#40;0 positive, 1 negative&#41;<br /> 3	vertical sync polarity &#40;0 positive, 1 negative&#41;<br />SeeAlso&#58; #04083<br /></code></pre><br /><br />i hope this helps,<br /><br />greets hartyl</div>
    <div class="meta">Posted on 2003-10-19 14:33:33 by hartyl</div>
   </div>
   <div class="post" id="post-121776">
    <div class="subject"><a href="#post-121776">going to 1024*768 @ 85Hz</a></div>
    <div class="body">Try this:<br /><br />mov ,1072<br />mov ,848<br />mov ,936<br />mov ,636<br />mov ,601<br />mov ,604<br />mov ,0<br />mov ,54543360<br />mov ,8400    ;Refresh=84 Hz<br /><br /><br />push es 	    ; preserve es<br />push di 	    ; preserve di<br />mov ax,4f02h	    ; VBE set video mode function<br />mov bx,[103h]	     ;Set mode (800x600x256 colors)<br />or bx,0C800h	    ; 1100100000000000b set bit D15,D14,D11 to use CRTC info<br />			    ; D15=don't clear screen,D14=linear/flat buffer<br />			    ; D11=Use user specified CRTC values for refresh rate<br />push ds<br />pop es		    ; load es with the segment of CRTC<br />mov di,CRTC	    ; load di with the offset of CRTC<br />int 10h<br /><br /><br />Notes:<br />a).If your monitor does not suport linear/flat buffer,set D14 to 0.<br />b).You must check if your monitor suports  refresh rate greater than 60 Hz.<br />c).I used FASM.<br /><br />If you acomplish this,i 'll send you another example.<br /><br />Manos.</div>
    <div class="meta">Posted on 2003-10-19 15:55:33 by Anonymous</div>
   </div>
  </div>
 </body>
</html>
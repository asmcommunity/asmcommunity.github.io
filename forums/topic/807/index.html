<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Where to invoke KillTimer - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=807" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=807">Where to invoke KillTimer</a></p>
   <div class="post" id="post-4995">
    <div class="subject"><a href="#post-4995">Where to invoke KillTimer</a></div>
    <div class="body">I had a little trouble with getting a timer to work but with some help from the community i got one working. However take a look at the code below and maybe someone could tell me if this is bad programing practice. Notice that hwnd and hWnd are different because SetTimer is invoked right after UpdateWindow  and KillTimer is invoked in the decision loop. It works ok and i need the timer until the window is destroyed.<br /><br />Thanx<br /><br /><br /><br /><br />  INVOKE UpdateWindow, hwnd<br />  invoke SetTimer,hwnd,idtimer,50,NULL<br />_____________________________________________________________	<br />.WHILE TRUE<br />	<br />	.IF uMsg==WM_DESTROY<br />        invoke KillTimer,hWnd,idtimer<br />	invoke PostQuitMessage,NULL:alright:</div>
    <div class="meta">Posted on 2001-08-26 17:58:24 by titan</div>
   </div>
   <div class="post" id="post-4996">
    <div class="subject"><a href="#post-4996">Where to invoke KillTimer</a></div>
    <div class="body">Is there a reason that SetTimer is not in WM_CREATE?</div>
    <div class="meta">Posted on 2001-08-26 18:04:30 by bitRAKE</div>
   </div>
   <div class="post" id="post-4998">
    <div class="subject"><a href="#post-4998">It is now.</a></div>
    <div class="body">I did it just before i checked your reply.<br /><br />However the documentation states thet if you process the WM_CREATE message you should return 0<br />Maybe they mean if you use a creation structure(newbie here)<br /><br />Returning -1 should destroy the window<br /><br />It didn't when i tried.<br /><br />Any thoughts on that.<br /><br />Thanx:alright:</div>
    <div class="meta">Posted on 2001-08-26 18:47:38 by titan</div>
   </div>
   <div class="post" id="post-5003">
    <div class="subject"><a href="#post-5003">Where to invoke KillTimer</a></div>
    <div class="body">yes, you can do a SetTimer within WM_CREATE and before the next &quot;.ELSEIF uMsg == WM_whatever&quot; do a return 0 or the equivalent (mov eax, 0     ret). KillTimer can go in WM_CLOSE.<br /><br />dr phil :)</div>
    <div class="meta">Posted on 2001-08-26 19:33:49 by phil</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ragrid subclassing - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18976" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=116">Windows</a> &raquo; <a href="../?id=18976">ragrid subclassing</a></p>
   <div class="post" id="post-146822">
    <div class="subject"><a href="#post-146822">ragrid subclassing</a></div>
    <div class="body">Ketil,<br /><br />I am having trouble subclassing ragrid (for the purpose of intercepting mouse events) in a program that places controls onto a window.<br /><br />Also, it appears that you are setting GWL_USERDATA in your code. The docs say that this entry is for use of the user and is initialized to 0.<br /><br />I have had very good luck using your raedit and ragrid contols and appreciate them very much.<br /><br />Thanks,<br /><br />Mike</div>
    <div class="meta">Posted on 2004-07-26 00:38:12 by msmith</div>
   </div>
   <div class="post" id="post-146861">
    <div class="subject"><a href="#post-146861">ragrid subclassing</a></div>
    <div class="body">From the looks of the code, the actual RAGrid control does not have it's GWL_USERDATA set, he does use the field in a number of child windows of the grid control but not in the actual main control window so it should be fine to use it.<br /><br />For subclassing, what is the exact nature of the problem, are you not receiving the messages in the subclass procedure ?</div>
    <div class="meta">Posted on 2004-07-26 07:27:28 by donkey</div>
   </div>
   <div class="post" id="post-146869">
    <div class="subject"><a href="#post-146869">ragrid subclassing</a></div>
    <div class="body">On a static, button, calendar, etc. I get:<br /><br />mousemove: wmsg=512<br />mousedown: wmsg=513<br />mouseup: wmsg=514<br /><br />On ragrid I get:<br /><br />mousemove: wmsg=160 or 32<br />mousedown: wmsg=1042 or 1043<br />mouseup: wmsg=never get it<br /><br />I'm sure that all this is separate from the USERDATA question.</div>
    <div class="meta">Posted on 2004-07-26 09:16:32 by msmith</div>
   </div>
   <div class="post" id="post-146872">
    <div class="subject"><a href="#post-146872">ragrid subclassing</a></div>
    <div class="body">Hi msmith<br /><br />This version of RAGrid.dll shoud work better on mouse events.<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-07-26 09:41:20 by KetilO</div>
   </div>
   <div class="post" id="post-146874">
    <div class="subject"><a href="#post-146874">ragrid subclassing</a></div>
    <div class="body">Ketil,<br /><br />Thank you for the quick response, but did not fix my problem.<br /><br />Not being knowledgable like yourself on the inner workings of controls, I am clueless as to what is happening.<br /><br />What I don't understand is why I cannot intercept all messages going to ragrid like I can on static, button, text, etc.<br /><br />Are you resetting the GWL_WINDOWPROC after I have set it?<br /><br />Thanks,<br /><br />Mike</div>
    <div class="meta">Posted on 2004-07-26 11:17:43 by msmith</div>
   </div>
   <div class="post" id="post-146883">
    <div class="subject"><a href="#post-146883">ragrid subclassing</a></div>
    <div class="body">Hi msmith<br /><br />Don't know what happend to the previous upload.<br />I have uploaded a new ragrid.dll including a test project.<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-07-26 14:50:22 by KetilO</div>
   </div>
   <div class="post" id="post-146889">
    <div class="subject"><a href="#post-146889">ragrid subclassing</a></div>
    <div class="body">Ketil,<br /><br />Where is this download?<br /><br />The one on your RadAsm site says 6-17-2004.<br /><br />The link on page one of the ragrid thread also says 6-17-2004<br /><br />Mike</div>
    <div class="meta">Posted on 2004-07-26 15:52:34 by msmith</div>
   </div>
   <div class="post" id="post-146891">
    <div class="subject"><a href="#post-146891">ragrid subclassing</a></div>
    <div class="body">Look a few posts up. The attachment is updated.<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-07-26 16:20:38 by KetilO</div>
   </div>
   <div class="post" id="post-146894">
    <div class="subject"><a href="#post-146894">ragrid subclassing</a></div>
    <div class="body">Ketil,<br /><br />Now it works fine. Thank you.<br /><br />What I don't understand is why, if I set the GWL_WINDOWPROC to my own proc, then why does it matter what you do inside the control concerning mouse events. Why don't I, then, own the mouse events?<br /><br />Mike</div>
    <div class="meta">Posted on 2004-07-26 17:49:32 by msmith</div>
   </div>
  </div>
 </body>
</html>
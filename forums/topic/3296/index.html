<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Real men strike again :) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3296" />
    <link rel="next" href="../?id=3296&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=3296">Real men strike again :)</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=3296&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=3296&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="3296" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=3296&amp;page=2">&gt;</a><a href="../?id=3296&amp;page=2">&raquo;</a></form>   <div class="post" id="post-21782">
    <div class="subject"><a href="#post-21782">Real men strike again :)</a></div>
    <div class="body">Real men code in HEX. :)<br /><br />I have recently upgraded the BIOS in my PIII and one of the side benefits<br />was that it defeated the power shutdown built into my version of win95b.<br /><br />What I needed was a small DOS COM file to reset the video mode back to text<br />mode 2 after win95b shutdown so after brushing off the dust in my release<br />version of MASM 6.11 and actually looking up the BIOS interrupts, this<br />following piece of bloatware was the result.<br /><pre><code><br />opcode        mnemonic<br />~~~~~~        ~~~~~~~~<br />B8 02 00    ; mov ax, 2<br />CD 10       ; int 10h<br />CD 20       ; int 20h<br /></code></pre><br />For those with less intestinal fortitude, here is the high level version, it<br />produces the same opcodes.<br /><pre><code><br />; ##########################################################################<br /><br />    com_seg segment byte public     ; define the ONLY segment<br /><br />    assume cs&#58;com_seg, ds&#58;com_seg   ; both code &amp; data in same segment.<br />    org 100h                        ; go to start adress in memory.<br /><br />    start&#58;<br /><br />; ##########################################################################<br /><br />    mov ax, 2                       ; set video mode 2<br />    int 10h                         ; call BIOS<br />    int 20h                         ; call cleanup and exit<br /><br />; ##########################################################################<br /><br />    assume nothing<br />    com_seg ends                    ; define the end of the segment.<br /><br />    end start<br /><br />; ##########################################################################<br /></code></pre><br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-01-29 08:22:17 by hutch--</div>
   </div>
   <div class="post" id="post-21790">
    <div class="subject"><a href="#post-21790">Real men strike again :)</a></div>
    <div class="body">Why text mode 2? I thoguht Text mode 3 is the standard?<br />Why &quot;CD20&quot; to terminate a .com when a C3 will do the trick?<br /><br />Also, I seem to remember that the &quot;mode&quot; thingy from 9x can be<br />used to return to text mode. But that might be a false memory.<br />I left that dreadful world long time ago.</div>
    <div class="meta">Posted on 2002-01-29 09:19:47 by f0dder</div>
   </div>
   <div class="post" id="post-21856">
    <div class="subject"><a href="#post-21856">Real men strike again :)</a></div>
    <div class="body">Just delete LOGOS.SYS and LOGOW.SYS that are in C:\WINDOWS<br /><br />Regards,<br />Mav</div>
    <div class="meta">Posted on 2002-01-29 16:49:51 by Maverick</div>
   </div>
   <div class="post" id="post-21861">
    <div class="subject"><a href="#post-21861">Real men strike again :)</a></div>
    <div class="body">Yeah, that's a pretty good thing to do. No more of those ugly screens,<br />and a little extra free diskspace. But even when doing that, at least<br />one of the 9x versions I tested left me with a black gfx mode screen<br />(might be due to my video driver). So a &quot;switch back to textmode&quot;<br />thingy was necessary back then :).<br /><br />You might want to check out my &quot;80x50&quot;, it changes to 80x50<br />textmode. It probably only works if you're already in textmode,<br />but it performs the switch without clearing the current text.<br />Also, it can be installed with a DEVICE= line in config.sys, so you<br />can get 80x50 even before himem.sys.<br /><br />It unloads after performing the modeswitch, so it should take up<br />no extra memory.</div>
    <div class="meta">Posted on 2002-01-29 17:03:20 by f0dder</div>
   </div>
   <div class="post" id="post-21863">
    <div class="subject"><a href="#post-21863">Real men strike again :)</a></div>
    <div class="body">It won't be a dodgy driver, those screens are displayed using standard (S?)VGA, or VESA resolutions.<br /><br />Mirno</div>
    <div class="meta">Posted on 2002-01-29 17:09:35 by Mirno</div>
   </div>
   <div class="post" id="post-21864">
    <div class="subject"><a href="#post-21864">Real men strike again :)</a></div>
    <div class="body">Thx but I already wrote one myself much, much time ago because I had the same need. Dos at 80 * 50 is nice, I couldn't live without it. ;-)<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-29 17:10:20 by Maverick</div>
   </div>
   <div class="post" id="post-21866">
    <div class="subject"><a href="#post-21866">Real men strike again :)</a></div>
    <div class="body">Mirno, couldn't it be a driver that, on shutdown, can't figure out how<br />to set textmode? I dunno what the problem (if it can be labelled a<br />problem) is, but on some combination of windows, drivers, software,<br />and the phase of the moon ;)... I would still be in gfxmode even after<br />deleting those sys (well, bmp) files.</div>
    <div class="meta">Posted on 2002-01-29 17:19:52 by f0dder</div>
   </div>
   <div class="post" id="post-21899">
    <div class="subject"><a href="#post-21899">Real men strike again :)</a></div>
    <div class="body">hmmmm,<br /><br />A RET will work but I have always preferred to close down a file with the documented methods instead of potentially unreliable ones. It probably should have been mode 3 but its no problem to change it and it works fine at the moment.<br /><br />80 x 50 should be no problem to do but I LIKE CGA resolution in DOS so mine will stay at the default.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-01-29 20:22:42 by hutch--</div>
   </div>
   <div class="post" id="post-21902">
    <div class="subject"><a href="#post-21902">Real men strike again :)</a></div>
    <div class="body">Is there any version of DOS around where the word at ss:sp<br />doesn't point to the CD20 word in the PSP? I even thought this was<br />documented behaviour, iirc because of CP/M compatibility.</div>
    <div class="meta">Posted on 2002-01-29 20:27:58 by f0dder</div>
   </div>
   <div class="post" id="post-22123">
    <div class="subject"><a href="#post-22123">Real men strike again :)</a></div>
    <div class="body">I used to have fun with my logos.sys and logow.sys (win95/98)... just rename them to .bmp and edit them how you want :P
<br />
<br />If you are running WinME all you will find is LOGOS.SYS in your C:\Windows directory which is the shutdown screen... the startup &quot;splash&quot; screen is located in the C:\IO.SYS file... if you make a 320*400 256 color bitmap (.bmp) file and rename it to logo.sys then move it to C:\ and WinME will use that file instead.</div>
    <div class="meta">Posted on 2002-01-31 04:43:43 by SpooK</div>
   </div>
   <div class="post" id="post-22340">
    <div class="subject"><a href="#post-22340">Real men strike again :)</a></div>
    <div class="body">Yes, f0dder is right, terminating a COM prog with ret (0 at ) is documented and works with all dos versions.</div>
    <div class="meta">Posted on 2002-02-01 09:16:48 by japheth</div>
   </div>
   <div class="post" id="post-22346">
    <div class="subject"><a href="#post-22346">Real men strike again :)</a></div>
    <div class="body">hmmmm,<br /><br />I wonder why M$ built int 20h into DOS if it was never needed, it is the recommended method of closing a COM file.<br /><br />I am inclined to use a system defined method rather that a well known fudge.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-01 09:56:06 by hutch--</div>
   </div>
   <div class="post" id="post-22425">
    <div class="subject"><a href="#post-22425">Real men strike again :)</a></div>
    <div class="body">You've made me think of long ago DOS :)<br />In com file you have after loading address of int 20 in the stack.<br />So that ret and int 20 is the same.<br />int 4Ch (if I remember right) actually has just one more option despite of all garbige told about the difference in docs.<br />This option is  - an ability to send exit code to the caller of process if there is any.<br />Is it offtopic BTW? :)</div>
    <div class="meta">Posted on 2002-02-01 23:15:14 by The Svin</div>
   </div>
   <div class="post" id="post-22484">
    <div class="subject"><a href="#post-22484">Real men strike again :)</a></div>
    <div class="body">i do not remember int 4c but i know there exists<br /><strong>ax,004Ch<br />int 21</strong></div>
    <div class="meta">Posted on 2002-02-02 12:18:20 by CodeLover</div>
   </div>
   <div class="post" id="post-22744">
    <div class="subject"><a href="#post-22744">Real men strike again :)</a></div>
    <div class="body">on a com file a ret is okay, if your stack is okay. if it rets it lands on a int 20, so they are both okay too :)<br /><br />and ehr, i prefer<br /><br />b8 12 11 ;mov 10111rrr - imm16<br />cd 10      ;int 11001101 - imm8<br /><br />too. ;).<br /><br />btw, real men program in OCT ;P</div>
    <div class="meta">Posted on 2002-02-04 02:39:32 by roeldebikkel</div>
   </div>
   <div class="post" id="post-22749">
    <div class="subject"><a href="#post-22749">Real men strike again :)</a></div>
    <div class="body">btw, real men program in OCT ;P<br /><br />Yeah but there is none of that generation left and Octal does not work real well on x86. :)<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-04 03:41:10 by hutch--</div>
   </div>
   <div class="post" id="post-22772">
    <div class="subject"><a href="#post-22772">Real men strike again :)</a></div>
    <div class="body">OCT is a really good way to code since the Intel processors are built up around it. If you group the instructions in groups of 8 you'll see the logic. The same thing with the r/rm bytes.</div>
    <div class="meta">Posted on 2002-02-04 08:13:13 by gliptic</div>
   </div>
   <div class="post" id="post-24576">
    <div class="subject"><a href="#post-24576">Real men strike again :)</a></div>
    <div class="body">Real men write batch files with edlin </div>
    <div class="meta">Posted on 2002-02-16 17:05:39 by eet_1024</div>
   </div>
   <div class="post" id="post-24583">
    <div class="subject"><a href="#post-24583">Real men strike again :)</a></div>
    <div class="body">Real men don't program.. they don't have to demonstrate anything to anybody, programming could be mistaken as a possible hole in their self-confidence.. which is unacceptable for a real man's ego. ;)<br /><br />:grin:</div>
    <div class="meta">Posted on 2002-02-16 17:29:42 by Maverick</div>
   </div>
   <div class="post" id="post-25027">
    <div class="subject"><a href="#post-25027">Real men strike again :)</a></div>
    <div class="body">What a discussion...<br />real men code in hex... real men code in oct...<br /><br />If YOU are really REAL MEN... you code only in binary :grin: <br /><br />Zero</div>
    <div class="meta">Posted on 2002-02-19 11:24:07 by Zero</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=3296&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=3296&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="3296" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=3296&amp;page=2">&gt;</a><a href="../?id=3296&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
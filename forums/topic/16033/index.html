<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Load and append multiple File - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16033" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16033">Load and append multiple File</a></p>
   <div class="post" id="post-124249">
    <div class="subject"><a href="#post-124249">Load and append multiple File</a></div>
    <div class="body">How to do it? I want it loaded on one Buffer.</div>
    <div class="meta">Posted on 2003-11-13 05:24:24 by realvampire</div>
   </div>
   <div class="post" id="post-124254">
    <div class="subject"><a href="#post-124254">Load and append multiple File</a></div>
    <div class="body">create a buffer big enough for all files.<br />read the first file into the buffer then add the value returned thru the lpNumberOfBytesRead arugment of ReadFile to the buffer pointer and read in the next file and so on.</div>
    <div class="meta">Posted on 2003-11-13 06:52:27 by ENF</div>
   </div>
   <div class="post" id="post-124330">
    <div class="subject"><a href="#post-124330">Hi .</a></div>
    <div class="body">What is the last byte of the File? Should I replace it with 0x0d0a?</div>
    <div class="meta">Posted on 2003-11-14 08:01:36 by realvampire</div>
   </div>
   <div class="post" id="post-124333">
    <div class="subject"><a href="#post-124333">Load and append multiple File</a></div>
    <div class="body">why would you want to add CRLF? If there is a valid reason, go ahead and change.</div>
    <div class="meta">Posted on 2003-11-14 08:20:22 by roticv</div>
   </div>
   <div class="post" id="post-124334">
    <div class="subject"><a href="#post-124334">Load and append multiple File</a></div>
    <div class="body">The last byte depends on the file. There is no need of CRLF (0D0Ah), casually most text files end with CRLF but you cannot rely on that fact.<br /><br /><pre><code><br />invoke ReadFile,&#91;hfile&#93;,esi,&#91;filesize&#93;,io_bytes,NULL<br />test eax,eax<br />jz error_read<br />add esi,&#91;io_bytes&#93;<br /><br />;esi is ready to receive next file if buffer is big enough<br /><br />mov al,&#91;esi-1&#93; ; the last byte is stored in al<br /><br /></code></pre></div>
    <div class="meta">Posted on 2003-11-14 08:27:40 by pelaillo</div>
   </div>
  </div>
 </body>
</html>
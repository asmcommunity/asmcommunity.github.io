<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Can I add a command in Source Insignt in this way ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8798" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=24">IDE usage &amp; development</a> &raquo; <a href="../?id=8798">Can I add a command in Source Insignt in this way ?</a></p>
   <div class="post" id="post-64653">
    <div class="subject"><a href="#post-64653">Can I add a command in Source Insignt in this way ?</a></div>
    <div class="body">Hi, <br /><br />I am now adding a custom command in the source insight 31. and I am now exhausted!<br />I want to add the command &quot;compile&quot; in the menu bar corresponding to a .bat file. for example:<br /><br />command name:   compile<br />run (command line) : d:\masm32\bin\bldall  %f<br />......<br /><br />Here  bldall is  the primary part  of  a batch filename (I means the whole filename without path is bldall.bat).<br />I run the command added, but the source insight tells me that is a wrong command. When I change the command line as below:<br /><br />command line: d:\masm32\bin\bldall.bat<br /><br />The Dos box comes out and this batch file runs without any parameter(be coz I do not transfer para to it :-) ).<br />Every one knows that if I send command --bldall %f,assuming %f is a whole .asm filename,--to DOS shell ,it is okay.<br /><br />Why this question happens to Source Insight? And how can I  add a command to run a batch file with parameters ?<br /><br />thx in advance<br />ian<br /> :o</div>
    <div class="meta">Posted on 2002-11-05 01:55:33 by ian__woo</div>
   </div>
   <div class="post" id="post-64695">
    <div class="subject"><a href="#post-64695">Hi.boy</a></div>
    <div class="body">Hi,look here,it's no problem.(Default ,.exe or .com should put in command line)</div>
    <div class="meta">Posted on 2002-11-05 07:48:17 by jingulong</div>
   </div>
   <div class="post" id="post-64768">
    <div class="subject"><a href="#post-64768">Thx</a></div>
    <div class="body">Hi,Jingulong<br /><br />Thank u very much.<br />I finished it la, and now I am using this editor. It is very wonderful<br /><br /><br /><br />ian<br />Nov. 7</div>
    <div class="meta">Posted on 2002-11-05 21:05:36 by ian__woo</div>
   </div>
   <div class="post" id="post-64776">
    <div class="subject"><a href="#post-64776">Yes</a></div>
    <div class="body">Hi,ian__woo<br />You can use Make.exe insted of .bat</div>
    <div class="meta">Posted on 2002-11-05 23:32:47 by jingulong</div>
   </div>
   <div class="post" id="post-64777">
    <div class="subject"><a href="#post-64777">I will try it</a></div>
    <div class="body">Hi,Jingulong<br /><br />Thank u very much once again.<br />I appreciate ur help , and I will try to use a make.exe instead of the .bat file there.<br />I will post a messenge here if I succeed .<br /><br /><br />Best Regards,<br />ian<br />Nov.,7</div>
    <div class="meta">Posted on 2002-11-05 23:42:16 by ian__woo</div>
   </div>
   <div class="post" id="post-64814">
    <div class="subject"><a href="#post-64814">I failed !</a></div>
    <div class="body">Hi, Jingulong,<br /><br />There are 2 questions when I use a make.exe instead of the .bat file .<br /><br />1) I have no make.exe in /masm32/bin or other directories in my pc, so I copied one nmake.exe from vc60 and use it as a make.exe file u refered to. Is nmake.exe can be used here?<br />2) I do not know how to put a .mak file  with the namke.exe file together in the command text box. I think it will never work properly since I used this command line in the dos shell and it failed<br /><br />in the dos shell<br /> nmake file.mak                 /*assume the file.mak is the makefile */<br /><br />in the custom define command text box of the source insight<br />nmake %d/%b.mak        /*%d gives the directory of the file being edited, and %b   <br />                                          gives the name only of the file, so %d/%b gives a file name<br />                                          such as :  d:/mydirctory/myfile              (no extensionName)<br />                                        */<br /><br />Those 2 approaches above all failed. but It works properly when I move my ml.exe , link.exe and rc.exe in the directory of my sourceinsight and put the following string in the command text box of the source insight:<br /><br />nmake %d/%b.exe<br /><br />It suggests that I can not use a .mak file when I use the nmake.exe file here in stead of the .bat file !<br /><br />:confused:  Where can I get a make.exe file for my masm32? and How to use it with a .mak file in my source insight editor..<br /><br /><br />Best Regards,<br />ian <br />Nov. 8</div>
    <div class="meta">Posted on 2002-11-06 09:21:33 by ian__woo</div>
   </div>
   <div class="post" id="post-64875">
    <div class="subject"><a href="#post-64875">You can use</a></div>
    <div class="body">You can use the &quot;Make.exe&quot; of  Borland's tasm package.</div>
    <div class="meta">Posted on 2002-11-06 21:49:17 by jingulong</div>
   </div>
   <div class="post" id="post-64885">
    <div class="subject"><a href="#post-64885">I need ur help again</a></div>
    <div class="body">Hi, Jingulong,<br /><br />I need ur help again.<br />I have downloaded the Tasm5 and installed it. I configured my source insight custom command compileAll as bellow:<br /><br />command: compileAll<br />          run:  d:\tasm\bin\make.exe  -r %d/%b.exe<br />          dir :  %d<br />The .mak file is as bellow:<br /><br />         NAME=connect<br />         $(NAME).exe: $(NAME).obj $(NAME).res<br />                 d:\masm32\bin\Link /SUBSYSTEM:WINDOWS /LIBPATH:\MASM32\lib $(NAME).obj $(NAME).res<br />         $(NAME).obj: $(NAME).asm<br />                 d:\masm32\bin\ml /c /coff /Cp $(NAME).asm<br />         $(NAME).res: $(NAME).rc<br />                 d:\masm32\bin\rc   $(NAME)<br />        Clean:<br />	Erase $(NAME).obj<br /><br />but it seems not work and it shows me no information of the command's running result.<br />Is there something wrong? and How to ..?<br /><br /><br />thx in advance and best regards,<br />ian<br />Nov.,7</div>
    <div class="meta">Posted on 2002-11-07 01:29:07 by ian__woo</div>
   </div>
   <div class="post" id="post-64911">
    <div class="subject"><a href="#post-64911">Hi</a></div>
    <div class="body">Hi,ian__woo, u can do it just as:<br /><br />run: d:\tasm\bin\make.exe<br />dir :<br /><br />The .mak file is as bellow:<br /><br />NAME=connect<br />$(NAME).exe: $(NAME).obj $(NAME).res<br />d:\masm32\bin\Link /SUBSYSTEM:WINDOWS /LIBPATH:\MASM32\lib $(NAME).obj $(NAME).res<br />$(NAME).obj: $(NAME).asm<br />d:\masm32\bin\ml /c /coff /Cp $(NAME).asm<br />$(NAME).res: $(NAME).rc<br />d:\masm32\bin\rc $(NAME)</div>
    <div class="meta">Posted on 2002-11-07 07:15:54 by jingulong</div>
   </div>
   <div class="post" id="post-64916">
    <div class="subject"><a href="#post-64916">thx, I get it</a></div>
    <div class="body">Hi, Jingulong,<br /><br />Thank u very much, I get it la.<br /><br /><br />Regards,<br />ian<br />Nov.,7:alright:</div>
    <div class="meta">Posted on 2002-11-07 08:03:32 by ian__woo</div>
   </div>
  </div>
 </body>
</html>
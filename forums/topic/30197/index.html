<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>A question about if statements with nasm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30197" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=30197">A question about if statements with nasm</a></p>
   <div class="post" id="post-212949">
    <div class="subject"><a href="#post-212949">A question about if statements with nasm</a></div>
    <div class="body">Hi all, <br /><br />i want to write (pure-asm) this code&nbsp; without if statements, i tried but i couldn&#039;t...please, tell me what should i do...by the way, my english is not very good, sorry for that :)<br /><br /><br /><pre><code>.if eax&gt;ebx<br />	.if eax&gt;ecx<br />		jmp eaxMax<br />	.endif<br />.endif<br /><br />.if ebx&gt;eax<br />	.if ebx&gt;ecx<br />		jmp ebxMax<br />	.endif<br />.endif<br /><br />.if ecx&gt;eax<br />		.if ecx&gt;ebx<br />			jmp ecxMax<br />		.endif<br />.endif</code></pre><br /></div>
    <div class="meta">Posted on 2010-08-25 10:31:16 by oxbo</div>
   </div>
   <div class="post" id="post-212951">
    <div class="subject"><a href="#post-212951">Re: A question about if statements with nasm</a></div>
    <div class="body">You should assemble the code as it is, and then open the resulting binary executable in a debugger (or just a disassembler). I would recommend OllyDBG, it&#039;s ugly but it&#039;s free and works pretty well, and supports &quot;JIT&quot; (Just In Time) debugging, which means that the debugger will open whenever an application crashes or reaches an INT 3 (step breakpoint) instruction.<br />If it&#039;s part of a very big program, just add an INT 3 to the start of this part of the sourcecode, enable JIT in olly, and run your program.<br /><br />Now look at what the assembler (masm, I suppose) has produced.<br />There is your &#039;pure asm&#039; - stare at it, look at how it works, and then modify your sourcecode accordingly.<br />Now you&#039;ve learned what the .IF statements are producing, you can do it yourself.<br />There&#039;s not a lot to gain from this, but it is certainly educational, and it&#039;s good to know what these &#039;macros&#039; are really doing.<br /><br />(Some people would say that&#039;s not a macro - it&#039;s a highlevel directive - I fail to see any difference.)<br /></div>
    <div class="meta">Posted on 2010-08-25 10:51:27 by Homer</div>
   </div>
   <div class="post" id="post-212952">
    <div class="subject"><a href="#post-212952">Re: A question about if statements with nasm</a></div>
    <div class="body">If you insist on writing it in &quot;pure asm&quot;, instead of using the macros, you can write something like this:<br /><div class="quote">MOVD xmm0, eax<br />MOVD xmm1, ebx<br />PMAXUD xmm0, xmm1<br />MOVD xmm1, ecx<br />PMAXUD xmm0, xmm1<br />MOVD eax, xmm0</div><br />I surmise that learning what the above means will be educational for you, as well as what Homer suggested.</div>
    <div class="meta">Posted on 2010-08-25 10:57:06 by ti_mo_n</div>
   </div>
   <div class="post" id="post-212955">
    <div class="subject"><a href="#post-212955">Re: A question about if statements with nasm</a></div>
    <div class="body"><div class="quote"><br />You should assemble the code as it is, and then open the resulting binary executable in a debugger (or just a disassembler). I would recommend OllyDBG, it&#039;s ugly but it&#039;s free and works pretty well, and supports &quot;JIT&quot; (Just In Time) debugging, which means that the debugger will open whenever an application crashes or reaches an INT 3 (step breakpoint) instruction.<br />If it&#039;s part of a very big program, just add an INT 3 to the start of this part of the sourcecode, enable JIT in olly, and run your program.<br /><br />Now look at what the assembler (masm, I suppose) has produced.<br />There is your &#039;pure asm&#039; - stare at it, look at how it works, and then modify your sourcecode accordingly.<br />Now you&#039;ve learned what the .IF statements are producing, you can do it yourself.<br />There&#039;s not a lot to gain from this, but it is certainly educational, and it&#039;s good to know what these &#039;macros&#039; are really doing.<br /><br />(Some people would say that&#039;s not a macro - it&#039;s a highlevel directive - I fail to see any difference.)<br /><br /></div><br /><br />thanks for your reply, as you said, i want to know what these marcos are really doing, and i learned with your help and i found a bug :) thank you so much :)<br /><br />with regards,<br />oxbo</div>
    <div class="meta">Posted on 2010-08-25 11:14:39 by oxbo</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Setting VGA mode from VC++ - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4762" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=4762">Setting VGA mode from VC++</a></p>
   <div class="post" id="post-33360">
    <div class="subject"><a href="#post-33360">Setting VGA mode from VC++</a></div>
    <div class="body">Hi there,<br /><br />I generated an App Wizard simple Win32 console programme and put the following code into main()...<br /><br />_asm {<br />   mov AX , 0x10<br />   int 0x10<br />} <br /><br />The mode appears to be set but after about a second a blue screen appears reporting a fatal exception.<br /><br />How do I stop this? (Basically, I'm trying to port some Borland C++ files to VC++)<br /><br />Thanks,<br /><br />S.</div>
    <div class="meta">Posted on 2002-04-13 16:00:21 by Station</div>
   </div>
   <div class="post" id="post-33363">
    <div class="subject"><a href="#post-33363">Setting VGA mode from VC++</a></div>
    <div class="body">Isn't int a DOS command?</div>
    <div class="meta">Posted on 2002-04-13 16:31:42 by Nordbon</div>
   </div>
   <div class="post" id="post-33364">
    <div class="subject"><a href="#post-33364">Setting VGA mode from VC++</a></div>
    <div class="body">Yes, it is. But it still works at first so why would this be a problem?<br /><br />The original file uses 'geninterrupt(0x10)' but I think this only works with Borland.<br /><br />Cheers,<br /><br />S.</div>
    <div class="meta">Posted on 2002-04-13 16:36:18 by Station</div>
   </div>
   <div class="post" id="post-33383">
    <div class="subject"><a href="#post-33383">Setting VGA mode from VC++</a></div>
    <div class="body">hi station<br /><br />As far as I know a win32 app cannot acces dos interups. A console app is the same it just has a console allocated to it. Programs run in a dos box that access interupts are probably native dos executables.</div>
    <div class="meta">Posted on 2002-04-13 18:57:41 by Kudos</div>
   </div>
   <div class="post" id="post-33402">
    <div class="subject"><a href="#post-33402">Setting VGA mode from VC++</a></div>
    <div class="body">I've gotten other modes to work... but I doubt that 0x10 (10h = 640x350/ega) would work in a dos box... try 0x04 (mov ax,0x0004) and work your way up from there ;)</div>
    <div class="meta">Posted on 2002-04-14 01:32:45 by SpooK</div>
   </div>
   <div class="post" id="post-33442">
    <div class="subject"><a href="#post-33442">Setting VGA mode from VC++</a></div>
    <div class="body">Thanks for the response.<br /><br />What is special about mode 10h which would make you doubt that it would work in a dos box? <br /><br />When code which sets VGA to mode 10h using 'int' is compiled to native dos using a pre-Masm32 version of Masm, the executable works fine from Windows. Wouldn't this be running in a 'dos box'?<br /><br /><br />Surely its possible to set mode 10h from a Windows program! If not, is it possible to create a dos program using VC++ 6?<br /><br />Cheers,<br /><br />S.</div>
    <div class="meta">Posted on 2002-04-14 09:11:07 by Station</div>
   </div>
   <div class="post" id="post-33447">
    <div class="subject"><a href="#post-33447">Setting VGA mode from VC++</a></div>
    <div class="body">Station, you program WIN32 using the win32 API... this means<br />GDI or DirectDraw for 2D graphics. I doubt you will be able to switch<br />modes by calling dos interrupts (unless you use DPMI services, but<br />this is only available in win9x and is somewhat of a hack).<br />It puzzles me that you get a BSOD though, you only ought to get<br />a general protection fault.<br /><br />As for console win32 apps... the only thing they have in common<br />with a dos app is that they're textmode - you can NOT access the<br />dos subsystem, you run protected mode, use the win32 subsystem,<br />et cetera.</div>
    <div class="meta">Posted on 2002-04-14 11:41:34 by f0dder</div>
   </div>
  </div>
 </body>
</html>
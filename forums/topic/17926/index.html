<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>My 80gig drive died. Delay-write errors == hardware errors. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17926" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=17926">My 80gig drive died. Delay-write errors == hardware errors.</a></p>
   <div class="post" id="post-138435">
    <div class="subject"><a href="#post-138435">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">Woohoo.<br /><br />Should you ever be lucky enough to get a dialog box with &quot;delay-write error writing to C:&quot; or &quot;C:\$mft&quot; (or, in general, anything including a delay-write error), chance is it's NOT windows that's fscking up, and it's not your filesystem that's borked. <strong>It's your HD that's dying</strong>.<br /><br />I initially got this error a couple of days ago when I tried upgrading 2k to XP (yes, I usually always do clean installs, but I figured I could live with a 'tainted' system until XP SP2 comes out, and I needed to do some work during the easter break, so I didn't feel like installing everything from scratch. Why did I upgrade, then? New gfx card, and the drivers didn't play well with the old OS install). Upgrade went fine, but at first boot, I got those errors.<br /><br />Thought I had lost a lot of stuff and would have to run NTFS recovery stuff, but I plugged the drive into one of my kid brothers' boxes, and because NTFS is a Journalling FS, everything worked out nicely. Thought it was an error because of the upgrade, did a clean XP install, and everything seemed to work just fine.<br /><br />Came home today after watching Passion Of Christ, rebooted my machine, and I got those delay-write errors again. Thought I would have to do a OS reinstall and revert to win2k, when the clicking noises started. Bummer. Then the drive didn't show up in bios POST etc.<br /><br />Finally had to knock &quot;a slight bit&quot; on the drive to get the read/write head arm moving properly again, and miraculously it survived long enough to back up ~34 gigs of data, which should be &quot;more or less everything&quot;. Though I had more data than that on it (80gig disk), but of course there's stuff like windows + installed apps etc. to take into consideration. I <strong>think</strong> everything is safe, at least my docs+sources should, and that's what matters most.<br /><br />Hope to get hold of a fresh drive tomorrow before shops close, so I can perhaps get a little work done during easter - sigh. Then there's the process of RMA'ing the b0rked drive after the holidays, etc. I really hate hardware sometimes.<br /><br />Anyway, long text. The short version: BE SURE TO BACK UP YOUR DATA IF YOU EVER GET A &quot;delay-write&quot; ERROR!</div>
    <div class="meta">Posted on 2004-04-09 14:19:19 by f0dder</div>
   </div>
   <div class="post" id="post-138437">
    <div class="subject"><a href="#post-138437">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">two members of this board have problems with HDs!<br />who s next? :)<br /><br />btw i ve got an old 6Gb disk on my old P133 that often makes 'click! click!' and the system freezes for half a second.. apart from that, it works... well maybe theres one partition that has a hardware problem..</div>
    <div class="meta">Posted on 2004-04-09 14:31:38 by HeLLoWorld</div>
   </div>
   <div class="post" id="post-138439">
    <div class="subject"><a href="#post-138439">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">click click + full system freeze will eventually mean HD death. First you get a few bad sectors (if you're lucky), then the drive will stop POSTing, and then you can do the &quot;knock gently&quot; trick to salvage data. But you never know how long you have before the disk dies - one of the deskstars in my kid brothers' old box has been doing it for years. Good thing that disk is only used for games :)<br /><br />My problem seems rather clearly to be hardware based, the other guys problem sounded like a logic error.</div>
    <div class="meta">Posted on 2004-04-09 14:48:10 by f0dder</div>
   </div>
   <div class="post" id="post-138443">
    <div class="subject"><a href="#post-138443">Re: My 80gig drive died. Delay-write errors == hardware erro</a></div>
    <div class="body"><div class="quote"><em>Originally posted by f0dder </em><br /><strong>Woohoo.<br /><br />Should you ever be lucky enough to get a dialog box with &quot;delay-write error writing to C:&quot; or &quot;C:\$mft&quot; (or, in general, anything including a delay-write error), chance is it's NOT windows that's fscking up, and it's not your filesystem that's borked. <strong>It's your HD that's dying</strong>.<br /><br />I initially got this error a couple of days ago when I tried upgrading 2k to XP (yes, I usually always do clean installs, but I figured I could live with a 'tainted' system until XP SP2 comes out, and I needed to do some work during the easter break, so I didn't feel like installing everything from scratch. Why did I upgrade, then? New gfx card, and the drivers didn't play well with the old OS install). Upgrade went fine, but at first boot, I got those errors.<br /><br />Glad to hear you got everything backed up b4 the HD went night-night. What brand was the old HD.<br /><br />I have to back my stuff to floppy, a little easier since I got a program that formats them to 1.6 meg.</div>
    <div class="meta">Posted on 2004-04-09 15:25:14 by skywalker</div>
   </div>
   <div class="post" id="post-138444">
    <div class="subject"><a href="#post-138444">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">you ve got to backup your stuff to...WHAT?????????  :)<br /><br />cant you try with another hd, a burner, an usb thing, or even by serial link?</div>
    <div class="meta">Posted on 2004-04-09 15:39:43 by HeLLoWorld</div>
   </div>
   <div class="post" id="post-138446">
    <div class="subject"><a href="#post-138446">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">It's a maxtor, and I will probably get a maxtor again - I have a bunch of other drives that work without problem, and run 24/7 in my server. All IDE drives tend to suck anyway :/. I'm slightly considering to try a Western-Digital or seagate, but I dunno. Will probably go for a maxtor in the end. Anyway, I'm gonna get a 80gig 8meg cache as the one I had, they're nice.<br /><br />Btw, I wouldn't format floppies to higher than 1.44meg capacity. I've had problems with this kind of &quot;magic formatting&quot; in the past, easier to get data corruption (which is way too easy on floppies in the first place). Of course it depends on floppy and drive quality, and 1.6meg might be safe (it's not like when we drilled holes in 720kb amiga floppies to turn them into 1.44megs ;)), but for something as crucial as backups, I wouldn't do it.<br /><br />I'm considering getting a second drive + a raid adapter and do mirroring, but I don't feel like spending that much right now. My motherboard has onboard raid, but it's a bit flaky in stripe mode with very high speeds... oh well. A DVD burner would be another option. Ah well, I can live with regular CDs for now, just need to do backups routinely, and perhaps automate source+docs backups, and store to my server.</div>
    <div class="meta">Posted on 2004-04-09 15:57:50 by f0dder</div>
   </div>
   <div class="post" id="post-138470">
    <div class="subject"><a href="#post-138470">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">Yeah... I was trying to help out a friend with his computer recently, and his diskdrive was making theese noises as well,<br />the OS booted at first, then crashed with blue screen. <br />After that it got booted again, crashed, after that, could not boot because of disc errors.<br />He bought that new harddrive 120gb's some 6 months ago.<br />I thought error could be either of theese<br />1: his 300wats energy supply (right english word?) was not enough to supply all the hardware (he got all the motherboard filled up to the maximum with card and drives)<br />2: harddrive crash<br />3: overheating of the harddrive ( but I'm really doubting this )<br />For me, it was kinda hard to tell my friend what was going on, I'm no hardware expert, I could only guess, and tell him theese three options of errors. That was just my guess.<br /><br />I had some serious problems with my computer after installing a new soundcard, the computer triple-faulted all the time rebooting, and when I bought a new energy supply which was more powerful, for it, it worked ok.<br />But that could also be because I accidentaly smashed the computer into the floor now and then and that would have damaged it ( the energy supply ). Anyhow that's why I guessed about him should buy a new energy supply.<br /><br />Also, about harddrive crash, like 4 years ago, I had a real harddrive disaster, and I have no idea if it was due to a bad drive (it was very old though) or a virus (could been that too ~~ windows 98 and no antivirus), 'cause one day, the computer rebooted, I turned it on again and the second drive where totaly wiped! All that remained were a folder with a nonsense, scrambled kinda name... and I kept all my programming stuff on that drive - one year of work gone and no backups!!! Even though there were no super important projects, it kills me to think of that.<br /><br />So now, I try do a cd backup every month or so, of what I did so far. I am paranoid with that!</div>
    <div class="meta">Posted on 2004-04-09 22:26:18 by david</div>
   </div>
   <div class="post" id="post-138491">
    <div class="subject"><a href="#post-138491">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body"><div class="quote"><br />3: overheating of the harddrive ( but I'm really doubting this )<br /></div><br />Overheating can actually cause quite some truoble, and if he has crammed his computer full of drives etc, it could likely cause problems in the long run. I have mounted a 80mm papst fan blowing right across my disk, it causes the drive temperature to drop by 20C - and doesn't really make any noise, compared to the drive itself.<br /><br /><div class="quote"><br />I had some serious problems with my computer after installing a new soundcard, the computer triple-faulted all the time rebooting,<br /></div><br />Wouldn't happen to be a Creative product, would it? Their drivers have been, erm, &quot;creative&quot;. Their recent cards seem to work okay, though.<br /><br /><div class="quote"><br />All that remained were a folder with a nonsense, scrambled kinda name... <br /></div><br />Sounds like a filesystem problem - FAT is such a wonderful filesystem, *cough*. I would probably have had the same problems yesterday if I had been running FAT, but luckily I have NTFS which does journalling. (Yes, NTFS can still screw you over, but it takes lot more effort ;)). Data recovery tools work pretty well these days though, both for fat and ntfs.<br /><br /><div class="quote"><br />So now, I try do a cd backup every month or so, of what I did so far. I am paranoid with that!<br /></div><br />I'm going to automate source+docs backups, one incremental per day, full backup every friday. I already wrote the scripts to do it with winrar, but I never automated the scripts - doh!</div>
    <div class="meta">Posted on 2004-04-10 04:07:01 by f0dder</div>
   </div>
   <div class="post" id="post-138562">
    <div class="subject"><a href="#post-138562">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">I haven't yet upgraded to a large HDD (my biggest one is currently 13GB). But with the fact they are so big, and manufacturers are lowering warranties down to 1 year, i would not dream of running 80GB+ unless it was mirrored. You just stand to lose too much if it does go.</div>
    <div class="meta">Posted on 2004-04-10 18:36:05 by sluggy</div>
   </div>
   <div class="post" id="post-138565">
    <div class="subject"><a href="#post-138565">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">heh, the reason I'm sticking to something as SMALL as an 80gig drive is because I feel the same way. It's hard getting smaller drives around here now, especially if you don't want to pay a lot more per meg.<br /><br />Anyway, weird thing is - after a low-level format, the errors seem to have gone away, and that without any bad-sector remapping (a feature most IDE drives have adapted nowadays).<br /><br />Also, a clean install on the brand-new drive I bought - poof, exactly the same problems, even clicking sounds and stuff. In the process of llf'ing it right now.<br /><br />I'm basically clueless as to wtf is happening. One idea I had that seemed somewhat plausible, is that XP would shut down (power-off) too fast, so the drive didn't have time to flush it's large (8meg) cache to physical disk, and this would cause &quot;logical bad sectors&quot; because some of the per-sector CRCs would be bad. However, why this would cause the drive not to show up in BIOS POST I do not know - and I've somewhat dismissed the theory since my kid brothers have a 80gig 8meg cache maxtor and XP+SP1 in their box with no problems at all. Hell, their other box is a Athlon700 (with one of the pretty borked chipsets, kx133 iirc), XP+SP1, and 2x45 IBM deathstar (erm, deskstar) drives, and that one works flawlessly, too.<br /><br />When the low-level format is done, I'll try a win2k+sp4 install on the &quot;bad old&quot; harddrive in my own box, and a XP+SP1 (+ the various tweaks I applied) in my kid brothers machine, and see if any of them fails.<br /><br />This really weirds me out :-s</div>
    <div class="meta">Posted on 2004-04-10 18:54:00 by f0dder</div>
   </div>
   <div class="post" id="post-138603">
    <div class="subject"><a href="#post-138603">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">f0dder,<br /><br />One of the lessons I learnt the hard way was to never develop on a machine that only has one drive in it. It costs a bit more but if you get drives in pairs, you can have important stuff on both of them so you never lose it.<br /><br />The only box I have a singe HDD on is my old internet box which is trashable. Even on my old PIII I had a matched pair of scsi disks and when one started to fail, I backed it all up on the other, then on CD and then on another box, just to make sure.<br /><br />If you have an old box somewhere, it does not hurt to keep it more or less empty and attached by a hub or similar so you can dump important stuff on it in case of failure. They never wear out if you rarely ever turn them on.<br /><br />The effect you are getting when you reformat it and it looks OK is an indication that the disk is on its way out but interestingly enough, it can be a chip failing rather than disk surface or heads. Thats what killed the last scsi on me and as it got worse, one particular chip used to overheat, just before it crashed and took the OS out with it.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2004-04-11 08:21:34 by hutch--</div>
   </div>
   <div class="post" id="post-138612">
    <div class="subject"><a href="#post-138612">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body"><div class="quote"><br />heh, the reason I'm sticking to something as SMALL as an 80gig drive is because I feel the same way. It's hard getting smaller drives around here now, especially if you don't want to pay a lot more per meg.<br /><br />Anyway, weird thing is - after a low-level format, the errors seem to have gone away, and that without any bad-sector remapping (a feature most IDE drives have adapted nowadays).<br /><br />Also, a clean install on the brand-new drive I bought - poof, exactly the same problems, even clicking sounds and stuff. In the process of llf'ing it right now.<br /><br />I'm basically clueless as to wtf is happening. One idea I had that seemed somewhat plausible, is that XP would shut down (power-off) too fast, so the drive didn't have time to flush it's large (8meg) cache to physical disk, and this would cause &quot;logical bad sectors&quot; because some of the per-sector CRCs would be bad. However, why this would cause the drive not to show up in BIOS POST I do not know - and I've somewhat dismissed the theory since my kid brothers have a 80gig 8meg cache maxtor and XP+SP1 in their box with no problems at all. Hell, their other box is a Athlon700 (with one of the pretty borked chipsets, kx133 iirc), XP+SP1, and 2x45 IBM deathstar (erm, deskstar) drives, and that one works flawlessly, too.<br /><br />When the low-level format is done, I'll try a win2k+sp4 install on the &quot;bad old&quot; harddrive in my own box, and a XP+SP1 (+ the various tweaks I applied) in my kid brothers machine, and see if any of them fails.<br /><br />This really weirds me out :-s </div><br /><br />I had the same problem with my laptop. Under XP it started to sound like a typical cascading hard drive failure. It would work fine, then didn't work so well... then complete freezes and weird noises. I put linux back on my computer (again) and did a low-level format and then formatted in ext3, the HD runs fine since.<br /><br />My problem might be related to the fact that my laptop is from one of the major vendors (Dell/Gateway/HP/Compaq/etc...), and I've noticed with those major vendors that the laptops mysteriously start to fail after a certain amount of time. I would like to do further tests of this theory with laptops that seem to just &quot;not work&quot;. I wonder what would happen if I took the default OS installation off them and put something else on (probably linux).</div>
    <div class="meta">Posted on 2004-04-11 09:55:31 by SpooK</div>
   </div>
   <div class="post" id="post-138616">
    <div class="subject"><a href="#post-138616">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">When I originally bought this box, I bought 2x60gig drives and a motherboard capable of RAID, since I wanted to run mirroring. I started with some stripe experiments, to see the speed difference etc., and that was when I found out there was data corruption on read (not write) when I got really high speeds (which you tend to get with raid striping). I don't know whether to blame the onboard ACARD raid controller, the SiS chipset (silly me for not getting intel), or the PSU (which later turned out to be a source of major problems) - but in the end, it felt safer not doing raid.<br /><br />A while later, I built a box for my kid brothers, and there was a lot of shuffling around with drives and such. The two 60gig drives went into my server/backup box, the 80gig drive I had recently bought went to my kid brothers' new box, and I got a new 80gig drive for myself. The server is used to offload heavy amounts of data, and serve as a place to put backups. I made some scripts to automate backing up source + docs (ie, the very most important but not the largest data) - unfortunately I never got around to automating the scripts (I wanted to do a &quot;clean temp. files&quot; script before automating the backup script), and I sorta forgot about it.<br /><br />It's not like I don't know the importance of backup, how to do them, or don't have the facilities to do it. I just had a lot of other things to do, so I kind of forgot about it. Bummer. I have the server box with some 280 gigs of storage, plus my kid brother's boxes (one with 2x45gig and one with 1x80), so I have enough room for emergency dumping of data too.<br /><br />Now, the really FUN thing here is that it turned out not to be a hardware failure after all, even though it had all the signs of one - clicking drive, not POSTing, et cetera. If there had been hardware errors, the drive's S.M.A.R.T feature would report a non-zero (and probably large) reallocated sector count after the low-level format, but... the count was zero. That weirded me out.<br /><br />I installed win2ksp4 on the new drive after low-level formatting it (it had clicked too, after trying XP). Again, the ATI CATALYST 4.4 drivers wouldn't install (that's the reason I went XP in the first place - because anything but 4.1 would give BSODs). I finally sat down and read through the entire readme from the drivers, which I bet just about nobody ever does. The line that I had missed while previously skimming through the readme:<br /><div class="quote"><br />Data corruption may occur if the Large System Cache feature is enabled in Windows XP.<br /></div><br />The rest of the text is at <a target="_blank" href="http://f0dder.mine.nu/haha.txt">http://f0dder.mine.nu/haha.txt</a> . It's insane to have a bug like this in production drivers, and it's REALLY REALLY lousy that the installer doesn't check the registry setting to see if the large system cache is enabled (which, as you have probably figured out, it was on my system since it's a nice optimization).<br /><br />So, not only can this give you data corruption, these *software* errors can give you all the symptoms of a hardware problem with the drive. Pretty neat, no? Having two drives in your box wouldn't really help, there's a good chance your other partitions would be trashed too. The filesystem trashing itself isn't too bad if you run NTFS, because it's journalling and can repair itself - so far it seems like no data is lost, although I will have to look a bit more closely to see if any of the large files have been corrupted (I doubt it though). If I had been running fat32, there's a good chance a lot of stuff would have been trashed.<br /><br />So, now I have two working 80gig drives - the second one has a copy of all 34 gigs of data, and has neither power nor IDE cable attached to it. Seems like my system is stable now (knock-on-wood), and it's running XP and is nice and fast. With the fisherprice eyecandy turned off, it actually feels faster than win2k - boots faster, filesystem operations are faster, and there's more use of threading in the GUI so it won't &quot;freeze&quot; when accessing slow things like network devices, or waiting for a harddrive to spin up from power-saving mode. And of course it's nice to run without any paging file at all, works well since I have a gig of ram (and since I don't use adobe programs ;)).<br /><br />So, bottom line... If you use ATI video drivers and are on XP, do not enable large system cache. Remember to backup. And do low-level format your drives and check reallocated sector count before throwing the drive into your trashcan.</div>
    <div class="meta">Posted on 2004-04-11 10:13:57 by f0dder</div>
   </div>
   <div class="post" id="post-138834">
    <div class="subject"><a href="#post-138834">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">Thank so much f00der .<br />F%^&amp;^ all of tweak tips . I've turned off large system cache .</div>
    <div class="meta">Posted on 2004-04-13 10:31:59 by dreamweaver</div>
   </div>
   <div class="post" id="post-138836">
    <div class="subject"><a href="#post-138836">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body">It's a pretty messed up thing... it's a *nice* tweak, especially if you have lots of ram, and it's not one of those obscure things, it's directly exposed from the XP gui... lousy ATI (but damn does their hardware kick ass). There's no problems if you don't use ATI drivers, so if you have a GeForce or other board it's safe.<br /><br />A couple of safe &amp; nice optimizations:<br /><br /><pre><code><br />&#91;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Session Manager\Memory Management&#93;<br />&quot;DisablePagingExecutive&quot;=dword&#58;00000001<br /></code></pre><br />This means kernel and drivers will be loaded in nonpagable memory, ie that they can't be paged out or swapped to disk. If you have 256+ megs of memory, it's nice not having these critical components pagable. (I have this enabled and it's safe even with the cataclysm, erm, catalyst, drivers).<br /><br /><pre><code><br />&#91;HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\FileSystem&#93;<br />&quot;NtfsDisableLastAccessUpdate&quot;=dword&#58;00000001<br /></code></pre><br />Turns on the &quot;last access&quot; datetime stamp for files on NTFS - ie, the datetime stamp that's updated even if you *read* the file. I'm not sure whether a simple operation as getting file attributes or a directory surch touches this stamp too, but it's nice and all.<br /><br />Another recommendable thing is disabling the built-in zip support - this makes searches a *lot* faster, since if it's enabled, XP filesearch will search inside zip files as well. &quot;regsvr32 /u zipfldr.dll&quot;. It has a tendency to re-enable itself under some situations, so if you *really* want it off, you'll need to delete the file.<br /><br />Now I more or less just need to turn off the &quot;search filters&quot; - you know, the XP find now parses html, doc, ... documents rather than doing a normal case-insensitive binary string search as all the previous versions. That XP kind of search is not what I need, and of course it slows down things. I'm pretty sure I did it when I initially tried out XP some years ago, but I forgot how :).<br /><br />Any other 2k/xp tweaking tips? Fire away :)</div>
    <div class="meta">Posted on 2004-04-13 10:45:18 by f0dder</div>
   </div>
   <div class="post" id="post-138843">
    <div class="subject"><a href="#post-138843">My 80gig drive died. Delay-write errors == hardware errors.</a></div>
    <div class="body"><div class="quote"><br />Wouldn't happen to be a Creative product, would it? Their drivers have been, erm, &quot;creative&quot;. Their recent cards seem to work okay, though.<br /></div><br />No... if it only were that good... its a &quot;pro&quot; - soundcard of type ...Waveterminal 192L, by ESI. You know, at first when I complained (those minutes I could keep my computer running and had the time to send an email) they sent me a link to some kind of standard solution which was like install Windows XP in Standard PC mode, meaning not sharing IRQ's, just 16 irqs. (Back to stoneage)<br />Yea, so I did that, and all their other suggestions. And now my soundcard works great, except when I am playing games, I get some triple faults, and reboots.<br />(and I did get the new power supply though, but I have no idea how much that fits into the picture, could be, could not)<br />I sent them some mail about this.... no answer. That's &quot;pro&quot; - soundcards.<br />Judging by the amount I payed for this card, I wanna stick it up their ass.<br /><br /><div class="quote"><br />I'm going to automate source+docs backups, one incremental per day<br /></div><br />Me too!!!!<br />(Can't afford buying burnable cd's that often like that though!! :) )</div>
    <div class="meta">Posted on 2004-04-13 13:22:26 by david</div>
   </div>
  </div>
 </body>
</html>
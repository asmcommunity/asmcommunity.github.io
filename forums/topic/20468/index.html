<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>.IF and PTR to esctructure question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20468" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=20468">.IF and PTR to esctructure question</a></p>
   <div class="post" id="post-156537">
    <div class="subject"><a href="#post-156537">.IF and PTR to esctructure question</a></div>
    <div class="body">I have the following question/problem:<br /><br />Let say we have a structure and i mov the pointer to the structure to a register. Then i can access<br /><br /><pre><code><br />.data<br />MyStruct struct<br />    A WORD ?<br />    B WORD ?<br />MyStruct ends<br /><br />MyStruct MyStruct &lt;&gt;<br /><br />.code<br />;...<br />mov eax, offset MyStruct<br />mov &#40;MyStruct ptr &#91;eax&#93;&#41;.B, cx<br />;...<br /></code></pre><br /><br />But the .if cant do..:<br /><br /><pre><code><br /><br />mov eax, offset MyStruct<br />.IF &#40;MyStruct ptr &#91;eax&#93;&#41;.B == 0<br />   ;Code ...<br />.ENDIF<br /><br /></code></pre><br /><br />So, i need to check manually the size of each member and add it to the register that recives the structure pointer ().<br />Is there another way?</div>
    <div class="meta">Posted on 2005-01-31 22:32:58 by Ateneo</div>
   </div>
   <div class="post" id="post-156539">
    <div class="subject"><a href="#post-156539">.IF and PTR to esctructure question</a></div>
    <div class="body"><div class="quote">MyStruct MyStruct &lt;&gt;</div><br />That is very confusing to the assembler. The label for the memory variable should be different from the struct definition.<br /><br />Depending on the syntax of the assembler you are using, the use of parentheses may also not be necessary.<br /><br />Raymond</div>
    <div class="meta">Posted on 2005-01-31 23:21:30 by Raymond</div>
   </div>
  </div>
 </body>
</html>
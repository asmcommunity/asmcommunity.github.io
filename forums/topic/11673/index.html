<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>about nested while loop in masm32 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11673" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11673">about nested while loop in masm32</a></p>
   <div class="post" id="post-88602">
    <div class="subject"><a href="#post-88602">about nested while loop in masm32</a></div>
    <div class="body">Hi,<br />  I have a problem about nested .while loop in masm32<br />  Does masm32 support nested while loop?<br /><br />  my code is described as below:<br /><br /><br />    mov cl, 0<br />    .while (cl &lt; ebeCurrent_Flash_Part_Block.Block_Num)<br />        PrintHex cl<br />        PrintHex edi<br /><br />        push cx<br /><br />        mov cl, 0<br />        <br />        .WHILE (cl &lt; ProgramTimesForOneBlock)<br /><br />            PrintHex cl<br />            PrintHex edi<br />            PrintHex pb4KBufferAddr<br /><br />            ;invoke Program_4K_BYTE, pb4KBufferAddr, edi<br /><br />            add pb4KBufferAddr, 1000H   ; 4K<br />            add edi, 1000H     ; 4K<br />            inc cl<br />        .ENDW    ;&lt;- error<br /><br />        pop cx<br />        inc cl<br />    .endw<br /><br />assembler told me that error is &quot;invalid instruction operand&quot;<br /><br />Best regards,<br />Harvey.</div>
    <div class="meta">Posted on 2003-03-20 21:28:24 by harvey.lin</div>
   </div>
   <div class="post" id="post-88612">
    <div class="subject"><a href="#post-88612">about nested while loop in masm32</a></div>
    <div class="body">Hrmm, not completely sure, but what size is &quot;ProgramTimesForOneBlock&quot;.  If the operands in your while statement aren't the same size, MASM will point you to the .ENDW line as the error...<br /><br />-----<br />Domain</div>
    <div class="meta">Posted on 2003-03-20 22:26:46 by Domain</div>
   </div>
   <div class="post" id="post-88638">
    <div class="subject"><a href="#post-88638">about nested while loop in masm32</a></div>
    <div class="body">You are right, Domain<br /><br />the type of ProgramTimesForOneBlock is conflict with cl.<br />when I change cl to ecx, it will work correctly.<br /><br />Thanks Domain.<br /><br /><br />Best Regards,<br />Harvey</div>
    <div class="meta">Posted on 2003-03-21 02:06:15 by harvey.lin</div>
   </div>
   <div class="post" id="post-88688">
    <div class="subject"><a href="#post-88688">about nested while loop in masm32</a></div>
    <div class="body">Why fool with 8bit registers? Do you know they take extra clocks?</div>
    <div class="meta">Posted on 2003-03-21 06:30:19 by roticv</div>
   </div>
  </div>
 </body>
</html>
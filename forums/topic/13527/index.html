<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>translate code from masm to fasm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13527" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=13527">translate code from masm to fasm</a></p>
   <div class="post" id="post-104792">
    <div class="subject"><a href="#post-104792">translate code from masm to fasm</a></div>
    <div class="body">i need help translating a masm program to fasm.<br />how would you translate the following lines.<br />excerpt from 'calc387' by Craig Hessel <a target="_blank" href="http://www.geocities.com/craig_hessel/">http://www.geocities.com/craig_hessel/</a><br />(scroll to bottom of web page).<br /><pre><code><br />POSDIFF    =      OFFSET PosNum  - OFFSET RndNum<br /><br />where PosNum and RndNum are program labels and POSDIFF is an entry of a table.<br /><br />-------------------------------------------------<br />           mov    bx,OFFSET UnryTbl; Table offset<br />           add    ax,OFFSET RndNum ; Point AX to *Num<br />           mov    al,PrecVals&#91;bx&#93;  ; Get precedence 0 to 3<br />-------------------------------------------------<br /><br />;-------------------------------------------------------------<br />; Constant data.  Dual use overwrites some data when no longer<br />; needed.  Code/data were tightened to keep COM small but with<br />; reasonable syntax.  Function list omitted from syntax, but<br />; can view list at COM tail.<br />;-------------------------------------------------------------<br />UnryTbl    DB     POSDIFF, NEGDIFF, ABSDIFF<br />           DB     SQRDIFF, ATANDIFF,ACOSDIFF<br />Ten        DB     ASINDIFF,RNDDIFF, SIGNDIFF<br />           DB     INTDIFF, TANDIFF, COSDIFF<br />QMark      DB     SINDIFF, LGDIFF,  LNDIFF<br />           DB     LOGDIFF, MEMDIFF, PIDIFF,  EDIFF<br /><br />BnryTbl    DB     EXPDIFF, MODDIFF, DIVDIFF<br />           DB     MULDIFF, SUBDIFF, ADDDIFF<br /><br />PrecVals   DB     0,3,2,2,2,1      ; Includes following 1<br /><br />UnryList   DB     1,&quot;E&quot;,   2,&quot;PI&quot;,  3,&quot;MEM&quot;, 3,&quot;LOG&quot;<br />           DB     2,&quot;LN&quot;,  2,&quot;LG&quot;,  3,&quot;SIN&quot;, 3,&quot;COS&quot;<br />           DB     3,&quot;TAN&quot;, 3,&quot;INT&quot;, 4,&quot;SIGN&quot;,3,&quot;RND&quot;<br />           DB     4,&quot;ASIN&quot;,4,&quot;ACOS&quot;,4,&quot;ATAN&quot;,3,&quot;SQR&quot;,3,&quot;ABS&quot;<br />           DB     1,&quot;-&quot;-16,1       ; Includes following '+'<br /><br />BnryList   DB     &quot;+&quot;-16,&quot;-&quot;-16,&quot;*&quot;-16,&quot;/&quot;-16,&quot;%&quot;-16,&quot;^&quot;<br /><br />Syntax     =      $                ; Also FPU state<br />Mem        =      $ + 14           ; ST from prior run<br />TempBCD    =      $ + 24           ; Temp BCD storage<br />TempBuf    =      $ + 34           ; Temp use buffer<br /><br /></code></pre></div>
    <div class="meta">Posted on 2003-05-26 02:10:22 by jack</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21157" />
  <link rel="prev" href="../?id=21157&amp;page=1" />  <link rel="next" href="../?id=21157&amp;page=3" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=21157">C question</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=21157&amp;page=1" style="">&laquo;</a><a href="../?id=21157&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="21157" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=21157&amp;page=3">&gt;</a><a href="../?id=21157&amp;page=3">&raquo;</a></form>   <div class="post" id="post-160332">
    <div class="subject"><a href="#post-160332">Re: C question</a></div>
    <div class="body"><div class="quote"><br />For example Windows XP compiled explicitly for P3, for P4 etc. I believe we would realy feel the performance boost.<br /></div><br />I did a few tests... a P4 celeron 1.7GHz gentoo was beaten by a 700MHz Athlon running WinXP... XP is generic code. So... whatever ;) </div>
    <div class="meta">Posted on 2005-05-21 14:07:54 by f0dder</div>
   </div>
   <div class="post" id="post-160333">
    <div class="subject"><a href="#post-160333">Re: C question</a></div>
    <div class="body">I don&#39;t remember all the details about gcc4.0 but it is slower than previous versions.&nbsp; The authors wanted to get it out with certain features for some reason but didn&#39;t have time to optimize thoroughly.&nbsp; Supposedly the speed will come back as minor upgrades occur.</div>
    <div class="meta">Posted on 2005-05-21 16:46:30 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-160341">
    <div class="subject"><a href="#post-160341">Re: C question</a></div>
    <div class="body">Hi guys!<br /><br />I&#39;m sorry, but yesterday I was busy so I could not respond to your posts.<br /><strong>Jibz</strong>: I was talking of the EXE file size. If I start to debug a VC exe file, there is a lot of startup code. Hear comes <strong>Vortex</strong>&#39;s advice to eliminate those &quot;unnecessary&#39; stuffs. (Thanks Vortex for the link - however it seems, that I cannot download those files - filesize is 0). It might be true that the *real* generated code&#39;s size is smaller than those of MinGW&#39;s (at least for the generated code for the below procedure is true).<br /><br />I made a benchmark, so let&#39;s talk with <strong>real</strong> numbers: here is the C source code of a procedure, which converts a color picture to grayscale:<br /><pre><code>unsigned char** Buffer;<br />...<br />void Convert(unsigned char* Vector)<br />{<br />&nbsp; &nbsp; unsigned char* Data = Vector;<br />&nbsp; &nbsp; float s, t;<br /><br />&nbsp; &nbsp; for (int j = 239; j &gt;= 0; j--)<br />&nbsp; &nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; 320;)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + s;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + t;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + s;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + t;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + s;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + t;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; s += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + s;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t = 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.098;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.504;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; t += (*Data++) * 0.257;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Buffer<em> = 16 + t;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />}</code></pre><br /><strong>Vector </strong>- is a byte vector in BGRBGRBGR... format, and it starts with the last row. This is how I get the frame from the webcam. So let&#39;s consider this example. I know that this is not an optimal format, it&#39;s not 32 bit aligned, etc. CONSIDER THIS AS A GIVEN SITUATION.<br /><br />As you can see I made a loop unrolling to optimize the preloading of the instructions, so it is a loop which can be well optimized by a compilator. I made a little program, which calls this procedure 10000 times. Let&#39;s see the results:<br /><span class="mono">Compiler&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Time (ms) | Compiler options<br />========================|===========|==================<br />Visual C++ Toolkit 2003 |&nbsp; &nbsp; 55265&nbsp; | /GA /arch:SSE2 /arch:SSE /G7 /Ot /O2 /Og<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 55187&nbsp; |&nbsp; same<br />-- ----------------------|-----------|------------------<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 34141&nbsp; | -march=i586 -O2<br />MinGW 3.2.0-rc3&nbsp; &nbsp; &nbsp; &nbsp;  |&nbsp; &nbsp; 34595&nbsp; |&nbsp; same<br />GCC 3.4.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |-----------|------------------<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 23656&nbsp; | -march=pentium4 -O2<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 22296&nbsp; |&nbsp; same<br />========================|===========|==================</span><br /><br />Quite interesting results, aren&#39;t they? And I was generous with MS VC++ Toolkit in the optimization flags. GCC produce significant better results even if it compiles ony for a Pentium I. So <em>I would not be so sure</em> with the Microsoft compilers. Those from GCC are knowing their job. You can see that GCC is REALY using SSE instructions in contrary to VC, which does not use, even if I specified to use it.<br />And there are much more optimizing options for GCC, to improve further the code.<br /><br />I attached the two assembly listings (they are two big to list here...). You can see that GCC loads those float constants into FPU before entering the loop. It&#39;s trivial, VCToolkit does not. GCC uses SSE instructions to move data, VCToolkit does not.<br /><br />And this was only a quite simple algorithm.<br /><br /><strong>f0dder</strong>: it&#39;s realy strange what you are saying. It was beaten in which manner? GUI responsiveness? Or what? Test the same program under XP and Gentoo, and test also your HDD performance, and you will see, which one is faster. I&#39;m sure, that if you configure your Gentoo <em>properly</em> it&#39;s no way to reach it in performance by XP (exept the GUI). I admit that GTK2 is not so fast like XP GUI, but in any other things it hardly can be beaten (I&#39;m talking about OpenGL, image processing, the Eagle PCB software, Xilinx, etc.).<br /><br /><br />PS.: Hey guys, I&#39;m not having in mind to do anti-M$ campain here, don&#39;t get me wrong. I just want to speak in an <strong>objective </strong>manner about these topics.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=639" target="_blank">listings.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-05-22 10:18:14 by bszente</div>
   </div>
   <div class="post" id="post-160343">
    <div class="subject"><a href="#post-160343">Re: C question</a></div>
    <div class="body">I made a few test without loop unrolling, to prove that loop unrolling is realy usefull (at modern processors). So I let only the 1st convertion from that 8.<br />The results:<br /><span class="mono">Compiler&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | Time (ms) | Compiler options<br />========================|===========|==================<br />Visual C++ Toolkit 2003 |&nbsp; &nbsp; 55687&nbsp; | /GA /arch:SSE2 /arch:SSE /G7 /Ot /O2 /Og<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |&nbsp; &nbsp; 55718&nbsp; |&nbsp; same<br />------------------------|-----------|------------------<br />MinGW 3.2.0-rc3&nbsp; &nbsp; &nbsp; &nbsp;  |&nbsp; &nbsp; 26375&nbsp; | -march=pentium4 -O2<br />GCC 3.4.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  |&nbsp; &nbsp; 26016&nbsp; |&nbsp; same<br />========================|===========|==================</span><br /><br />VC: almost no difference -&gt; conclusion, VC toolkit with those optimization flags does not look ahead in the code. This is a little bit ridiculous.<br />GCC: almost 3 seconds of difference.<br /><br />I made another test: I put the <strong>/Ox</strong> maximum optimizations for VCToolkit. The results WITH loop unrolling: 53812 and 53890.<br />Less than 2 seconds difference. It seems that VCToolkit does a little bit of look ahead only with the <em>/Ox maximum optimization</em> flag.<br />But definitely <em>does not even approximate</em> GCC&#39;s performance (at least in this case). And as I mentioned there are a lot more extra options to use with GCC to impove more those results.<br /><br />BTW, I forgot to mention that I run the test on my computer: P4 2AGHz, Intel D845GBV mainboard, 512MB DDR 266MHz.<br /><br />Comments are welcome, if I forgot something or if I&#39;m not right than please correct me (the last thing I want is to spread stupid things :lol: )</div>
    <div class="meta">Posted on 2005-05-22 10:53:54 by bszente</div>
   </div>
   <div class="post" id="post-160344">
    <div class="subject"><a href="#post-160344">Re: C question</a></div>
    <div class="body">Hi bszente,<br /><br />Here is all the examples in one package.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=640" target="_blank">CRT0.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-05-22 13:11:31 by Vortex</div>
   </div>
   <div class="post" id="post-160345">
    <div class="subject"><a href="#post-160345">Re: C question</a></div>
    <div class="body">Hello bszente, try this:<br /><br /><pre><code><br />void convert(const unsigned char *in, unsigned char *out)<br />{<br />&nbsp; &nbsp; unsigned char *out_end = out + 320 * 240;<br /><br />&nbsp; &nbsp; while (out != out_end) {<br />&nbsp; &nbsp; &nbsp; &nbsp; *out++ = in[0] * 0.098 +<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  in[1] * 0.504 +<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  in[2] * 0.257 +<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  16;<br />&nbsp; &nbsp; &nbsp; &nbsp; in += 3;<br />&nbsp; &nbsp; }<br />}<br /><br />unsigned char input[320 * 240 * 3];<br />unsigned char output[320 * 240];<br /><br />int main(void)<br />{<br />&nbsp; &nbsp; int i;<br /><br />&nbsp; &nbsp; for (i = 0; i &lt; 10000; i++)<br />&nbsp; &nbsp; &nbsp; &nbsp; convert(input, output);<br /><br />&nbsp; &nbsp; return 0;<br />}<br /></code></pre><br /><br />About 8.8 secs on a P4 2.4MHz with some apps running. Compiled using:<br /><br /><pre><code>cl /O2 /Ox /GL /G7 /QIfist test.c</code></pre><br /><br />What are the results from MinGW?</div>
    <div class="meta">Posted on 2005-05-22 13:31:47 by death</div>
   </div>
   <div class="post" id="post-160368">
    <div class="subject"><a href="#post-160368">Re: C question</a></div>
    <div class="body">Thanks <strong>Vortex </strong>for the archive. Is something wrong with the forum? I still got empty zip file when I download it. After the download filesize is 0. However I am able to download zip files correctly from other webpages. I&#39;m using Firefox.<br /><br /><strong>death</strong>, this is getting more-and-more interesting... I found the trick of VCToolkit: the <strong> /QIfist</strong> option does the trick, not the optimization levels. Did you try to run your program without that compilation option? You will get more than 30 seconds. I see you changed the code. You simply put out the result in a similar linear array, not a bidimentional one.<br /><br />Ok. Here are the results on my computer:<br /><strong>VisualC++ Toolkit</strong>: <strong>10.8 secs</strong> with the same options that you have used<br /><strong>MinGW</strong>: between <strong>10.7-10.8</strong> with &quot;<em>-march=pentium4 -O3</em>&quot;<br /><br />Now the interesting part: if I compile the procedure from my previous post (the original one) with VCToolkit using the <strong>/QIfist</strong> option, than the execution time drops down to <strong>12 </strong>secs. It&#39;s quite impressive. I wonder how is this happening (I know that /QIfist eliminates a call after each float to int conversion), and if MinGW can be made to achieve this performance.</div>
    <div class="meta">Posted on 2005-05-23 06:07:09 by bszente</div>
   </div>
   <div class="post" id="post-160371">
    <div class="subject"><a href="#post-160371">Another test</a></div>
    <div class="body">I changed the procedure to this:<br /><pre><code>unsigned char** Buffer;<br />...<br />void Convert(unsigned char* Vector)<br />{<br />&nbsp; &nbsp; for (int j = 239; j &gt;= 0; j--)<br />&nbsp; &nbsp; &nbsp; &nbsp; for (int i = 0; i &lt; 320; i += 8)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />			Buffer<em> = Vector[0] * 0.098 + Vector[1] * 0.504 + Vector[2] * 0.257 + 16;<br />			Buffer<em> = Vector[3] * 0.098 + Vector[4] * 0.504 + Vector[5] * 0.257 + 16;<br />			Buffer<em> = Vector[6] * 0.098 + Vector[7] * 0.504 + Vector[8] * 0.257 + 16;<br />			Buffer<em> = Vector[9] * 0.098 + Vector[10] * 0.504 + Vector[11] * 0.257 + 16;<br />			Buffer<em> = Vector[12] * 0.098 + Vector[13] * 0.504 + Vector[14] * 0.257 + 16;<br />			Buffer<em> = Vector[15] * 0.098 + Vector[16] * 0.504 + Vector[17] * 0.257 + 16;<br />			Buffer<em> = Vector[18] * 0.098 + Vector[19] * 0.504 + Vector[20] * 0.257 + 16;<br />			Buffer<em> = Vector[21] * 0.098 + Vector[22] * 0.504 + Vector[23] * 0.257 + 16;<br />			Vector += 24;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />}</code></pre><br />Results:<br /><strong>VisualC++ Toolkit</strong>: ~<strong>10.6</strong> secs with &quot;<em>/O2 /Ox /GL /G7 /QIfist</em>&quot; (<strong>maximum optimization</strong>);<strong> without /QIfist</strong> the result is <strong>53 </strong>secs<br /><strong>MinGW</strong>: ~<strong>11.8</strong> with only &quot;<em>-O3 -march=pentium4</em>&quot;, this is far from the maximum optimization, so it is possible to improve this.<br /><br />It&#39;s very interestig how the performance is varying with the modification of the code.</div>
    <div class="meta">Posted on 2005-05-23 07:14:04 by bszente</div>
   </div>
   <div class="post" id="post-160375">
    <div class="subject"><a href="#post-160375">Re: C question</a></div>
    <div class="body">hi bszente,<br /><br />I checked the zip attachment in my post and I was able to download it without problem.<br /><br />Four your information, I emailed you the example package.</div>
    <div class="meta">Posted on 2005-05-23 12:43:33 by Vortex</div>
   </div>
   <div class="post" id="post-160413">
    <div class="subject"><a href="#post-160413">Re: C question</a></div>
    <div class="body">Thanks Vortex.<br /><br />So guys, any opinion/comment related to these performance evaluations? Or any personal experiences, something...<br />My conclusion is that <strong>both </strong>compilers are good, quite the same. So both can be used&nbsp; ;)<br /><br />MinGW is free and constantly improving, and has a native debugger (this is important).<br />The free Visual C++ Toolkit is not guaranteed to be upgraded, and it&#39;s harder to find a free compatible debugger (if I&#39;m not wrong).</div>
    <div class="meta">Posted on 2005-05-24 13:34:02 by bszente</div>
   </div>
   <div class="post" id="post-160593">
    <div class="subject"><a href="#post-160593">Re: C question</a></div>
    <div class="body">I wanted to note (for those who don&#39;t know already) that <a target="_blank" href="http://www.parinyasoft.com/">MinGW Studio</a> IDE and <a target="_blank" href="http://www.fifsoft.com/relo/">Relo</a> IDE both serve as good front ends for the MinGW compiler. Unlike Dev-C++, when Win32 API functions are used these two IDEs pop-up a contextual window to assist in remembering the various parameters the function uses. Pressing F1 when the cursor is on a function will display that function in a Win32.hlp file. Relo can also serve as a front-end to Borland, Digital Mars and Visual C++.</div>
    <div class="meta">Posted on 2005-05-30 06:48:52 by Masmer</div>
   </div>
   <div class="post" id="post-160596">
    <div class="subject"><a href="#post-160596">Re: C question</a></div>
    <div class="body"><div class="quote"><br />it&#39;s realy strange what you are saying. It was beaten in which manner? GUI responsiveness? Or what? Test the same program under XP and Gentoo, and test also your HDD performance, and you will see, which one is faster. I&#39;m sure, that if you configure your Gentoo properly it&#39;s no way to reach it in performance by XP (exept the GUI).<br /></div><br />GUI responsiveness, application loading time, etc. Same speed harddrives, DMA enabled. I even staticalling linked the shared libraries on gentoo, which sped up things a bit... but it was still significantly slower, apps grew a lot on size, and of course the advantage of shared libraries was gone.<br /><br />And can hardly be beaten in OpenGL? heh. What cards are supported under linux, basically NVidia, ATi, and VIA unichrome?<br /><br /><div class="quote"><br />It&#39;s quite impressive. I wonder how is this happening (I know that /QIfist eliminates a call after each float to int conversion), and if MinGW can be made to achieve this performance.<br /></div><br />VC by defalt does the ftol rather than fist, to be safe; it cannot assume you&#39;re not changing the precision flags etc. in other parts of the code. Changing the control word is expensive.<br /><br />You have OllyDebug as well as WinDbg debuggers... WinDbg is very powerful. I&#39;ve never really liked GDB (I guess there are IDEs that integrate GDB, that would help.) http://www.codeblocks.org/ looks promising.<br /><br />When I&#39;ve done tests (note again: GCC 3.x series), GCC was almost always beaten by VC 2003, except for a few rare occasions. Sometimes the intel compiler was better than VC, sometimes a (tiny) bit slower. It all depends on the type of code, and how you write it; some kinds of &quot;help&quot; (loop unrolling and pointer magic) works better in some compilers than others. Some of the really big advantages, though, can&#39;t be seen in short examples like looking at a single algo; ICC and VC &quot;link-time code generation&quot; comes to mind.<br /></div>
    <div class="meta">Posted on 2005-05-30 07:59:28 by f0dder</div>
   </div>
   <div class="post" id="post-160600">
    <div class="subject"><a href="#post-160600">Re: C question</a></div>
    <div class="body"><div class="quote"><br />GUI responsiveness, application loading time, etc. Same speed harddrives, DMA enabled. I even staticalling linked the shared libraries on gentoo, which sped up things a bit... but it was still significantly slower, apps grew a lot on size, and of course the advantage of shared libraries was gone.</div><br />Well I don&#39;t know what to say, but I strongly have the impression that you might did something wrong with your install. I have under Windows every driver installed and properly configured, but it does not reach from far Gentoo&#39;s performace in applications(Xilinx ISE, Eagle, etc. and even OpenGL games), not to mention the memory consumption. Performance and especially reliability are those who urged me to switch from Windows. I&#39;ve learnt my lesson, and I don&#39;t wan&#39;t to do the same mistake again. I&#39;m keeping me with windows up-to-date only because of the market. If you go to work at a company, almost sure that they are working under windows.<br /><div class="quote"><br />And can hardly be beaten in OpenGL? heh. What cards are supported under linux, basically NVidia, ATi, and VIA unichrome?</div><br />Well I&#39;m talking about OpenGL performance and quality on the same hardware, NOT driver support. Please don&#39;t confuse it. It&#39;s not the same. You have absolutely right that under Windows the hardware support is better, it&#39;s out of question. Everybody knows that. But most of the serious cards have good linux support.<br /><br />Anyway, I consider useless to continue this debate ;) on this forum. The target of the forum is Win32Asm not Linux :)<br /><br /><div class="quote">http://www.codeblocks.org/ looks promising.</div><br />It&#39;s realy a good IDE, I&#39;m using it a lot. Autocomplete feature needs improvment, but I&#39;m sure it will be done in the next months.<br /><div class="quote"><br />Some of the really big advantages, though, can&#39;t be seen in short examples like looking at a single algo</div><br />You have absolutely right. But taking into account that VC is a product of a company with thousands of developers in behind, and GCC is a free product you must admit that GCC is a great achievement with (almost) same performance as MS&#39;s.</div>
    <div class="meta">Posted on 2005-05-30 09:24:15 by bszente</div>
   </div>
   <div class="post" id="post-160611">
    <div class="subject"><a href="#post-160611">Re: C question</a></div>
    <div class="body"><div class="quote"><br />and even OpenGL games), not to mention the memory consumption<br /></div><br />I hope you&#39;re not using the taskmgr memory tab to judge memory consumption, at least not without knowing what these figures actually mean... as for OpenGL, well whatever. Less cards supported, and DirectX generally seems to have better performance anyway.<br /><br /><div class="quote"><br />Performance and especially reliability are those who urged me to switch from Windows. I&#39;ve learnt my lesson, and I don&#39;t wan&#39;t to do the same mistake again.<br /></div><br />*shrug* - for workstations, I see no reason to go linux. I have 14-day uptimes without any problems, with constant network activity, some gaming, coding, DVD transcoding, etc... downtimes have been because of hardware fiddling or because I wanted to sleep without noise. Even for servers, I&#39;ve seen win2k boxes with more than a year of uptime.<br /><br /><div class="quote"><br />Anyway, I consider useless to continue this debate<br /></div><br />It&#39;s certainly not useless, debates are always good as long as they are not polemic. With linux vs. windows it can be a bit hard sometimes, as some of the parameters aren&#39;t very quantifiable (&quot;perception&quot; issues), but I try to remain reasonably objective (even if windows biased). Yes, I *do* have linux boxes running here, and I have some experience with it.<br /><br /><div class="quote"><br />http://www.codeblocks.org/ looks promising.<br /><div class="quote"><br />It&#39;s realy a good IDE, I&#39;m using it a lot. Autocomplete feature needs improvment, but I&#39;m sure it will be done in the next months.<br /></div><br /></div><br />Well, it&#39;s not even beta yet, is it? :)<br /><br /><div class="quote"><br />You have absolutely right. But taking into account that VC is a product of a company with thousands of developers in behind, and GCC is a free product you must admit that GCC is a great achievement with (almost) same performance as MS&#39;s.<br /></div><br />Indeed, no question about this - but I don&#39;t settle for second-best. GCC is 3rd-best at most, and when VC2003 is free... well ;)<br /></div>
    <div class="meta">Posted on 2005-05-30 13:53:56 by f0dder</div>
   </div>
   <div class="post" id="post-160616">
    <div class="subject"><a href="#post-160616">Re: C question</a></div>
    <div class="body"><div class="quote"><br />It&#39;s certainly not useless, debates are always good as long as they are not polemic. With linux vs. windows it can be a bit hard sometimes, as some of the parameters aren&#39;t very quantifiable (&quot;perception&quot; issues), but I try to remain reasonably objective (even if windows biased).</div><br />:) Well it&#39;s ok than. I&#39;m glad that you think that way. Somebody have to support Windows too ;)<br />You know, I was a fanatic Windows user too, until I switch to Linux. <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=16747.msg159957#msg159957">Here is why...</a> Maybe you have read it already.<br /><br /><div class="quote"><br />I hope you&#39;re not using the taskmgr memory tab to judge memory consumption</div><br /> :lol: :lol: Actually I was speaking about the programs under Windows vs. programs under Linux. Linux programs use less memory. The same advice: try to run the same app under Windows and Linux, you will find out.<br /><br /><div class="quote">DirectX generally seems to have better performance anyway.</div><br />I&#39;m sorry, but I cannot agree with you in this question. I wonder why game developers are not on the same opinion like you. All the major and well written games are based on OpenGL (UT2004, Quake, HalfLife, etc.) I&#39;m sure if Direct3D would yield better performance, they would use it (not to mention that it&#39;s easyer to program). Only those EA and other games work only with Direct3D (those games, which cannot run even on a 3GHz processzor with nVidia i-dont-know-how-much thousand). Anyway, this is only my modest opinion, I&#39;m not game expert after all.<br />BTW, why is <strong>3D Studio MAX</strong>, <strong>AutoCAD</strong> and other CAD programs using <strong>OpenGL</strong>? They are exclusively Windows apps, so they could use Direct3D without any problem. Again... why is OpenGL used, where performance is needed? And definitely there is also quality difference (think to those games, who had both engines).<br /><br /><div class="quote">*shrug* - for workstations, I see no reason to go linux. Even for servers, I&#39;ve seen win2k boxes with more than a year of uptime.</div><br />You&#39;re a lucky guy. The exception stands beside the rule. :lol:<br /><br /><div class="quote">Well, it&#39;s not even beta yet, is it? :)</div><br />Well actually it is a beta, and it is rapidly evolving. Compared to the other IDEs the workspace handling is realy great.<br /><br /><div class="quote"><br />Indeed, no question about this - but I don&#39;t settle for second-best. GCC is 3rd-best at most, and when VC2003 is free... well ;)</div><br />Yes, but VC2003 is not guaranteed to have newer versions for free. OK, hardly, but I agree to put GCC at the 3th place, at least for now.&nbsp; ;) In the summer I will have some image processing project, then I will make a deeper study. This thread realy made me curious. I will return to this subject.</div>
    <div class="meta">Posted on 2005-05-30 16:31:14 by bszente</div>
   </div>
   <div class="post" id="post-160617">
    <div class="subject"><a href="#post-160617">Re: C question</a></div>
    <div class="body"><div class="quote"><br />You know, I was a fanatic Windows user too<br /></div><br />I&#39;m not fanatic, I admit when linux have done things better - which just isn&#39;t very often.<br /><br /><div class="quote"><br />I hope you&#39;re not using the taskmgr memory tab to judge memory consumption<br /><div class="quote"><br />Actually I was speaking about the programs under Windows vs. programs under Linux. Linux programs use less memory. The same advice: try to run the same app under Windows and Linux, you will find out.<br /></div><br /></div><br />Again, I hope you weren&#39;t using task manager to judge the memory consumption of the windows applications.<br /><br /><div class="quote"><br />I wonder why game developers are not on the same opinion like you. All the major and well written games are based on OpenGL (UT2004, Quake, HalfLife, etc.)<br /></div><br />Quake (and other ID games) use OpenGL because Carmack is a zealot... however, doom 3 has *very* lousy performance. I even think Carmack has stated that his next game will probably be Direct3D (not 100% on that one, though). Half Life supports both D3D and OpenGL, and Half Life 2 which can even run resonably okay on a PII with a radeon 8500 is D3D exclusively. So is World Of Warcraft, which again runs on pretty modest equipment. And Dugeon Siege, which runs okay on an Athlon700 with a GeForce 2 card (heck, even runs on integrated intel extreme graphics 2). I&#39;ve played a number of games, and my brothers play even more - while D3D games sucked a number of years ago, the API has matured a <strong>lot</strong> in the recent years - and it seems more powerful and flexible (and certainly faster to adapt new features!) than OpenGL.<br /><br /><div class="quote"><br />BTW, why is 3D Studio MAX, AutoCAD and other CAD programs using OpenGL?<br /></div><br />Both 3DS max and Maya support Direct3D, and 3DS has done so for many years now. First version were a bit buggy, partially because of the previous d3d versions, partially because of bad implementations in the pograms. The reason many engineering apps use OpenGL? It used to be the de-facto standard. A lot are adapting d3d now, though - I wonder why? (perhaps because nvidia are the only ones to have good GL support, apart from the really high-end cards. Try running blender 3d with ATi catalyst drivers...)<br /><br /><div class="quote"><br />And definitely there is also quality difference (think to those games, who had both engines).<br /></div><br />Yep, direct3d games used to look pretty bland and dull. Don&#39;t know why though, have a look at halflife 2, dungeon siege and world of warcraft... and don&#39;t judge multi-engine games, they are often not very well designed.<br /><br /><div class="quote"><br />*shrug* - for workstations, I see no reason to go linux. Even for servers, I&#39;ve seen win2k boxes with more than a year of uptime.<br /><div class="quote"><br />You&#39;re a lucky guy. The exception stands beside the rule. Laughing<br /></div><br /></div><br />Again, *shrug*. All the NT boxes I&#39;ve used have been stable (as long as the hardware has been stable and I haven&#39;t been dealing with driver development). That&#39;s four different boxes at my home, and 5-6 boxes at the musem where I work. Not to mention my friends boxes. I guess it&#39;s around 25+ boxes in total, where at least 5-6 of them (mine and &#39;geek&#39; friends&#39; workstations) have had 7+ day uptimes without problems. So I&#39;m not too sure I&#39;m the exception :)<br /><br /><div class="quote"><br />Yes, but VC2003 is not guaranteed to have newer versions for free.<br /></div><br />True... but some things are worth paying for. Visual Studio *is* very expensive, though. And it is nice that GCC *is* progressing... but so is VC and ICC.<br /><br /><br />PS: it would be very hard to bring quantifiable numbers to support the d3d vs. gl debate, since I haven&#39;t done much 3d programming myself. The APIs require different programming methods, and performance varies vastly between graphics cards and drivers. I&#39;ve used both nvidia and ati hardware, as well as intel onboard graphics, and it has been my general impression that <strong>with recent titles</strong> and <strong>programmers that know what they&#39;re doing</strong>, DirectX provides better performance and less hassle.<br /></div>
    <div class="meta">Posted on 2005-05-30 16:47:36 by f0dder</div>
   </div>
   <div class="post" id="post-160628">
    <div class="subject"><a href="#post-160628">Re: C question</a></div>
    <div class="body">I agree with f0dder on all those topics. <br />My win2k box has uptimes of a month (just because once a month I open the case to clean-up). <br /><br />VisualC++ 2003 is also sold separately, for $109 <a target="_blank" href="http://msdn.microsoft.com/howtobuy/visualc/default.aspx">here</a>, btw. Contains the IDE, and probably an SDK-limited MSDN (just what one needs). <br />Probably a 2005 version will come out soon. <br /><br /></div>
    <div class="meta">Posted on 2005-05-31 03:14:04 by Ultrano</div>
   </div>
   <div class="post" id="post-160631">
    <div class="subject"><a href="#post-160631">Re: C question</a></div>
    <div class="body">What is wrong with the gcc package is that the command line tools have very comlex switches &amp; parameters.</div>
    <div class="meta">Posted on 2005-05-31 04:52:45 by Vortex</div>
   </div>
   <div class="post" id="post-160636">
    <div class="subject"><a href="#post-160636">Re: C question</a></div>
    <div class="body"><strong>Vortex</strong>: yeah, that&#39;s the main problem for the users. It&#39;s difficult to look after of those command line switches, and that&#39;s why many people is avoiding linux. You have to do what are you doing, and it takes much more time to accomodate with it. And today&#39;s tendency is the fastest-time to market, no matter how, so there is no time to learn command line arguments&nbsp; :)<br /><br />Well, I&#39;m out of arguments at this point regarding OpenGL and C compilers :) But of this C compiler stuff I will return to this subject after the summer. It realy made me curious.<br />It&#39;s so strange, because usually the serious research projects are runnign <em>primarily</em> under Linux. Yann LeCun&#39;s Lush and LeNet; FFTW; Singular; etc. There must be a reason for this (which I don&#39;t know), and I don&#39;t think the money is the reason.<br /><br />There is one more question to ask from you guys... Neither both of you did not mentioned anything about my post, in which I explain why I moved to Linux. There is a strong point there, when I try to explain the use of NOT microsoft made production softwares. AutoCAD, ModelSim, Xilinx, etc. (I&#39;m familiar with these ones). Or even MS Office.<br /><br />You guys are software engineers, mainly you deal with Compilers, IDEs, Debuggers, everything which is usually related to IT. That&#39;s a completely different world compared to the production softwares. If you will start to work with such products, you will find out what windows is able to. Crash after crash also on expensive good, reliable hardware. And you cannot deal this with saying those products are badly written. I&#39;m supporting AutoCAD and other softwares for my fater for 10 years. He is not IT specialist, so he is not using IT porgrams, he is a lets say normal, but he is doing this architectural business on a professonal level, since i386 and MS-DOS era. Reliability is a distant feature in this field under Windows.<br />I&#39;m not considering myself a software engineer, I&#39;m doing programming as a passion, hobby. I use mainly electrical engeneering tools, but I have the luck, that almost every tools I use works under Linux too.<br /><br />I run out of arguments, I&#39;m meaning that I don&#39;t have the knowledge to go further in this debate.&nbsp; I certainly will find out new things in the near future, and I will share with you guys.<br />It&#39;s a very difficult topic, this compiler comparison. I have found the following links:<br /> - <a target="_blank" href="http://www.willus.com/ccomp_benchmark.shtml">Willus.com&#39;s 2002 Win32 Compiler Benchmarks</a>, the guy is <em>not fair</em>, /O6 /Ox for Microsoft is NOT equal with -O2 -march=i686, it&#39;s equal with at least with -03 -march=i686 and -mtune=pentium3 and even this way in the LAME encoding GCC is faster<br /> - <a target="_blank" href="http://www.coyotegulch.com/reviews/linux_compilers/">Linux C and C++ Compilers</a> and some comment on it <a target="_blank" href="http://gcc.gnu.org/ml/gcc/2004-09/msg01119.html">Re: Comparing Linux C and C++ Compilers: Benchmarks and Analysis</a><br /> - <a target="_blank" href="http://www.ddj.com/documents/s=9703/ddj0310a/0310a.htm?temp=NHp-I81CYm">Comparing C/C++ Compilers</a>, you have to register to see it. The alghorithms used to test the speed are not so good (I don&#39;t consider them as good reference).<br /></div>
    <div class="meta">Posted on 2005-05-31 06:03:00 by bszente</div>
   </div>
   <div class="post" id="post-160645">
    <div class="subject"><a href="#post-160645">Re: C question</a></div>
    <div class="body">Hi bszente,<br /><br />The developers of Linux should try to simplify those complicated commandline switches. The syntax of VC compiler switches is not so horrible like that of gcc.</div>
    <div class="meta">Posted on 2005-05-31 14:42:23 by Vortex</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=21157&amp;page=1" style="">&laquo;</a><a href="../?id=21157&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="21157" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=21157&amp;page=3">&gt;</a><a href="../?id=21157&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
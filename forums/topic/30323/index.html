<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Help with the LC3 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30323" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30323">Help with the LC3</a></p>
   <div class="post" id="post-213520">
    <div class="subject"><a href="#post-213520">Help with the LC3</a></div>
    <div class="body">Hey guys, I&#039;m writing three small programs to get started out, one to shift a bit value in R0 right by the value in R1 also the same principle but rotating the Bits left and right, and I was wondering if anyone could give any code snippets or plain english pointers on how to do it.<br />Thanks<br /></div>
    <div class="meta">Posted on 2010-11-25 10:59:07 by wolfy200222</div>
   </div>
   <div class="post" id="post-213521">
    <div class="subject"><a href="#post-213521">Re: Help with the LC3</a></div>
    <div class="body">Okay i have the shift right sorted after alot of pain and fiddling :) could someone hint to what the rotate right and left like... operators are? Maybe its not the right word but, shift right is a divide, what are the rotates equivalent to?</div>
    <div class="meta">Posted on 2010-11-25 12:44:25 by wolfy200222</div>
   </div>
   <div class="post" id="post-213525">
    <div class="subject"><a href="#post-213525">Re: Help with the LC3</a></div>
    <div class="body">Read the description <a target="_blank" href="http://pdos.csail.mit.edu/6.858/2010/readings/i386/RCL.htm">here</a>.</div>
    <div class="meta">Posted on 2010-11-26 09:34:08 by SpooK</div>
   </div>
   <div class="post" id="post-213537">
    <div class="subject"><a href="#post-213537">Re: Help with the LC3</a></div>
    <div class="body">Thanks for your reply but we dont have the RCL or any rotate commands using the LC3 - I have some code which is buggy, if you could help with that, that would be awesome.<br /><pre><code><br />.ORIG x3000;<br />MASK .FILL x8000;<br />ADD R0, R0, #0; check R0 is positive<br />BRp IS_POSITIVE ; if the value is negative or zero, this code will be skipped<br />LOOP LD R3, MASK; store mask in register<br />AND R2, R3, R2; stores the leftmost bit in R2<br />ADD R0,R0,R0; ADD R0 to iteslf<br />ADD R2, R2, R2; restores the check for leftmost bit<br />IS_POSITIVE; will execute if positive value in R0<br />ADD R0, R0, #1;<br />LDR R4, R1, #0; R4 used for counter<br />ADD R4,R4, #-1; decrement counter<br />; &nbsp;If counter &lt; R1 , go back to start of loop ???<br />BRp LOOP<br />HALT<br />.END<br /></code></pre><br /><br />The question mark bits are where im stuck, the mask is used to find the most significant bit... Basically R0 needs to be rotated by the amount specified in R1<br />I get an error saying Invalid instruction at PC=X3000; RTI executed with user mode privilege</div>
    <div class="meta">Posted on 2010-11-28 07:11:46 by wolfy200222</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Memory mapped files.... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2933" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2933">Memory mapped files....</a></p>
   <div class="post" id="post-18974">
    <div class="subject"><a href="#post-18974">Memory mapped files....</a></div>
    <div class="body">hi all,<br /><br />could someone explain in poor words the advantages of these &quot;memmappedfiles&quot; ? <br />Till now i've never used them. On a little address book i wrote i load data file in memory, update it in memory and then i re-save it as a file.<br />Could be better in this case use a m.m.f ? <br /><br />Thanks B7</div>
    <div class="meta">Posted on 2002-01-13 13:16:50 by Bit7</div>
   </div>
   <div class="post" id="post-18981">
    <div class="subject"><a href="#post-18981">Memory mapped files....</a></div>
    <div class="body">It reduces the memory requirements of your program, and uses code and memory that has already been set aside to stream the file to/from memory.  Your code isn't limited to the amount of memory that is free.</div>
    <div class="meta">Posted on 2002-01-13 14:02:22 by bitRAKE</div>
   </div>
   <div class="post" id="post-19029">
    <div class="subject"><a href="#post-19029">Memory mapped files....</a></div>
    <div class="body">Correct me if I'm wrong, but if I remember well, your memory mapped file can not grow up. It has to stay the same size (can be annoying for an address book).<br /><br /><br /><br /><div class="quote"><strong>According to Iczelion's Memory Mapped Files tutorial :</strong><br />There are some limitation to file mapping though. Once you create a memory mapped file, its size cannot be changed during that session. So file mapping is great for read-only files or file operations that don't affect the file size. That doesn't mean that you cannot use file mapping if you want to increase the file size. You can estimate the new size and create the memory mapped file based on the new size and the file will grow to that size. It's just inconvenient, that's all. <br /></div></div>
    <div class="meta">Posted on 2002-01-14 01:09:42 by JCP</div>
   </div>
   <div class="post" id="post-19048">
    <div class="subject"><a href="#post-19048">Memory mapped files....</a></div>
    <div class="body"><div class="quote"><br />Your code isn't limited to the amount of memory that is free.<br /></div><br />Well, it's sure limited to the address space size. At least if you<br />try mapping entire files that are large ;).<br /><br />As readiosys says, you can't easily grow mmapped files. They're<br />most useful when you just need to read/write without expanding.<br />Or if you need to share data across processes (named mmap'd files).</div>
    <div class="meta">Posted on 2002-01-14 05:41:06 by f0dder</div>
   </div>
   <div class="post" id="post-19049">
    <div class="subject"><a href="#post-19049">Memory mapped files....</a></div>
    <div class="body">unless i'm very much mistaken you can use SetEndOfFile<br />to change the size of a mem-mapped file but it was very<br />complicated... but in my opinion this only works if you <br />allocate enough memory (newsize = filesize + buffer)...</div>
    <div class="meta">Posted on 2002-01-14 05:50:02 by mob</div>
   </div>
   <div class="post" id="post-19053">
    <div class="subject"><a href="#post-19053">Memory mapped files....</a></div>
    <div class="body">If you use SetEndOfFile, you probably have to re-map the file.<br />If you specify a filesize when creating the mapping, the file grows<br />to that size immediately.<br /><br />b0rk.</div>
    <div class="meta">Posted on 2002-01-14 05:56:05 by f0dder</div>
   </div>
   <div class="post" id="post-19058">
    <div class="subject"><a href="#post-19058">Memory mapped files....</a></div>
    <div class="body">How about if you know that your file would not be more that Lets Say 128 bytes.  So when you write file at all time simply have blank spaces to always be available for filling up.... Strlen that amount of space or what ever...<br /><br />Wala...</div>
    <div class="meta">Posted on 2002-01-14 06:12:42 by cmax</div>
   </div>
   <div class="post" id="post-19062">
    <div class="subject"><a href="#post-19062">Memory mapped files....</a></div>
    <div class="body">example adr-book:<br /><br />you don't know how many entries the user want to<br />add so you allocate the old-file size of the data-base +<br />a huge buffer to assure enough mem available...<br />when the user adds a couple of entries and saves your<br />prog can easily calculate the amount of bytes claimed<br />by the new entries and use SetEndOfFile to set the<br />NEW end of the memory-mapped file, you can't just <br />close the mapping coz the db would grow very very <br />VERY fast... btw, I wouldn't use this technique, too but<br />i know, it would work fine, ok?</div>
    <div class="meta">Posted on 2002-01-14 06:36:00 by mob</div>
   </div>
   <div class="post" id="post-19143">
    <div class="subject"><a href="#post-19143">Memory mapped files....</a></div>
    <div class="body">Thanks to all.<br />Now is more clear.<br /><br />Seems them don't have a big sense for my address book or for an archive where i add records.<br />In any case, since there is a tut from Iczelion's  i will read it.<br /><br />THX BYE B7</div>
    <div class="meta">Posted on 2002-01-14 15:27:41 by Bit7</div>
   </div>
  </div>
 </body>
</html>
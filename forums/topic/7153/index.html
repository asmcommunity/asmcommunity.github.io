<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Time problem - Win2K vs XP - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7153" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7153">Time problem - Win2K vs XP</a></p>
   <div class="post" id="post-51710">
    <div class="subject"><a href="#post-51710">Time problem - Win2K vs XP</a></div>
    <div class="body">I just wonder....<br />How is it that when you run this attachment on win2K, it works<br />just fine, but on winXP it also seem to work, BUT the seconds<br />from 0 to 9 won't show ? The seconds on XP starts at :10 :)</div>
    <div class="meta">Posted on 2002-08-05 08:32:10 by The SharK</div>
   </div>
   <div class="post" id="post-51733">
    <div class="subject"><a href="#post-51733">Time problem - Win2K vs XP</a></div>
    <div class="body">This is not a zip file but renaming it to tar won't let me extract either.</div>
    <div class="meta">Posted on 2002-08-05 10:21:12 by goofee</div>
   </div>
   <div class="post" id="post-51735">
    <div class="subject"><a href="#post-51735">Time problem - Win2K vs XP</a></div>
    <div class="body">Hi goofee !<br /><br />It's a .rar file that I renamed to .zip (I don't use winzip).:)</div>
    <div class="meta">Posted on 2002-08-05 10:25:59 by The SharK</div>
   </div>
   <div class="post" id="post-51750">
    <div class="subject"><a href="#post-51750">Time problem - Win2K vs XP</a></div>
    <div class="body"><pre><code><br />	invoke wsprintf, offset sbuf, offset format, eax ; ay<br />	call movdata<br />	...<br />movdata&#58;	<br />	cmp dl,0ah<br />	ja devam1<br />	...<br /></code></pre><br />After a call to wsprintf (or any other api function), edx is undefined.</div>
    <div class="meta">Posted on 2002-08-05 11:42:43 by Tola</div>
   </div>
   <div class="post" id="post-51756">
    <div class="subject"><a href="#post-51756">edx is undefined</a></div>
    <div class="body">Hi Tola<br /><br />Yes, that's what I found too, but<br />what can be done about it ?<br /><br />Isn't it XP compatible ?</div>
    <div class="meta">Posted on 2002-08-05 12:35:47 by The SharK</div>
   </div>
   <div class="post" id="post-51763">
    <div class="subject"><a href="#post-51763">Time problem - Win2K vs XP</a></div>
    <div class="body">Push and Pop to preserve it, or am I missing something here...</div>
    <div class="meta">Posted on 2002-08-05 12:53:21 by EÃ³in</div>
   </div>
   <div class="post" id="post-51769">
    <div class="subject"><a href="#post-51769">Re: edx is undefined</a></div>
    <div class="body"><div class="quote"><br />Yes, that's what I found too, but<br />what can be done about it ?<br /><br />Isn't it XP compatible ? </div><br />what are you using edx for, anyway?<br /><br />i just noticed you're using esi and edi in your dlgproc without preserving them, which may cause problems as well.</div>
    <div class="meta">Posted on 2002-08-05 13:08:20 by Tola</div>
   </div>
   <div class="post" id="post-51771">
    <div class="subject"><a href="#post-51771">what are you using edx for, anyway?</a></div>
    <div class="body">I don't know exactly what it does, but it's used under the<br />&quot;movdata&quot; subroutine.<br /><br />It's not my program, it's from Iczelion's homepage.;)</div>
    <div class="meta">Posted on 2002-08-05 13:24:29 by The SharK</div>
   </div>
   <div class="post" id="post-51804">
    <div class="subject"><a href="#post-51804">Time problem - Win2K vs XP</a></div>
    <div class="body">You must follow the register saving conventions.<br /><br />It only takes a change in the OS's calling chain, or extra computation in an OS routine, to invalidate registers that are published as being invalid after an API call.<br /><br />ESI, EDI, and EBX (as well as EBP) are preserved by API calls. All other registers should be reloaded, or alternately, saved and restored with PUSH and POP.</div>
    <div class="meta">Posted on 2002-08-05 18:30:01 by tenkey</div>
   </div>
  </div>
 </body>
</html>
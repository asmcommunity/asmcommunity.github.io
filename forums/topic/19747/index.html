<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>debugging question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19747" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19747">debugging question</a></p>
   <div class="post" id="post-151858">
    <div class="subject"><a href="#post-151858">debugging question</a></div>
    <div class="body">Hi, i seem to be getting different values on ESI under different circumstances.<br />like if it was started from qeditor program, or debugger, or from plain windows explorer.<br /><br />I am talking about the value of esi on program entry. right when the module recieves control. the values i usually get are these:<br /><br />0040000 : program base in memory<br />0000000 : null<br />77D4CBDC : an address at user32.dll<br /><br />this is on my windows xp machine. i still have no clue as to why these values change or for what reason there values is defined the way it is.<br />this is on my winxp box. i would like any info you can give me even on different windows, and what your esi was, and if you know anything about this :) <br />-thx</div>
    <div class="meta">Posted on 2004-10-26 02:58:48 by pwn</div>
   </div>
   <div class="post" id="post-151878">
    <div class="subject"><a href="#post-151878">debugging question</a></div>
    <div class="body">esi is a reserved register in the STDCALL convention, that is, all STDCALL routines expect all other STDCALL routines to save it.  Traditionally, it is used as a register variable, that is, it is used to store some data (which isn't really definable).  I assume your debugger calls your program (which it assumes to be STDCALL) in a slightly different manner, with a different use for esi, than what Windows and qeditor does.<br /><br />And yeah here's a bit of a peculiarity of qeditor:<br />When Windows Explorer starts up a program, the arg[0] (which is supposed to contain the path of the program file) has quotation marks around it. (this is for Win98)<br />But in qeditor, the arg[0] has quotation marks only if there is a space somewhere in the path.</div>
    <div class="meta">Posted on 2004-10-26 19:09:08 by AmkG</div>
   </div>
  </div>
 </body>
</html>
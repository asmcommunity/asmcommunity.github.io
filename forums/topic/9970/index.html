<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hooks problem again - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9970" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9970">Hooks problem again</a></p>
   <div class="post" id="post-74457">
    <div class="subject"><a href="#post-74457">Hooks problem again</a></div>
    <div class="body">Hi,<br /><br />1&gt;How can we load our own icons, for a dialog box?(by default ,no icons are loaded to the dialog box)<br />2&gt;How can we prevent hooks from getting installed?(i.e how to prevent local as well as global hooks form getting activated?)<br />3&gt;Once we install our hooks, can we prevent other programs from installing their local (&amp; ,or) global hooks?<br />4&gt; I had enquired about magic folder algo, &amp; i was told that it can be implemented using VXDs. But will it work when we boot to DOS prompt?(I mean ,the folder's will be accessible from DOS prompt, if we just boot to DOS )<br /><br />tanks in adv.<br />Bye</div>
    <div class="meta">Posted on 2003-01-05 10:51:37 by ajith</div>
   </div>
   <div class="post" id="post-74459">
    <div class="subject"><a href="#post-74459">Hooks problem again</a></div>
    <div class="body">Ok, I'll try to answer...<br /><br />2/3. IIRC not without API hooking. With windows hooks newer hooks will be called first so you can't stop them. If you want to block API hooking, I don't think that's possible.<br />4. No, DOS doesn't load VXD's.<br /><br />1 is probably very easy, but I don't use dialog boxes that much :)</div>
    <div class="meta">Posted on 2003-01-05 10:56:58 by Qweerdy</div>
   </div>
   <div class="post" id="post-74460">
    <div class="subject"><a href="#post-74460">Hooks problem again</a></div>
    <div class="body">Well, regarding 2&amp;3, using api hooking you can always hook api's like SetWindowsHookEx and then monitor for hooks you don't want installed. But, you can only be sorta certain under 2k/xp, too many holes in 95/98 security for one to block hooks.<br /><br />Fake</div>
    <div class="meta">Posted on 2003-01-05 11:23:29 by Fake51</div>
   </div>
   <div class="post" id="post-74587">
    <div class="subject"><a href="#post-74587">Hooks problem again</a></div>
    <div class="body"><div class="quote"><em>How can we load our own icons, for a dialog box?</em></div> <pre><code>invoke LoadIcon, hInstance, IDI_MAIN_ICON<br />mov hMainIcon, <br />invoke SendMessage, hDlg, WM_SETICON, ICON_BIG, hMainIcon</code></pre><br /><br />For small icon (16x16) use ICON_SMALL</div>
    <div class="meta">Posted on 2003-01-06 04:23:22 by Four-F</div>
   </div>
   <div class="post" id="post-75662">
    <div class="subject"><a href="#post-75662">thanks</a></div>
    <div class="body">Hi,<br />thanks for the reply.<br />But Q 2,3 went unanswered. Why most of my post's are either sensored or taken to a dead end?</div>
    <div class="meta">Posted on 2003-01-11 11:41:49 by ajith</div>
   </div>
   <div class="post" id="post-75677">
    <div class="subject"><a href="#post-75677">Re: thanks</a></div>
    <div class="body"><div class="quote"><em>Originally posted by ajith </em><br />But Q 2,3 went unanswered. </div><br />The best answer is &quot;you can't&quot;. There will always be ways to hook APIs. You could detect code modification in your .exe, or check if the first byte of an API function has changed to 0xCC (usually means a breakpoint has been placed there) but there will always be ways around it.<br /><br /><div class="quote">Why most of my post's are either sensored or taken to a dead end?</div><br />Because more than once you (cross)posted stuff that isn't allowed on this board like cr*cking, disassembling.  As for your other posts I think most of them have been handled quite well. <br />Question 2 &amp; 3 aren't easy questions, there's not much you can do to prevent hooking.<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-01-11 13:15:05 by Thomas</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Sum Float Numbers with FPU but without FADD  - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20983" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=20983">Sum Float Numbers with FPU but without FADD </a></p>
   <div class="post" id="post-159154">
    <div class="subject"><a href="#post-159154">Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">Please advice me in how to use the FPU. I can use FPU but I cant use FADD.<br /><br />I know fpu a an 80 bit register. but I dont know how to load to REAl8 values in the fpu and how to return to my c program</div>
    <div class="meta">Posted on 2005-04-18 21:17:16 by luisvalencia</div>
   </div>
   <div class="post" id="post-159160">
    <div class="subject"><a href="#post-159160">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">Use fld to load a real value (the assembler will adjust according to the type being loaded).<br />Use fchs to change the sign<br />Use fsub to subtract.<br />Use fstp to store and pop the result of the floating point stack.<br /><br />Mirno</div>
    <div class="meta">Posted on 2005-04-19 07:36:24 by Mirno</div>
   </div>
   <div class="post" id="post-159164">
    <div class="subject"><a href="#post-159164">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">1. Can I put many real4 values on the fpu registers??<br /><br /><br />I can use FPU registers the only thing I cant use its FADD and FSUB for addition and substraction<br /><br />If I have this<br /><br />SumarFloat&nbsp; Proc var1:real4, var2:real4<br /><br /><br /><br />endp<br /><br /><br />What code must I put inside to load var1 and var2 in two different FPU registers.<br /><br />After it I can manipulate the bits.<br /><br /><br />and suppose I already sum the two float numbers. How can I return to my c program?<br /><br />DO I have to put RET??<br /></div>
    <div class="meta">Posted on 2005-04-19 08:52:38 by luise.valencia</div>
   </div>
   <div class="post" id="post-159166">
    <div class="subject"><a href="#post-159166">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">Have you ever bothered to read any of the instruction references for the x86?<br /><br />FLD var1 -- Push var1 onto the FPU register stack.<br /><br />After that you can&#39;t manipulate the bits, because the floating point registers do not support binary arithmetic. The floating point registers, and the associated FPU instructions are designed for floating point maths only. This is all very clear if you ever read ANY documentation.<br /><br />Do you have to put RET? Only if you want your function to return. If you don&#39;t mind it crashing or running on to the function following it in memory feel free to not put it in. This is a fundamental basic point of assembly language programming.<br /><br />In case you haven&#39;t noticed, my patience is wearing thin. Please for the love of God try to do this yourself, after a week of constant questioning you&#39;ve got as far as an empty function with two arguments. To me that isn&#39;t progress, that&#39;s embarrasing.<br /><br />Mirno</div>
    <div class="meta">Posted on 2005-04-19 09:44:14 by Mirno</div>
   </div>
   <div class="post" id="post-159171">
    <div class="subject"><a href="#post-159171">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">so if I cant manipulate bits on the fpu register stack I cant make anything<br /><br /></div>
    <div class="meta">Posted on 2005-04-19 13:07:40 by luise.valencia</div>
   </div>
   <div class="post" id="post-159175">
    <div class="subject"><a href="#post-159175">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">Perhaps you should have paid some attention in your class?<br /></div>
    <div class="meta">Posted on 2005-04-19 16:44:33 by f0dder</div>
   </div>
   <div class="post" id="post-159176">
    <div class="subject"><a href="#post-159176">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body"><div class="quote"><br />so if I cant manipulate bits on the fpu register stack I cant make anything<br /></div><br /><br />I&#39;m just about fed up with reading these posts. Luise, if you are not prepared to take the responsibility of learning yourself, they don&#39;t come here looking for help.</div>
    <div class="meta">Posted on 2005-04-19 17:00:56 by SpooK</div>
   </div>
   <div class="post" id="post-159178">
    <div class="subject"><a href="#post-159178">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">have you actually played with any of the code lots of people here helped you with and not just printed it out, put your name on it and submitted it for homework? i&#39;d guess the answer is no because anyone who actually bothered to even google for information on the fpu .. try it.. <br /><br />http://www.google.co.uk/search?q=fpu+tutorial&amp;sourceid=mozilla-search&amp;start=0&amp;start=0&amp;ie=utf-8&amp;oe=utf-8&amp;client=firefox-a&amp;rls=org.mozilla:en-US:official<br /><br />see the very FIRST hit, read it and stop being a lazy git</div>
    <div class="meta">Posted on 2005-04-19 20:05:11 by evlncrn8</div>
   </div>
   <div class="post" id="post-159179">
    <div class="subject"><a href="#post-159179">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">he got kicked from the masm board, for continuing to annoy the members with requests to do his work for him. He never made the effert to try and code something himeself.</div>
    <div class="meta">Posted on 2005-04-20 00:42:34 by rags</div>
   </div>
   <div class="post" id="post-159180">
    <div class="subject"><a href="#post-159180">Re: Sum Float Numbers with FPU but without FADD </a></div>
    <div class="body">Well, my decision stands. He can stay here if he tries to do his own work and learn for himself. Any more posts that ultimately break down to &quot;please spoon feed me source code&quot;, and he will be banned.</div>
    <div class="meta">Posted on 2005-04-20 00:51:22 by SpooK</div>
   </div>
  </div>
 </body>
</html>
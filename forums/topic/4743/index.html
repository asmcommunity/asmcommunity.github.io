<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Problems using IDirect3DDevice8_DrawPrimitiveUp... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4743" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=4743">Problems using IDirect3DDevice8_DrawPrimitiveUp...</a></p>
   <div class="post" id="post-33261">
    <div class="subject"><a href="#post-33261">Problems using IDirect3DDevice8_DrawPrimitiveUp...</a></div>
    <div class="body">Hi,<br /><br />I've got a problem with a DX8.1-app... It doesn't display<br />the triangle... Do someone know why not?<br /><br />(SpAsm syntax)<br /><br /><pre><code><br />; .--------------------------.<br />; | My own rotating triangle |<br />; '--------------------------'<br /><br />&#91;ErrorFlag&#58; D$ 0&#93;<br />&#91;push | push #1 | #+1&#93;<br />&#91;call | push #L&gt;2 | call #1&#93;<br />&#91;OnError | cmp eax, 0 | jne l1&gt; | cmp D$ErrorFlag, 0 | jne l2&gt; | mov D$ErrorFlag, 1<br /> call 'USER32.MessageBoxA', 0, Error_Text, Error_Title, &amp;MB_ICONSTOP+&amp;MB_OK<br /> l2&#58; mov eax, 0&#93;<br />&#91;EndError | l1&#58;&#93;<br />&#91;GetVTableStart | mov eax, D$#1 | mov eax, D$eax&#93;<br />&#91;ComCall | GetVTableStart #1 | call #2, D$#1, #3&gt;L&#93;<br /><br />&#91;IDirect3D8_QueryInterface                  D$eax+00&#93;&#91;IDirect3D8_AddRef                            D$eax+04&#93;<br />&#91;IDirect3D8_Release                         D$eax+08&#93;&#91;IDirect3D8_RegisterSoftwareDevice            D$eax+12&#93;<br />&#91;IDirect3D8_GetAdapterCount                 D$eax+16&#93;&#91;IDirect3D8_GetAdapterIdentifier              D$eax+20&#93;<br />&#91;IDirect3D8_GetAdapterModeCount             D$eax+24&#93;&#91;IDirect3D8_EnumAdapterModes                  D$eax+28&#93;<br />&#91;IDirect3D8_GetAdapterDisplayMode           D$eax+32&#93;&#91;IDirect3D8_CheckDeviceType                   D$eax+36&#93;<br />&#91;IDirect3D8_CheckDeviceFormat               D$eax+40&#93;&#91;IDirect3D8_CheckDeviceMultiSampleType        D$eax+44&#93;<br />&#91;IDirect3D8_CheckDepthStencilMatch          D$eax+48&#93;&#91;IDirect3D8_GetDeviceCaps                     D$eax+52&#93;<br />&#91;IDirect3D8_GetAdapterMonitor               D$eax+56&#93;&#91;IDirect3D8_CreateDevice                      D$eax+60&#93;<br /><br />&#91;IDirect3DDevice8_QueryInterface            D$eax+00&#93;&#91;IDirect3DDevice8_AddRef                      D$eax+04&#93;<br />&#91;IDirect3DDevice8_Release                   D$eax+08&#93;&#91;IDirect3DDevice8_TestCooperativeLevel        D$eax+12&#93;<br />&#91;IDirect3DDevice8_GetAvailableTextureMem    D$eax+16&#93;&#91;IDirect3DDevice8_ResourceManagerDiscardBytes D$eax+20&#93;<br />&#91;IDirect3DDevice8_GetDirect3D               D$eax+24&#93;&#91;IDirect3DDevice8_GetDeviceCaps               D$eax+28&#93;<br />&#91;IDirect3DDevice8_GetDisplayMode            D$eax+32&#93;&#91;IDirect3DDevice8_GetCreationParameters       D$eax+36&#93;<br />&#91;IDirect3DDevice8_SetCursorProperties       D$eax+40&#93;&#91;IDirect3DDevice8_SetCursorPosition           D$eax+44&#93;<br />&#91;IDirect3DDevice8_ShowCursor                D$eax+48&#93;&#91;IDirect3DDevice8_CreateAdditionalSwapChain   D$eax+52&#93;<br />&#91;IDirect3DDevice8_Reset                     D$eax+56&#93;&#91;IDirect3DDevice8_Present                     D$eax+60&#93;<br />&#91;IDirect3DDevice8_GetBackBuffer             D$eax+64&#93;&#91;IDirect3DDevice8_GetRasterStatus             D$eax+68&#93;<br />&#91;IDirect3DDevice8_SetGammaRamp              D$eax+72&#93;&#91;IDirect3DDevice8_GetGammaRamp                D$eax+76&#93;<br />&#91;IDirect3DDevice8_CreateTexture             D$eax+80&#93;&#91;IDirect3DDevice8_CreateVolumeTexture         D$eax+84&#93;<br />&#91;IDirect3DDevice8_CreateCubeTexture         D$eax+88&#93;&#91;IDirect3DDevice8_CreateVertexBuffer          D$eax+92&#93;<br />&#91;IDirect3DDevice8_CreateIndexBuffer         D$eax+96&#93;&#91;IDirect3DDevice8_CreateRenderTarget          D$eax+100&#93;<br />&#91;IDirect3DDevice8_CreateDepthStencilSurface D$eax+104&#93;&#91;IDirect3DDevice8_CreateImageSurface         D$eax+108&#93;<br />&#91;IDirect3DDevice8_CopyRects                 D$eax+112&#93;&#91;IDirect3DDevice8_UpdateTexture              D$eax+116&#93;<br />&#91;IDirect3DDevice8_GetFrontBuffer            D$eax+120&#93;&#91;IDirect3DDevice8_SetRenderTarget            D$eax+124&#93;<br />&#91;IDirect3DDevice8_GetRenderTarget           D$eax+128&#93;&#91;IDirect3DDevice8_GetDepthStencilSurface     D$eax+132&#93;<br />&#91;IDirect3DDevice8_BeginScene                D$eax+136&#93;&#91;IDirect3DDevice8_EndScene                   D$eax+140&#93;<br />&#91;IDirect3DDevice8_Clear                     D$eax+144&#93;&#91;IDirect3DDevice8_SetTransform               D$eax+148&#93;<br />&#91;IDirect3DDevice8_GetTransform              D$eax+152&#93;&#91;IDirect3DDevice8_MultiplyTransform          D$eax+156&#93;<br />&#91;IDirect3DDevice8_SetViewport               D$eax+160&#93;&#91;IDirect3DDevice8_GetViewport                D$eax+164&#93;<br />&#91;IDirect3DDevice8_SetMaterial               D$eax+168&#93;&#91;IDirect3DDevice8_GetMaterial                D$eax+172&#93;<br />&#91;IDirect3DDevice8_SetLight                  D$eax+176&#93;&#91;IDirect3DDevice8_GetLight                   D$eax+180&#93;<br />&#91;IDirect3DDevice8_LightEnable               D$eax+184&#93;&#91;IDirect3DDevice8_GetLightEnable             D$eax+188&#93;<br />&#91;IDirect3DDevice8_SetClipPlane              D$eax+192&#93;&#91;IDirect3DDevice8_GetClipPlane               D$eax+196&#93;<br />&#91;IDirect3DDevice8_SetRenderState            D$eax+200&#93;&#91;IDirect3DDevice8_GetRenderState             D$eax+204&#93;<br />&#91;IDirect3DDevice8_BeginStateBlock           D$eax+208&#93;&#91;IDirect3DDevice8_EndStateBlock              D$eax+212&#93;<br />&#91;IDirect3DDevice8_ApplyStateBlock           D$eax+216&#93;&#91;IDirect3DDevice8_CaptureStateBlock          D$eax+220&#93;<br />&#91;IDirect3DDevice8_DeleteStateBlock          D$eax+224&#93;&#91;IDirect3DDevice8_CreateStateBlock           D$eax+228&#93;<br />&#91;IDirect3DDevice8_SetClipStatus             D$eax+232&#93;&#91;IDirect3DDevice8_GetClipStatus              D$eax+236&#93;<br />&#91;IDirect3DDevice8_GetTexture                D$eax+240&#93;&#91;IDirect3DDevice8_SetTexture                 D$eax+244&#93;<br />&#91;IDirect3DDevice8_GetTextureStageState      D$eax+248&#93;&#91;IDirect3DDevice8_SetTextureStageState       D$eax+252&#93;<br />&#91;IDirect3DDevice8_ValidateDevice            D$eax+256&#93;&#91;IDirect3DDevice8_GetInfo                    D$eax+260&#93;<br />&#91;IDirect3DDevice8_SetPaletteEntries         D$eax+264&#93;&#91;IDirect3DDevice8_GetPaletteEntries          D$eax+268&#93;<br />&#91;IDirect3DDevice8_SetCurrentTexturePalette  D$eax+272&#93;&#91;IDirect3DDevice8_GetCurrentTexturePalette   D$eax+276&#93;<br />&#91;IDirect3DDevice8_DrawPrimitive             D$eax+280&#93;&#91;IDirect3DDevice8_DrawIndexedPrimitive       D$eax+284&#93;<br />&#91;IDirect3DDevice8_DrawPrimitiveUP           D$eax+288&#93;&#91;IDirect3DDevice8_DrawIndexedPrimitiveUP     D$eax+292&#93;<br />&#91;IDirect3DDevice8_ProcessVertices           D$eax+296&#93;&#91;IDirect3DDevice8_CreateVertexShader         D$eax+300&#93;<br />&#91;IDirect3DDevice8_SetVertexShader           D$eax+304&#93;&#91;IDirect3DDevice8_GetVertexShader            D$eax+308&#93;<br />&#91;IDirect3DDevice8_DeleteVertexShader        D$eax+312&#93;&#91;IDirect3DDevice8_SetVertexShaderConstant    D$eax+316&#93;<br />&#91;IDirect3DDevice8_GetVertexShaderConstant   D$eax+320&#93;&#91;IDirect3DDevice8_GetVertexShaderDeclaration D$eax+324&#93;<br />&#91;IDirect3DDevice8_GetVertexShaderFunction   D$eax+328&#93;&#91;IDirect3DDevice8_SetStreamSource            D$eax+332&#93;<br />&#91;IDirect3DDevice8_GetStreamSource           D$eax+336&#93;&#91;IDirect3DDevice8_SetIndices                 D$eax+340&#93;<br />&#91;IDirect3DDevice8_GetIndices                D$eax+344&#93;&#91;IDirect3DDevice8_CreatePixelShader          D$eax+348&#93;<br />&#91;IDirect3DDevice8_SetPixelShader            D$eax+352&#93;&#91;IDirect3DDevice8_GetPixelShader             D$eax+360&#93;<br />&#91;IDirect3DDevice8_DeletePixelShader         D$eax+364&#93;&#91;IDirect3DDevice8_SetPixelShaderConstant     D$eax+368&#93;<br />&#91;IDirect3DDevice8_GetPixelShaderConstant    D$eax+372&#93;&#91;IDirect3DDevice8_GetPixelShaderFunction     D$eax+376&#93;<br />&#91;IDirect3DDevice8_DrawRectPatch             D$eax+380&#93;&#91;IDirect3DDevice8_DrawTriPatch               D$eax+384&#93;<br />&#91;IDirect3DDevice8_DeletePatch               D$eax+388&#93;<br /><br />&#91;IDirect3DVertexBuffer8_QueryInterface      D$eax+00&#93;&#91;IDirect3DVertexBuffer8_AddRef                D$eax+04&#93;<br />&#91;IDirect3DVertexBuffer8_Release             D$eax+08&#93;&#91;IDirect3DVertexBuffer8_GetDevice             D$eax+12&#93;<br />&#91;IDirect3DVertexBuffer8_SetPrivateData      D$eax+16&#93;&#91;IDirect3DVertexBuffer8_GetPrivateData        D$eax+20&#93;<br />&#91;IDirect3DVertexBuffer8_FreePrivateData     D$eax+24&#93;&#91;IDirect3DVertexBuffer8_SetPriority           D$eax+28&#93;<br />&#91;IDirect3DVertexBuffer8_GetPriority         D$eax+32&#93;&#91;IDirect3DVertexBuffer8_PreLoad               D$eax+36&#93;<br />&#91;IDirect3DVertexBuffer8_GetType             D$eax+40&#93;&#91;IDirect3DVertexBuffer8_Lock                  D$eax+44&#93;<br />&#91;IDirect3DVertexBuffer8_Unlock              D$eax+48&#93;&#91;IDirect3DVertexBuffer8_GetDesc               D$eax+52&#93;<br /><br />&#91;Error_Text&#58;    B$ 'Error in App!!!', 0 Error_Title&#58;   B$ 'Dude...', 0&#93;<br />&#91;OurWinTitle&#58;   B$ 'DirectX-Test', 0&#93;<br />&#91;WndClassName&#58;      B$ 'OurWndClass', 0&#93;<br /><br />&#91;hInstance&#58;     D$ 0&#93;<br />&#91;ScreenWidth&#58;   D$ 0 ScreenHeight&#58;  D$ 0&#93;<br />&#91;hWnd&#58;          D$ 0&#93;<br />&#91;g_pD3D&#58;            D$ 0&#93;<br />&#91;g_pD3DDevice&#58;      D$ 0&#93;<br /><br />&#91;wc&#58;<br /> wc.cbSize&#58;         D? 48 wc.style&#58;          D? 0 wc.lpfnWndProc&#58;    D? 0 wc.cbClsExtra&#58;     D? 0<br /> wc.cbWndExtra&#58;     D? 0  wc.hInstance&#58;      D? 0 wc.hIcon&#58;          D? 0 wc.hCursor&#58;        D? 0<br /> wc.hbrBackground&#58;  D? 0  wc.lpszMenuName&#58;   D? 0 wc.lpszClassName&#58;  D? 0 wc.hIconSm&#58;        D? 0&#93;<br />&#91;msg&#58;<br /> msg.hwnd&#58;      D? 0    msg.message&#58;   D? 0     msg.wParam&#58;   D? 0<br /> msg.lParam&#58;    D? 0    msg.time&#58;      D? 0     msg.pt.x&#58;     D? 0<br /> msg.pt.y&#58;      D? 0&#93;<br />&#91;d3ddm&#58;<br /> d3ddm.Width&#58;       D$ 0 d3ddm.Height&#58; D$ 0<br /> d3ddm.RefreshRate&#58; D$ 0 d3ddm.Format&#58; D$ 0&#93;<br /><br />&#91;d3dpp&#58;<br /> d3dpp.BackBufferWidth&#58;          D$ 0 d3dpp.BackBufferHeight&#58; D$ 0 d3dpp.BackBufferFormat&#58;           D$ 0<br /> d3dpp.BackBufferCount&#58;                 D$ 0 d3dpp.MultiSampleType&#58;  D$ 0 d3dpp.SwapEffect&#58;                 D$ 0<br /> d3dpp.hDeviceWindow&#58;                   D$ 0 d3dpp.Windowed&#58;         D$ 0 d3dpp.EnableAutoDepthStencil&#58;     D$ 0<br /> d3dpp.AutoDepthStencilFormat&#58;          D$ 0 d3dpp.Flags&#58;            D$ 0 d3dpp.FullScreen_RefreshRateInHz&#58; D$ 0<br /> d3dpp.FullScreen_PresentationInterval&#58; D$ 0&#93;<br /><br />; -------------<br />; --- Main&#58; ---<br />; -------------<br />Main&#58;<br />    call 'KERNEL32.GetModuleHandleA', 0<br />    mov D$hInstance, eax<br /><br />    OnError | jmp step8 | EndError<br /><br />step1&#58;<br />    call RegisterWindowClass<br /><br />    OnError | jmp step8 | EndError<br /><br />step2&#58;<br />    call MakeWindow<br /><br />    OnError | jmp step7 | EndError<br /><br />step3&#58;<br />    call InitD3D<br /><br />    OnError | jmp step6 | EndError<br /><br />step4&#58;<br />    call MainMessageLoop<br /><br />step5&#58;<br />    call KillD3D<br /><br />step6&#58;<br />    call KillWindow<br /><br />step7&#58;<br />    call UnRegisterWindowClass<br /><br />step8&#58;<br />    call 'KERNEL32.ExitProcess', D$hInstance<br />ret<br /><br />; ----------------------------<br />; --- RegisterWindowClass&#58; ---<br />; ----------------------------<br />RegisterWindowClass&#58;<br />    mov D$wc.style, &amp;CS_CLASSDC<br />    mov D$wc.lpfnWndProc, WndProc<br />    mov eax, D$hInstance<br />    mov D$wc.hInstance, eax<br />    call 'USER32.LoadIconA', D$hInstance, &amp;IDI_APPLICATION<br />    mov D$wc.hIcon, eax<br />    call 'USER32.LoadCursorA', D$hInstance, &amp;IDC_ARROW<br />    mov D$wc.hCursor, eax<br />    mov D$wc.hbrBackground, &amp;COLOR_WINDOW<br />    mov D$wc.lpszMenuName, 0<br />    mov D$wc.lpszClassName, WndClassName<br />    mov D$wc.hIconSm, 0<br /><br />    call 'USER32.RegisterClassExA', wc<br /><br />    OnError | ret | EndError<br /><br />    mov eax, 1<br />ret<br /><br />; -------------------<br />; --- MakeWindow&#58; ---<br />; -------------------<br />MakeWindow&#58;<br />    call 'USER32.GetSystemMetrics', &amp;SM_CXSCREEN<br />    mov D$ScreenWidth, eax<br />    call 'USER32.GetSystemMetrics', &amp;SM_CYSCREEN<br />    mov D$ScreenHeight, eax<br /><br /><br />    call 'USER32.CreateWindowExA', 0, WndClassName,<br />        OurWinTitle, &amp;WS_SYSMENU+&amp;WS_CAPTION+&amp;WS_VISIBLE,<br />        0, 0, D$ScreenWidth, D$ScreenHeight, 0, 0,<br />        D$hInstance, 0<br /><br />    OnError | ret | EndError<br /><br />    mov D$hWnd, eax<br /><br />    OnError<br />        ret<br />    EndError<br /><br />    call 'USER32.ShowWindow', D$hWnd, &amp;SW_SHOWDEFAULT<br />    call 'USER32.UpdateWindow', D$hWnd<br /><br />    mov eax, 1<br />ret<br /><br />; ----------------<br />; --- InitD3D&#58; ---<br />; ----------------<br />InitD3D&#58;<br />    call 'D3D8.Direct3DCreate8',<br />        220                                 ; D3D_SDK_VERSION<br />    mov D$g_pD3D, eax<br />    OnError | ret | EndError<br /><br />    ComCall g_pD3D, IDirect3D8_GetAdapterDisplayMode,<br />        0,                                  ; D3DADAPTER_DEFAULT<br />        d3ddm<br /><br />    mov D$d3dpp.Windowed, 1                 ; TRUE<br />    mov D$d3dpp.SwapEffect, 1               ; D3DSWAPEFFECT_DISCARD<br />    mov eax, D$d3ddm.Format | mov D$d3dpp.BackBufferFormat, eax<br />    ComCall g_pD3D, IDirect3D8_CreateDevice,<br />        0,                                  ; D3DADAPTER_DEFAULT<br />        1,                                  ; D3DDEVTYPE_HAL<br />        D$hWnd,<br />        020,                                ; D3DCREATE_SOFTWARE_VERTEXPROCESSING<br />        d3dpp,<br />        g_pD3DDevice<br />    mov eax, D$g_pD3DDevice<br />    OnError | ret | EndError<br /><br />    mov eax, 1<br />ret<br /><br />; ---------------<br />; --- KillD3D ---<br />; ---------------<br />KillD3D&#58;<br />    cmp D$g_pD3DDevice, 0 | je NoD3DDevice<br />    ComCall g_pD3DDevice, IDirect3DDevice8_Release<br /><br />NoD3DDevice&#58;<br />    cmp D$g_pD3D, 0       | je NoD3DObject<br />    ComCall g_pD3D, IDirect3D8_Release<br /><br />NoD3DObject&#58;<br /><br />    mov eax, 1<br />ret<br /><br />; ------------------------<br />; --- MainMessageLoop&#58; ---<br />; ------------------------<br />MainMessageLoop&#58;<br />    call 'USER32.PeekMessageA', msg, D$hWnd, 0, 0, &amp;PM_REMOVE<br />    cmp eax, 0                  | je NoNewMessage<br />    cmp D$msg.message, &amp;WM_QUIT | je QuitLoop<br />    call 'USER32.TranslateMessage', msg<br />    call 'USER32.DispatchMessageA', msg<br />    jmp MainMessageLoop<br /><br />NoNewMessage&#58;<br />    call Render<br />    jmp MainMessageLoop<br /><br />QuitLoop&#58;<br />    call 'USER32.PostQuitMessage', 0<br /><br />    mov eax, 1<br />ret<br /><br />; -------------------<br />; --- KillWindow&#58; ---<br />; -------------------<br />KillWindow&#58;<br />    call 'USER32.DestroyWindow', D$hWnd<br /><br />    OnError | ret | EndError<br /><br />    mov eax, 1<br />ret<br /><br />; ------------------------------<br />; --- UnRegisterWindowClass&#58; ---<br />; ------------------------------<br />UnRegisterWindowClass&#58;<br />    call 'USER32.UnregisterClassA', WndClassName, D$hInstance<br /><br />    OnError | ret | EndError<br /><br />    mov eax, 1<br />ret<br /><br />; ----------------<br />; --- WndProc&#58; ---<br />; ----------------<br />WndProc&#58;<br />&#91;wp.hWnd&#58;   D$ 0    wp.uMsg&#58; D$ 0   wp.wParam&#58; D$ 0<br /> wp.lParam&#58; D$ 0&#93;<br />    mov eax, D$esp+ 4 | mov D$wp.hWnd,   eax<br />    mov eax, D$esp+ 8 | mov D$wp.uMsg,   eax<br />    mov eax, D$esp+12 | mov D$wp.wParam, eax<br />    mov eax, D$esp+16 | mov D$wp.lParam, eax<br /><br />    cmp D$wp.uMsg, &amp;WM_CLOSE    | je Destroy<br />    cmp D$wp.uMsg, &amp;WM_DESTROY  | je Destroy<br /><br />    call 'USER32.DefWindowProcA', D$wp.hWnd, D$wp.uMsg, D$wp.wParam, D$wp.lParam<br />    jmp WndProcFinish<br /><br />Destroy&#58;<br />    call 'USER32.PostQuitMessage', 0<br />    jmp WndProcFinish<br /><br />WndProcFinish&#58;<br /><br />ret 16<br /><br />; ---------------<br />; --- Render&#58; ---<br />; --------------<br />&#91;NULL             00&#93;<br />&#91;D3DCLEAR_TARGET  01&#93;<br />&#91;D3DCLEAR_ZBUFFER 02&#93;<br />&#91;D3DCLEAR_STENCIL 04&#93;<br />&#91;D3DPT_POINTLIST     1&#93;<br />&#91;D3DPT_LINELIST      2&#93;<br />&#91;D3DPT_LINESTRIP     3&#93;<br />&#91;D3DPT_TRIANGLELIST  4&#93;<br />&#91;D3DPT_TRIANGLESTRIP 5&#93;<br />&#91;D3DPT_TRIANGLEFAN   6&#93;<br />&#91;D3DFVF_RESERVED0        01&#93;<br />&#91;D3DFVF_POSITION_MASK    0E&#93;<br />&#91;D3DFVF_XYZ              02&#93;<br />&#91;D3DFVF_XYZRHW           04&#93;<br />&#91;D3DFVF_XYZB1            06&#93;<br />&#91;D3DFVF_XYZB2            08&#93;<br />&#91;D3DFVF_XYZB3            0a&#93;<br />&#91;D3DFVF_XYZB4            0c&#93;<br />&#91;D3DFVF_XYZB5            0e&#93;<br />&#91;D3DFVF_NORMAL           010&#93;<br />&#91;D3DFVF_PSIZE            020&#93;<br />&#91;D3DFVF_DIFFUSE          040&#93;<br />&#91;D3DFVF_SPECULAR         080&#93;<br />&#91;D3DFMT_VERTEXDATA   100&#93;<br />&#91;D3DFMT_INDEX16      101&#93;<br />&#91;D3DFMT_INDEX32      102&#93;<br /><br />&#91;tri&#58;   F$ 512.0, F$  0.0, F$ 0.0, D$ 0ffff0000,<br />        F$1024.0, F$768.0, F$ 0.0, D$ 0ff00ff00,<br />        F$   0.0, F$768.0, F$ 0.0, D$ 0ff00ffff&#93;<br />Render&#58;<br />    ComCall g_pD3DDevice, IDirect3DDevice8_Clear,<br />        0, NULL, D3DCLEAR_TARGET,<br />        100, F$ 1.0, 0<br /><br />    ComCall g_pD3DDevice, IDirect3DDevice8_BeginScene<br /><br />        ComCall g_pD3DDevice, IDirect3DDevice8_SetVertexShader,<br />            D3DFVF_XYZ+D3DFVF_DIFFUSE<br /><br />        ComCall g_pD3DDevice, IDirect3DDevice8_DrawPrimitiveUP,<br />            D3DPT_TRIANGLELIST, <br />            1, <br />            tri, <br />            20<br /><br />    ComCall g_pD3DDevice, IDirect3DDevice8_EndScene<br /><br />    ComCall g_pD3DDevice, IDirect3DDevice8_Present,<br />        NULL, NULL, NULL, NULL<br />    mov eax, 1<br />ret<br /></code></pre><br /><br /><br />Greetings<br />Nils</div>
    <div class="meta">Posted on 2002-04-12 16:33:22 by Nils</div>
   </div>
   <div class="post" id="post-33275">
    <div class="subject"><a href="#post-33275">Problems using IDirect3DDevice8_DrawPrimitiveUp...</a></div>
    <div class="body">Afternoon, Nils.<br /><br /><pre><code><br />        ComCall g_pD3DDevice, IDirect3DDevice8_DrawPrimitiveUP,<br />            D3DPT_TRIANGLELIST, <br />            1, <br />            tri, <br />            16<br /></code></pre>?<br /><br />(I've never used Spasm nor DrawPrimitiveUP, so I don't really know what I'm talking about ;) )<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2002-04-12 21:12:11 by Scronty</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>DeleteObject() can't delete - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5156" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5156">DeleteObject() can't delete</a></p>
   <div class="post" id="post-36358">
    <div class="subject"><a href="#post-36358">DeleteObject() can't delete</a></div>
    <div class="body"><pre><code><br />	invoke CreateRectRgnIndirect, addr CaptionRect<br />	mov hRgnCaption, eax<br />	mov hRgnNew, eax<br />	...<br />	invoke DeleteObject, hRgnCaption<br />	PrintDec eax<br /><br />	invoke DefWindowProc, hWnd, WM_NCPAINT, hRgnNew, lParam<br /><br />	invoke DeleteObject, hRgnNew<br />	PrintDec eax<br /></code></pre><br />The 1st DeleteObject() is success as the eax is non-zero. However the 2nd DeleteObject fails.<br /><br />Anyone knows what problem?</div>
    <div class="meta">Posted on 2002-05-03 10:42:16 by yoursguideline</div>
   </div>
   <div class="post" id="post-36359">
    <div class="subject"><a href="#post-36359">DeleteObject() can't delete</a></div>
    <div class="body">you already deleted the object hRgnNew points to because it's the same one hRgnCaption points to<br /><br />you created 2 pointers to the same object, not a copy of the object</div>
    <div class="meta">Posted on 2002-05-03 10:49:51 by Hiroshimator</div>
   </div>
   <div class="post" id="post-36360">
    <div class="subject"><a href="#post-36360">DeleteObject() can't delete</a></div>
    <div class="body">Thanks for your fastest response.<br /><br />Could you suggest how to copy the handler?</div>
    <div class="meta">Posted on 2002-05-03 10:54:09 by yoursguideline</div>
   </div>
   <div class="post" id="post-36362">
    <div class="subject"><a href="#post-36362">DeleteObject() can't delete</a></div>
    <div class="body">well if you need to keep using it, then skip the first DeleteObject :)<br />else create 2 different ones.</div>
    <div class="meta">Posted on 2002-05-03 10:57:42 by Hiroshimator</div>
   </div>
   <div class="post" id="post-36363">
    <div class="subject"><a href="#post-36363">DeleteObject() can't delete</a></div>
    <div class="body">i see. <br />Thanks</div>
    <div class="meta">Posted on 2002-05-03 10:59:35 by yoursguideline</div>
   </div>
   <div class="post" id="post-36365">
    <div class="subject"><a href="#post-36365">DeleteObject() can't delete</a></div>
    <div class="body">what you're doing is<br /><br /><br />mov firstvar, handletoobject<br />mov secondvar, handletothesameobjectasfirstvarpointsto<br /><br />so that's a bit redundant. :)</div>
    <div class="meta">Posted on 2002-05-03 11:00:50 by Hiroshimator</div>
   </div>
  </div>
 </body>
</html>
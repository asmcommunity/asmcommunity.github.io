<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Erm..... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29305" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=29305">Erm.....</a></p>
   <div class="post" id="post-206959">
    <div class="subject"><a href="#post-206959">Erm.....</a></div>
    <div class="body">I was going to post this on the main board but figured its not really assembler related and I may even answer my own questions but confirmation might help, or an education by a more experienced coder.<br /><br />Here goes:<br /><br />I was sitting on the train the other day looking at my f1 keys wondering why. So I figured i&#039;ll write some functionality for them, from bits of basic knowledge (i&#039;ve only been win32 api and assembler coding for about 8 months) I figured i would have to hook the keyboard. So I did. first bits of testing I was catching the z key and processing on that.<br /><br />Then I thought hmmm, what happens if I write this to a file? bang a key logger. :( I figured that next time my AV kicked in it would play holy hell and wanna delete it, it didn&#039;t, I though fair do&#039;s its only avg free, i&#039;ll use a paid for version, still nada, so I gave symantec a bash, again nada. So I wandered over to iczelion&#039;s site and found some keylogger source code, my AV wasnt happy and shouted at me.<br /><br />Now you&#039;ve all probably guessed which functions I have called. So here are the questions:<br /><br />1) As these are genuine win32 api calls and have legimate uses is this why the AV is passing it over?<br />2) As I am a complete noob to win32 api and assembler (and anything above adding two numbers in c) I am sure this has been done n^n times before so how would one defend against such actions and detect such actions?<br /><br />Cheers :D</div>
    <div class="meta">Posted on 2009-03-03 15:33:32 by sidey1234</div>
   </div>
   <div class="post" id="post-206962">
    <div class="subject"><a href="#post-206962">Re: Erm.....</a></div>
    <div class="body">There is no real way to prevent hooking, except running all apps as nonpriviledged user. And even that isn&#039;t much of an obstacle.</div>
    <div class="meta">Posted on 2009-03-04 14:17:59 by ti_mo_n</div>
   </div>
   <div class="post" id="post-207008">
    <div class="subject"><a href="#post-207008">Re: Erm.....</a></div>
    <div class="body">Hmm, ok :d thanks for the reply, I have found http://www.qfxsoftware.com/ which encrypts all key strokes, creating a replica piece of software will give me something to do. :D<br /><br />Though I&#039;m thinking the hooks may override this, but we&#039;ll see how I go, I&#039;m hope i&#039;m proved wrong :D</div>
    <div class="meta">Posted on 2009-03-08 14:00:14 by sidey1234</div>
   </div>
  </div>
 </body>
</html>
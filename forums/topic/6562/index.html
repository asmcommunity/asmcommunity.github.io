<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Struct def viewer demo - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6562" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6562">Struct def viewer demo</a></p>
   <div class="post" id="post-47365">
    <div class="subject"><a href="#post-47365">Struct def viewer demo</a></div>
    <div class="body">It was written as auxilary tool to help me write another tool.<br />But I thought might be someone can be interesting in something in<br />code of it, or even can find another use.<br />So I removed specific to my main work (useless otherwise) features<br />and submit it as parcing\lex analyze demo.<br /><br />The app parses Windows.inc in search of struct, then show it in<br />easy to use way - list of name on your left , def of choosen struct on your right.<br /><br />Attention:<br />The app assumes 3 simple thing:<br />1. you have windows.inc in C:\masm32\include\ directory<br />(you can change it since you have source)<br />2. The first line in the file is not struct definition.<br />3. The file is valid (if you use it - it's for sure valid)<br />that means that for every uncommented &quot;struct&quot; word it has &quot;ends&quot;.<br /><br />All windows.inc from any masm32 package meet these conditions.<br />I'm saying it just &quot;in case&quot;.<br /><br />If you want the simple but usefull feature can be added:<br />convert def to comments in declare.<br />For example you need global POINT struct declare.<br />You can choose POINT in the app and then the feature creates string:<br /><br /> POINT &lt; ,;x dd<br />		  &gt;;y dd<br />The comments can help you as reference while you filling\typing in source<br />some struct.<br /><br />Let me know if you need it.<br /><br />Happy birthday to me :)</div>
    <div class="meta">Posted on 2002-07-13 07:23:34 by The Svin</div>
   </div>
   <div class="post" id="post-47370">
    <div class="subject"><a href="#post-47370">Struct def viewer demo</a></div>
    <div class="body">Very few posts today, it seems that everybody went to the sea swimming, playing and... well you can figure it by yourself :grin:.<br />Anyway...<br /><span style="font-size:24px>HAPPY BIRTHDAY</span></div>
    <div class="meta">Posted on 2002-07-13 08:33:04 by LuHa</div>
   </div>
   <div class="post" id="post-47378">
    <div class="subject"><a href="#post-47378">Struct def viewer demo</a></div>
    <div class="body">Happy Birthday from me, too!<br /><br /><br />But what's that :confused:  -&gt;</div>
    <div class="meta">Posted on 2002-07-13 09:48:00 by bazik</div>
   </div>
   <div class="post" id="post-47383">
    <div class="subject"><a href="#post-47383">Struct def viewer demo</a></div>
    <div class="body">:alright: <strong><span style="font-size:24px>Happy Birthday</span></strong> :alright:</div>
    <div class="meta">Posted on 2002-07-13 10:08:05 by bitRAKE</div>
   </div>
   <div class="post" id="post-47384">
    <div class="subject"><a href="#post-47384">Struct def viewer demo</a></div>
    <div class="body">No one tests his tool, but everyone congrats him :tongue:</div>
    <div class="meta">Posted on 2002-07-13 10:22:00 by bazik</div>
   </div>
   <div class="post" id="post-47389">
    <div class="subject"><a href="#post-47389">Struct def viewer demo</a></div>
    <div class="body"><strong>bAZiK</strong>, I'm sure he will hear if there are problems. :tongue:<br /><br /><strong>Svin</strong>, tool has a problem with:<pre><code>RAS_PARAMS_VALUE UNION DWORD<br />	Number dd ?<br />	struct String<br />		iLength dd ?<br />		Data dd ?<br />	ends<br />RAS_PARAMS_VALUE ENDS</code></pre>I think this might be an error in INI file?</div>
    <div class="meta">Posted on 2002-07-13 10:58:51 by bitRAKE</div>
   </div>
   <div class="post" id="post-47540">
    <div class="subject"><a href="#post-47540">Struct def viewer demo</a></div>
    <div class="body">Hi TheSvin<br /><br />Very nice tool<br /><br /><br />I made some small modifications, and i was trying to make it load another file (MyStrcuct.txt) as an alternate target.<br /><br />I couldn t be able to make it open a dialog box an load the other file (or window.inc also).<br /><br />The file has structures displayed as:<br /><br />The ACMDRIVERDETAILS structure describes the features of an ACM driver.<br />typedef struct { <br />    DWORD  cbStruct; <br />    FOURCC fccType; <br />    FOURCC fccComp; <br />    WORD   wMid; <br />    WORD   wPid; <br />    DWORD  vdwACM; <br />    DWORD  vdwDriver; <br />    DWORD  fdwSupport; <br />    DWORD  cFormatTags; <br />    DWORD  cFilterTags; <br />    HICON  hicon; <br />    char  szShortName; <br />    char  szLongName; <br />    char  szCopyright; <br />    char  szLicensing; <br />    char  szFeatures; <br />} ACMDRIVERDETAILS; <br /> <br />Members<br />cbStruct<br />Size, in bytes, of the valid information contained in the ACMDRIVERDETAILS structure. An application should initialize this member to the size, in bytes, of the desired information. The size specified in this member must be large enough to contain the cbStruct member of the ACMDRIVERDETAILS structure. When the acmDriverDetails function returns, this member contains the actual size of the information returned. The returned information will never exceed the requested size.<br />fccType<br />Type of the driver. For ACM drivers, set this member to ACMDRIVERDETAILS_FCCTYPE_AUDIOCODEC.<br />fccComp<br />Subtype of the driver. This member is currently set to ACMDRIVERDETAILS_FCCCOMP_UNDEFINED (zero).<br />wMid<br />Manufacturer identifier. Manufacturer identifiers are defined in Manufacturer and Product Identifiers.<br />wPid<br />Product identif (...)<br /><br /><br />But i can't make it parse.<br /><br />How can the code be adapted to parse the structure and the comments ?<br /><br /><br />Like Showing them on this way :<br /><br />Function Coments:<br /><br />The ACMDRIVERDETAILS structure describes the features of an ACM driver.<br /><br />Parameters:<br />    DWORD  cbStruct; <br />    FOURCC fccType; <br />    FOURCC fccComp; <br />    WORD   wMid; <br />    WORD   wPid; <br />    DWORD  vdwACM; <br />    DWORD  vdwDriver; <br />    DWORD  fdwSupport; <br />    DWORD  cFormatTags; <br />    DWORD  cFilterTags; <br />    HICON  hicon; <br />    char  szShortName; <br />    char  szLongName; <br />    char  szCopyright; <br />    char  szLicensing; <br />    char  szFeatures; <br /><br />Parameters Comments:<br /><br />cbStruct :Size, in bytes, of the valid information contained in the ACMDRIVERDETAILS structure. An application should initialize this member to the size, in bytes, of the desired information. The size specified in this member must be large enough to contain the <br />cbStruct member of the ACMDRIVERDETAILS structure. When the acmDriverDetails function returns, this member contains the actual size of the information returned. The returned information will never exceed the requested size.<br /><br />fccType :Type of the driver. For ACM drivers, set this member to ACMDRIVERDETAILS_FCCTYPE_AUDIOCODEC.<br />fccComp :Subtype of the driver. This member is currently set to ACMDRIVERDETAILS_FCCCOMP_UNDEFINED (zero).<br /><br />wMid : (...)<br /><br />And allowing to save all the parsing data and not only the one you selected ? (like adding 02 buttons, 01 for saving selected struc, and other to save all of the data - alphabetical order)<br /><br /><br /><br />Or maybe, there is other way, creating an options menu, that you can display the strings you want to parse, delimitating it's beginning and end..Or the way that the parsed data can be diaplyed etc.<br /><br /><br />regards,<br /><br />Beyond2000!</div>
    <div class="meta">Posted on 2002-07-14 15:23:14 by Beyond2000!</div>
   </div>
   <div class="post" id="post-47557">
    <div class="subject"><a href="#post-47557">Struct def viewer demo</a></div>
    <div class="body">i get a Access violation (0xC0000005) at this address when runnng the ParseStruct.exe.<br /><br />0040118A 0F 6F 14 3B          movq        mm2,mmword ptr </div>
    <div class="meta">Posted on 2002-07-14 16:16:25 by Qages</div>
   </div>
   <div class="post" id="post-47566">
    <div class="subject"><a href="#post-47566">Struct def viewer demo</a></div>
    <div class="body">Hi Qages<br /><br /><br />You need to put Windows.inc on the same directory as the executable (on the file i sent).<br /><br />But, If you are running ParseStruct.exe. Windows.inc must be at C:\masm32\include\windows.inc.<br /><br /><br />Regards<br /><br />Beyond2000!</div>
    <div class="meta">Posted on 2002-07-14 16:41:44 by Beyond2000!</div>
   </div>
   <div class="post" id="post-48208">
    <div class="subject"><a href="#post-48208">Struct def viewer demo</a></div>
    <div class="body"><div class="quote">I think this might be an error in INI file?</div><br />Actually - no :)<br />From the app point of view (assumptions made) - Yes :)<br />If you want to handle it - it's very easy<br />after &quot;separated ends&quot;  found - check if the word before it<br />match struct definition word.<br />I submit it mostly as parsing example for those who might be interested in some parsing teq. <br />After studying the source (it's short and commented isn't it?) it might be clear what is needed to be changed to customize it.<br />It works for assumed conditions (if about my needs for it)<br />when they are (for your needs) not met - change the source to meet them. I could submit full source but excluded parts have no use exept for auxilary purpose in writting my different app.<br /><br />to Beyond2000!:<br />Unfortunatly to give you useble answer is equal to write a full app :)<br />Nevertheless I could give you two tips<br />1. Carefully study given sourse<br />2. I submitted once an app called Styles.<br />It's one to many + one to one relative static db with three tables and they have more fields then here.<br />First submition was with full source (it also is on EliCZ site). Might be it can help to answer at least some of your questions.<br /><br />Thank you all for your kind words. I needed them.<br />Getting older you know, slower and thus less selfconfident :)<br /><br />BTW for me most usefull in the tool was that I at the end new how many struct defined in my Windows.inc :)</div>
    <div class="meta">Posted on 2002-07-17 15:44:16 by The Svin</div>
   </div>
   <div class="post" id="post-48245">
    <div class="subject"><a href="#post-48245">Struct def viewer demo</a></div>
    <div class="body">S dnyom rozhdenia!</div>
    <div class="meta">Posted on 2002-07-17 20:47:08 by comrade</div>
   </div>
   <div class="post" id="post-48329">
    <div class="subject"><a href="#post-48329">Struct def viewer demo</a></div>
    <div class="body">:grin: Pozdravlyayu s dnyom rozhdeniya, zhelayu uspehov!!! :alright:</div>
    <div class="meta">Posted on 2002-07-18 04:57:03 by Andycar</div>
   </div>
  </div>
 </body>
</html>
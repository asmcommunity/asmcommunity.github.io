<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how to compile smaller executables? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28042" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28042">how to compile smaller executables?</a></p>
   <div class="post" id="post-199168">
    <div class="subject"><a href="#post-199168">how to compile smaller executables?</a></div>
    <div class="body">i created a small application that just ShellExecutes a HTML file and then closes again

that's like only 2 lines of real coding.

when i compile it the EXE is like 5.5 kb, i think it's too big for something so small..(cant PEPACK it either)

is it possible to compile it as smallest as possible?</div>
    <div class="meta">Posted on 2001-05-13 13:30:00 by newbie</div>
   </div>
   <div class="post" id="post-199169">
    <div class="subject"><a href="#post-199169">how to compile smaller executables?</a></div>
    <div class="body">I'm curious about what is getting linked into the exe.
Maybe you could look at it in hex-dump to get an
idea of how to make it smaller.
Tiny exe's for Win95 can be as little as 3 sectors
(1 sector is 512 bytes) or 4 sectors if you include
simple resources like an icon.
In NT the exe can be smaller -- a multiple of 32 rather
than 512 bytes.
Larry</div>
    <div class="meta">Posted on 2001-05-13 13:41:00 by Larry Hammick</div>
   </div>
   <div class="post" id="post-199170">
    <div class="subject"><a href="#post-199170">how to compile smaller executables?</a></div>
    <div class="body">erm, read the PE specs - every PE file has the headers first of all - MZ, PE, import table, etc. in your case there's a data section, which you probably didn't merge into the code section. every section has an alignment size which makes it even bigger. right now the minimum size for a program (that can run on win9x) is something like 1kb. it can get smaller but then it won't run on 9x, due to alignment problems. if you want to know how to make your program that small, just check the ml/link switches. what you should basically do is merge the code/data/import sections if they're seperate, replace the stub and adjust the alignment size. good luck. imo 5kb is good enough, doesn't really make much difference if you get it down to 1kb.</div>
    <div class="meta">Posted on 2001-05-14 11:19:00 by fresh</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how to pramm an option parameter ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13326" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=13326">how to pramm an option parameter ?</a></p>
   <div class="post" id="post-103297">
    <div class="subject"><a href="#post-103297">how to pramm an option parameter ?</a></div>
    <div class="body">Hi, I would like to make a fnktion wich can accept attribudes like ACTIO_1 or ACTION_2.<br />Another question: why it isnt't posssible to replace the 'or' witch '|'<br /><br />WEll done...</div>
    <div class="meta">Posted on 2003-05-16 00:14:44 by Bubu-Boy</div>
   </div>
   <div class="post" id="post-103298">
    <div class="subject"><a href="#post-103298">how to pramm an option parameter ?</a></div>
    <div class="body">fnktion?  wha??  :confused:</div>
    <div class="meta">Posted on 2003-05-16 00:23:18 by iblis</div>
   </div>
   <div class="post" id="post-103314">
    <div class="subject"><a href="#post-103314">how to pramm an option parameter ?</a></div>
    <div class="body"><div class="quote"><br /><strong>fnktion?  wha??  :confused: </div><br />He meant to say function I think.<br /><br />What about<br /><br />| textequ or<br /><br />?</div>
    <div class="meta">Posted on 2003-05-16 01:16:05 by roticv</div>
   </div>
   <div class="post" id="post-103320">
    <div class="subject"><a href="#post-103320">how to pramm an option parameter ?</a></div>
    <div class="body">That still doesn't help me make sense of the rest of it.  ;)</div>
    <div class="meta">Posted on 2003-05-16 01:58:44 by iblis</div>
   </div>
   <div class="post" id="post-103323">
    <div class="subject"><a href="#post-103323">how to pramm an option parameter ?</a></div>
    <div class="body">I suppose he just want to use | instead of or in his code. Too much of HLL maybe :)</div>
    <div class="meta">Posted on 2003-05-16 02:24:10 by roticv</div>
   </div>
   <div class="post" id="post-103325">
    <div class="subject"><a href="#post-103325">how to pramm an option parameter ?</a></div>
    <div class="body">I'm more referring to the &quot;ACTIO_1 or ACTION_2 attributes&quot; part.</div>
    <div class="meta">Posted on 2003-05-16 02:36:57 by iblis</div>
   </div>
   <div class="post" id="post-103338">
    <div class="subject"><a href="#post-103338">how to pramm an option parameter ?</a></div>
    <div class="body">Hi, when you use the CeateFileFunktion, you can use &quot;CREATE_NEW or OPEN_EXISTING&quot; to values in one value.</div>
    <div class="meta">Posted on 2003-05-16 06:00:00 by Bubu-Boy</div>
   </div>
   <div class="post" id="post-103567">
    <div class="subject"><a href="#post-103567">how to pramm an option parameter ?</a></div>
    <div class="body">Are you drunk?</div>
    <div class="meta">Posted on 2003-05-17 13:30:37 by Sephiroth3</div>
   </div>
   <div class="post" id="post-103569">
    <div class="subject"><a href="#post-103569">how to pramm an option parameter ?</a></div>
    <div class="body">OR and | part is understood. But first part, I think he meant how do you make a procedure that can distinguish bit flags? Use <strong>test</strong>.</div>
    <div class="meta">Posted on 2003-05-17 13:51:41 by comrade</div>
   </div>
   <div class="post" id="post-103573">
    <div class="subject"><a href="#post-103573">how to pramm an option parameter ?</a></div>
    <div class="body">Moved to Heap.<br /><br />Someone please recommend a spell checker to Bubu-Boy.</div>
    <div class="meta">Posted on 2003-05-17 14:11:27 by bazik</div>
   </div>
   <div class="post" id="post-103577">
    <div class="subject"><a href="#post-103577">how to pramm an option parameter ?</a></div>
    <div class="body">What you dont understand?<br />I want to get several options in one parameter.<br />Like the CreateFile-funktion:<br />CreateFile, ....,CREATE_NEW or OPEN_EXISTING, ....<br />@Sephiroth3 :______                :stupid:                 <br />For drunken people again!<br />And again: &quot;CREATE_NEW or OPEN_EXISTING&quot; two option in one parameter!</div>
    <div class="meta">Posted on 2003-05-17 14:19:57 by Bubu-Boy</div>
   </div>
   <div class="post" id="post-103578">
    <div class="subject"><a href="#post-103578">how to pramm an option parameter ?</a></div>
    <div class="body"><div class="quote"><br />What you dont understand? </div><br /><br />It seems you dont understand what &quot;or&quot; does and what the parameters of CreateFile stand for.</div>
    <div class="meta">Posted on 2003-05-17 14:28:32 by bazik</div>
   </div>
   <div class="post" id="post-103580">
    <div class="subject"><a href="#post-103580">how to pramm an option parameter ?</a></div>
    <div class="body">create file was just an example.<br />keep cool bazik</div>
    <div class="meta">Posted on 2003-05-17 14:35:54 by Bubu-Boy</div>
   </div>
   <div class="post" id="post-103581">
    <div class="subject"><a href="#post-103581">how to pramm an option parameter ?</a></div>
    <div class="body">Hi BuBu boy<br /><br />To make a function which can accept parameters use the proc statement e.g.<pre><code>MyFunction proc ACTION&#58;DWORD<br /><br />; When your procedure starts verify which of the flags it is&#58;<br />mov eax,ACTION<br />.IF eax == ACTIO_1<br />;code to deal with ACTIO_1<br />.ELSEIF eax==ACTIO_2<br />;code to deal with ACTIO_2<br />.ELSE<br />;Default action if neither was True<br />.EndIF<br />ret<br />MyFunction endp</code></pre><strong>OR</strong> and <strong>|</strong> are two distinct operators. the <strong>OR</strong> is a compile time operator and <strong>|</strong> is a runtime operator. They are not interchangeable. For example if you use <strong>WS_VISIBLE <em>OR</em> WS_CHILD</strong>, the assembler will merge these values into a single DWORD when it compiles the program. But if you use the &quot;pipe&quot; <strong>|</strong> you are telling the assembler that the two valuse are unknown at compile time and to use two DWORDs. That is why the cannot be interchanged.</div>
    <div class="meta">Posted on 2003-05-17 14:44:32 by donkey</div>
   </div>
   <div class="post" id="post-103655">
    <div class="subject"><a href="#post-103655">how to pramm an option parameter ?</a></div>
    <div class="body">hmm. it would ot be possible to check whethet EAX == ACTIO_1 || ACTIO_2, or ?<br />I didn't understand the &quot;merge these values into a single DWORD&quot;-thing not realy.</div>
    <div class="meta">Posted on 2003-05-18 04:43:50 by Bubu-Boy</div>
   </div>
   <div class="post" id="post-103667">
    <div class="subject"><a href="#post-103667">how to pramm an option parameter ?</a></div>
    <div class="body">Yes Bubu boy,<br /><br />You can check any valid bolean expression in the .IF/.ENDIF statement so you can do that. The order that you process the flags is important otherwise you end up with a big mess. Begin with both flags together then each flag alone and finally the default action if no option is supplied. e.g.<br /><br />.IF eax == OPTION1 || OPTION2<br />; both together<br />.ELSEIF eax==OPTION1<br />; option 1 alone<br />.ELSEIF eax==OPTION2<br />; option 2 alone<br />.ELSE<br />; not option 1 or option 2<br />.ENDIF<br /><br /><strong>&quot;merge these values into a single DWORD&quot;</strong> means if you have in your command <strong><em>WS_VISIBLE OR WS_CHILD</em></strong>, that line has two values but inside your executable the assembler will put them together into one DWORD value.<br /><br />Hope that helps :)</div>
    <div class="meta">Posted on 2003-05-18 05:34:00 by donkey</div>
   </div>
   <div class="post" id="post-103683">
    <div class="subject"><a href="#post-103683">how to pramm an option parameter ?</a></div>
    <div class="body">Maybe he's looking for something like:<br /><br /><pre><code>&#91;size=12&#93;  .386<br />  .model flat, stdcall<br />  option casemap&#58;none<br />  include windows.inc<br /><br />  FLAG_FOO      equ 0001b<br />  FLAG_BAR      equ 0010b<br />  FLAG_FOOBAR   equ 0011b<br /><br />  .data<br />  szCapt        db &quot;Flags&quot;,0<br />  szTxtFoo      db &quot;Foo flag set&quot;,0<br />  szTxtBar      db &quot;Bar flag set&quot;,0<br /><br />  .code<br />  ProcessFlags proc dwFlag&#58;DWORD<br />      mov eax,  dwFlag<br />      test eax, FLAG_FOO<br />      jz        @f<br />      &#91;color=#A0A0A0&#93;; process FOO&#91;/color&#93;<br />      invoke    MessageBox, 0, addr szTxtFoo, addr szCapt, MB_OK<br />  @@&#58; test eax, FLAG_BAR<br />      jz        @f<br />      &#91;color=#A0A0A0&#93;; process BAR&#91;/color&#93;<br />      invoke    MessageBox, 0, addr szTxtBar, addr szCapt, MB_OK<br />  @@&#58; ret<br />  ProcessFlags endp<br /><br />  start&#58;<br />      invoke    ProcessFlags, FLAG_FOO<br />      invoke    ProcessFlags, FLAG_BAR<br />      invoke    ProcessFlags, FLAG_FOOBAR<br />      invoke    ExitProcess,  0<br />  end start&#91;/size&#93;</code></pre></div>
    <div class="meta">Posted on 2003-05-18 06:42:51 by iblis</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>In &quot;C&quot;, How do I link writeabe data section? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10087" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=10087">In &quot;C&quot;, How do I link writeabe data section?</a></p>
   <div class="post" id="post-75520">
    <div class="subject"><a href="#post-75520">In &quot;C&quot;, How do I link writeabe data section?</a></div>
    <div class="body">Hi, all,<br /><br />I'm converting assembly src to C,<br /><br />as u see below, my problem is just it...<br /><br />help me....^^;<br /><br /><pre><code><br />;; in asm<br />.data<br /><br />BinaryAsciiZ db &quot;abc01.txt&quot;, 0<br />....<br />;some code<br />    mov BinaryAsciiZ&#91;4&#93;, '0';  // it's ok!!!<br /><br /><br />;; in C<br /><br />char *BinaryAsciiZ = &quot;abc01.txt&quot;;<br />;; code...<br />    mov BinaryAsciiZ&#91;4&#93; =  '0';  // =&gt; access error!!!<br /><br /></code></pre></div>
    <div class="meta">Posted on 2003-01-10 16:57:16 by muzidowa</div>
   </div>
   <div class="post" id="post-75525">
    <div class="subject"><a href="#post-75525">In &quot;C&quot;, How do I link writeabe data section?</a></div>
    <div class="body">a char* variable is a variable that holds a pointer. When you say...<br /><br />char *BinaryAsciiZ = &quot;abc01.txt&quot;;<br /><br />your tellin c++ &quot;Make a constant string containing the text 'abc01.txt' and make the variable BinaryAsciiZ point to that <strong>constant</strong> string.&quot;<br /><br />Think about it... if you type a string directly into your source code, you dont want some bad code to start changing it on you. Of course you can freely change BinaryAsciiZ to any value you want, but you cannot change the data it points to because its constant data.<br /><br />The solution is to make a character array instead of a pointer.....<br /><br />char BinaryAsciiZ[] = &quot;abc01.txt&quot;;<br /><br />This is tellin c++ &quot;Make an array of character variables and copy the characters 'abc01.txt' to that array.&quot; Since you defined BinaryAsciiZ is a variable, u are free to change the data that it contains.</div>
    <div class="meta">Posted on 2003-01-10 17:34:54 by BubbaFate</div>
   </div>
   <div class="post" id="post-75533">
    <div class="subject"><a href="#post-75533">In &quot;C&quot;, How do I link writeabe data section?</a></div>
    <div class="body">Thanks, BubbaFate!!<br /><br />Have a nice day~</div>
    <div class="meta">Posted on 2003-01-10 18:24:20 by muzidowa</div>
   </div>
  </div>
 </body>
</html>
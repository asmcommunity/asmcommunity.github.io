<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>bit me - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11200" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11200">bit me</a></p>
   <div class="post" id="post-84452">
    <div class="subject"><a href="#post-84452">bit me</a></div>
    <div class="body">I have created an app that can create bitmasks and things like that in a very simple way. It's just to fill in the bits visually using 32 checkboxes.  You can choose to copy the result as a hex value, unsigned decimal, signed decimal or in a binary form by clicking on the different labels. Full source code included (it's a mess though). <br /><br /><br />: fixed the preservation  of esi,edi and ebx<br /><img src="http://w1.361.telia.com/~u36114907/bitme.gif" /></div>
    <div class="meta">Posted on 2003-03-02 04:45:28 by Delight</div>
   </div>
   <div class="post" id="post-84463">
    <div class="subject"><a href="#post-84463">bit me</a></div>
    <div class="body">Your program crashed on win98 se.I have added uses edi esi ebx magic to your dlgproc and it works now.Thanks for this app quite educational.</div>
    <div class="meta">Posted on 2003-03-02 05:55:15 by LaptoniC</div>
   </div>
   <div class="post" id="post-84465">
    <div class="subject"><a href="#post-84465">bit me</a></div>
    <div class="body">Thanks for fixing that LaptoniC. I always forget it :)</div>
    <div class="meta">Posted on 2003-03-02 06:09:49 by Delight</div>
   </div>
   <div class="post" id="post-84488">
    <div class="subject"><a href="#post-84488">bit me</a></div>
    <div class="body">Delight,<br /><br />Your application works fine on my Win XP.:alright:<br /><br />Thanks for this tool,<br /><br />Regards,<br /><br />Vortex</div>
    <div class="meta">Posted on 2003-03-02 09:15:46 by Vortex</div>
   </div>
   <div class="post" id="post-84492">
    <div class="subject"><a href="#post-84492">bit me</a></div>
    <div class="body">Another 'tool' idea along the same vain would be to write a fast multiply tool:<br /><br />You know that &quot;shl eax, 2&quot; is faster than &quot;imul eax, 4&quot;.<br /><br />But what about non-base 2 &quot;primes&quot;, such as 6.<br /><br />xor ecx, ecx<br />mov edx, number<br />mov eax, edx<br />shl eax, 2<br />add ecx, eax<br />mov eax, edx<br />shl eax, 1<br />add ecx, eax<br /><br />now 'ecx = number * 6'.<br /><br />This is done simply by evaluating the bits from each multiplier number given.  Bit 2 + Bit 1 = 6.  You could put check box options to generate a macro, as well as optionally provide push/pop code, and select what 3 registers should be used.<br /><br />There is also room for optomization here, since the first result can be placed with a mov to ecx, not add.  And the last result can be applied to the data in EDX and save the move to eax first.<br /><br />Just an idea.<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-03-02 09:50:54 by NaN</div>
   </div>
   <div class="post" id="post-84520">
    <div class="subject"><a href="#post-84520">bit me</a></div>
    <div class="body">I was thinking that it would be cool to have this as an addin for RadASM so I modified your code a little to enable it as an Addin button on the toolbar. I hope you don't mind. I have attached the code, it's just a rough hack and I haven't touched your code (well I added Hex tags to the Hex output). I have called it BitMe2 just add BitMe2.dll to the AddIns section of RadASM.INI<br /><br />Donkey</div>
    <div class="meta">Posted on 2003-03-02 13:41:19 by donkey</div>
   </div>
   <div class="post" id="post-84524">
    <div class="subject"><a href="#post-84524">bit me</a></div>
    <div class="body">Wow, that's great Donkey :alright:  I was thinking of making a RadASM plugin of it but I didn't really know how and I'm too lazy to learn how to.  By the way, I have created a 16x16 icon that looks much better on the toolbar. <br /><br />: Hmm...strange. When I assemble the project the resulting dll is 6.5 kB while your attached zip includes a dll that is 24.5 kB. Why?</div>
    <div class="meta">Posted on 2003-03-02 13:52:13 by Delight</div>
   </div>
   <div class="post" id="post-84527">
    <div class="subject"><a href="#post-84527">bit me</a></div>
    <div class="body">16x16 pixels icon</div>
    <div class="meta">Posted on 2003-03-02 14:13:45 by Delight</div>
   </div>
   <div class="post" id="post-84528">
    <div class="subject"><a href="#post-84528">bit me</a></div>
    <div class="body">Uploaded the new file to my original post with the replaced icon<br /><br />You should be able to change :<br /><br /><strong>include		c:\radasm\masm\inc\RadASM.inc</strong><br /><br />to :<br /><br /><strong>include		x:\radasm\masm\inc\RadASM.inc</strong><br /><br />in the BitMe2.ASM file to change the location for the RadASM.INI file.<br /><br />Donkey</div>
    <div class="meta">Posted on 2003-03-02 14:19:33 by donkey</div>
   </div>
   <div class="post" id="post-84533">
    <div class="subject"><a href="#post-84533">bit me</a></div>
    <div class="body">I found the silly &quot;bug&quot; myself. It works great now, but your dll is still 24 kb and mine 6.5. What's added when you assemble it?<br />:stupid:</div>
    <div class="meta">Posted on 2003-03-02 14:31:36 by Delight</div>
   </div>
   <div class="post" id="post-84535">
    <div class="subject"><a href="#post-84535">bit me</a></div>
    <div class="body">Oh, I forgot to add /FILEALIGN:512 to the linker that I use when I compiled. I'll fix it.<br /><br />uploaded the updated DLL to my original post, it's now 6.5 KB like yours. It's just a peculiarity in LINK Version 6. You have to specify the file alignment or you get huge programs. I had forgotten to modify my MASM.INI link defaults when I upgraded to 2.0.1.1 and don't think to edit my project options.<br /><br />I added tooltip text for the button as well.<br /><br />Donkey</div>
    <div class="meta">Posted on 2003-03-02 14:36:20 by donkey</div>
   </div>
   <div class="post" id="post-84644">
    <div class="subject"><a href="#post-84644">bit me</a></div>
    <div class="body">Hi, <br /><br />a little gap between the nibbles of each byte would be helpfull too.<br /><br />Bye Miracle</div>
    <div class="meta">Posted on 2003-03-03 03:58:36 by miracle</div>
   </div>
   <div class="post" id="post-84750">
    <div class="subject"><a href="#post-84750">bit me</a></div>
    <div class="body">NaN, for multiply by 6 I use:<br /><pre><code><br />shl eax,1<br />lea eax,&#91;eax+eax*2&#93;<br /></code></pre><br /><br />using this approach, one can easily multiply with many fixed integers, in less than 5 cycles. I have seen, in fact, a table of such multiplications, but deleted it, thinking it'd be useless.</div>
    <div class="meta">Posted on 2003-03-03 14:56:43 by Ultrano</div>
   </div>
   <div class="post" id="post-84755">
    <div class="subject"><a href="#post-84755">bit me</a></div>
    <div class="body"><a target="_blank" href="http://www.azillionmonkeys.com/qed/amult.html">http://www.azillionmonkeys.com/qed/amult.html</a></div>
    <div class="meta">Posted on 2003-03-03 15:08:41 by Delight</div>
   </div>
   <div class="post" id="post-84779">
    <div class="subject"><a href="#post-84779">bit me</a></div>
    <div class="body"><div class="quote"><br />NaN, for multiply by 6 I use:<br /><pre><code><br />shl eax,1<br />lea eax,&#91;eax+eax*2&#93;<br /></code></pre><br /><br />using this approach, one can easily multiply with many fixed integers, in less than 5 cycles. I have seen, in fact, a table of such multiplications, but deleted it, thinking it'd be useless. </div><br /><br />Wouldn't <strong>add eax, eax</strong> be better than <strong>shl eax, 1</strong>?</div>
    <div class="meta">Posted on 2003-03-03 16:22:55 by comrade</div>
   </div>
   <div class="post" id="post-84890">
    <div class="subject"><a href="#post-84890">bit me</a></div>
    <div class="body">Good point Ultrano, my oversite.  Im really not much of an opomization person.  As well your solution does defeat the point a bit.  <br /><br />Thanks for the tip.<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-03-04 00:25:28 by NaN</div>
   </div>
   <div class="post" id="post-84891">
    <div class="subject"><a href="#post-84891">bit me</a></div>
    <div class="body">In hardware domain, it is easier to make the SHL than the ADD, and SHL is faster. 16 times, I suppose. Do not know about the stupid P6, but in K7 I think it's faster this way. Oh, there is a very stupid way of implementing the SHL with D-triggers / or JK triggers, I hope no cpu uses that.</div>
    <div class="meta">Posted on 2003-03-04 01:08:32 by Ultrano</div>
   </div>
  </div>
 </body>
</html>
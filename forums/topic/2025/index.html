<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>FTP Server - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2025" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=2025">FTP Server</a></p>
   <div class="post" id="post-12948">
    <div class="subject"><a href="#post-12948">FTP Server</a></div>
    <div class="body">Hi<br /><br />I'm trying to make a little FTP server, but could someone show a small example on how to 'accept' an incoming request (like someone is trying to connect)<br /><br />I tried the small webserver and some chat progs, but it just won't work<br /><br />It looks very simple, so i guess I just have a small error somewhere, so if anyone can show me a small example that should work plz :)<br /><br />Tnx in advance</div>
    <div class="meta">Posted on 2001-11-24 18:10:53 by Unregistered2</div>
   </div>
   <div class="post" id="post-12967">
    <div class="subject"><a href="#post-12967">FTP Server</a></div>
    <div class="body">Leaving out the synchronisation stuff, this is how it works:<br /><br />1. Create a socket (function 'socket'), this is the server socket<br />2. Bind it with 'bind' to a certain IP (or NULL for all network adapters), and port. (IP and port are in network byte order, i.e. big endian)<br />3. Set it listening with 'listen'<br />4. Accept the connection with 'accept' on the server socket. The return value is a <strong>new</strong> socket (the client socket). You use this socket to send &amp; receive data to and from the client.<br />5. finally, closesocket for all sockets<br /><br />Then you'll need the synchronisation, i.e. you'll have to wait for an incomming connection. You can call accept without waiting, but your program will hang until it has accepted an connection then, unless you place this code in a seperate thread.. There are server ways of waiting for specific events.. Have a look at this thread:<br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=1874">http://www.asmcommunity.net/board/index.php?topic=1874</a><br />I posted some examples of several methods of writing servers &amp; clients.. They are very ugly examples as they weren't meant to be examples, but simple best speed tests. On page 2 on that thread is another program called server2.<br /><br />Thomas</div>
    <div class="meta">Posted on 2001-11-25 04:27:18 by Thomas</div>
   </div>
   <div class="post" id="post-12981">
    <div class="subject"><a href="#post-12981">FTP Server</a></div>
    <div class="body">Thanks, I will try! :)</div>
    <div class="meta">Posted on 2001-11-25 10:01:57 by Unregistered2</div>
   </div>
  </div>
 </body>
</html>
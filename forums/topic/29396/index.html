<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Pointer help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29396" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29396">Pointer help</a></p>
   <div class="post" id="post-207507">
    <div class="subject"><a href="#post-207507">Pointer help</a></div>
    <div class="body">I &#039;ve got an address that points to a portion in the memory in a register, ecx = 009F0000. How do I retrieve the data from that address, it&#039;s an DWORD that I will have to retrieve.<br /><br />Any help is much appreciated,<br /><br />Thanks, <br /><br />C K</div>
    <div class="meta">Posted on 2009-05-07 02:57:54 by karthikeyanck</div>
   </div>
   <div class="post" id="post-207510">
    <div class="subject"><a href="#post-207510">Re: Pointer help</a></div>
    <div class="body">We already covered this.<br /><br />Given that ECX = ptr to buffer,<br /><br />mov eax,dword ptr  ; eax = first dword of data from address pointed to by ecx<br /></div>
    <div class="meta">Posted on 2009-05-07 03:41:21 by Homer</div>
   </div>
   <div class="post" id="post-207512">
    <div class="subject"><a href="#post-207512">Re: Pointer help</a></div>
    <div class="body">Thanks Homer, sorry for repeating the question there&nbsp; ;)<br /><br />The memory @ location 009F0000 hold an value 172, but when I move it to the register as you have said each number gets padded with 3 and it is reversed as 323731, can you please advise how would I get the whole number 172?<br /><br />Thanks,<br /><br />C K</div>
    <div class="meta">Posted on 2009-05-07 03:53:03 by karthikeyanck</div>
   </div>
   <div class="post" id="post-207515">
    <div class="subject"><a href="#post-207515">Re: Pointer help</a></div>
    <div class="body">Maybe the data in the buffer is not a dword, maybe its a string that contains some numbers &quot;172&quot;.<br />The HEX values for printing the ascii digits 0-9 are 30h-39h<br /><br />If its a string, we grabbed the first four bytes of the string, in reverse order (due to machine byte ordering of dwords in memory).<br />They are probably &quot;00, 32, 37, 31&quot; in Hex.<br /><br />Thats &quot;172&quot;,0 as a string, in reverse.<br /><br />It would make sense.<br /><br />If we find this is a string (hey, try to MessageBox it!) we need to convert the integer string to dword integer.<br />You can find a function in the MASM32 includes for this, called something like &quot;ATODW&quot; (ascii to dword).<br /><br /></div>
    <div class="meta">Posted on 2009-05-07 04:04:04 by Homer</div>
   </div>
   <div class="post" id="post-207517">
    <div class="subject"><a href="#post-207517">Re: Pointer help</a></div>
    <div class="body">Is there a way where we could convert the string to HEX? </div>
    <div class="meta">Posted on 2009-05-07 04:51:42 by karthikeyanck</div>
   </div>
   <div class="post" id="post-207518">
    <div class="subject"><a href="#post-207518">Re: Pointer help</a></div>
    <div class="body"><br />Hex is just a number system.<br />We can express in the same number in different number sytems.<br />Normally, we use the Decimal system, which is BASE 10.<br />Hex is BASE 16.<br />Binary is BASE 2.<br /><br />There are infinite possible number systems, asm coders will use these three more than any others.<br /><br /><br /><br /></div>
    <div class="meta">Posted on 2009-05-07 05:08:23 by Homer</div>
   </div>
   <div class="post" id="post-207519">
    <div class="subject"><a href="#post-207519">Re: Pointer help</a></div>
    <div class="body">The reason i&#039;m asking this question is because I have the value 323731 in the memory which is actually ASCII 172. When I move this to the register the same value is passed to it for example,<br /><br />mov ecx,DWORD PTR <br /><br />ECX has now got 323731, If I have to allocate memory now I would think that ECX has 172 but it has actually got 323731. In this case the function would allocate those many bytes of memory, and ofcourse a huge part of it is wasted&nbsp; ;)<br /><br />Correct me if am wrong on that point, just found that to be a problem when I was debugging this using Olly.<br /><br />Thanks, <br /><br />C K</div>
    <div class="meta">Posted on 2009-05-07 08:19:00 by karthikeyanck</div>
   </div>
   <div class="post" id="post-207520">
    <div class="subject"><a href="#post-207520">Re: Pointer help</a></div>
    <div class="body">then you need to convert the text value don&#039;t you...<br />assembly doesn&#039;t magicaly convert &#039;172&#039; into 172<br /></div>
    <div class="meta">Posted on 2009-05-07 08:29:11 by evlncrn8</div>
   </div>
   <div class="post" id="post-207522">
    <div class="subject"><a href="#post-207522">Re: Pointer help</a></div>
    <div class="body">As I mentioned, the function to do that is called &quot;atodw&quot; - its sourcecode is located in the &quot;m32lib&quot; folder of the MASM32 package installation.<br /><br /></div>
    <div class="meta">Posted on 2009-05-07 08:45:40 by Homer</div>
   </div>
   <div class="post" id="post-207534">
    <div class="subject"><a href="#post-207534">Re: Pointer help</a></div>
    <div class="body">Thanks Homer&nbsp;  :)</div>
    <div class="meta">Posted on 2009-05-08 01:38:22 by karthikeyanck</div>
   </div>
  </div>
 </body>
</html>
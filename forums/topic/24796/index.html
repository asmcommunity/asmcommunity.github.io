<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>String Array - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24796" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24796">String Array</a></p>
   <div class="post" id="post-181167">
    <div class="subject"><a href="#post-181167">String Array</a></div>
    <div class="body">How can I use array with string?<br />Please explain and show me the examples.</div>
    <div class="meta">Posted on 2006-05-29 03:40:12 by ch3cooli</div>
   </div>
   <div class="post" id="post-181168">
    <div class="subject"><a href="#post-181168">Re: String Array</a></div>
    <div class="body">it is short question but too many variances of answer :) what for you plan to use it? what estimated max size of them and amount? should be it static or dinamic (sorting, editing, adding or deleting)?<br />in general it can be organized like:<br />1.simpliest (good for few short strings) - allocate space in memory of STRING_SIZE * STRING_NUMBER (eg. 260 and 16) and store pointer to str_array var. then string No.X can be found as +X*STRING_SIZE (X - zero-based).<br />2.2 arrays - 1-st array has strings, 2-nd - pointers to each string - very fast for sorting, less memory wasting, less good for string modification.<br />3.linked list - each element contains string and pointer to next string - slow to search, but has no additional arrays. simpliest example: sequence of pascal strings - string length in the string header is offset to the next string (but then impossible keep strings in random sequence)...<br /></div>
    <div class="meta">Posted on 2006-05-29 04:40:05 by Shoo</div>
   </div>
   <div class="post" id="post-181169">
    <div class="subject"><a href="#post-181169">Re: String Array</a></div>
    <div class="body"><div class="quote"><br />2.2 arrays - 1-st array has strings, 2-nd - pointers to each string - very fast for sorting, less memory wasting, less good for string modification.<br /></div><br />I would say one array is enough - with pointers to strings in memory. Strings do not have to occupy a continuous memory region, only the array of pointers does.<br /></div>
    <div class="meta">Posted on 2006-05-29 05:15:40 by Morris</div>
   </div>
   <div class="post" id="post-181174">
    <div class="subject"><a href="#post-181174">Re: String Array</a></div>
    <div class="body">Again, it matters how many, and what expected size.<br />Allocating a lot of small blocks of memory is a bad idea, if you use heap memory it leads to fragmentation (16 byte alignment) and if you use virtual memory its massively wasteful (minimum memory actually allocated per string is &#39;granularity&#39; usually 4kb).<br />So just allocating a bunch of strings and then keeping pointers is a really crap idea, although there is one possible means by which this may be viable, which is to use the SysAllocString api function (I&#39;m pretty sure this has a memory manager behind it).<br /></div>
    <div class="meta">Posted on 2006-05-29 06:37:03 by Homer</div>
   </div>
   <div class="post" id="post-181289">
    <div class="subject"><a href="#post-181289">Re: String Array</a></div>
    <div class="body">ch3cooli,<br /><br /><div class="quote"><br />How can I use array with string?<br />Please explain and show me the examples.<br /></div><br /><br />&nbsp; &nbsp;  OK, look at the attached zipped file.&nbsp; It contains a partial source file that gives several examples of how to make an array of string addresses that point to variable length strings, with no padding to the length of the longest string.&nbsp; A partial listing is enclosed to show how it assembles.&nbsp; And finally the program itself that shows what it looks like with an application.&nbsp; Basically you let MASM do the work.&nbsp; All you need do is tell MASM what to do.&nbsp; Ask if you have any questions.&nbsp; Ratch</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1668" target="_blank">ch3cooli.ZIP</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-06-01 22:13:44 by Ratch</div>
   </div>
  </div>
 </body>
</html>
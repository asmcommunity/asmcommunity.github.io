<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Gift for Thomas. RAD C++ class for PngLIB - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9226" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=9226">Gift for Thomas. RAD C++ class for PngLIB</a></p>
   <div class="post" id="post-67907">
    <div class="subject"><a href="#post-67907">Gift for Thomas. RAD C++ class for PngLIB</a></div>
    <div class="body">Well, I was taking a look at the pnglib example from thomas's site and i found i could make it much more useful for myself by converting it to a class. So here it is if you want to use it. Also there is a file main.cpp in the archieve which demostrates how to load a png from a file using the class. Basically its the C example of thomas which i modified to show how easily you can use pngs with this class. So in order to run the main.cpp you need to have the pnglib package.<br /><br />Anyway here's my description a bit-<br /><br />This is how you load a png and then create a bitmap from it-<br /><pre><code><br />Png myPng&#40;&quot;filename.png&quot;&#41;;<br />HBITMAP bmp= myPng.CreateBitmap&#40;hWnd&#41;;<br /></code></pre><br />The cleanup function is inthe destructor so you dont need to worry about it.<br />Although the constructor is overloaded so that you can load a file straightaway, i would recommen using the Load function, cause it can tell you if an error occurs.<br /><br />This is how you use it-<br /><pre><code><br />Png myPng;<br />if&#40;!myPng.Load&#40;&quot;filename.png&quot;&#41;&#41;<br />// error handling code<br /></code></pre><br /><br />The Load functions and constructors are overloaded to supprt all the 3 types of loading possible. This is how you load from custom data.<br /><pre><code>Png myPng&#40;customData,sizeof&#40;customData&#41;&#41;;</code></pre> <br /><br />To get the size of image, use GetSize function passing a pointer to PngSize, like this-<br /><pre><code>PngSize size;<br />myPng.GetSize&#40;&amp;size&#41;;<br /></code></pre> <br /><br />There are a few more functions to retrieve the color depth,etc.<br /><br />P.S.- Thomas, it seems you forgot to specify the ColorType and interlacing format in your header file.<br /><br /><br /><strong>This file is in RAR format. Rename to .rar after downloading.</strong> I dont have winzip installed here, so i renamed the file to .zip so that it can be uploaded.</div>
    <div class="meta">Posted on 2002-11-28 04:59:44 by clippy</div>
   </div>
   <div class="post" id="post-67942">
    <div class="subject"><a href="#post-67942">Gift for Thomas. RAD C++ class for PngLIB</a></div>
    <div class="body">Very nice :alright:. I'm actually using the library in some of my C++ projects so this class may come in handy. <br /><div class="quote">P.S.- Thomas, it seems you forgot to specify the ColorType and interlacing format in your header file.</div><br />You're right :). I'll add them together with your wrapper class in the next update..<br /><br />Thanks again,<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-11-28 10:39:53 by Thomas</div>
   </div>
  </div>
 </body>
</html>
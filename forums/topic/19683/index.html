<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to replace system files in XP!?!?? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19683" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19683">How to replace system files in XP!?!??</a></p>
   <div class="post" id="post-151364">
    <div class="subject"><a href="#post-151364">How to replace system files in XP!?!??</a></div>
    <div class="body">Hi,<br />well I recoded a windows dll from XP (changed some desktop appearance things). But how can I replace the original windows dll with my new one???<br />Although there is no autoexec.bat in XP I'm sure there is some batch file that gets started when xp is booting. Does anyone know!?<br />Dominik</div>
    <div class="meta">Posted on 2004-10-17 09:26:29 by Dom</div>
   </div>
   <div class="post" id="post-151365">
    <div class="subject"><a href="#post-151365">How to replace system files in XP!?!??</a></div>
    <div class="body">Try <a target="_blank" href="http://www3.telus.net/_/replacer/">replacer</a>, its worked well for me in the past.</div>
    <div class="meta">Posted on 2004-10-17 09:55:08 by EÃ³in</div>
   </div>
   <div class="post" id="post-151366">
    <div class="subject"><a href="#post-151366">How to replace system files in XP!?!??</a></div>
    <div class="body">in this case is SFP (Systme File Protection) (or SFC) the magic keyword. it is the component that protects system files. and it can be turned off, using undocumented hacks and other nasty stuff. search on the the RCE board for SFC and you'll be answered.</div>
    <div class="meta">Posted on 2004-10-17 10:16:42 by lifewire</div>
   </div>
   <div class="post" id="post-151367">
    <div class="subject"><a href="#post-151367">How to replace system files in XP!?!??</a></div>
    <div class="body">Nice tool....it works...but I would like to know how the replacement is done.<br />As far as I could see the replacer creates a temporary executeable .tmp and adds it to:<br />HKLM\System\CurrentControlSet\Control\Session Manager\PendingFileRenameOperations<br /><br />I would like to know how to use this reg-key on my own. I found a description that says both the system file and the replacement file should be set into this reg-key. But it does not work. Does anyone know something about the usage of that reg-key!?<br /><br />Lifewire: Where can i find the rce board?<br />Dominik</div>
    <div class="meta">Posted on 2004-10-17 10:17:10 by Dom</div>
   </div>
   <div class="post" id="post-151370">
    <div class="subject"><a href="#post-151370">How to replace system files in XP!?!??</a></div>
    <div class="body">by the way to disable windows file protection on xp sp1 (works only on sp1):<br /><br />1. in windows\system32\sfc_os.dll (same thing in \dllcache) at offset 0x0000e3bb nop the 0xc68b word.<br />2. reboot<br />3. then you should be able to disable it by changing value SfcDisable key (HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon) to 0xffffff9d</div>
    <div class="meta">Posted on 2004-10-17 12:02:53 by arafel</div>
   </div>
   <div class="post" id="post-151371">
    <div class="subject"><a href="#post-151371">How to replace system files in XP!?!??</a></div>
    <div class="body">here, Dom:<br />http://www.woodmann.net/forum/showthread.php?t=6292&amp;highlight=sfc<br /><br />Good luck.</div>
    <div class="meta">Posted on 2004-10-17 12:16:36 by lifewire</div>
   </div>
   <div class="post" id="post-151494">
    <div class="subject"><a href="#post-151494">How to replace system files in XP!?!??</a></div>
    <div class="body">Is there no way in just writing some batch cmds to a file and windows itself replaces the file on the next startup? I thought about Partition Magic....I suppose it uses such a batch file. When it was adviced to change a partition, on the next bootup this is done even before the desktop gets loaded.</div>
    <div class="meta">Posted on 2004-10-19 08:23:54 by Dom</div>
   </div>
   <div class="post" id="post-151500">
    <div class="subject"><a href="#post-151500">How to replace system files in XP!?!??</a></div>
    <div class="body">In the old times I used MoveFileEx with dwFlags=MOVEFILE_DELAY_UNTIL_REBOOT, but I can't say if that will work on NT5 too, last time I used it was... well, long ago :)</div>
    <div class="meta">Posted on 2004-10-19 09:33:46 by lifewire</div>
   </div>
   <div class="post" id="post-151503">
    <div class="subject"><a href="#post-151503">How to replace system files in XP!?!??</a></div>
    <div class="body">Lifewire, it does work on WinXP after setting the reg dword<br />HKLM\SYSTEM\CurrentControlSet\Control\Session Manager\AllowProtectedRenames  to &quot;1&quot;. After the reboot this regvalue gets deleted, so you have to set it up every time.<br />Thanks alot....<br />Dominik</div>
    <div class="meta">Posted on 2004-10-19 10:35:55 by Dom</div>
   </div>
   <div class="post" id="post-151544">
    <div class="subject"><a href="#post-151544">How to replace system files in XP!?!??</a></div>
    <div class="body">Download M$ Installer 2.0, it's creates a .MSI to do the job for you.<br /><br />Regards,  P1  8)</div>
    <div class="meta">Posted on 2004-10-19 16:26:58 by Pone</div>
   </div>
   <div class="post" id="post-151550">
    <div class="subject"><a href="#post-151550">How to replace system files in XP!?!??</a></div>
    <div class="body">if i remember correctly, there is an undocummented ordinal2 function in sfc.dll, which disables SFP. find it on @stake's site, or ratter's SFP article. or just pop open ida and mess around.</div>
    <div class="meta">Posted on 2004-10-19 17:57:38 by Drocon</div>
   </div>
   <div class="post" id="post-151576">
    <div class="subject"><a href="#post-151576">How to replace system files in XP!?!??</a></div>
    <div class="body"><div class="quote">if i remember correctly, there is an undocummented ordinal2 function in sfc.dll, which disables SFP. find it on @stake's site, or ratter's SFP article. or just pop open ida and mess around.</div><br /><br />that way is mentioned on the thread on the RCE board I pasted.</div>
    <div class="meta">Posted on 2004-10-20 03:45:50 by lifewire</div>
   </div>
   <div class="post" id="post-151599">
    <div class="subject"><a href="#post-151599">How to replace system files in XP!?!??</a></div>
    <div class="body">thank you guys,...by the way, drocon, its ordinal 5 :)<br />I finally did it with the MoveFileEx API.<br />Dominik</div>
    <div class="meta">Posted on 2004-10-20 12:16:06 by Dom</div>
   </div>
   <div class="post" id="post-151674">
    <div class="subject"><a href="#post-151674">How to replace system files in XP!?!??</a></div>
    <div class="body">i wonder how do u  change the system path in the XP!!!<br />i mean how to change the path in the command window to what i want not the default one!!!<br /><br />i tried the environment variables!!! but its not working!!!1</div>
    <div class="meta">Posted on 2004-10-22 08:54:38 by b</div>
   </div>
   <div class="post" id="post-151675">
    <div class="subject"><a href="#post-151675">How to replace system files in XP!?!??</a></div>
    <div class="body">I think changing the system path is only possible during Installation....<br />In order to change the path that is displayed when running cmd.exe you need some windows tricks....or modify the cmd.exe.....<br />Dominik</div>
    <div class="meta">Posted on 2004-10-22 09:38:50 by Dom</div>
   </div>
   <div class="post" id="post-151679">
    <div class="subject"><a href="#post-151679">How to replace system files in XP!?!??</a></div>
    <div class="body">i know it's possible for win 98 &amp; win 2000<br /><br />i think my problem is in the system variables, <br />i think in the other virgins they have only the user variables!!</div>
    <div class="meta">Posted on 2004-10-22 10:57:27 by b</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Float10 to Float8 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15873" />
  <link rel="prev" href="../?id=15873&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15873">Float10 to Float8</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=15873&amp;page=1" style="">&laquo;</a><a href="../?id=15873&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="15873" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-123240">
    <div class="subject"><a href="#post-123240">Float10 to Float8</a></div>
    <div class="body">And again.<br /><br />this one works:<br /><br /><pre><code>fld float2<br />fld float1<br />fcomip st,st&#40;1&#41;<br />fstp st<br />jz  is_equal<br />jc  is_less<br />is_more&#58;</code></pre><br /><br />I found this solution, working with all cpu's<br /><br /><pre><code>FLD float2<br />FCOMP float1<br />FNSTSW AX<br />SHR AH,1<br />JC is_less<br />is_more&#58;</code></pre><br /><br />Many thanks !!!<br /><br />Regards,<br />Nordwind64</div>
    <div class="meta">Posted on 2003-11-02 14:58:55 by Nordwind64</div>
   </div>
   <div class="post" id="post-123280">
    <div class="subject"><a href="#post-123280">Float10 to Float8</a></div>
    <div class="body">First, I would not suggest using the no-wait FNSTSW in this sequence. You might get the content of the Status Word before the comparison instruction is completed and the Status Word updated. Use the FSTSW variant.<br /><br />Second, if you transfer part of the Status Word to the Flag register (as shown in the tutorial with the FCOM instruction), you can easily branch to possibilities other than less or more, such as equal or erroneous parameters. <br /><br />You should not disregard that last possibility and take appropriate action in case of error. (This part would be very difficult to implement when trying to use the CPU for the comparison of floats!!)<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-11-02 21:25:33 by Raymond</div>
   </div>
   <div class="post" id="post-123378">
    <div class="subject"><a href="#post-123378">Float10 to Float8</a></div>
    <div class="body">Thanks again !<br /><br />now I use the FSTSW variant.<br /><br />Regards,<br />Nordwind64</div>
    <div class="meta">Posted on 2003-11-03 23:43:41 by Nordwind64</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=15873&amp;page=1" style="">&laquo;</a><a href="../?id=15873&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="15873" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
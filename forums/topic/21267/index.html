<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>rotate a char - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21267" />
    <link rel="next" href="../?id=21267&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21267">rotate a char</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=21267&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=21267&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="21267" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=21267&amp;page=2">&gt;</a><a href="../?id=21267&amp;page=2">&raquo;</a></form>   <div class="post" id="post-160896">
    <div class="subject"><a href="#post-160896">rotate a char</a></div>
    <div class="body">Hello,all<br /><br />I want to rotate a char at every second. but the char can&#39;t be rotated. That&#39;s why?<br /><br />regards<br /><div class="quote"><br />;@echo off<br />;goto make<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.386				<br />.MODEL FLAT,STDCALL<br />option casemap :none<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include	\masm32\include\windows.inc<br />include	\masm32\include\user32.inc<br />include	\masm32\include\kernel32.inc<br />include	\masm32\include\Gdi32.inc<br /><br />includelib \masm32\lib\kernel32.lib<br />includelib \masm32\lib\user32.lib<br />includelib \masm32\lib\Gdi32.lib<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />ID_TIMER1	equ	1999<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />WinMain	PROTO :DWORD, :DWORD, :DWORD, :SDWORD&nbsp; &nbsp;  	<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.data<br />ClassName	db &quot;SimpleWinClass&quot;,0<br />AppName		db &quot;Font Demo&quot;,0<br />format		db &quot;Angle ( %d )&quot;,0<br /><br />szArial		db &quot;Arial&quot;,0<br />szhString	db &quot;Arial TrueType Font&quot;,0<br />szCourierNew	db &quot;Courier New&quot;,0<br />szaString	db &quot;Courier New TrueType Font&quot;,0 <br />szTimesNR	db &quot;Times New Roman&quot;,0<br />szvString	db &quot;Times New Roman TrueType Font&quot;,0<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.data?<br />hInstance	HINSTANCE ?<br />CommandLine	LPSTR ?<br />dwAngle		dword	?<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.code<br />start:<br />	invoke GetModuleHandle, NULL<br />	mov&nbsp; &nbsp; hInstance,eax<br />	invoke GetCommandLine<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke WinMain, hInstance,NULL,CommandLine, SW_SHOWDEFAULT<br />	invoke ExitProcess,eax<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />WinMain proc hInst:HINSTANCE,hPrevInst:HINSTANCE,CmdLine:LPSTR,CmdShow:SDWORD<br /><br />	LOCAL wc:WNDCLASSEX, msg:MSG, hwnd:HWND <br /><br />	mov&nbsp;  wc.cbSize,SIZEOF WNDCLASSEX<br />	mov&nbsp;  wc.style, CS_HREDRAW or CS_VREDRAW<br />	mov&nbsp;  wc.lpfnWndProc, OFFSET WndProc<br />	mov&nbsp;  wc.cbClsExtra,NULL<br />	mov&nbsp;  wc.cbWndExtra,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; push&nbsp; hInstance<br />&nbsp; &nbsp; &nbsp; &nbsp; pop&nbsp;  wc.hInstance<br />	mov&nbsp;  wc.hbrBackground,COLOR_WINDOW+1 <br />	mov&nbsp;  wc.lpszMenuName,NULL<br />	mov&nbsp;  wc.lpszClassName,OFFSET ClassName<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke LoadIcon,hInstance,IDI_APPLICATION<br />	mov&nbsp;  wc.hIcon,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp;  wc.hIconSm,0<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke LoadCursor,NULL,IDC_ARROW<br />	mov&nbsp;  wc.hCursor,eax <br />&nbsp; &nbsp; &nbsp; &nbsp; invoke RegisterClassEx, addr wc<br />&nbsp; &nbsp; &nbsp; &nbsp; INVOKE CreateWindowEx,NULL,ADDR ClassName,ADDR AppName,\<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  WS_OVERLAPPEDWINDOW,CW_USEDEFAULT,\<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  CW_USEDEFAULT,CW_USEDEFAULT,CW_USEDEFAULT,NULL,NULL,\<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  hInst,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp;  hwnd,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; INVOKE ShowWindow, hwnd,SW_SHOWNORMAL<br />&nbsp; &nbsp; &nbsp; &nbsp; INVOKE UpdateWindow, hwnd<br />&nbsp; &nbsp; &nbsp; &nbsp; .WHILE TRUE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INVOKE GetMessage, ADDR msg,NULL,0,0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; .BREAK .IF (!eax)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INVOKE TranslateMessage, ADDR msg<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; INVOKE DispatchMessage, ADDR msg<br />&nbsp; &nbsp; &nbsp; &nbsp; .ENDW<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  eax,msg.wParam<br />&nbsp; &nbsp; &nbsp; &nbsp; ret<br />WinMain endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />WndProc proc hWnd:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br /><br />	LOCAL hdc:HDC, ps:PAINTSTRUCT, hNFont:DWORD, hOFont:DWORD<br />	LOCAL CharBuf:dword&nbsp; &nbsp; &nbsp; <br /><br />	.if uMsg == WM_CREATE<br />		invoke	SetTimer,hWnd,ID_TIMER1,1000,NULL&nbsp; ;500ms timer update ICO<br />		mov dwAngle,0<br />	.elseif	uMsg ==	WM_TIMER&nbsp; <br />		mov	eax,wParam <br />		.if	eax ==	ID_TIMER1<br /><br />;	&nbsp; &nbsp; Print in TrueType text at 45 degrees using &quot;Courier New&quot; bold font<br />;	&nbsp; &nbsp; ------------------------------------------------------------------	<br />			;invoke BeginPaint,hWnd, ADDR ps<br />			;mov&nbsp; &nbsp; hdc,eax<br />			invoke GlobalAlloc,GPTR,16<br />			mov CharBuf,eax<br /><br />			.if dwAngle &lt; 3600<br /><br />				;invoke&nbsp; CreateFont, 20,10,dwAngle,450, FW_BOLD, FALSE,FALSE,FALSE, \<br />				;	ANSI_CHARSET,OUT_DEFAULT_PRECIS,CLIP_DEFAULT_PRECIS, \<br />				;	DEFAULT_QUALITY, 18, ADDR szCourierNew<br />				;mov	hNFont, eax<br /><br />				;invoke&nbsp; SelectObject, hdc, hNFont<br />				;mov	hOFont, eax<br /><br />				;invoke&nbsp; lstrlen, ADDR szaString<br />				;invoke&nbsp; TextOut, hdc, 270,270, ADDR szaString, eax<br />				;invoke&nbsp; DeleteObject, hOFont<br />				add dwAngle,100<br />			.else<br />				mov dwAngle,0<br />			.endif<br />			<br />			invoke wsprintf,CharBuf,offset format,dwAngle<br />			invoke SetWindowText,hWnd,CharBuf<br />			invoke GlobalFree,CharBuf<br /><br />			;invoke&nbsp; EndPaint,hWnd, ADDR ps<br />		.endif<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; .elseif uMsg==WM_PAINT<br /><br />		invoke BeginPaint,hWnd, ADDR ps<br />		mov&nbsp; &nbsp; hdc,eax<br /><br />		invoke&nbsp; CreateFont, 20,10,450,450, FW_BOLD, FALSE,FALSE,FALSE, \<br />			ANSI_CHARSET,OUT_DEFAULT_PRECIS,CLIP_DEFAULT_PRECIS, \<br />			DEFAULT_QUALITY, 18, ADDR szCourierNew<br />		mov	hNFont, eax<br /><br />		invoke&nbsp; SelectObject, hdc, hNFont<br />		mov	hOFont, eax<br /><br />		invoke&nbsp; lstrlen, ADDR szaString<br />		invoke&nbsp; TextOut, hdc, 270,270, ADDR szaString, eax<br />		invoke&nbsp; DeleteObject, hOFont<br /><br />	.ELSEIF uMsg==WM_DESTROY<br />	&nbsp; &nbsp; &nbsp;  <br />		invoke KillTimer,hWnd,ID_TIMER1 ;cancel the 400ms timer for updating ICO.<br />		invoke PostQuitMessage,NULL<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; .ELSE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke DefWindowProc,hWnd,uMsg,wParam,lParam<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ret<br />	.ENDIF<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; xor&nbsp; &nbsp; eax,eax<br />	ret<br /><br />WndProc endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />end start<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />:make<br />set name=cf_2<br /><br />&nbsp; &nbsp; \masm32\bin\ml /c /coff %name%.bat<br />&nbsp; &nbsp; \masm32\bin\Link /subsystem:windows %name%.obj <br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if exist *.bak del *.bak<br />&nbsp; &nbsp; if exist *.obj del *.obj<br />echo.<br /><br /></div></div>
    <div class="meta">Posted on 2005-06-08 01:01:49 by dcskm4200</div>
   </div>
   <div class="post" id="post-160897">
    <div class="subject"><a href="#post-160897">Re: rotate a char</a></div>
    <div class="body">dcskm4200,<br /><br />The rest of your code looks OK, A timer, TextOut() etc ... but I am not sure what you want to do in terms of rotation. If its characters in the string that TextOut() displays its string manipulation before the TextOut call ?<br /><br />Tell us a bit more and someone may be able to help you.<br /><br />Regards,<br /><br />hutch at movsd dot com</div>
    <div class="meta">Posted on 2005-06-08 01:36:17 by hutch--</div>
   </div>
   <div class="post" id="post-160898">
    <div class="subject"><a href="#post-160898">Re: rotate a char</a></div>
    <div class="body">hello,Hutch--<br /><br />someone told me That is impossible to do it with win32asm. I don&#39;t believe that. so i&#39;m trying.<br /><br />regards<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=674" target="_blank">clock.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-06-08 02:14:29 by dcskm4200</div>
   </div>
   <div class="post" id="post-160899">
    <div class="subject"><a href="#post-160899">Re: rotate a char</a></div>
    <div class="body">Its a great effect but it will be no joy to do in binary. I would be looking at a back buffer placing the characters individually at their required location then blitting the result onto the part of a wndow you require. The leading and trailing effects of mouse movement are particularly complicated.<br /><br />You could have a look at one of the GDI API functions PolyTextOut() as it may do the task you have in mind.</div>
    <div class="meta">Posted on 2005-06-08 03:13:37 by hutch--</div>
   </div>
   <div class="post" id="post-160900">
    <div class="subject"><a href="#post-160900">Re: rotate a char</a></div>
    <div class="body">hi, <strong>dcskm4200 </strong><br />nice to meet you ;)<br /><br />well, why do you want to rotate text while in the script text is not rotated? you just complicate your work. draw arrows with dots as in the script, or even better - just with lines (with different colours/weights).<br /><br />regards!</div>
    <div class="meta">Posted on 2005-06-08 03:37:51 by Shoo</div>
   </div>
   <div class="post" id="post-160901">
    <div class="subject"><a href="#post-160901">Re: rotate a char</a></div>
    <div class="body">hello,Hutch--<br /><br />thanks you for guiding me.<br />tonight, I&#39;ll try to use the method that you taught me.<br /><div class="quote">&quot;The leading and trailing effects of mouse movement are particularly complicated&quot;. </div> <br />it has been finished.<br />;=================================<br />hello,Shoo.<br /><br />I&#39;m very glad to meet you here. the world is becoming smaller and smaller. as an our proverb said, if I did not see you on looking up, then i&#39;ll see you on looking down.<br /><br />i&#39;v never forgotten the method how found a error. That is it which you taught me.<br />until now, I&#39;v not found the best effect how moving a char. i think your method is better. But I don&#39;t know how to complete. give me a example.<br />;=================================<br /><br />regards<br /></div>
    <div class="meta">Posted on 2005-06-08 04:40:32 by dcskm4200</div>
   </div>
   <div class="post" id="post-160902">
    <div class="subject"><a href="#post-160902">Re: rotate a char</a></div>
    <div class="body">ok, i&#39;ll try to find time to this... but you forgot to post the proverb in original look also ;)<br /><br />regards!</div>
    <div class="meta">Posted on 2005-06-08 04:52:41 by Shoo</div>
   </div>
   <div class="post" id="post-160908">
    <div class="subject"><a href="#post-160908">Re: rotate a char</a></div>
    <div class="body">hello,Hutch--<br /><br />;========================<br />	invoke&nbsp; lstrlen, ADDR szaString<br />	mov polytext.n,eax<br />	m2m polytext.x,dwAngle<br />	mov polytext.y,40<br />	mov polytext.lpStr,offset szaString<br />	mov polytext.uiFlags,ETO_OPAQUE	<br />	mov polytext.pdx,12<br />	mov polytext.icl.right,120<br />	mov polytext.icl.left,30<br />	mov polytext.icl.bottom,130<br />	mov polytext.icl.top,40	<br /><br />	invoke PolyTextOut,hdc,addr polytext,SIZEOF polytext<br />	;invoke&nbsp; TextOut, hdc, 270,270, ADDR szaString, eax<br />	invoke&nbsp; DeleteObject, hOFont<br />	add dwAngle,100<br /><br />;========================<br />Nothing did happen.<br /><br />give me a example about how to use PolyTextOut.<br /><br />regards</div>
    <div class="meta">Posted on 2005-06-08 07:35:43 by dcskm4200</div>
   </div>
   <div class="post" id="post-160941">
    <div class="subject"><a href="#post-160941">Re: rotate a char</a></div>
    <div class="body">hello,all who are interesting the topic.<br /><br />why the piece of code can&#39;t execute?<br />;=====================<br /><strong>.if eax &lt;= 0<br />	mov yAddFlag,FALSE<br />.endif</strong><br />;=====================<br /><br />regards.<br /><br /><div class="quote"><br />;@echo off<br />;goto make<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.386<br />.Model Flat, StdCall<br />Option Casemap :None<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include&nbsp; \masm32\include\windows.inc<br />include&nbsp; \masm32\include\user32.inc<br />include&nbsp; \masm32\include\gdi32.inc<br />include&nbsp; \masm32\include\kernel32.inc<br /><br />includelib&nbsp; \masm32\lib\user32.lib<br />includelib&nbsp; \masm32\lib\gdi32.lib<br />includelib&nbsp; \masm32\lib\kernel32.lib<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />m2m macro p1, p2<br />	push p2<br />	pop p1<br />endm<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.code<br />WindowsName&nbsp; &nbsp;  db&nbsp; &nbsp; &nbsp; &quot;char moving...&quot;,0<br />MainClassName&nbsp;  db&nbsp; &nbsp; &nbsp; &quot;WinASM_Class&quot;,0<br />FontName&nbsp; &nbsp; &nbsp; &nbsp; db&nbsp; &nbsp; &nbsp; &quot;Times New Roman&quot;,0<br />format		db	&quot;Source(x=%d,y=%d)--&gt;Destination(x=%d,y=%d)&quot;,0<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.data?<br />hwnd		dd&nbsp; &nbsp; &nbsp; ?<br />hInstance&nbsp; &nbsp; &nbsp;  dd&nbsp; &nbsp; &nbsp; ?<br />msg&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  MSG	&lt;?&gt;&nbsp; &nbsp;  <br /><br />MyFont&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dd&nbsp; &nbsp; &nbsp; ?<br />xStep		dd&nbsp; &nbsp; &nbsp; ?<br />yStep		dd&nbsp; &nbsp; &nbsp; ?<br />BitWidth&nbsp; &nbsp; &nbsp; &nbsp; dd&nbsp; &nbsp; &nbsp; ?<br />ByBkBrush&nbsp; &nbsp; &nbsp;  dd&nbsp; &nbsp; &nbsp; ?<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />.code<br />TestText	db&nbsp; &nbsp; &nbsp; &quot;This is a Moving String.&quot;,0<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />WinMain proc <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />	local&nbsp;  @rect1:RECT,@rect2:RECT<br />&nbsp; &nbsp; &nbsp; &nbsp; local&nbsp;  @wc:WNDCLASSEX<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />	invoke&nbsp; RtlZeroMemory,addr @wc,sizeof @wc<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.cbSize,sizeof WNDCLASSEX<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.style,CS_HREDRAW or CS_VREDRAW or CS_BYTEALIGNWINDOW<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.lpfnWndProc,offset WndProc<br />&nbsp; &nbsp; &nbsp; &nbsp; push&nbsp; &nbsp; hInstance<br />&nbsp; &nbsp; &nbsp; &nbsp; pop&nbsp; &nbsp;  @wc.hInstance<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.hbrBackground,COLOR_BTNFACE+1<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.lpszMenuName,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.lpszClassName,offset MainClassName<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; LoadIcon,hInstance,IDI_APPLICATION<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.hIcon,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; LoadCursor,NULL,IDC_ARROW<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  @wc.hCursor,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; RegisterClassEx,addr @wc<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; CreateWindowEx,NULL,addr MainClassName,addr WindowsName,\<br />		WS_CAPTION OR WS_SYSMENU OR WS_MINIMIZEBOX or WS_VISIBLE,\<br />		CW_USEDEFAULT,CW_USEDEFAULT,500,300,NULL,NULL,hInstance,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  hwnd,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; UpdateWindow,hwnd<br />	.WHILE TRUE<br />		INVOKE GetMessage, ADDR msg,NULL,0,0<br />		.BREAK .IF (!eax)<br />		INVOKE TranslateMessage, ADDR msg<br />		INVOKE DispatchMessage, ADDR msg<br />	.ENDW<br />	mov&nbsp; &nbsp;  eax,msg.wParam<br />&nbsp; &nbsp; &nbsp; &nbsp; ret<br />WinMain endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />WndProc proc uses ecx edx hWnd:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br />&nbsp; &nbsp; &nbsp; &nbsp; local&nbsp;  @rect:RECT<br />&nbsp; &nbsp; &nbsp; &nbsp; local&nbsp;  @hDc,@hBmp<br />&nbsp; &nbsp; &nbsp; &nbsp; local&nbsp;  @ps:PAINTSTRUCT<br />	LOCAL&nbsp;  CharBuf,x10,y10:dword<br />	LOCAL&nbsp;  xAddFlag,yAddFlag:BOOL<br /><br />	.if uMsg == WM_CREATE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov xStep,0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov yStep,0<br />		mov xAddFlag,0<br />		mov yAddFlag,0<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; GetSysColorBrush,COLOR_BTNFACE<br />		;function retrieves a handle identifying a logical <br />		;brush that corresponds to the specified color index.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  ByBkBrush,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; SetTimer,hWnd,1000,30,NULL<br />	.elseif uMsg==WM_PAINT<br /><br />		invoke GlobalAlloc,GPTR,128<br />		mov CharBuf,eax<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; CreateFont,24,0,0,0,0,0,0,0,ANSI_CHARSET,\<br />			OUT_DEFAULT_PRECIS,CLIP_DEFAULT_PRECIS,DEFAULT_QUALITY,\<br />			DEFAULT_PITCH or FF_SCRIPT,offset FontName<br />		;function creates a logical font that has specific characteristics. <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  MyFont,eax<br />		invoke&nbsp; BeginPaint,hWnd,addr @ps<br />		invoke&nbsp; GetClientRect,hWnd,addr @rect<br />		m2m x10,@rect.right<br />		m2m y10,@rect.bottom<br />		;function retrieves the coordinates of a window&#39;s client area.<br />		invoke&nbsp; CreateCompatibleDC,@ps.hdc<br />		;function creates a memory device context (DC) compatible with the specified device. <br />		mov&nbsp; &nbsp;  @hDc,eax<br />		invoke&nbsp; CreateCompatibleBitmap,@ps.hdc,@rect.right,@rect.bottom<br />		;function creates a bitmap compatible with the device that is <br />		;associated with the specified device context. <br />		mov&nbsp; &nbsp;  @hBmp,eax<br />		invoke&nbsp; SelectObject,@hDc,eax<br />		invoke&nbsp; FillRect,@hDc,addr @rect,ByBkBrush<br />		;function fills a rectangle by using the specified brush. <br />		invoke&nbsp; SelectObject,@hDc,MyFont<br />		invoke&nbsp; SetBkMode,@hDc,TRANSPARENT<br />		invoke&nbsp; GetTabbedTextExtent,@hDc,addr TestText,sizeof TestText - 1,NULL,0<br />		;function computes the width and height of a character string. <br /><br />		mov eax,xStep<br />		.if eax &gt;= x10<br />			mov xStep,0<br />		.endif<br />		mov eax,yStep<br />		.if eax &gt;= y10<br />			mov yAddFlag,TRUE<br />		.endif<br />		.if eax &lt;= 0<br />			mov yAddFlag,FALSE<br />		.endif<br /><br />		m2m&nbsp; &nbsp;  @rect.left,xStep<br />		m2m	@rect.top,yStep<br />		<br />		invoke&nbsp; DrawText,@hDc,addr TestText,-1,addr @rect,DT_SINGLELINE<br />		;function draws formatted text in the specified rectangle.<br />		<br />		invoke wsprintf,CharBuf,offset format,@rect.left,@rect.top,@rect.right,@rect.bottom<br />		invoke SetWindowText,hWnd,CharBuf<br />		invoke GlobalFree,CharBuf<br /><br /><br />		invoke&nbsp; BitBlt,@ps.hdc,0,0,@rect.right,@rect.bottom,@hDc,0,0,SRCCOPY<br />		; function performs a bit-block transfer of the color data corresponding <br />		; to a rectangle of pixels from the specified source device context into <br />		; a destination device context. <br />		invoke&nbsp; DeleteDC,@hDc<br />		invoke&nbsp; DeleteObject,@hBmp<br />		invoke&nbsp; EndPaint,hWnd,addr @ps<br /><br />	.elseif	uMsg ==	WM_TIMER&nbsp; <br />		<br />		inc&nbsp; xStep<br />		;inc&nbsp; yStep<br /><br />		.if yAddFlag == FALSE<br />			inc yStep<br />		.else<br />			dec yStep<br />		.endif<br />	<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; InvalidateRect,hWnd,0,0<br />		;function adds a rectangle to the specified window&#39;s update region. The update<br />		;region represents the portion of the window&#39;s client area that must be redrawn. <br />	.ELSEIF uMsg==WM_DESTROY<br />		invoke PostQuitMessage,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; .ELSE<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke DefWindowProc,hWnd,uMsg,wParam,lParam<br />		ret<br />	.ENDIF<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; xor&nbsp; &nbsp; eax,eax<br />	ret<br /><br />WndProc endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />start:<br />	invoke&nbsp; GetModuleHandle,NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; mov&nbsp; &nbsp;  hInstance,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; WinMain<br />&nbsp; &nbsp; &nbsp; &nbsp; invoke&nbsp; ExitProcess,eax<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />end start<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />:make<br />set name=charmov_4<br /><br />&nbsp; &nbsp; \masm32\bin\ml /c /coff %name%.bat<br />&nbsp; &nbsp; \masm32\bin\Link /subsystem:windows %name%.obj<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if exist *.bak del *.bak<br />&nbsp; &nbsp; if exist *.obj del *.obj<br />echo.<br /></div></div>
    <div class="meta">Posted on 2005-06-09 07:35:30 by dcskm4200</div>
   </div>
   <div class="post" id="post-160948">
    <div class="subject"><a href="#post-160948">Re: rotate a char</a></div>
    <div class="body">hi!<br />1.there unsigned comparison used: in this there is no any number less then zero. you can use this:<br /><pre><code><br />&nbsp; &nbsp; cmp eax,0&nbsp; <br />&nbsp; &nbsp; jg @F<br />&nbsp; &nbsp; mov yAddFlag,FALSE<br />@@:&nbsp;  <br /></code></pre><br />2.also look for x!<br />3.you should not make your flags xAddFlag and yAddFlag as local vars: you see them in one procedure, they are created uninitialized each call of window proc: one time to wm_paint and absolutely another time for wm_timer... if you will make these changes into your source, your text string will float and jump out from borders.<br /><br />regards!<br /></div>
    <div class="meta">Posted on 2005-06-09 09:00:06 by Shoo</div>
   </div>
   <div class="post" id="post-160950">
    <div class="subject"><a href="#post-160950">Re: rotate a char</a></div>
    <div class="body">Hello,Shoo.<br />That&#39;s all.<br />Thanks you very much.<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=676" target="_blank">charmov_4.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-06-09 09:16:43 by dcskm4200</div>
   </div>
   <div class="post" id="post-160953">
    <div class="subject"><a href="#post-160953">Re: rotate a char</a></div>
    <div class="body">since i&#39;m here, a question:<br />you said you wish draw your clock using desktop, not separate window. in this i think just draw letters is not a good idea, because desktop is not one-coloured usually, and separate letters will not look good on it. it would be better to have table of ready bitmap circles with letters/numbers inside and jongle with them - it will be and simler, and look much better. of cause, differtnt colours may be used with them. regards!</div>
    <div class="meta">Posted on 2005-06-09 09:35:57 by Shoo</div>
   </div>
   <div class="post" id="post-160955">
    <div class="subject"><a href="#post-160955">Re: rotate a char</a></div>
    <div class="body">hello,shoo<br /><br />I agree up to your point. if I want to use the desktop, it is hardly and big work.<br />if some chars with flying as some screwworms are been showed in a window, it is not a better effect. I&#39;ll try. this is an opporunity I&#39;m learning win32asm. <br /><br />;================================================================<br /><br />another question.<br /><br />&nbsp; invoke&nbsp; CreateFont,24,0,x,y,0,0,0,0,ANSI_CHARSET,\<br />	OUT_DEFAULT_PRECIS,CLIP_DEFAULT_PRECIS,DEFAULT_QUALITY,\<br />	DEFAULT_PITCH or FF_SCRIPT,offset FontName<br /><br />why the position which x,y is exist can&#39;t be used a VAR.<br /><br />regards.<br /></div>
    <div class="meta">Posted on 2005-06-09 09:58:43 by dcskm4200</div>
   </div>
   <div class="post" id="post-160966">
    <div class="subject"><a href="#post-160966">Re: rotate a char</a></div>
    <div class="body">Please try to attach large sources of code as a file instead of pasting as a quote, believe me... you will get better responses from people ;)</div>
    <div class="meta">Posted on 2005-06-09 16:41:36 by SpooK</div>
   </div>
   <div class="post" id="post-160968">
    <div class="subject"><a href="#post-160968">Re: rotate a char</a></div>
    <div class="body">Hi! i&#39;m not sure i got what exactly do you mean with your question :( as calling convention they are just two dwords, pushed into the stack, and function does not care where from you got them... also i had look into msdn - it has to be equal to tenths of degrees, thus i do not know, is there valid to use intermediate values and values above 350, but you can control this easy, and try at least. and, finally, there are two modes: GM_COMPATIBLE and GM_ADVANCED. in case of GM_COMPATIBLE or win98 these values have to be equal. is it enough?<br /><br />regards!</div>
    <div class="meta">Posted on 2005-06-10 00:29:13 by Shoo</div>
   </div>
   <div class="post" id="post-160971">
    <div class="subject"><a href="#post-160971">Re: rotate a char</a></div>
    <div class="body">hello,shoo<br /><br />Thanks you.<br /><br />some problems:<br />1. can&#39;t rotate with a point.<br />2. can&#39;t del the finished chars.<br /><br />regards.<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=677" target="_blank">CF_5.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-06-10 01:53:45 by dcskm4200</div>
   </div>
   <div class="post" id="post-160973">
    <div class="subject"><a href="#post-160973">Re: rotate a char</a></div>
    <div class="body">1.what point do you mean?<br />2.you should to or update underlied window(s), either store altered area before placing text and then restore it by your code. second is faster but harder to do. it is a main problem why i had reccomend you to use <em>ready not rotated bitmaps</em> for letters - let they will be something like a bubbles with chars/numbers inside. in the script it was done with layers (i did not investigate it too much) i did not ever such manupulation before so can not even figure how it is better to do, but you are making great steps forward! i&#39;ll look into the source better and will let you know i i&#39;ll find there anything.<br /><br />regards!</div>
    <div class="meta">Posted on 2005-06-10 03:43:48 by Shoo</div>
   </div>
   <div class="post" id="post-160974">
    <div class="subject"><a href="#post-160974">Re: rotate a char</a></div>
    <div class="body">hello,shoo<br /><br />Thanks you for help.<br /><br />&quot; point &quot; is the center of circle.<br />How set a char&#39;s color is an another problem.<br /><br />Look at the exe. I need to set a char&#39;s coordinates as floating point values.<br /><br />regards.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=678" target="_blank">charmov_7.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-06-10 04:05:13 by dcskm4200</div>
   </div>
   <div class="post" id="post-160975">
    <div class="subject"><a href="#post-160975">Re: rotate a char</a></div>
    <div class="body">1.<br /><div class="quote">The SetTextColor function sets the text color for the specified device context to the specified color. <br /><br />COLORREF SetTextColor(<br />&nbsp; HDC hdc,&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  // handle to DC<br />&nbsp; COLORREF crColor&nbsp;  // text color<br />);</div><br /><br />2.why do you need to represent coordinates as float? load them directly from memory into fpu registers and make your calculations... are you free with fpu? it is not too complex in real.<br /><br />regards!</div>
    <div class="meta">Posted on 2005-06-10 05:01:33 by Shoo</div>
   </div>
   <div class="post" id="post-160978">
    <div class="subject"><a href="#post-160978">Re: rotate a char</a></div>
    <div class="body">hello,shoo<br /><br />Thanks you for help.<br /><br />set char&#39;s color is OK now.<br /><div class="quote">why do you need to represent coordinates as float?</div> I want to make the track of moving a char as real a circle.<br /><br />rotating char&#39;s has improved some, almost finished. the source code is mess-up, after i&#39;ll tidy up. share it. here is a exe. <br /><br />problem:<br />1. charmov_7.exe can&#39;t rotate with a point(.), the center of circle is rotating around a smaller circle.<br /><br />regards.<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=681" target="_blank">charmov_8.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-06-10 08:08:38 by dcskm4200</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=21267&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=21267&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="21267" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=21267&amp;page=2">&gt;</a><a href="../?id=21267&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
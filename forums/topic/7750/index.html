<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>DEADCAFE question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7750" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7750">DEADCAFE question</a></p>
   <div class="post" id="post-56236">
    <div class="subject"><a href="#post-56236">DEADCAFE question</a></div>
    <div class="body">Has anyone ever seen this end up in the eax register before?<br /><br />I am doing a vxd to control the serial port with interrupts, and communicating with it from a vb program. The vxd works, and handles the interrupts, and once every 2048 characters received, it sends a _Shell_PostMessage (WM_USER) to the vb program.<br /><br />The vb program gets the WM_USER message in a newwindowproc.  It detects it properly, and then is supposed to send a new deviceIO message to the vxd pointing to a character buffer to copy the input stream too. <br /><br />It never makes it too the vxd, I always get a windows requested break, and eax is loaded with the dword &quot;DEADCAFE&quot;. I know I am sorta cheating since I am notifying the vb program with a WM_USER message, rather than using an event, but it looked like it would work. If I just detect the WM_USER in vb and simply add some text to an edit box saying it got it, it works fine. It only blows up when I try to call back to the vxd from the newwindproc routine.<br /><br />any wild guesses?</div>
    <div class="meta">Posted on 2002-09-05 10:56:07 by sceptor</div>
   </div>
  </div>
 </body>
</html>
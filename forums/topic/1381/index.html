<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>WM_SETICON problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1381" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1381">WM_SETICON problem</a></p>
   <div class="post" id="post-8876">
    <div class="subject"><a href="#post-8876">WM_SETICON problem</a></div>
    <div class="body">Hi there,<br /><br />I am working through Iczelions tut 10-2 and he mentioned that it was posible to set the dialogs titlebar icon using WM_SETICON but whne I tried nothing happens. Below is my code.<br /><br />DlgProc proc hWnd:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br /><br />.IF uMsg==WM_INITDIALOG<br />   invoke SendMessage, hWnd, WM_SETICON, ICON_SMALL, IDC_ARROW<br />   invoke GetDlgItem, hWnd,IDC_EDIT<br />   invoke SetFocus,eax<br />.<br />.<br />.<br /><br />I think this should work, any ideas:confused:<br />Thanks ahead!!</div>
    <div class="meta">Posted on 2001-10-07 16:02:29 by JamesE</div>
   </div>
   <div class="post" id="post-8878">
    <div class="subject"><a href="#post-8878">WM_SETICON problem</a></div>
    <div class="body">First of all, it shouldn't be necessary to manually set focus, when<br />working with dialogs - just play with the taborder... ie, define the<br />control you want to initially have focus first in your .rc file.<br /><br />Next, WM_SETICON want's a handle to an icon. I dunno if IDC_ARROW<br />is accepted as a handle :). Try using LoadIcon first, and pass the<br />return value of that (a handle) in WM_SETICON.</div>
    <div class="meta">Posted on 2001-10-07 16:13:09 by f0dder</div>
   </div>
   <div class="post" id="post-8879">
    <div class="subject"><a href="#post-8879">WM_SETICON problem</a></div>
    <div class="body">Thanks LoadIcon works great!:grin:</div>
    <div class="meta">Posted on 2001-10-07 16:18:56 by JamesE</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Focus on an child Control - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19989" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19989">Focus on an child Control</a></p>
   <div class="post" id="post-153328">
    <div class="subject"><a href="#post-153328">Focus on an child Control</a></div>
    <div class="body">How can I retrieve the handle of the child control whitch have the focus (the caret) ?<br /><br />The GetFocus function return the handle of the main window but not its childs.<br /><br />I can also retrieve the handle of all the childWindows of a specific window with EnumWindowEx function but I don't know whitch one is focused.<br /><br />I tried that but  in some cases that don't work:<br /><br /><pre><code><br />	invoke  GetForegroundWindow<br />	mov hwndActif, eax<br />	invoke GetCursorPos, addr Point<br />	invoke ScreenToClient, hwndActif, addr Point<br />	invoke ChildWindowFromPointEx, hwndActif, Point.x, Point.y, 1<br />	mov hEditActif, eax<br /></code></pre></div>
    <div class="meta">Posted on 2004-11-21 16:47:29 by Morgatte</div>
   </div>
   <div class="post" id="post-153329">
    <div class="subject"><a href="#post-153329">Focus on an child Control</a></div>
    <div class="body"><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/userinput/keyboardinput/keyboardinputreference/keyboardinputmessages/wm_killfocus.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/userinput/keyboardinput/keyboardinputreference/keyboardinputmessages/wm_killfocus.asp</a></div>
    <div class="meta">Posted on 2004-11-21 17:02:41 by ti_mo_n</div>
   </div>
   <div class="post" id="post-153348">
    <div class="subject"><a href="#post-153348">Focus on an child Control</a></div>
    <div class="body">No I can't use a simple WM_KILLFOCUS Message, because It is a Hook. The Childs Controls whose I try to retrieve there handles aren't in my own process but into others programmes.</div>
    <div class="meta">Posted on 2004-11-22 04:21:52 by Morgatte</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Who is preemptive ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1327" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1327">Who is preemptive ?</a></p>
   <div class="post" id="post-8529">
    <div class="subject"><a href="#post-8529">Who is preemptive ?</a></div>
    <div class="body">Hi fellows outta there !! I have a big question, but I'll be happy with a short answer, or if ya have time with a long one.<br />Ok, I know Windows is a &quot;Preemptive OS&quot; yeah, also Multitasking, Multithreading and that. Now I'm curious about one thing: if I'm executing an operation that keeps the processor busy all the time, for example if a place a code like this one:<br /><br />SARAZA:		JMP	SARAZA<br /><br />Ok, in the old good DOS days, that made the processor stay busy forever and neither the mouse or anything will respond whatsoever... So, how does Windows manages this kindda code ? Who is the one that interrupt my code and let the mouse keep moving ? So if he can do that, maybe my code is not executing realtime ... I mean, I understand why it happens, but I don't understand technically how Windows can interrupt my &quot;hanged&quot; process and let everything work like nothing is happening ... How does it do that ?<br />If u don't know the answer, but u know a place or a link that explains this in detail, you'll make me happy... If not, I'll be happy anyway, I can leave without it... :)<br /><br />				Thanks a lot.<br /><br /><br />					-MagicMac. :)</div>
    <div class="meta">Posted on 2001-10-02 20:47:12 by magicmac</div>
   </div>
   <div class="post" id="post-8531">
    <div class="subject"><a href="#post-8531">Who is preemptive ?</a></div>
    <div class="body">magicmac,<br /><br />In windows OS's there are 2 variations, software and hardware. The old win 3.? was a &quot;co-operative&quot; multitasking system that was simulated in software where the later systems are &quot;preemptive&quot; multitasking that uses the capacity of the processors to perform multitasking. Hardware based is a lot faster and smoother.<br /><br />Now with your code example,<br /><br />label:<br />jmp label<br /><br />you will lock the &quot;process&quot; that it is in but the OS still can close it down. There are of course many &quot;creative&quot; ways of crashing the OS as well. The later versions seem to be a lot more robust but they generally can be crashed as well.<br /><br />Regards,<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-10-02 20:57:29 by hutch--</div>
   </div>
   <div class="post" id="post-8534">
    <div class="subject"><a href="#post-8534">Who is preemptive ?</a></div>
    <div class="body">It's all really simple, mac :). The PC system has a set of hardware<br />interrupts, including a <strong>hardware timer</strong>: the Programmable<br />Interrupt Timer, or The PIT. This can be programmed for varying<br />accuracy... I believe it has a 16.something megahertz clock, so you<br />can get quite a lot of updates per second if you want to. This timer<br />is used (among other things) to activate the windows scheduler.<br /><br />The older cooperative versions of windows could only do scheduling<br />at various points, like Yield(), GetMessage() and (iirc) PeekMessage().<br />Perhaps there were others, but that's not as important as the general<br />idea of only having certain &quot;scheduling points&quot;. Actually it was a<br />mixed system, I believe there was some preemptiveness going on<br />among VMs, but the details are escaping me at the moment.<br /><br />Hutch, you code doesn't lock the whole process, only the thread :).</div>
    <div class="meta">Posted on 2001-10-02 21:16:23 by f0dder</div>
   </div>
   <div class="post" id="post-8542">
    <div class="subject"><a href="#post-8542">Thanx again ...</a></div>
    <div class="body">Thank you both, guys ... :) Hey !! You are always replying my messages ... Thanks for sharing your knowledge ....<br />I'm reading the Book Programming Applications for M$ Windows -Jeffrey Ritcher- that's a very good one, the problem is that in the Multithreading chapters is always talking about how Windows handles everything but -at least yet- he didn't mention the processor or the PIT or the Hardware Timer ... So I wanted to know how Windows does that ...<br /><br /><br />                         Thanks again :)<br /><br /><br />                                                                   -MagicMac.</div>
    <div class="meta">Posted on 2001-10-02 23:03:18 by magicmac</div>
   </div>
   <div class="post" id="post-8553">
    <div class="subject"><a href="#post-8553">Who is preemptive ?</a></div>
    <div class="body">f0dder,<br /><br />=================<br />Hutch, you code doesn't lock the whole process, only the thread.<br />=================<br /><br />Most processes only have  single thread. :)<br /><br />Regards,<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-10-03 03:12:26 by hutch--</div>
   </div>
   <div class="post" id="post-8577">
    <div class="subject"><a href="#post-8577">Funny example...</a></div>
    <div class="body">Try assembling this into a com file:<br /><br />again:<br />cli<br />jmp again<br /><br />Make sure you save your work!!!!!!!!!! I'm not responsible for any lost data etc.<br /><br />(only runs on win98/95 though!)</div>
    <div class="meta">Posted on 2001-10-03 10:39:43 by Qweerdy</div>
   </div>
   <div class="post" id="post-8578">
    <div class="subject"><a href="#post-8578">Who is preemptive ?</a></div>
    <div class="body">... and that works because win9x doesn't virtualize the flags properly.<br />Stupid win9x.</div>
    <div class="meta">Posted on 2001-10-03 10:44:25 by f0dder</div>
   </div>
  </div>
 </body>
</html>
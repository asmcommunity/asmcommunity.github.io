<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Some answers for &lt;etn&gt; about SolOS - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15089" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=15089">Some answers for &lt;etn&gt; about SolOS</a></p>
   <div class="post" id="post-117243">
    <div class="subject"><a href="#post-117243">Some answers for &lt;etn&gt; about SolOS</a></div>
    <div class="body">Hi etn,<br /><br />Sorry for my delayed answers to your questions, as always i was kind of busy. If you have more questions i suggest either posting them here under OS construction forum or going to the SolarOS message board here:<br /><br /><a target="_blank" href="http://www.hostileencounter.com/phpbb2/index.php">http://www.hostileencounter.com/phpbb2/index.php</a><br /><br />I somehow consider your Questions too big to beanswered on private messages.<br /><br />That is the trick with messageboards : other people can also read your questions and my answers and learn from them<br /><br />So i would like to get your questions and place them on solar os board and answer them there :) I hope you do not mind? This way we can continue talks about SolarOS and other operating questions there...<br /><br />On the other hand we could keep the discussions here even if it is SolOS related, and this way ppl will not have to navigate 10 messageboards every day :P ... But since i do not know yet what you preffer i will answer them here first because discussions started here<br /><br />Now that was a long introduction :)<br /><br /><div class="quote"><br />etn wrote on September 6th, 2003 06:53 PM:<br />Hi!<br />Would you mind to suggest you some little changes to your Sol Os?<br />Youanswer qword ??<br />testingNO qword 0x00000000<br />NO qword 0x00000000<br />YES qword 0x00000001<br />CALL QuestionProcedure<br />Mov eax,qword ptr your_answer<br />Cmp testingNO,eax<br />Jz Readme:<br />CALL EndingProcedure(Exit)<br /></div><br /><br />I guess above was a kind of a joke :)<br /><br /><div class="quote"><br />Readme:<br /><br />I suggest you to throw away the procedure you have to pressing alt+3 to switch the mouse_IO_ruotine to PS/2 port. This is not breakthrough idea but more useful. The solution is switching a few time per second all routines you made and the first movement of the mouse arrow set a constant right port for this log_session. I don??t suppose that users will want to change type of mouse port (between com and PS/2) when the system is working properly.<br /></div><br /><br />But i have a  a laptop -- HP Omnibook 800 -- that does just that== uses both PS/2 mouse and Serial COM1 mouse in the same time (PS/2 is its internal mouse while COM1 is my preffered external mouse)<br /><br />But indeed i agree, that thing is obsolette and should be removed in next versions. <br />It originated from 2 problems:<br />1) Hawk did not have a mouse at all on its test system and PS/2 driver probing used to hang its system<br />2) Sometimes in rare cases my PS/2 driver did not initializes corectly and requires a seccond or third press of Alt+3 to init corectly ...<br /><br />When those 2 issues will be solved i will remove the Alt+3 thingy :D<br /><br />The first will be resolved with a Control Panner of some sort for hardware devices present and more inteligent probing routines.. aka that will not hang on no devices<br /><br />The seccond problem is just debugging and more testing<br /><br /><div class="quote"><br />Second observation I made is main menu. When user makes a window over the main menu, he can not move it no more because the main menu??s area has higher priority than every windows so clicking at the area will invoke not the window but one of main menu??s actions.<br />You know solution so I have no to write about it;)<br /></div><br /><br />Yeah? well i will surely want to hear it . i was trying to avoid using an &quot;Start Menu&quot;...<br />I was thinking to hide the buttons, etc doh many solutions indeed.<br /><br />I have not decided yet what form of Main menu is the most easy and ergonomic<br />Maybe you have some ideeas<br /><br /><div class="quote"><br />Third ?K will be nice to have possibility to set resolution and refreshing screen as the user want and his monitor can ??, but that point is not so important like the Two above.<br /></div><br /><br />I fully agree<br /><br /><div class="quote"><br />Other things:<br />Your activity motivate me to do some vesa2-compatibile self-booting vector animation in protected mode just for fun??.<br />Best regards masta!<br /></div><br />Cool but who the **** is masta :-? (surely not me)<br /><br /><div class="quote"><br />Ups?KI forgot something<br />Have a Q:<br />Is yours keyboard-routine dependent on bios ?<br /></div><br /><br />Nope my keyboard  routine is direct acces driver (IRQ1 with its own queue) independent of BIOS<br /><br />Best regards to you also</div>
    <div class="meta">Posted on 2003-09-06 12:39:34 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-117245">
    <div class="subject"><a href="#post-117245">Some other questions</a></div>
    <div class="body"><div class="quote"><br /><br />Hello Bogdan!<br /><br />I visited Your website :<br /><a target="_blank" href="http://www.hostileencounter.com/sol_os/index.html">http://www.hostileencounter.com/sol_os/index.html</a><br />I would like to know a few aspect of your OS.<br />It may fill the hole of my knowledge (or ignorance) how Os'es truly work.<br /><br />The system i pretty smart an likes me.<br />Especially the guidelines are admirable.<br />_______________________________________________<br />How can I do any programm for the SolarOs(I'v seen API-nice...?<br />How rawrite works? I mean what the programm do with raw bin code? How bios strats the code after boot operation?<br />_______________________________________________<br /><br /></div><br /><br />I doubt system likes anybody, it is not that advanced yet ... but you can dream ;)<br /><br />1) How do i do any program for SolarOS<br />-- ---------------------------------------------------<br />There are some examples included with source code. <br />Basically and for now you have to compile your application with the whole OS -- aka &quot;embedded&quot; style --<br />I advise you to keep your app in a separated ASM file and and include it as all other sample i have done . of course you should provide a way to start your app also like a system menu or an Alt+key combination. <br /><br />For testing i gues you could replace or parasite one of the samples provided<br /><br />When i will finish the HDD drivers you might load it from there as an external program... but unfortunately not now.<br /><br /><br />2)How rawrite works?<br />--------------------------------<br />Basically it will get a BINARY file and place it on a floppy disk in RAW format. <br />That is: sector after sector, side after side and track after track, ignoring any FAT12 or other fancy filesystems.<br />AFAIK it uses BIOS int13h to do that. So os8.bin will end up lineary placed from start of floppy disk.<br /><br />3)How BIOS starts the code after boot operation<br />----------------------------------------------------------------<br />It loads first sector from fdd at 0000:7C00 and jumps to it. That is my boot.asm code, it will load all rest of os8.bin after itself in RAM and than it will jump to system16 start point. <br />System16 presents a menu, setups some hardware (VESA, gets RAM size) setups GDT and then jumps to protected mode in System32.asm<br /><br />System32.asm will setup IDT and enable IRQ0,IRQ1 and eventually IRQ6 for FDD and IRQ12 for PS/2 mouse or IRQ3/4 for COM1/COM2 mouse. (COM mouse drivers are not yet finished, neitehr IRQ14/15 HDD drivers)<br /><br />If all is ok system32 will create the desktop and the main menu windows and it will enter the main OS loop that will dispatch messages from mouse/keyboard queues to Desktop and from here hierarhically too all windows.<br /><br />Well ask more if interested about more detailed internal operations<br /><br />GUI32 operations are a little bit more complex.</div>
    <div class="meta">Posted on 2003-09-06 12:57:49 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-117293">
    <div class="subject"><a href="#post-117293">Some answers for &lt;etn&gt; about SolOS</a></div>
    <div class="body">Bogdan's words:<br /><div class="quote">Cool but who the **** is masta :-? (surely not me)</div> <br /><br /><br />if you know such program as revelation.exe (link is prohibited because it brakes policy- no link to hacker's site)<br />I want to inform you : I used it for showing this word you had write in possword mode: ****<br /><br />this word starts on an F and end on a K...<br />I suggest you to improve the coding algorithm.<br />It is awkward to write anything that way because not all fellows in this forum are of age.<br /><br />Now Bogdan's turn:<br /><div class="quote">Yeah? well i will surely want to hear it . i was trying to avoid using an &quot;Start Menu&quot;...<br />I was thinking to hide the buttons, etc doh many solutions indeed.<br /><br />I have not decided yet what form of Main menu is the most easy and ergonomic<br />Maybe you have some ideeas</div><br /><br />Good question ...<br />hm...<br />If I will build such a little beauty like the  SOL OS, a start menu will not take place in a warking space:) .<br />I think is a good idea to solve the problem by two ways and both of them in the same code.<br /><br />First of all some facts abaut OSes which everybody know , everybody know...<br /><br />Windows' start menu -not good because:<br />star bar blocks out a pice of working area in the desktop.<br />If it has enable set auto-hide mode (I hate this mode) and if you are useing GDI mode app, the start-bar pops in unexpected moment when the snake should to eat an apple or the sapper has to defuse a mine back home safe and sound instead of game over. This kind of accident is cause when the arrow is bottom of the desktop.<br />I use another shell than explorer so it is not my problem.<br /><br />Linux' KDE- not good but not o bad like in above<br />KDE is more comfortable and flexible than WinGUI but less efficiet and much slower.<br /><br />One way (ticket):<br />background is the &quot;0&quot; DeviceContext or any kind of handle and other windows have own unique DC or Id-hanlde.<br />Right_mouse_button can activate the main-menu only when the arrow is over area which has the &quot;0&quot; DC.<br /><br />I think your mind gives you disagreement for my idea (I agree with your mind), because<br />what will hapens when any app i fullscreen?<br />hmm...there is no a piece of desktop area to find out DC &quot;0&quot; to press mouse right button...<br />I say: minimize it ,I mean the all fullscreen opened apps.<br />But if I have so many fullscreen apps opened....I must minimize all of them... so many time it takes..so many click I have to click...my GOD...it is terrible solution...I have no patience enough to use such a system.<br />the Second way (return ticket:to agree with me;)) is to use previous trick supported by the hot-keys like ctrl-alt-del<br />---------------------------------------------<br />The both method are combination windows task_manager's routine (hot_keys) and desktop_properties (right_mouse_button).<br /><br />advantage: the main menu does not take place at the working space and does not disturb you when you are bringing neaer hidden strart menu area.<br /><br />I want to sleep now,bye<br />It is 4:03 AM on my watch/Warsaw Poland<br /><br /><br />add to above:<br />left corner of a bar belongs to any window (you will open in your system), should to have small symbol which means minimize to icon.<br />That is absolutely important because in my solution there is no place to group minimized aplications.<br />The minimized icons should be different than shortcut icons or files icons to have we awareness what is going on and what aplications are opened.The difference may be other colour or size of icons belongs to opened apps compare to another types of icons.<br /><br />that's all folks ;)</div>
    <div class="meta">Posted on 2003-09-06 20:54:07 by etn</div>
   </div>
   <div class="post" id="post-117428">
    <div class="subject"><a href="#post-117428">Some answers for &lt;etn&gt; about SolOS</a></div>
    <div class="body">time to change ,edit or overwrite my previous post has expired so I do what I do...<br /><br />Another Question:<br /><br />-----------------------------------------------------------------<br />Can I load Sol OS by LILO or any other loader?<br /><br />I suppose NO, because there are two binary files -&gt;asm16 and asm32.<br /><br />I hope I am wrong and this will be possible...<br />-----------------------------------------------------------------</div>
    <div class="meta">Posted on 2003-09-08 08:30:34 by etn</div>
   </div>
   <div class="post" id="post-117433">
    <div class="subject"><a href="#post-117433">Some answers for &lt;etn&gt; about SolOS</a></div>
    <div class="body">Well there is only one file for the whole OS == os8.bin file for now.<br /><br />If LILO can load this file at 0000:7C00 in memory and jump execute it from there then you should be able to use it , also maybe  XOSL or GRUB can do it... anyway i intend to make SolOS bootable form HDD soon</div>
    <div class="meta">Posted on 2003-09-08 09:45:05 by BogdanOntanu</div>
   </div>
  </div>
 </body>
</html>
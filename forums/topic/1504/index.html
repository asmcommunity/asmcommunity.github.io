<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Beginner: Interaction methods between VxD and WIN32 App? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1504" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1504">Beginner: Interaction methods between VxD and WIN32 App?</a></p>
   <div class="post" id="post-9698">
    <div class="subject"><a href="#post-9698">Beginner: Interaction methods between VxD and WIN32 App?</a></div>
    <div class="body">Hi folks,<br /><br />I am a newbie in VxD programming (winMe/win95). I got the problem with debugging VxD, and want to know how to exchange data between VxD and Win32 App. Could you give me some hints? ( i.e. I hook a win32 App proc to a VxD service)<br /><br />I now use DeviceIOControl to transfer data to/from VxD service.<br />But it's tedious and I wanna sth direct and quick. Here is my idea:<br />1)  Use TCB (Thread Control Block) client register image to access<br />   register content. But I don't know if the register value is kept<br />   unchanged as that set by VxD service? And, could you give me<br />   the definition of client register structure in TCB? (I can't find it<br />   in 98DDK)<br /><br />2) Use VM control block. But I doubt VMcb client register image is<br />   only updated when thread is blocked by interruptes.<br /><br />3) Use _HeapAllocate to get a system memory block and return<br />    the pointer back to win32 app? Can win32 App access sys<br />    memory?<br /><br />By the way, Could anyone tell me if it's OK to create a window in VxD code? and how to print out a text string in ASM?<br /><br />Debugging VxD makes me headache, I know Debug_Query system message. But again, can somebody show me how to send it?<br /><br />Any nudge is warmly welcomed and Sample Code/URL is hghly appreciated!<br /><br /> -Dickson</div>
    <div class="meta">Posted on 2001-10-18 14:36:46 by Dickson96</div>
   </div>
  </div>
 </body>
</html>
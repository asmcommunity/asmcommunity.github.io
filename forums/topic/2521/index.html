<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Um... weird question I think ;) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2521" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=2521">Um... weird question I think ;)</a></p>
   <div class="post" id="post-15894">
    <div class="subject"><a href="#post-15894">Um... weird question I think ;)</a></div>
    <div class="body">Ok guys,<br /><br />Im writing a game programming library as DLLs. I would like to be able to call functions from the EXE in my DLL. Its only for simplification for the newbie programming that might use my DLL :). Have a function named &quot;Blah&quot; and the dll will use it just like it was its own.<br /><br />Anyway.. I was thinking if I could some how get my DLL to call a virtual function by getting the proc address of a function in the EXE with GetProcAddress, it would work.<br /><br />But I dont know exactly how to do that and if that is even the correct way.<br /><br />Any help would be wonderful. This seems like a reverse plugin architecture doesnt it? hehe<br /><br />Torch</div>
    <div class="meta">Posted on 2001-12-23 11:47:58 by Torch</div>
   </div>
   <div class="post" id="post-15901">
    <div class="subject"><a href="#post-15901">Yup</a></div>
    <div class="body">I looks twisted minded ... :)<br /><br />After all the whole ideea of a DLL is to be called by EXE Applications ... this is the most simple and helpfull thing esp. for newbies....but if you nedd the reverse i recomend using <strong>CallBack's</strong>. <br /><br />I this way the EXE will give you a &quot;safe&quot; procedure addres for you to call</div>
    <div class="meta">Posted on 2001-12-23 12:17:09 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-15905">
    <div class="subject"><a href="#post-15905">Um... weird question I think ;)</a></div>
    <div class="body">The whole thing is this function &quot;Blah&quot; so to speak is called after the Windows message translation and dispatching.<br /><br />The whole point Im trying to do is allow the programmer to call a function to have it set up a window and a message loop and message handling, and then they'd only have to write their program in the &quot;Blah&quot; function.<br /><br />Its for a simple game library ;).<br /><br />So.. how would I set up these callbacks to work right?</div>
    <div class="meta">Posted on 2001-12-23 12:29:44 by Torch</div>
   </div>
   <div class="post" id="post-16011">
    <div class="subject"><a href="#post-16011">Um... weird question I think ;)</a></div>
    <div class="body">Nothing? :(</div>
    <div class="meta">Posted on 2001-12-24 15:44:19 by Torch</div>
   </div>
   <div class="post" id="post-16030">
    <div class="subject"><a href="#post-16030">Um... weird question I think ;)</a></div>
    <div class="body">The simple user of this simple game DLL will have to call a setup function in your DLL first.<br /><br />Guess what? one of the parameters will be the address of the CallBack. <br /><br />He will provide that as &quot;offset My_Game_Main&quot;<br /><br />Then, when the game redraw will start you (aka the DLL) will call this My_Game_Main inside the modifyed message loop (aka on PeekMessage)<br /><br />After all it will run in the space on the EXE, so you only have to care about what registers EXE should preserve<br /><br />PS<br />I moved the thread here</div>
    <div class="meta">Posted on 2001-12-24 22:22:49 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-16838">
    <div class="subject"><a href="#post-16838">Um... weird question I think ;)</a></div>
    <div class="body">I hope this dosen't become the base for ANOTHER solititare.<br />Or mine sweeper....:)<br /><br /><br />Anunitu<br /><br />I wish SOMEONE would do a decent RPG for windows, closest thing I have seen was castle of the winds, and that was a clone of ROGUE<br /><br />Blink Blink Blink, I can see just fine, no no, don't turn off the monitor, OH, I see, it was off for the last 5 minutes</div>
    <div class="meta">Posted on 2001-12-30 16:42:29 by Anunitu</div>
   </div>
   <div class="post" id="post-16894">
    <div class="subject"><a href="#post-16894">Um... weird question I think ;)</a></div>
    <div class="body">Castle of the winds ROCKED - anybody got full version? :-P.<br /><br />If you wanna call .exe function from .dll, callback is the only sane<br />way. Exports from .exe are *not* handled correctly, even if your<br />image has relocation information. On win2k it &quot;sort of&quot; works, on<br />9x it is *totally* b0rked (like everything else). Oh well, PlatformSDK<br />DOES say that you should only use this on exe images to get at<br />their resources...</div>
    <div class="meta">Posted on 2001-12-30 22:52:43 by f0dder</div>
   </div>
  </div>
 </body>
</html>
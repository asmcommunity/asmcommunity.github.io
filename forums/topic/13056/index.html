<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>problem trying to implement &quot;FtoA&quot; - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13056" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13056">problem trying to implement &quot;FtoA&quot;</a></p>
   <div class="post" id="post-101355">
    <div class="subject"><a href="#post-101355">problem trying to implement &quot;FtoA&quot;</a></div>
    <div class="body">hope someone can help me solve this problem,<br />i'm trying to implement a 80 bit ftoa procedure, to get 18 digits<br />in sci format, as for example 1.23000000000000000e+2<br />here's my method:<br />(1) i = int( log10(float) )<br />(2) st0 = (10^(17-i))*float<br />(3) fbstp tword temp<br />(4) convert the bcd number in temp to proper string.<br /><br />my problem is geting the proper power of ten<br />because quite often the result is something like 0.99000000000000000e+1<br />instead of 9.90000000000000000e+0<br /> i'm using PureBasic and inline assembly, hope nobody<br />needs to see the code as it's horrible.<br /><br />thanks</div>
    <div class="meta">Posted on 2003-05-05 17:58:25 by jack</div>
   </div>
   <div class="post" id="post-101386">
    <div class="subject"><a href="#post-101386">problem trying to implement &quot;FtoA&quot;</a></div>
    <div class="body">Have a look at the source code of the FpuFLtoA function of the Fpu library available for download on the MASM32 forum. <br /><br />Just do a search for Fpu library updates on the MASM32 forum for the latest revision.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-05-05 21:11:04 by Raymond</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Uptime? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22159" />
  <link rel="prev" href="../?id=22159&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22159">Uptime?</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=22159&amp;page=1" style="">&laquo;</a><a href="../?id=22159&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22159" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-166800">
    <div class="subject"><a href="#post-166800">Re: Uptime?</a></div>
    <div class="body">QPF and QPC are kernel calls which provide you with a high performance timer (usually ~1 microsecond resolution). To solve your prob to determine system uptime you would<br /><br />&nbsp;  1.&nbsp; read QueryPeformancePCounter once. <br />&nbsp;  2.&nbsp; read QueryPerformanceFrequency<br />&nbsp;  3. Diviide the QPC value by QPF<br /><br />Result is in seconds. Note QPC and QPF are 64 bit values. Rollover shouldn&#39;t occur in your lifetime and those calls are compatible all the way&nbsp; back to Win32S.</div>
    <div class="meta">Posted on 2005-10-09 14:37:53 by alpha</div>
   </div>
   <div class="post" id="post-166803">
    <div class="subject"><a href="#post-166803">Re: Uptime?</a></div>
    <div class="body">oh thanks for you good describing it works now but how do i idiv the two 64 values?</div>
    <div class="meta">Posted on 2005-10-09 14:48:38 by lilljocke</div>
   </div>
   <div class="post" id="post-166804">
    <div class="subject"><a href="#post-166804">Re: Uptime?</a></div>
    <div class="body">Check out&nbsp; http://www.masmforum.com/simple/index.php?topic=770.0 from MASM forum.<br /><br />The attached asm source there should get you started with slight modifications.<br /></div>
    <div class="meta">Posted on 2005-10-09 15:02:28 by alpha</div>
   </div>
   <div class="post" id="post-166805">
    <div class="subject"><a href="#post-166805">Re: Uptime?</a></div>
    <div class="body">lilljocke,<br /><br />The basic assumptions appear to be inappropriate to the task you have in mind. If it is an uptime counter you hardly need high resolution so instead of using a function that is performing time checking at high intervals, why not use the system time and have a look at it one a minute. You have to do some arithmetic from the first sample you take but you don&#39;t have to rely on a single OS based counter if you use the time rater than the system tick count.</div>
    <div class="meta">Posted on 2005-10-09 15:11:11 by hutch--</div>
   </div>
   <div class="post" id="post-166806">
    <div class="subject"><a href="#post-166806">Re: Uptime?</a></div>
    <div class="body">I have tryed to use GetLocalTime and GetSytemTime and compare them but it is hard i think. Do you know how to do it please show me.</div>
    <div class="meta">Posted on 2005-10-09 15:22:56 by lilljocke</div>
   </div>
   <div class="post" id="post-166816">
    <div class="subject"><a href="#post-166816">Re: Uptime?</a></div>
    <div class="body"><div class="quote">I have tryed to use GetLocalTime and GetSytemTime and compare...</div><br /><br />That won&#39;t do what you want to do. That will give you the offset from UTC (GMT) for your timezone.<br /> <br /></div>
    <div class="meta">Posted on 2005-10-09 22:52:48 by Greg</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=22159&amp;page=1" style="">&laquo;</a><a href="../?id=22159&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22159" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Invisible folders? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6820" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6820">Invisible folders?</a></p>
   <div class="post" id="post-49229">
    <div class="subject"><a href="#post-49229">Invisible folders?</a></div>
    <div class="body">I'd like to create a program that completely hides folders from the OS (like Magic Folders). Any ideas on a starting point? Can entries be removed from the FAT table through MASM and then restored? Thanks.</div>
    <div class="meta">Posted on 2002-07-21 19:46:20 by jdd48</div>
   </div>
   <div class="post" id="post-49230">
    <div class="subject"><a href="#post-49230">Invisible folders?</a></div>
    <div class="body">Yes, an extremely dangerous way of doing so as those &quot;clusters&quot; can and will be used if they are not set as used already. The best way to do such a thing is to edit the way the GUI displays folders/files. You would have to intercept the GUI and &quot;inject&quot; a list of the folders you do not want shown; that itself would take something similiar to an organized database to run.</div>
    <div class="meta">Posted on 2002-07-21 20:24:54 by SpooK</div>
   </div>
   <div class="post" id="post-49238">
    <div class="subject"><a href="#post-49238">Invisible folders?</a></div>
    <div class="body">A good starting point would be to read this....<br /><a target="_blank" href="http://www.microsoft.com/hwdev/download/hardware/FATGEN103.pdf">http://www.microsoft.com/hwdev/download/hardware/FATGEN103.pdf</a><br /><br />You could leave the clusters marked in the FAT table so they don't get written over, but remove the directory info.... Though I'm not sure defraging would be a good idea after doing so...<br /><br />But you could probaly come up with more ideas on the subject by carefully messing with the file system on a floppy disk using debug....  Just don't rush to try it on the hd you're using :)</div>
    <div class="meta">Posted on 2002-07-21 22:19:08 by Soul~Drudge</div>
   </div>
   <div class="post" id="post-49240">
    <div class="subject"><a href="#post-49240">Invisible folders?</a></div>
    <div class="body">I am sure there is an easier and much less dangerous way. For example, globally hooking <strong><u>FindFirstFile</u></strong> and <strong><u>FindNextFile</u></strong> could be a start.</div>
    <div class="meta">Posted on 2002-07-21 22:22:11 by comrade</div>
   </div>
   <div class="post" id="post-49248">
    <div class="subject"><a href="#post-49248">Invisible folders?</a></div>
    <div class="body">The cleanest+most powerful way is probably some filesystem filtering driver.<br />Too bad there doesn't seem to be too much good info around on this - or<br />perhaps kayaker or some other guy has some good links available? ;)</div>
    <div class="meta">Posted on 2002-07-21 22:48:09 by f0dder</div>
   </div>
   <div class="post" id="post-49260">
    <div class="subject"><a href="#post-49260">Invisible folders?</a></div>
    <div class="body"><div class="quote"><br />The cleanest+most powerful way is probably some filesystem filtering driver.<br />Too bad there doesn't seem to be too much good info around on this - or<br />perhaps kayaker or some other guy has some good links available? ;) </div><br /><br />There are some advanced links on the 'filesystem drivers' topic on the following (well-known) pages(s):<br /><a target="_blank" href="http://www.acc.umu.se/~bosse/">http://www.acc.umu.se/~bosse/</a><br /><a target="_blank" href="http://www.insidewindows.info/">http://www.insidewindows.info/</a></div>
    <div class="meta">Posted on 2002-07-22 01:38:03 by Andycar</div>
   </div>
   <div class="post" id="post-49280">
    <div class="subject"><a href="#post-49280">Invisible folders?</a></div>
    <div class="body">And the way that Magic Folders does it is to install a filter driver, shame it was such an unstable piece of sh*it.</div>
    <div class="meta">Posted on 2002-07-22 03:50:56 by sluggy</div>
   </div>
   <div class="post" id="post-49569">
    <div class="subject"><a href="#post-49569">Invisible folders?</a></div>
    <div class="body">Thanks for the replies. After I posted this originally I discovered the file system filter driver stuff. Too bad information on the subject is extremely limited.</div>
    <div class="meta">Posted on 2002-07-23 09:47:15 by jdd48</div>
   </div>
   <div class="post" id="post-50335">
    <div class="subject"><a href="#post-50335">Invisible folders?</a></div>
    <div class="body">here is my example that i've made so i could learn how to write VxD. when i'll finish it, you can restrict to some folders access or even make them &quot;invisible&quot; but for now, i've just wanted to learn something new :grin: <br /><br />for now it is a very stupid app, when you will start VxDLoader, push Hook It and try to open/create some .TXT<br />full source attached<br /><br />any suggestions are welcom<br /><br />this project won't be update for about 2~3 weeks, i'm going on vacation :grin: :grin: :grin:  at last :grin:</div>
    <div class="meta">Posted on 2002-07-26 19:38:28 by NEMO</div>
   </div>
   <div class="post" id="post-50336">
    <div class="subject"><a href="#post-50336">Invisible folders?</a></div>
    <div class="body">:stupid: <br />forgot the attachment :grin:</div>
    <div class="meta">Posted on 2002-07-26 19:39:51 by NEMO</div>
   </div>
   <div class="post" id="post-50353">
    <div class="subject"><a href="#post-50353">Invisible folders?</a></div>
    <div class="body"><div class="quote"><br />i'm going on vacation :grin: :grin: :grin:  at last :grin: </div>Have a wonderful time and please let us know how it is where you go. :alright:</div>
    <div class="meta">Posted on 2002-07-26 21:32:28 by bitRAKE</div>
   </div>
   <div class="post" id="post-50534">
    <div class="subject"><a href="#post-50534">AAAAGGGGHHHH!!!!</a></div>
    <div class="body">It is useless! Im trying to make something similar to MagicFolders but in asm and freeware. But there is one little problem... i dont know how to handle IFSFN_FINDOPEN and IFSFN_FINDNEXT in FileSystemApiHookFunction. i read DDK infos, i googled around searching some tuts, infos, help, i even searched some VXD virus source and tuts. but nothing!<br /><br />for those who can get mad about the rules: <br />NO! im not makeing a virus, but if i were a virus writer i do some stuff to maka my vir invisble for the system, so i would hook File System and filter it to hide my vir.<br /><br />i have.... no, i had a freshly installed win98 to test, but it had a milion crashses since that time.<br />i real do not know what to do, but im convinced that I m missing something stupid and simple but right now i dont have a clue what it is, I ve got a major headache, i feel like i was hit bz a train:( <br /><br />if You have any infos, source examples of how could i property handle IFSFN_FINDOPEN and IFSFN_FINDNEXT &quot;functions&quot; i will be glad to read them :grin: <br /><br /><strong>to bitRAKE:</strong><br />some time ago U posted masm-vxd for RadASM... i used it fo my project :) thx for that<br /><em>I m not going out from Poland, but imma get 18 days without TV, computer or even radio.... it will be great time :)</em> <br /><br />GOD i need vaction<br /><br /><br />Regards!</div>
    <div class="meta">Posted on 2002-07-28 09:44:27 by NEMO</div>
   </div>
   <div class="post" id="post-50603">
    <div class="subject"><a href="#post-50603">Invisible folders?</a></div>
    <div class="body">i'm posting new version of the example. when my friend tested it had few crushes when he tried to open My Computer, it seems that windows has some very importatnt text files which I didnt allow him to read :grin: <br />now the &quot;error&quot; is eliminated by more specific file filter, U can open any .TXT file which name isn't M$.TXT<br /><br />but still do not know how to property handle IFSFN_FINDOPEN and IFSFN_FINDNEXT :(</div>
    <div class="meta">Posted on 2002-07-28 19:50:23 by NEMO</div>
   </div>
   <div class="post" id="post-50611">
    <div class="subject"><a href="#post-50611">Invisible folders?</a></div>
    <div class="body">vxds, hummmmm well lots of people are going xp and vxds dont work under nt.</div>
    <div class="meta">Posted on 2002-07-28 22:07:43 by Qages</div>
   </div>
   <div class="post" id="post-50739">
    <div class="subject"><a href="#post-50739">Re: Invisible folders?</a></div>
    <div class="body"><div class="quote"><br />I'd like to create a program that completely hides folders from the OS (like Magic Folders). Any ideas on a starting point? Can entries be removed from the FAT table through MASM and then restored? Thanks. </div><br /><br />Another way is to create folders using the extended ASCII characters. You would have to shell out to DOS and create the directories. Windows Explorer can see a directory but can't display any of the files.</div>
    <div class="meta">Posted on 2002-07-29 13:53:04 by skywalker</div>
   </div>
  </div>
 </body>
</html>
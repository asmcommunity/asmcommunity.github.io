<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>obtaining return values from functions manually loaded from a DLL - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27028" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27028">obtaining return values from functions manually loaded from a DLL</a></p>
   <div class="post" id="post-194257">
    <div class="subject"><a href="#post-194257">obtaining return values from functions manually loaded from a DLL</a></div>
    <div class="body">Greetings, I've loaded a function manually from a dll using GetProcAddress, the function worked when I called the handle to it, but my problem is, when I tried to obtain the return value by accessing eax, it seemed to be not in eax because my program crashed... did I just miscoded something because the return value is really in eax, or the return value is in somewhere else? I would appreciate any help</div>
    <div class="meta">Posted on 2001-02-26 08:12:00 by JoseVelarde</div>
   </div>
   <div class="post" id="post-194258">
    <div class="subject"><a href="#post-194258">obtaining return values from functions manually loaded from a DLL</a></div>
    <div class="body">It depends on the function you call :). But 99% of the time,
return value is in the EAX register. Could you perhaps post the
little snippet of code that faults? Ie, your GetProcAddress,
call to function, and the few lines of code right after?</div>
    <div class="meta">Posted on 2001-02-26 08:15:00 by f0dder</div>
   </div>
   <div class="post" id="post-194259">
    <div class="subject"><a href="#post-194259">obtaining return values from functions manually loaded from a DLL</a></div>
    <div class="body">Generally, I'm not too concerned with proc return values if my program has just crashed.

FIX THAT CRASH, then worry about it.

My first guess would be you don't have the correct proc prototype, or you are sending incorrect params. If the dll doesn't check what you sent it, the latter could crash it. And it has zero ways of getting a param count of what you sent, so if that is wrong your stack blows up.</div>
    <div class="meta">Posted on 2001-02-26 11:01:00 by Ernie</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Preserving registers when using API functions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3351" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3351">Preserving registers when using API functions</a></p>
   <div class="post" id="post-22209">
    <div class="subject"><a href="#post-22209">Preserving registers when using API functions</a></div>
    <div class="body">Hello everyone,<br />I was wondering, what's the right way to preserve the registers when I am using them and using API functions. I have a code, where I use many registers and many API functions. I know that some API functions don't preserve the registers. So, my code is filled with push's, pop's, pushad's and popad's.<br />I wonder if there is anothe solution to this?<br />Do I really have to do all these pushing and poping?<br />How can I know what registers an API function overwrites?<br />Thanks in advance.</div>
    <div class="meta">Posted on 2002-01-31 18:44:45 by dilau</div>
   </div>
   <div class="post" id="post-22213">
    <div class="subject"><a href="#post-22213">Preserving registers when using API functions</a></div>
    <div class="body">api functions will always preserve ebx, esi and edi (well, esp and ebp as well, but you wouldn't really use them like you use the other regs). the contents of all other registers can (and most probably will) be changed.</div>
    <div class="meta">Posted on 2002-01-31 19:08:05 by Tola</div>
   </div>
   <div class="post" id="post-22218">
    <div class="subject"><a href="#post-22218">Preserving registers when using API functions</a></div>
    <div class="body"><div class="quote"><br />what's the right way to preserve the registers when I am using them and using API functions<br /></div><br /><br />Continue using all those push's and pop's, is the best way.</div>
    <div class="meta">Posted on 2002-01-31 19:51:19 by CodeLover</div>
   </div>
  </div>
 </body>
</html>
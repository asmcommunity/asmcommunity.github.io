<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Float... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3489" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3489">Float...</a></p>
   <div class="post" id="post-23112">
    <div class="subject"><a href="#post-23112">Float...</a></div>
    <div class="body">I am coding a procedure in ASM that does some calcs with real numbers.<br />At the moment I use DQ as parameter data type and I am wondering if this is correct if in C I declare parameter as float. Doesn't REAL8 equal QWORD? Is it what float is? or I should use REAL4 or REAL10 instead?<br /><br />Also, how should I return result (also float) ??</div>
    <div class="meta">Posted on 2002-02-06 14:14:39 by Milos</div>
   </div>
   <div class="post" id="post-23113">
    <div class="subject"><a href="#post-23113">Float...</a></div>
    <div class="body">A float in C is a &quot;df&quot; or &quot;real4&quot; in asm.<br />A double in C is a &quot;dq&quot; or &quot;real8&quot; in asm.<br /><br />The extended (real10) is &quot;double double&quot; iirc.<br /><br />Return value depends on compiler... I think visual C++ expects<br />the return value as ST(0) .</div>
    <div class="meta">Posted on 2002-02-06 14:17:06 by f0dder</div>
   </div>
   <div class="post" id="post-23114">
    <div class="subject"><a href="#post-23114">Float...</a></div>
    <div class="body">Float is usually REAL4, double is REAL8, and long double is TBYTE/REAL10.  Some C compilers return floats on the top of the FPU stack, other actually store the value on the stack().<br /><br /><strong>Edit</strong>: f0dder beat me by seconds.  ;)</div>
    <div class="meta">Posted on 2002-02-06 14:17:28 by bitRAKE</div>
   </div>
   <div class="post" id="post-23115">
    <div class="subject"><a href="#post-23115">Float...</a></div>
    <div class="body">I was a bit wrong though it is &quot;long double&quot; and not &quot;double double&quot; :)</div>
    <div class="meta">Posted on 2002-02-06 14:23:13 by f0dder</div>
   </div>
   <div class="post" id="post-23118">
    <div class="subject"><a href="#post-23118">Float...</a></div>
    <div class="body">Thanks on these fast replies! :D</div>
    <div class="meta">Posted on 2002-02-06 15:03:43 by Milos</div>
   </div>
   <div class="post" id="post-23275">
    <div class="subject"><a href="#post-23275">Float...</a></div>
    <div class="body">For this:<br /><br /><div class="quote">Doesn't REAL8 equal QWORD?</div><br /><br />Yes and No. It is the same size but consider these two statments:<br /><br /><pre><code><br /> QuadInt   QWORD 67<br /> QuadReal REAL8 67.0<br /></code></pre><br /><br />QuadInt will be inialized to 67 in binary by masm. But QuadReal has to have the decimal point suffix because it will be initialized to 67.0's (Floating Point). <br /><br />So if you had in a program:<br /><pre><code><br />.DATA<br /> cConstant QWORD 100<br /><br />.CODE<br />GetPercent PROC<br /><br />fdiv cConstant<br /><br /></code></pre><br /><br />You would get some very funny results indeed.<br /><br /><br />This is the same for REAL4/DWORD, REAL8/QWORD and REAL10/TBYTE.</div>
    <div class="meta">Posted on 2002-02-07 17:11:29 by huh</div>
   </div>
  </div>
 </body>
</html>
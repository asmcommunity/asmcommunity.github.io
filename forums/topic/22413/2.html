<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Linking ASM and C code - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22413" />
  <link rel="prev" href="../?id=22413&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22413">Linking ASM and C code</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=22413&amp;page=1" style="">&laquo;</a><a href="../?id=22413&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22413" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-168293">
    <div class="subject"><a href="#post-168293">Re: Linking ASM and C code</a></div>
    <div class="body">ZATRiX,<br /><br />A quick look at the IO.OBJ file said is was OMF format so I converted it to COFF format. It appears to have been written in Borland Turbo Assembler. I have no idea what it does but I can at least dump the object module now and read it contents.<br /><br />Vortex is correct here, it is 16 bit code and its written in TASM version 4. This may be useful in a 16 bit app but it cannot be used in 32 bit applications at all as it uses the normal DOS int 21h which is not allowed in 32 bit code.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1260" target="_blank">IO.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-11-27 03:19:41 by hutch--</div>
   </div>
   <div class="post" id="post-168295">
    <div class="subject"><a href="#post-168295">Re: Linking ASM and C code</a></div>
    <div class="body">so if I need to use 32bit registers and such (for reading in a 32bit number) what do I do? Is there any work around to let me use that object module with my 32bit code?</div>
    <div class="meta">Posted on 2005-11-27 07:43:51 by ZATRiX</div>
   </div>
   <div class="post" id="post-168296">
    <div class="subject"><a href="#post-168296">Re: Linking ASM and C code</a></div>
    <div class="body">Basically rewrite the module in 32 bit, as it is its unusable because of the DOS interrupts. ANother approach is the library functions it is calling which look like C runtime functions. You would need the C library anyway to run code of that type so if you have access at the C library which also must be 32 bit, write a set of prototypes for the C functions and call them directly from your assembler code. You could probably also use the MSVCRT library if your project will allow it.</div>
    <div class="meta">Posted on 2005-11-27 08:19:48 by hutch--</div>
   </div>
   <div class="post" id="post-168297">
    <div class="subject"><a href="#post-168297">Re: Linking ASM and C code</a></div>
    <div class="body"><span class="strike">how can I look at the actual code compiled in the module?</span><br /><br />i talked to the prof, we are supposed to use printf/scanf not the module..so there goes that hurdle</div>
    <div class="meta">Posted on 2005-11-27 08:22:46 by ZATRiX</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=22413&amp;page=1" style="">&laquo;</a><a href="../?id=22413&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="22413" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
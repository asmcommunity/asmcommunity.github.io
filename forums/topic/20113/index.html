<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Tutorial #6: Why only InvalidateRect ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20113" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=17">Iczelion's Tutorials</a> &raquo; <a href="../?id=20113">Tutorial #6: Why only InvalidateRect ?</a></p>
   <div class="post" id="post-154076">
    <div class="subject"><a href="#post-154076">Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body">Hi all,<br /><br />im at iczelions Tutorial #6 right now and tried an alternative to InvalidateRect to force Windows sending  WM_Paint. I tried<br /><br />invoke UpdateWindow,hWin <br /><br />but it didnt work...as soon as i change the size of the window it updates the client area and shows the letter typed last, so UpdateWindow seems not to send WM_PAINT in my case but why? The client area shouldn't be empty cause i already paint a letter there at startup.<br /><br />i also tried<br /><br />invoke SendMessage,hWin,WM_PAINT,0,0<br /><br />but that didnt work either, so what am i doing wrong?</div>
    <div class="meta">Posted on 2004-12-13 10:35:22 by LittleEndian</div>
   </div>
   <div class="post" id="post-154077">
    <div class="subject"><a href="#post-154077">Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body"><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/pantdraw_7ano.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/pantdraw_7ano.asp</a><br /><div class="quote"><br />The InvalidateRect function adds a rectangle to the specified window's update region. The update region represents the portion of the window's client area that must be redrawn<br /></div><br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/pantdraw_4zef.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/pantdraw_4zef.asp</a><br /><div class="quote"><br />The UpdateWindow function updates the client area of the specified window by sending a WM_PAINT message to the window if the window's update region is not empty. The function sends a WM_PAINT message directly to the window procedure of the specified window, bypassing the application queue. If the update region is empty, no message is sent. <br /></div><br /><br />As you've done nothing to mess with the update region, the UpdateWindow call does not send a WM_PAINT.<br /><br />Mirno</div>
    <div class="meta">Posted on 2004-12-13 11:20:34 by Mirno</div>
   </div>
   <div class="post" id="post-154086">
    <div class="subject"><a href="#post-154086">Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body">Thx Mirno, i read the definition of the  update region and i think i understand now why UpdateWindow didn't work. Now theres only the question left why <br />invoke SendMessage,hWin,WM_PAINT,0,0<br />didnt work. Any background info on that function i may should know ?</div>
    <div class="meta">Posted on 2004-12-13 13:43:15 by LittleEndian</div>
   </div>
   <div class="post" id="post-154087">
    <div class="subject"><a href="#post-154087">Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body">Look up WM_PAINT in the PlatformSDK... under remarks, there's the following text:<br /><div class="quote"><br />The WM_PAINT message is generated by the system and should not be sent by an application.<br /></div></div>
    <div class="meta">Posted on 2004-12-13 13:46:45 by f0dder</div>
   </div>
   <div class="post" id="post-154091">
    <div class="subject"><a href="#post-154091">Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body">All right! Thx F0dder!</div>
    <div class="meta">Posted on 2004-12-13 15:14:11 by LittleEndian</div>
   </div>
   <div class="post" id="post-156891">
    <div class="subject"><a href="#post-156891">sendmessage to child window</a></div>
    <div class="body">I think I've read somewhere in iczellions tutes that you can use sendmessage if you want to talk to a child window.</div>
    <div class="meta">Posted on 2005-02-09 23:35:21 by Phase Verocity</div>
   </div>
   <div class="post" id="post-160862">
    <div class="subject"><a href="#post-160862">Re: Tutorial #6: Why only InvalidateRect ?</a></div>
    <div class="body">Thanks ,body......</div>
    <div class="meta">Posted on 2005-06-07 00:27:36 by CPB</div>
   </div>
  </div>
 </body>
</html>
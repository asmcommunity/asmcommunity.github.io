<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Using the brush returned from WM_CTLCOLORBTN - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6458" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6458">Using the brush returned from WM_CTLCOLORBTN</a></p>
   <div class="post" id="post-46525">
    <div class="subject"><a href="#post-46525">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">In my button like control that im making, during the wm_paint message, i send WM_CTLCOLORBTN to the owner before i draw the text and it automaticly sets the text foreground and background colors. But how do use the HBRUSH it returns to color the rest of the button? Do i use SelectObject on it for when i use DrawText? Or do i have to draw a rect with the color?</div>
    <div class="meta">Posted on 2002-07-06 22:02:22 by ChimpFace9000</div>
   </div>
   <div class="post" id="post-46551">
    <div class="subject"><a href="#post-46551">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">I think you will receive the HBRUSH as the returned value of SendMessage:<br /><br /><div class="quote"><br />LRESULT SendMessage(<br />  HWND hWnd,      // handle to destination window<br />  UINT Msg,       // message<br />  WPARAM wParam,  // first message parameter<br />  LPARAM lParam   // second message parameter<br />);<br /><br />[...]<br /><br />Return Values<br />The return value specifies the result of the message processing; it depends on the message sent.</div></div>
    <div class="meta">Posted on 2002-07-07 03:07:02 by LuHa</div>
   </div>
   <div class="post" id="post-46586">
    <div class="subject"><a href="#post-46586">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">I know. Thats not what i asked about.</div>
    <div class="meta">Posted on 2002-07-07 13:31:24 by ChimpFace9000</div>
   </div>
   <div class="post" id="post-46621">
    <div class="subject"><a href="#post-46621">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">ChimpFace9000,<br /> The brush returned from WM_CTLCOLORxxx should be used as the background brush for your window. You'll probably want to call FillRect to fill the background.</div>
    <div class="meta">Posted on 2002-07-07 19:48:02 by chorus</div>
   </div>
   <div class="post" id="post-46639">
    <div class="subject"><a href="#post-46639">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">Is it better to use FillRect or Rectangle?</div>
    <div class="meta">Posted on 2002-07-07 21:32:38 by ChimpFace9000</div>
   </div>
   <div class="post" id="post-46640">
    <div class="subject"><a href="#post-46640">Using the brush returned from WM_CTLCOLORBTN</a></div>
    <div class="body">Personally, I'd use FillRect.  Two reasons:<br /><br />1) You don't have to worry about calling SelectObject/ DeleteObject and tracking the old brush<br />2) The parameters are nice and easy to get<br /><br />Performance wise, I've never noticed a difference. One thing to note however, is that Rectangle draws a border too. If you need a border, then you may as well use Rectangle. If you don', however, just use FillRect<br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-07-07 21:42:48 by chorus</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>mem allocation - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27993" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27993">mem allocation</a></p>
   <div class="post" id="post-198939">
    <div class="subject"><a href="#post-198939">mem allocation</a></div>
    <div class="body">Hi. (And thanks for this great site)

Im working with some structures, that are linked together as a linked list. 
Is it "ok" to use GlobalAlloc/GlobalFree as the only mem-management, when i create linked list with more than 1 mill. linked structures. 
Or should i allocate a larger chunk of mem (like 1 Mb chunks), and then handle allocation/freeing of structs in each chunk?

TIA

Fragster</div>
    <div class="meta">Posted on 2001-05-09 13:28:00 by Fragster</div>
   </div>
   <div class="post" id="post-198940">
    <div class="subject"><a href="#post-198940">mem allocation</a></div>
    <div class="body">I think the docs say it perfectly:
<div class="quote">The GlobalAlloc and LocalAlloc functions are limited to a combined total of 65,536 handles for GMEM_MOVEABLE and LMEM_MOVEABLE memory per process. This limitation does not apply to GMEM_FIXED or LMEM_FIXED memory.</div>

:D

Mirno</div>
    <div class="meta">Posted on 2001-05-09 13:48:00 by Mirno</div>
   </div>
   <div class="post" id="post-198941">
    <div class="subject"><a href="#post-198941">mem allocation</a></div>
    <div class="body">statement from newest SDK:
<div class="quote">
This topic provides a brief comparison of the following memory allocation methods: 

CoTaskMemAlloc 
GlobalAlloc 
HeapAlloc 
LocalAlloc 
malloc 
new 
VirtualAlloc 

The following functions are equivalent: GlobalAlloc, LocalAlloc, and HeapAlloc with the handle returned by the GetProcessHeap function. 

The VirtualAlloc function allows you to specify additional options for memory allocation. However, its allocations use a page granularity, so using VirtualAlloc can result in higher memory usage. 

The malloc function has the disadvantage of being run-time dependent. The new operator has the disadvantage of being compiler dependant and language dependant. 

The CoTaskMemAlloc function has the advantage of working well in either C, C++, or Visual Basic. It is also the only way to share memory in a COM-based application, since MIDL uses CoTaskMemAlloc and CoTaskMemFree to marshal memory. 

</div></div>
    <div class="meta">Posted on 2001-05-10 04:03:00 by beaster</div>
   </div>
  </div>
 </body>
</html>
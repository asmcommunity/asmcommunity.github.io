<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Trouble with PtInRect. Please Help! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26451" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26451">Trouble with PtInRect. Please Help!</a></p>
   <div class="post" id="post-191600">
    <div class="subject"><a href="#post-191600">Trouble with PtInRect. Please Help!</a></div>
    <div class="body">Is this the correct way to use PtInRect? I can't
get it to work! Why is the syntax of PtInRect here
different than what MS has on their site?

invoke PtInRect, ADDR rcMyRect, pt.x, pt.y

.if eax != 0
        ; The point is in the rectangle!
        return 0
.endif

Thank You!</div>
    <div class="meta">Posted on 2000-12-27 17:50:00 by xtreme</div>
   </div>
   <div class="post" id="post-191601">
    <div class="subject"><a href="#post-191601">Trouble with PtInRect. Please Help!</a></div>
    <div class="body">I got it to work. I was obtaining the mouse position in
screen coord. instead of window coord. The code should be:

mov eax,lParam
and eax,0ffffh
mov pt.x,eax
mov eax,lParam
shr eax,16
mov pt.y,eax

invoke PtInRect, ADDR rcMyRect, pt.x, pt.y

.if eax != 0
 ; Point is in rectangle
 return 0
.endif</div>
    <div class="meta">Posted on 2000-12-27 19:09:00 by xtreme </div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SaveState library (to keep app preferences), much easier than Win Registry - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22196" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=22196">SaveState library (to keep app preferences), much easier than Win Registry</a></p>
   <div class="post" id="post-166947">
    <div class="subject"><a href="#post-166947">SaveState library (to keep app preferences), much easier than Win Registry</a></div>
    <div class="body">It was about time I came up with a macro-based solution for saving+loading your app data on app startup/exit. I personally like it much more than AdvApi32. <br /><br />This is all you need to put, to automatically save/restore data after exit and on startup. <br /><pre><code><br />.data<br />	.SAVEBLOCK_BEGIN<br />		string1 db 260 dup (?)<br />		......<br />		var154 dd ? <br />	.SAVEBLOCK_END<br /><br />.code<br />main proc<br />	invoke LoadSaveBlocks,T(&quot;SaveFile.bin&quot;),0<br />	<br />	.BIND_SAVEBLOCKS	; macro<br />	;-----[ application code ]----------\<br />	....<br />	;-----------------------------------/<br />	invoke SaveSaveBlocks,0<br />	ret<br />main endp<br /></code></pre><br />5 lines - to save you hundreds ^_^</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1062" target="_blank">PrefState.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-10-16 08:25:38 by Ultrano</div>
   </div>
   <div class="post" id="post-166954">
    <div class="subject"><a href="#post-166954">Re: SaveState library (to keep app preferences), much easier than Win Registry</a></div>
    <div class="body">Looks pretty interesting. I just finished some easy save/load code for C++, since I was fed up with AdvApi32 too :)<br /></div>
    <div class="meta">Posted on 2005-10-16 12:07:45 by f0dder</div>
   </div>
   <div class="post" id="post-166987">
    <div class="subject"><a href="#post-166987">Re: SaveState library (to keep app preferences), much easier than Win Registry</a></div>
    <div class="body">seems to be usefull. thank you</div>
    <div class="meta">Posted on 2005-10-17 08:43:36 by diablo2oo2</div>
   </div>
   <div class="post" id="post-167020">
    <div class="subject"><a href="#post-167020">Re: SaveState library (to keep app preferences), much easier than Win Registry</a></div>
    <div class="body">Ultrano,<br /><br />Thanks !!!<br /><br />With just a little more work, it works like a database too!<br /><br />Regards,&nbsp; P1&nbsp; 8)</div>
    <div class="meta">Posted on 2005-10-18 08:58:05 by Pone</div>
   </div>
   <div class="post" id="post-183652">
    <div class="subject"><a href="#post-183652">Re: SaveState library (to keep app preferences), much easier than Win Registry</a></div>
    <div class="body">SaveState/PrefState, version 2 ready:<br />- no limits in names of save-blocks;<br />- new feature: saving of strings and arrays of strings;<br />- new feature: saving of (usually big) fixed-size memory chunks;<br />- easily expandable;<br />- now as a .lib+.inc, immediately available for integration in any MASM app.;<br />- examples, documentation, and detailed explanation on its operation;<br />- macros show friendly tips on fixing compilation-problems, if such occur.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1874" target="_blank">PrefState2.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-07-17 08:39:27 by Ultrano</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hooks & share data ... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28040" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28040">Hooks & share data ...</a></p>
   <div class="post" id="post-199165">
    <div class="subject"><a href="#post-199165">Hooks & share data ...</a></div>
    <div class="body">Well, i open a file in my .EXE file. I declare

.data?
filehandle dd ?  

then i install a system hook (from a DLL) and i want to USE this "filehandle" to write info to this opened file. At this time it fails ... :(

I compile .EXE & .DLL with "/SECTION:.bss,S" and define "filehandle dd?" in both .data? (.EXE & .DLL) section.

Whats wrong? thx.</div>
    <div class="meta">Posted on 2001-05-13 11:42:00 by elmenda</div>
   </div>
   <div class="post" id="post-199166">
    <div class="subject"><a href="#post-199166">Hooks & share data ...</a></div>
    <div class="body">The file handle cannot be shared across processes.  You can create an alias handle with DuplicateHandle that can be sent to a target process.</div>
    <div class="meta">Posted on 2001-05-17 21:47:00 by tank</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>what is the difference between heap and stack? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29158" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29158">what is the difference between heap and stack?</a></p>
   <div class="post" id="post-205938">
    <div class="subject"><a href="#post-205938">what is the difference between heap and stack?</a></div>
    <div class="body">Stack is a well-known concept for me, but I haven&#039;t got any information about heap.&nbsp; </div>
    <div class="meta">Posted on 2008-09-19 03:50:58 by qlmi</div>
   </div>
   <div class="post" id="post-205939">
    <div class="subject"><a href="#post-205939">Re: what is the difference between heap and stack?</a></div>
    <div class="body">A heap is a memory manager which internally employs a linked list and which supports defragmentation (heaps can Grow and Shrink on demand).<br /><br />Your process contains one default Heap (known as the Process Heap) which you can use to allocate blocks of &#039;heap memory&#039; ... but you can create more heaps if you wish to.<br /><br />See HeapAlloc etc.</div>
    <div class="meta">Posted on 2008-09-19 04:16:26 by Homer</div>
   </div>
   <div class="post" id="post-205943">
    <div class="subject"><a href="#post-205943">Re: what is the difference between heap and stack?</a></div>
    <div class="body">To put things super-simply, a heap is just some amount of memory from which you can allocate blocks as needed. Now that you know this, you should read about how Windows manages heaps.</div>
    <div class="meta">Posted on 2008-09-19 06:57:45 by ti_mo_n</div>
   </div>
   <div class="post" id="post-205949">
    <div class="subject"><a href="#post-205949">Re: what is the difference between heap and stack?</a></div>
    <div class="body">Well if you are talking about data structure, a heap is a tree-based data structure. A example would be binary heap which could be used as a priority queue.</div>
    <div class="meta">Posted on 2008-09-19 07:32:32 by roticv</div>
   </div>
   <div class="post" id="post-205951">
    <div class="subject"><a href="#post-205951">Re: what is the difference between heap and stack?</a></div>
    <div class="body">To keep things simple:<br /><br />When working with the stack, you can push and pop, or you can manage ESP yourself. But the important thing to keep in mind is that you can only ever &quot;deallocate&quot; the topmost element.<br /><br />With Heap memory, you can deallocate any memory block, and the memory holes possibly left behind can be re-used for later allocations.<br /><br />Internally, there&#039;s a zillion different ways to implement a heap memory manager. Linked-list approach homer talks about works, but is na√Øve and doesn&#039;t give good performance. There&#039;s low-fragmentation heaps, (more or less) constant-time allocation for specific sizes, and tons of other things to do. For FireFox3, a lot of time was spent researching various allocators wrt. speed and fragmentation issues.</div>
    <div class="meta">Posted on 2008-09-19 09:40:31 by f0dder</div>
   </div>
   <div class="post" id="post-206058">
    <div class="subject"><a href="#post-206058">Re: what is the difference between heap and stack?</a></div>
    <div class="body">I only referred to the linked-list since its used for automatic garbage collection, and by api that &#039;walk&#039; the heap objects (such as the defragment api).<br /><br />How you manage objects you allocated in heap memory is up to you of course, however my suggestion would be that if the objects are small, you should be allocating entire pages of heap memory and using your own allocation scheme to chop them up into object-sized parcels. The heap defrag api are kinda bad, you can do better yourself at paged memory access and save on context switches too.<br /></div>
    <div class="meta">Posted on 2008-10-05 04:58:54 by Homer</div>
   </div>
  </div>
 </body>
</html>
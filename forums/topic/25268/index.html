<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CreateDevice ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25268" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25268">CreateDevice ?</a></p>
   <div class="post" id="post-184832">
    <div class="subject"><a href="#post-184832">CreateDevice ?</a></div>
    <div class="body">i use directx9 sdk and use&nbsp; C# sample , when i use run .exe sample , it&#39;s ok but if i try to rebuild it from the source (simple source and only create 3D device), it return an error in CreateDevice (D3D_ERRBADCALL) . how i can fix this problem ? thanks.</div>
    <div class="meta">Posted on 2006-08-27 08:54:25 by secmask</div>
   </div>
   <div class="post" id="post-184846">
    <div class="subject"><a href="#post-184846">Re: CreateDevice ?</a></div>
    <div class="body">Better show your sourcecode.<br />There&#39;s a couple of common mistakes to watch out for though..<br />Firstly, you must already have created a Window before you create a render device, since one of the parameters is hWnd.<br />Secondly, you must zero out the Presentation Parameters structure so that any fields you didn&#39;t explicitly set to some values are NULL.<br />Hope that helps :)<br /><br /></div>
    <div class="meta">Posted on 2006-08-27 20:17:02 by Homer</div>
   </div>
   <div class="post" id="post-184881">
    <div class="subject"><a href="#post-184881">Re: CreateDevice ?</a></div>
    <div class="body">yes, it&#39;s here http://secmask.host.sk/Tutorial6.zip<br />it&#39;s from DirectX9SDK.</div>
    <div class="meta">Posted on 2006-08-29 07:24:11 by secmask</div>
   </div>
   <div class="post" id="post-184923">
    <div class="subject"><a href="#post-184923">Re: CreateDevice ?</a></div>
    <div class="body"><div class="quote"><br />Forbidden<br /><br />You don&#39;t have permission to access /Tutorial6.zip on this server.<br /></div><br /><br />Post your source here instead :)<br /></div>
    <div class="meta">Posted on 2006-08-30 09:57:44 by Homer</div>
   </div>
   <div class="post" id="post-184928">
    <div class="subject"><a href="#post-184928">Re: CreateDevice ?</a></div>
    <div class="body">Here&#39;s an example of working code, initializing D3D9, I&#39;ll explain the macros below<br /><pre><code><br /><br /><br />InitD3D proc dwWidth,dwHeight<br />	local d3dpp:D3DPRESENT_PARAMETERS<br />	local wc:WNDCLASSEX<br />	local rect:RECT<br />	<br />	;--------[ create window ]-----------------------------------------[<br />	<br />	ILIX_WINDOW_STYLE equ WS_POPUP or WS_CAPTION or WS_VISIBLE or WS_SYSMENU<br />	<br />	Clear wc<br />	mov wc.cbSize,sizeof WNDCLASSEX<br />	mov wc.lpfnWndProc,MsgProc<br />	m2m wc.hInstance,hinst<br />	mov wc.lpszClassName,T(&quot;D3D Game&quot;)<br />	mov wc.hCursor,$invoke(LoadCursor,0,IDC_ARROW)<br />	mov wc.hIcon,$invoke (LoadIcon,hinst,1)<br />	<br />	invoke RegisterClassEx,addr wc<br />	<br />	;-----[ adjust window size ]---------\<br />	mov rect.left,0<br />	mov rect.top,0<br />	m2m rect.right,dwWidth<br />	m2m rect.bottom,dwHeight<br />	invoke AdjustWindowRect,addr rect,ILIX_WINDOW_STYLE,0<br />	mov eax,rect.right<br />	sub eax,rect.left<br />	mov ecx,rect.bottom<br />	sub ecx,rect.top<br />	;------------------------------------/<br />	<br />	invoke CreateWindowEx,0,wc.lpszClassName,T(&quot;Press SPACE to toggle image!!!&quot;),ILIX_WINDOW_STYLE,100,100,eax,ecx,0,0,hinst,0<br />	mov hwndMain,eax<br />	;------------------------------------------------------------------/<br />	<br />	<br />	mov g_pD3D,$invoke(Direct3DCreate9,D3D_SDK_VERSION)<br />	OnZero _ret<br />	<br />	<br />	<br />	Clear d3dpp<br />	mov d3dpp.Windowed,1<br />	mov d3dpp.SwapEffect,D3DSWAPEFFECT_DISCARD<br />	mov d3dpp.EnableAutoDepthStencil,1<br />	mov d3dpp.AutoDepthStencilFormat,D3DFMT_D16<br />	<br />	pcall g_pD3D.CreateDevice,D3DADAPTER_DEFAULT,D3DDEVTYPE_HAL,hwndMain,D3DCREATE_SOFTWARE_VERTEXPROCESSING,addr d3dpp,addr g_pd3dDevice<br />	OnNotZero _ret<br />	<br />	<br />	pcall g_pd3dDevice.SetRenderState,D3DRS_CULLMODE,D3DCULL_NONE<br />	pcall g_pd3dDevice.SetRenderState,D3DRS_ZENABLE,1<br />	<br />	<br />	<br />	return 1<br />_ret:	return 0<br />InitD3D endp<br /><br />FreeD3D proc<br />	.if g_pd3dDevice<br />		pcall g_pd3dDevice.Release<br />	.endif<br />	.if g_pD3D<br />		pcall g_pD3D.Release<br />	.endif<br />	<br />	ret<br />FreeD3D endp<br /></code></pre><br /><br />macro &quot;Clear&quot; - sets the whole specified variable to 0, &quot;Clear wc&quot; is equal to &quot;invoke memset,addr wc,0,sizeof wc&quot;<br />macro &quot;OnZero&quot; is equal to &quot;test eax,eax&nbsp; |&nbsp;  jz _ret&quot;<br />macro &quot;OnNotZero&quot; is equal to &quot;test eax,eax | jnz _ret&quot;<br />macro &quot;pcall&quot; calls the specified COM method of the specified object. </div>
    <div class="meta">Posted on 2006-08-30 14:38:50 by Ultrano</div>
   </div>
   <div class="post" id="post-184948">
    <div class="subject"><a href="#post-184948">Re: CreateDevice ?</a></div>
    <div class="body"><pre><code><br />// Copyright (c) 2000-2002 Microsoft Corporation. All rights reserved.<br />//-----------------------------------------------------------------------------<br />using System;<br />using System.Drawing;<br />using System.ComponentModel;<br />using System.Windows.Forms;<br />using System.IO;<br />using Microsoft.DirectX;<br />using Microsoft.DirectX.Direct3D;<br />using Direct3D=Microsoft.DirectX.Direct3D;<br /><br />namespace MeshesTutorial<br />{<br />&nbsp; &nbsp; public class Meshes : Form<br />&nbsp; &nbsp; {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; Device device = null; // Our rendering device<br />&nbsp; &nbsp; &nbsp; &nbsp; Mesh mesh = null; // Our mesh object in sysmem<br />&nbsp; &nbsp; &nbsp; &nbsp; Direct3D.Material&#91;] meshMaterials; // Materials for our mesh<br />&nbsp; &nbsp; &nbsp; &nbsp; Texture&#91;] meshTextures; // Textures for our mesh<br />&nbsp; &nbsp; &nbsp; &nbsp; PresentParameters presentParams = new PresentParameters();<br />&nbsp; &nbsp; &nbsp; &nbsp; bool pause = false;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; public Meshes()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set the initial size of our form<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.ClientSize = new System.Drawing.Size(400,300);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // And it&#39;s caption<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Text = &quot;Direct3D Tutorial 6 - Meshes&quot;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Load our icon from the resources of the .exe<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Icon = new Icon(this.GetType(), &quot;directx.ico&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; bool InitializeGraphics()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Get the current desktop display mode, so we can set up a back<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // buffer of the same format<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; try<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set up the structure used to create the D3DDevice. Since we are now<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // using more complex geometry, we will create a device with a zbuffer.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presentParams.Windowed = true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presentParams.SwapEffect = SwapEffect.Discard;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presentParams.EnableAutoDepthStencil = true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; presentParams.AutoDepthStencilFormat = DepthFormat.D16;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Create the D3DDevice<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device = new Device(0, DeviceType.Hardware, this, CreateFlags.SoftwareVertexProcessing, presentParams);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.DeviceReset += new System.EventHandler(this.OnResetDevice);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.OnResetDevice(device, null);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pause = false;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; catch (DirectXException)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return false;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return true;<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; public void OnResetDevice(object sender, EventArgs e)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ExtendedMaterial&#91;] materials = null;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set the directory up two to load the right data (since the default build location is bin\debug or bin\release<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Directory.SetCurrentDirectory(Application.StartupPath +&nbsp; @&quot;\..\..\&quot;);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Device dev = (Device)sender;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Turn on the zbuffer<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dev.RenderState.ZBufferEnable = true;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Turn on ambient lighting <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dev.RenderState.Ambient = System.Drawing.Color.White;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Load the mesh from the specified file<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mesh = Mesh.FromFile(&quot;tiger.x&quot;, MeshFlags.SystemMemory, device, out materials);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (meshTextures == null)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // We need to extract the material properties and texture names <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; meshTextures&nbsp; = new Texture;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; meshMaterials = new Direct3D.Material;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( int i=0; i&lt;materials.Length; i++ )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; meshMaterials<em> = materials<em>.Material3D;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set the ambient color for the material (D3DX does not do this)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; meshMaterials<em>.Ambient = meshMaterials<em>.Diffuse;<br />&nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Create the texture<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; meshTextures<em> = TextureLoader.FromFile(dev, materials<em>.TextureFilename);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; void SetupMatrices()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // For our world matrix, we will just leave it as the identity<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Transform.World = Matrix.RotationY(Environment.TickCount/1000.0f );<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set up our view matrix. A view matrix can be defined given an eye point,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // a point to lookat, and a direction for which way is up. Here, we set the<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // eye five units back along the z-axis and up three units, look at the <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // origin, and define &quot;up&quot; to be in the y-direction.<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Transform.View = Matrix.LookAtLH(new Vector3( 0.0f, 3.0f,-5.0f ), <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new Vector3( 0.0f, 0.0f, 0.0f ), <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; new Vector3( 0.0f, 1.0f, 0.0f ) );<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // For the projection matrix, we set up a perspective transform (which<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // transforms geometry from 3D view space to 2D viewport space, with<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // a perspective divide making objects smaller in the distance). To build<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // a perpsective transform, we need the field of view (1/4 pi is common),<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // the aspect ratio, and the near and far clipping planes (which define at<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // what distances geometry should be no longer be rendered).<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Transform.Projection = Matrix.PerspectiveFovLH( (float)(Math.PI / 4), 1.0f, 1.0f, 100.0f );<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; private void Render()<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (device == null) <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (pause)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Clear the backbuffer to a blue color <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Clear(ClearFlags.Target | ClearFlags.ZBuffer, System.Drawing.Color.Blue, 1.0f, 0);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //Begin the scene<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.BeginScene();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Setup the world, view, and projection matrices<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SetupMatrices();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Meshes are divided into subsets, one for each material. Render them in<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // a loop<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for( int i=0; i&lt;meshMaterials.Length; i++ )<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Set the material and texture for this subset<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Material = meshMaterials<em>;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.SetTexture(0, meshTextures<em>);<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // Draw the mesh subset<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mesh.DrawSubset(i);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //End the scene<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.EndScene();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; device.Present();<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; protected override void OnPaint(System.Windows.Forms.PaintEventArgs e)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Render(); // Render on painting<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; protected override void OnKeyPress(System.Windows.Forms.KeyPressEventArgs e)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if ((int)(byte)e.KeyChar == (int)System.Windows.Forms.Keys.Escape)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; this.Dispose(); // Esc was pressed<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; protected override void OnResize(System.EventArgs e)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; pause = ((this.WindowState == FormWindowState.Minimized) || !this.Visible);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;summary&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; /// The main entry point for the application.<br />&nbsp; &nbsp; &nbsp; &nbsp; /// &lt;/summary&gt;<br />&nbsp; &nbsp; &nbsp; &nbsp; static void Main() <br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; using (Meshes frm = new Meshes())<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (!frm.InitializeGraphics()) // Initialize Direct3D<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; MessageBox.Show(&quot;Could not initialize Direct3D.&nbsp; This tutorial will exit.&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; frm.Show();<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // While the form is still valid, render and process messages<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; while(frm.Created)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; frm.Render();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Application.DoEvents();<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br />}<br /></code></pre><br /><br /><br />yes, this is its source.</div>
    <div class="meta">Posted on 2006-08-31 06:57:54 by secmask</div>
   </div>
  </div>
 </body>
</html>
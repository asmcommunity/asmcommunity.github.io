<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>MASM -&gt; binary -&gt; boot block - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16479" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16479">MASM -&gt; binary -&gt; boot block</a></p>
   <div class="post" id="post-128130">
    <div class="subject"><a href="#post-128130">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Hi there,<br /><br />Is it possible to get MASM to output pure x86 instructions without embedding them inside a .exe?<br /><br />I would like to be able to copy just the instructions into the boot block of a floopy disk.<br /><br />S.</div>
    <div class="meta">Posted on 2003-12-17 07:50:33 by Station</div>
   </div>
   <div class="post" id="post-128132">
    <div class="subject"><a href="#post-128132">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">As a fast solution: you might try to assemble as an old DOS style  .COM file<br />but you need the old MASM 16 bit linker for that. Also FASM and NASM are able to directly output .bin<br /><br />However on MASM and TASM it is up to the linker to produce the output format.<br /><br />For SolOS i had to use J.Finne's &quot;Jloc&quot; Linker its is very capable of generating absolute  bin output... however its a little too complicated to use. I think ALink should also work but i was unable to use it with TASM (TASM uses OBJ and not COFF object files)<br /><br />Take care at SEGMENT definitions that are needed to achieve this absolute locations<br /><br />That is why i am developing y own assembler in my free time those days :grin:</div>
    <div class="meta">Posted on 2003-12-17 08:03:17 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-128192">
    <div class="subject"><a href="#post-128192">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Afternoon, Station.<br /><br />...<br />also:<br />It's against Microsofts EULA for Masm to use it to produce anything *but* exes and drivers for a Windows OS.<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2003-12-17 15:20:05 by Scronty</div>
   </div>
   <div class="post" id="post-128205">
    <div class="subject"><a href="#post-128205">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Hi. :)<br /><div class="quote"><br />Afternoon, Station.<br /><br />...<br />also:<br />It's against Microsofts EULA for Masm to use it to produce anything *but* exes and drivers for a Windows OS.<br /><br />Cheers,<br />Scronty </div><br />You mean PE files, right? I don't think it's in violation of the EULA to make DLLs, screen savers and control panel applets... (I'm asking just in case ;) )</div>
    <div class="meta">Posted on 2003-12-17 18:11:58 by QvasiModo</div>
   </div>
   <div class="post" id="post-128272">
    <div class="subject"><a href="#post-128272">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">exes = executable files, files which can be run, dlls can be run (by using rundll(32) for instace), screensavers are PE files (just that is has a few standard flags and an other extension).<br /><br />Basically, you can use MASM to make whaever stuff use full or not, as long as it's for Windows only.<br /><br />If you want to write your own OS or produce flat binaries, use fasm. (note the subliminal &quot;hidden&quot; advertisment for fasm ;))<br />I think fasm is the assembler that meets you needs if you want to have &quot;plain&quot; instrucitons assembles, with out any kind of hearders or so.</div>
    <div class="meta">Posted on 2003-12-18 08:23:09 by scientica</div>
   </div>
   <div class="post" id="post-128273">
    <div class="subject"><a href="#post-128273">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">i dunno if this could help you <br /><br />but you can assemble directly in ollydbg and use its binary copy to get it copied to some where <br /><br />remember binary copy not copy to clipboard<br /><br />EDIT<br />oops you want it without loading an empty exe template well olly wont load it<br />sorry <br />EDIT</div>
    <div class="meta">Posted on 2003-12-18 08:34:40 by bluffer</div>
   </div>
   <div class="post" id="post-128282">
    <div class="subject"><a href="#post-128282">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Hmm, <br /><br />How can i do that in OllyDbg?, aka without loading a template empty exe first?<br />Maybe i can use Ollydbg to test my assembler encodings this way.<br /><br />Now i have to use IDA Free version, because it is the only one able to load plain bin files<br /><br />Yes i agree FASM looks like the best solution to ouput plain bin files and not only ... <br />(after all it is used to make Menuet)<br /><br />But i dislike it's syntax  :confused: <br />(it is only me dont worry its syntax is cool)</div>
    <div class="meta">Posted on 2003-12-18 10:12:27 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-128284">
    <div class="subject"><a href="#post-128284">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">BTW why we can't use masm to OS and such why --hutch made it that way  ??</div>
    <div class="meta">Posted on 2003-12-18 10:21:08 by AceEmbler</div>
   </div>
   <div class="post" id="post-128286">
    <div class="subject"><a href="#post-128286">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body"><div class="quote"><br />Yes i agree FASM looks like the best solution to ouput plain bin files and not only ... <br />(after all it is used to make Menuet)<br /><br />But i dislike it's syntax  :confused: <br />(it is only me dont worry its syntax is cool) </div>Me, too; but it is a good assembler.</div>
    <div class="meta">Posted on 2003-12-18 10:42:08 by bitRAKE</div>
   </div>
   <div class="post" id="post-128287">
    <div class="subject"><a href="#post-128287">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body"><div class="quote"><br />Afternoon, Station.<br /><br />...<br />also:<br />It's against Microsofts EULA for Masm to use it to produce anything *but* exes and drivers for a Windows OS.<br /><br />Cheers,<br />Scronty </div><br /><br />No it isn't. Nowhere in the 98 DDK EULA does it restrict what you can do with MASM, that is just an urban legend :)<br /><br /><div class="quote">1.	GRANT OF LICENSE.  This EULA grants you the following limited, non-exclusive rights:<br />* SOFTWARE PRODUCT.  You may make, install and use up to a maximum of ten (10) copies of the SOFTWARE PRODUCT on computers, including workstations, terminals or other digital electronic devices, residing on your premises, to design, develop, and test software products, <strong>including but not limited to</strong> device drivers and other software products (&quot;Application(s)&quot;) for use with Microsoft Windows and/or Windows NT. </div><br /><br />Please note the that EULA expressly says that you are <strong>not limited to</strong> those things which it mentions. This also applies to any software that you might create for another OS. Man, am I getting tired of hearing that legend.</div>
    <div class="meta">Posted on 2003-12-18 10:46:42 by donkey</div>
   </div>
   <div class="post" id="post-128290">
    <div class="subject"><a href="#post-128290">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">donkey,<br /><br />I guess it depends on how you interpret the sentence:<br /><br /><div class="quote">..., including but not limited to device drivers and other software products (&quot;Application(s)&quot;) for use with Microsoft Windows and/or Windows NT.</div><br /><br />If you break it into two parts:<br /><br />1) including but not limited to device drivers and other software products (&quot;Application(s)&quot;)<br /><br />and<br /><br />2) for use with Microsoft Windows and/or Windows NT.<br /><br />the interpretation can be different.  Where 1) describes the type of products which can be produced, and 2) defines the target platforms.<br /><br />I am definetly not an attorney, but this is how I have always interpretted the meaning of this section of the EULA.  And in the hands of a team of $1000 / hour attorneys, they could argue three or four other interpretations!:confused: <br /><br />farrier</div>
    <div class="meta">Posted on 2003-12-18 11:02:14 by farrier</div>
   </div>
   <div class="post" id="post-128291">
    <div class="subject"><a href="#post-128291">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Microsoft has a fleet of lawyers that check these things for ambiguity, they would not have left a hole that big without knowing. The fact is that there is no comma so the sentence is not split it is meant to be non-limiting for all of the stuff mentioned. Now if you are using the newer versions of masm you're f*cked, you cannot even use it to create an exe :<br /><br />From the NT/2K DDK :<br /><br /><div class="quote">1.	GRANT OF LICENSE.  This EULA grants you the following rights:<br />a.	SOFTWARE PRODUCT. You may install and use an unlimited number of copies of the SOFTWARE PRODUCT on computers, including workstations, terminals or other digital electronic devices (&quot;COMPUTERS&quot;) to design, develop and test drivers for use with Microsoft Windows 2000, Windows 98 and Windows 98, Second Edition operating systems (&quot;Drivers&quot;). </div><br /><br />They corrected it for versions of MASM 7 and above, no other OS, no executables, no applications just drivers.</div>
    <div class="meta">Posted on 2003-12-18 11:05:14 by donkey</div>
   </div>
   <div class="post" id="post-128292">
    <div class="subject"><a href="#post-128292">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">The EULA was not made by hutch<br />The EULA is made by Microsoft, and hutch was legaly bound to include it in the packet.<br /><br />And unfortunately the ledgend is true...<br /><br />What the text quoted say is that indeed you are not limited to device drivers, hence you can amke any other applicatons you might consider... but the things after &quot;for&quot; are very clear from a lawyer's point of view :grin:<br /><br /><strong>&quot;For use with Microsoft Windows.&quot; period.</strong> ... Ask any lawyer <br /><br />The fact that you do not want to understand it like that...cough...well i do not think it matters. But i agree that lawyers have a way to make things understandable both ways ... in order to confuse ppl.<br /><br />Besides the licence can be removed from you at any given time by Microsoft if they so consider suited. <br /><br />Because they offered MASM for free and in the intention to ease production of application for Windows not to make a competitive product with theitr OS (assuming you can)<br /><br />How would you like that at the end after you have produced the most cool ASM OS on Earth to have to renounce it because M$ will remove your licence?<br /><br />Of course ... dont worry ... be happy, nobody will ever look at you untill you have produced a thing that might really hurt their money interests... so until then you are perfectly safe...cough,...<br /><br />BTW Donkey<br />ambiguity is for common ppl with no legal study :grin: lawuers know what that means and on purpose try to make you confused, it their job after all.</div>
    <div class="meta">Posted on 2003-12-18 11:08:47 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-128293">
    <div class="subject"><a href="#post-128293">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">Hi Bogdan,<br /><br />The fact is that when the 98 DKK was written there were no real competing OSes for the x86. Microsoft had no reason whatsoever to protect their product from use in another OS, as I said they later protected it from use outside of Windows without ambiguity of any kind. But the fact remains that the 98DDK liscense was written by Microsoft and does allow for that. They quickly shut down that option and the option to even write an executable program with it in Windows 2000. But if you are still using 6.xx you are not bound by the new license agreement.</div>
    <div class="meta">Posted on 2003-12-18 11:14:07 by donkey</div>
   </div>
   <div class="post" id="post-128294">
    <div class="subject"><a href="#post-128294">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body">I hope you are right Donkey<br />And i will not argue with you over this anymore<br /><br />Besides i own licences(3) for TASM 5.0 used in my SolOS and i am writting my own Assembler compatible with TASM and MASM as we speak :grin: <br />so ... :alright:</div>
    <div class="meta">Posted on 2003-12-18 11:20:14 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-128295">
    <div class="subject"><a href="#post-128295">MASM -&gt; binary -&gt; boot block</a></div>
    <div class="body"><div class="quote">I hope you are right Donkey<br />And i will not argue with you over this anymore<br /><br />Besides i own licences(3) for TASM 5.0 used in my SolOS and i am writting my own Assembler compatible with TASM and MASM as we speak<br />so ... </div><br /><br />I manily use GoAsm now anyway as well so the point is becoming more and more moot with me as well :grin:</div>
    <div class="meta">Posted on 2003-12-18 11:25:16 by donkey</div>
   </div>
  </div>
 </body>
</html>
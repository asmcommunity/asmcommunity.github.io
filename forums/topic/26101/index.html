<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>WINDOWS.INC 1.23 and /Fl? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26101" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26101">WINDOWS.INC 1.23 and /Fl?</a></p>
   <div class="post" id="post-190124">
    <div class="subject"><a href="#post-190124">WINDOWS.INC 1.23 and /Fl?</a></div>
    <div class="body">It bombs with errors when you compile any program including it as a listing.  Is there another file I'm supposed to include?  Examples:

D:\XXXXX>ml /c /Cp /coff 1.asm
Microsoft (R) Macro Assembler Version 6.15.8803
Copyright (C) Microsoft Corp 1981-2000.  All rights reserved.

 Assembling: 1.asm

D:\XXXXX>ml /c /Cp /coff /Fl 1.asm
Microsoft (R) Macro Assembler Version 6.15.8803
Copyright (C) Microsoft Corp 1981-2000.  All rights reserved.

 Assembling: 1.asm
c:\masm32\inc\windows.inc(25438) : error A2006: undefined symbol : ae_cp_compname
c:\masm32\inc\windows.inc(25439) : error A2006: undefined symbol : ae_cp_username
c:\masm32\inc\windows.inc(25440) : error A2006: undefined symbol : ae_cp_netname
c:\masm32\inc\windows.inc(25441) : error A2006: undefined symbol : ae_cp_connid
c:\masm32\inc\windows.inc(25442) : error A2006: undefined symbol : ae_cp_reason
c:\masm32\inc\windows.inc(25470) : error A2006: undefined symbol : ae_cf_compname
c:\masm32\inc\windows.inc(25471) : error A2006: undefined symbol : ae_cf_username
c:\masm32\inc\windows.inc(25472) : error A2006: undefined symbol : ae_cf_resname
c:\masm32\inc\windows.inc(25473) : error A2006: undefined symbol : ae_cf_fileid
c:\masm32\inc\windows.inc(25474) : error A2006: undefined symbol : ae_cf_duration
c:\masm32\inc\windows.inc(25475) : error A2006: undefined symbol : ae_cf_reason</div>
    <div class="meta">Posted on 2001-01-23 23:51:00 by DrOwlFS</div>
   </div>
   <div class="post" id="post-190125">
    <div class="subject"><a href="#post-190125">WINDOWS.INC 1.23 and /Fl?</a></div>
    <div class="body">DrOwlFS,

At the moment, you are safer using the release version of windows.inc from the last version of MASM32, there are changes in the later versions that will break existing code.

Here is a quick update,

AE_CONNSTOP struct
     ae_cp_compname dd ?
     ae_cp_username dd ?
     ae_cp_netname  dd ?
     ae_cp_connid   dd ?
     ae_cp_reason   dd ?
AE_CONNSTOP ends

Find this structure and substitute it with the following, as you can imagine, manual editing a file of this size leads to the occasional error of this type.

Regards,

hutch@pbq.com.au

This message was edited by hutch--, on 1/26/2001 2:37:55 AM</div>
    <div class="meta">Posted on 2001-01-24 06:25:00 by hutch--</div>
   </div>
   <div class="post" id="post-190126">
    <div class="subject"><a href="#post-190126">WINDOWS.INC 1.23 and /Fl?</a></div>
    <div class="body">Sorry. It's my fault alone. I added more stuff to windows.inc and didn't check it carefully enough. That bug is now corrected. I'll put it on my site (and hutch's).</div>
    <div class="meta">Posted on 2001-01-26 02:56:00 by Iczelion</div>
   </div>
  </div>
 </body>
</html>
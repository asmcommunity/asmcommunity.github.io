<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Window fozen? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27130" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27130">Window fozen?</a></p>
   <div class="post" id="post-194710">
    <div class="subject"><a href="#post-194710">Window fozen?</a></div>
    <div class="body">I have made a demo program I am
going to post the source for
as an example for others, and
it compress's many files into
one ZIP file, it does real well
the one problem is you can't
move the window while it is
working on the adding files
and zipping them. does anyone
know what would couse this?
it seems to ignore all WM_ message's
maybe I need to make a thread?

The windows does not repaint itself
and seems to just be locked there
untill it is done. I does update
the progress of what it is doing
but thats it.


This message was edited by Zcoder, on 3/6/2001 6:12:04 PM</div>
    <div class="meta">Posted on 2001-03-06 18:06:00 by Zcoder</div>
   </div>
   <div class="post" id="post-194711">
    <div class="subject"><a href="#post-194711">Window fozen?</a></div>
    <div class="body">You've just hit on why some apps NEED multiple threads.

Somehow you hit a button, menu, whatever, and some window message gets sent, and inside your Winproc you set off your zip files method.

Zipping thats conciderable time. Meanwhile, your whole app is sitting there doing the zip method. No CPU cycles are left over to process any more messages (like DRAG THE WINDOW or such).

So, what you need do is spawn a new worker thread to do the zipping. This leaves your user interface thread (IE, the message loop) free to process more messages. And your interface remains responsive.

See  Iczelion's Tutorial #15 about how to accomplish this.</div>
    <div class="meta">Posted on 2001-03-06 18:25:00 by Ernie</div>
   </div>
   <div class="post" id="post-194712">
    <div class="subject"><a href="#post-194712">Window fozen?</a></div>
    <div class="body">Hey that did the trick. To tell you
the truth, I tried making a thread
but it did not work right, but after
looking over a small example I see what
I did wrong, this Zip demo I am making
now works great, I will be posting it
as soon as I make the unzip part. what good
if a zip program if you can unzip it? I know
you can use any zip program but not on this
zip archive, I really don't have INFO on the
standard ZIP's so I know it would not work
with other zip program. I made my own archive
structure, and it seems to work ok. I could
make them Zip compadible if I knew the structure
of a zip file. the commpression method I am using
is the Zip type but the Zip library or archive
what ever you want to cal it is not the same.
anyone know where this info is? it would help
to make this demo in asm alot better..

Thanks again.....</div>
    <div class="meta">Posted on 2001-03-06 19:43:00 by Zcoder</div>
   </div>
   <div class="post" id="post-194713">
    <div class="subject"><a href="#post-194713">Window fozen?</a></div>
    <div class="body">You'd probably like to have a look at the infozip project.
100% pkzip compatible, freeware, with C sources. Can't remember
URL, but should easy to find on a websearch.</div>
    <div class="meta">Posted on 2001-03-07 06:24:00 by f0dder</div>
   </div>
   <div class="post" id="post-194714">
    <div class="subject"><a href="#post-194714">Window fozen?</a></div>
    <div class="body">try taking a look at:

www.wotsit.org

in the "Archive Files" section.... it's near the end of the second page :>


(you can also download directly from 
	www.wotsit.org/download.asp?f=zip_form
but there's lots of other useful infos on the too :> )</div>
    <div class="meta">Posted on 2001-03-07 06:52:00 by Tedd</div>
   </div>
  </div>
 </body>
</html>
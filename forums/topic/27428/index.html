<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>bltFast - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27428" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27428">bltFast</a></p>
   <div class="post" id="post-196249">
    <div class="subject"><a href="#post-196249">bltFast</a></div>
    <div class="body">i have a question do i need to lock the surface when i'm using bltfast?






------------------------------------------------------
You can kill a thousand; you can bring an end to life; you cannot kill an idea. 
-------------------------------------------------</div>
    <div class="meta">Posted on 2001-03-28 11:47:00 by eko</div>
   </div>
   <div class="post" id="post-196250">
    <div class="subject"><a href="#post-196250">bltFast</a></div>
    <div class="body">Windows SDK docu says:

<em>This method works only on display memory surfaces and cannot clip when blitting.</em>

That means (I think so :confused: ) - bltfast seems to be independend from locking surfaces, but must be a surface with
display memory caps.</div>
    <div class="meta">Posted on 2001-03-28 12:52:00 by beaster</div>
   </div>
   <div class="post" id="post-196251">
    <div class="subject"><a href="#post-196251">bltFast</a></div>
    <div class="body">No, u dont have to lock surfaces if you do Blt or BltFast...but dont just blit...
pseudo code:
while(TRUE){

 HRESULT error = Blt/BltFast...
 if error = DD_Ok {return}
 if error = DDERROR_SURFACELOST {your function where you restore and reload all surfaces!}
 if error = ...etc..check your .doc from directx sdk


}

this way you do it the right way...
bye</div>
    <div class="meta">Posted on 2001-03-28 16:58:00 by Geecko</div>
   </div>
   <div class="post" id="post-196252">
    <div class="subject"><a href="#post-196252">bltFast</a></div>
    <div class="body">If you want to write your own blitter, get the value from:

(DDSURFACEDESC).lpSurface

You must use an lock/unlock sequnce to get this value, but after that its yours.  Microsoft, however will tell you to only access your surface between lock/unlock calls.  I do know of one pc game in '98 that use above method of lock/unlocking once to get the pointers to the surfaces.  So it must be pretty stable to do it the non-MS way.</div>
    <div class="meta">Posted on 2001-03-28 17:10:00 by asm_happy</div>
   </div>
   <div class="post" id="post-196253">
    <div class="subject"><a href="#post-196253">bltFast</a></div>
    <div class="body">but then again Blt and Bltfast (not so fast IMHO) will implicit lock the surfaces on whitch they blit

So no you dont have to lock Blt will do the lock for you :)</div>
    <div class="meta">Posted on 2001-03-28 21:46:00 by BogdanOntanu</div>
   </div>
  </div>
 </body>
</html>
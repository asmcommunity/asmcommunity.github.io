<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Idle - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26635" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26635">Idle</a></p>
   <div class="post" id="post-192410">
    <div class="subject"><a href="#post-192410">Idle</a></div>
    <div class="body">What's the best method to figure out when the computer is relatively idle on startup so my program can begin a specific task.</div>
    <div class="meta">Posted on 2001-01-19 18:28:00 by martin</div>
   </div>
   <div class="post" id="post-192411">
    <div class="subject"><a href="#post-192411">Idle</a></div>
    <div class="body">If you set your process priority via 

invoke GetCurrentProcess
invoke SetPriorityClass ,eax,IDLE_PRIORITY_CLASS

then you process does still get a timeslice, just it is serevry reduced when other applications are processing a new message from there message queue. 

Also you could get your app to 'sleep' when it first starts if you are getting it to start from the registry for a specified number of seconds, this allow for a bit of waiting while most other app finish there disk reading.</div>
    <div class="meta">Posted on 2001-01-19 19:58:00 by X </div>
   </div>
   <div class="post" id="post-192412">
    <div class="subject"><a href="#post-192412">Idle</a></div>
    <div class="body">I see what you mean. What I would look for is a way to monitor CPU load. I've seen this done before in asm as well as commercial products like Norton System Doctor. Then when it drops below your preset threashold you let your app start it's work. 

It is true that some computers take seconds to load while others take minutes so a preprogrammed delay wouldn't be very efficient...
See ya,
Ben</div>
    <div class="meta">Posted on 2001-01-19 23:17:00 by cyberben </div>
   </div>
  </div>
 </body>
</html>
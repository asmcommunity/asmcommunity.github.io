<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>help converting hex to int - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30714" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30714">help converting hex to int</a></p>
   <div class="post" id="post-215258">
    <div class="subject"><a href="#post-215258">help converting hex to int</a></div>
    <div class="body">I have the following code to convert a command line argument (null terminated string) to integer from hex. I have trouble finding the correct algorithm to implement this. I know it&#039;s a sloppy code, but it helps me understand. Any pointers? <br />I know something is off because the max is 250  and entering FA gives an error. :(<br /><pre><code><br />	mov	ebx, dword	; 2nd arg<br /><br />loop:	<br /><br />	mov	al, byte<br /><br />	<br /><br />	cmp	al, &quot;0&quot;<br /><br />	jl	erronR1Value<br /><br />	cmp	al, &quot;9&quot;<br /><br />	jg	checkletters<br /><br />	jmp	wasdigit<br /><br />checkletters:<br /><br />	cmp	al, &quot;A&quot;<br /><br />	jl	erronR1Value<br /><br />	cmp	al, &quot;F&quot;<br /><br />	jg	checklower<br /><br />	jmp	wasupper<br /><br />checklower:<br /><br />	cmp	al, &quot;a&quot;<br /><br />	jl	erronR1Value<br /><br />	cmp	al, &quot;f&quot;<br /><br />	jg	erronR1Value<br /><br />	sub	al, 61h<br /><br />	add	al, 10<br /><br />	jmp	convloop<br /><br /><br /><br />wasdigit:<br /><br />	sub	al, 30h<br /><br />	jmp	convloop<br /><br />wasupper:<br /><br />	sub	al, 41h<br /><br />	add	al, 10<br /><br />	jmp	convloop<br /><br />convloop:<br /><br />	mov	edx, dword 	; radius 1 address. must store int value in .<br /><br />	shl	, 4		; multiply by 16<br /><br />	add	, al<br /><br />	inc	ecx<br /><br />	add	ebx, 1	<br /><br />	cmp	byte, NULL<br /><br />	jne	loop<br /><br /></code></pre></div>
    <div class="meta">Posted on 2011-10-20 22:33:32 by s0526</div>
   </div>
   <div class="post" id="post-215259">
    <div class="subject"><a href="#post-215259">Re: help converting hex to int</a></div>
    <div class="body">Nevermind. got it! I&#039;d delete this, but I don&#039;t know how. :(</div>
    <div class="meta">Posted on 2011-10-21 01:01:57 by s0526</div>
   </div>
   <div class="post" id="post-215261">
    <div class="subject"><a href="#post-215261">Re: help converting hex to int</a></div>
    <div class="body">Only staff can remove posts - the reason is so that others can learn from your stumble - so post how you did it!</div>
    <div class="meta">Posted on 2011-10-21 09:54:38 by Homer</div>
   </div>
  </div>
 </body>
</html>
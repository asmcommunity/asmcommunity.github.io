<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Initilizing a structure that contains a union? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14831" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14831">Initilizing a structure that contains a union?</a></p>
   <div class="post" id="post-115110">
    <div class="subject"><a href="#post-115110">Initilizing a structure that contains a union?</a></div>
    <div class="body">Example:<br /><pre><code><br />foo STRUC<br />UNION<br />	data	dd	?<br />ENDS<br />foo ENDS<br /><br />.data<br /><br />	bar		foo &#123;10&#125;<br /></code></pre><br />I get 2 errors.<br /><br />A2138 invalid data initializer<br />A2036 too many initial values for structure: structure<br /><br />I tried naming the UNION, but that does not work.<br /><br />Any ideas? Thanks.</div>
    <div class="meta">Posted on 2003-08-23 12:49:03 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-115112">
    <div class="subject"><a href="#post-115112">Initilizing a structure that contains a union?</a></div>
    <div class="body">Unions are initialized in their own angle brackets i.e.:<br /><pre><code>TestUnions Struct<br />	f0	dd ?<br />	UNION<br />		f1	dd ?<br />		f2	dd ?<br />	ENDS<br />TestUnions ends<br />.data<br />tu	TestUnions &lt;1,&lt;3&gt;&gt;<br /><br />TestUnions Struct<br />	UNION<br />		f1	dd ?<br />		f2	dd ?<br />	ENDS<br />TestUnions ends<br />.data<br />tu	TestUnions &lt;&lt;3&gt;&gt;<br /></code></pre></div>
    <div class="meta">Posted on 2003-08-23 12:57:30 by donkey</div>
   </div>
   <div class="post" id="post-115116">
    <div class="subject"><a href="#post-115116">Initilizing a structure that contains a union?</a></div>
    <div class="body">Thank you.<br /><br /><br />With as much structure mangling as I've been doing, I'm suprised I never ran into this problem before.<br /><br /><br />The double brackets did the trick &lt;&lt;  &gt;&gt;</div>
    <div class="meta">Posted on 2003-08-23 14:15:45 by ThoughtCriminal</div>
   </div>
  </div>
 </body>
</html>
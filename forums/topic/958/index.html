<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Question for those who use Bochs - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=958" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=958">Question for those who use Bochs</a></p>
   <div class="post" id="post-6202">
    <div class="subject"><a href="#post-6202">Question for those who use Bochs</a></div>
    <div class="body">Hello,<br /><br />I have a bin file from my NASM boot loader. I want to write it to a hard drive img used by Bochs and have it boot up. Can anyone tell me how to do that?<br /><br />Im on WindowsME. I dont have access to spiffy Linux hehe :).<br /><br />Thanks!<br /><br />Torch</div>
    <div class="meta">Posted on 2001-09-04 20:50:16 by Torch</div>
   </div>
   <div class="post" id="post-6286">
    <div class="subject"><a href="#post-6286">Question for those who use Bochs</a></div>
    <div class="body">Here are two options that I can think of:<br />&amp;bull; Use debug to load the image, then do a sector write<br />&amp;bull; Look up rawrite.exe (DOS port of a Linux utillity.)</div>
    <div class="meta">Posted on 2001-09-05 13:55:22 by eet_1024</div>
   </div>
   <div class="post" id="post-6296">
    <div class="subject"><a href="#post-6296">Question for those who use Bochs</a></div>
    <div class="body">I thought RaWrite only writes imgs to floppies?<br /><br />I have gotten by with writing the bin to a floppy and then imaging the floppy, but thats alot of work to test small changes. I want to write it to the hd img.. which is 10 megs (I dont need anything big.. it's a small OS right now). <br /><br />How would I use your suggestions?</div>
    <div class="meta">Posted on 2001-09-05 17:06:52 by Torch</div>
   </div>
   <div class="post" id="post-6305">
    <div class="subject"><a href="#post-6305">Question for those who use Bochs</a></div>
    <div class="body">if you want only to test your bin file, why would u write (or insert) your binary file to &quot;hd.img&quot;, why wouldn't u just try to produce a floppy image from a bin file, by appending '\0' or something else, to fit the 1,44 M.<br /><br />if u want, i'll send u the prog that does it, u just type<br /><br />prog test.bin<br /><br />and it will produce a &quot;a.img&quot; file, that u can run in bochs a floppy image.</div>
    <div class="meta">Posted on 2001-09-05 19:20:46 by Sabeel</div>
   </div>
   <div class="post" id="post-6306">
    <div class="subject"><a href="#post-6306">Question for those who use Bochs</a></div>
    <div class="body">Send please :)<br /><br /><a href="mailto:phantom2023@hotmail.com">phantom2023@hotmail.com</a></div>
    <div class="meta">Posted on 2001-09-05 19:33:32 by Torch</div>
   </div>
   <div class="post" id="post-6310">
    <div class="subject"><a href="#post-6310">Question for those who use Bochs</a></div>
    <div class="body">Try to see if you can find a dos or win32 port of &quot;mtools&quot;, that makes<br />work with images much easier (I think it support HD images as well<br />as floppy images).</div>
    <div class="meta">Posted on 2001-09-05 20:58:02 by f0dder</div>
   </div>
   <div class="post" id="post-6326">
    <div class="subject"><a href="#post-6326">Question for those who use Bochs</a></div>
    <div class="body">All known links are dead for the dos port.. all thats left is the Linux stuff. I havent found a working link yet.. and Ive been looking for 2 days hehe</div>
    <div class="meta">Posted on 2001-09-06 05:11:28 by Torch</div>
   </div>
   <div class="post" id="post-6329">
    <div class="subject"><a href="#post-6329">Question for those who use Bochs</a></div>
    <div class="body">Partcopy might do the trick.<br /><br />Just search for &quot;john fine partcopy&quot; or something like that.</div>
    <div class="meta">Posted on 2001-09-06 06:08:57 by Ahner</div>
   </div>
   <div class="post" id="post-6386">
    <div class="subject"><a href="#post-6386">Question for those who use Bochs</a></div>
    <div class="body">I have Partcopy.. Ive only used it to write to floppies.<br /><br />It does write to img files, but when I write it to offset 0 (I assume thats where..) Bochs crashes. Am I doing something wrong? The bin is a standard 512 bytes.<br /><br />Could someone show me what to do? :)<br /><br />Thanks!<br /><br />Torch</div>
    <div class="meta">Posted on 2001-09-06 17:24:31 by Torch</div>
   </div>
   <div class="post" id="post-6403">
    <div class="subject"><a href="#post-6403">Question for those who use Bochs</a></div>
    <div class="body">here is it, check the source it is written in C++(-) though it easy to decipher...</div>
    <div class="meta">Posted on 2001-09-06 19:11:17 by Sabeel</div>
   </div>
   <div class="post" id="post-6406">
    <div class="subject"><a href="#post-6406">Question for those who use Bochs</a></div>
    <div class="body">Its C.. no C++ in it :)<br /><br /><br />It looks similar to my boot disk writer I wrote.. never thought about having it write to a floppy img *smacks himself on the forehead* hehe :).<br /><br />My crashing problem with Bochs still hasnt been resolved. Boot floppy images work, partcopying to the hd img doesnt want to work.. Im probably doing something wrong with it though.<br /><br /><br />Any ideas?<br /><br />Torch</div>
    <div class="meta">Posted on 2001-09-06 19:31:50 by Torch</div>
   </div>
   <div class="post" id="post-6407">
    <div class="subject"><a href="#post-6407">Question for those who use Bochs</a></div>
    <div class="body">Torch:<br />Now I dont use bochs, but if the hd.img file is an exact replica of a hd, i.e. if at offset 0 in the img file there is a mbr, you would destroy the partition entries by writing 512 bytes. Try writing only 446 bytes.</div>
    <div class="meta">Posted on 2001-09-06 19:35:37 by Ahner</div>
   </div>
   <div class="post" id="post-6410">
    <div class="subject"><a href="#post-6410">Question for those who use Bochs</a></div>
    <div class="body"><a target="_blank" href="http://bochs.sourceforge.net">http://bochs.sourceforge.net</a><br /><br />You can get it there.<br /><br />Here is my boot.bin.. It doesnt do anything put show a message heh.. dont laugh :).. Im only starting :).<br /><br />I also added the bochsrc that Bochs uses to find out what to do. <br /><br />See what you can come up with when you have time :).</div>
    <div class="meta">Posted on 2001-09-06 19:52:48 by Torch</div>
   </div>
   <div class="post" id="post-6411">
    <div class="subject"><a href="#post-6411">Question for those who use Bochs</a></div>
    <div class="body">in your &quot;bochsrc.txt&quot; i saw  this two lines ...<br /><br /># choose the boot disk.<br />boot: a<br /><br />then bochs, will look for  &quot;floopya.img&quot; as the config file states<br />floppya: 1_44=floppya.img, status=inserted<br /><br />u get to run my proggy, to produce u  file called &quot;a.img&quot;<br /><br />- change this line <br />floppya: 1_44=floppya.img, status=inserted<br /><br />- to <br />floppya: 1_44=a.img, status=inserted<br /><br />and if your boot sector &quot;boot.bin&quot; is right, u'll get it works<br /><br />try with my boot file, to see what wrong with yours, it's written in TASM</div>
    <div class="meta">Posted on 2001-09-06 20:33:30 by Sabeel</div>
   </div>
   <div class="post" id="post-6412">
    <div class="subject"><a href="#post-6412">Question for those who use Bochs</a></div>
    <div class="body">I figured out the problem..<br /><br />I hadnt formatted the img file with fdisk. But what's weird is that when I part copy.. the file is the exact same thing whether I formatted and part copied, or I didnt format and part copied :/.. The formatted and part copied boots, but the other one doesnt even though its the same file heh.. weird :/</div>
    <div class="meta">Posted on 2001-09-06 20:39:19 by Torch</div>
   </div>
  </div>
 </body>
</html>
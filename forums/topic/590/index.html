<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Address problems - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=590" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=590">Address problems</a></p>
   <div class="post" id="post-3554">
    <div class="subject"><a href="#post-3554">Address problems</a></div>
    <div class="body">Hi,<br /><br />With the masm &quot;ADDR&quot; operator in the invoke syntax<br />it's easy to pass addresses to procedures,<br />but what do i do if i only want to store the address<br />of an variable in a register?<br /><br />&quot;mov eax,ADDR var&quot; doesn't work.<br />Is &quot;mov eax,OFFSET var&quot; really the same in all cases<br />(flat memory model, of course :) )?<br /><br />And what about LOCAL variables in procedures,<br />the offset operator isn't working for them.<br />I've only a temporay solution: a procedure wich returns the address passed to it. :(<br /><br />Hope somebody can help me with this basic questions.</div>
    <div class="meta">Posted on 2001-08-12 11:19:36 by Robert</div>
   </div>
   <div class="post" id="post-3555">
    <div class="subject"><a href="#post-3555">Address problems</a></div>
    <div class="body">offset will only work for global data. The offsets of local data are not<br />known at compile time, because of the nature of the stack....<br />If you want to have the address of a stack variable in a register,<br />use the friendly LEA instruction :)</div>
    <div class="meta">Posted on 2001-08-12 11:25:33 by f0dder</div>
   </div>
   <div class="post" id="post-3556">
    <div class="subject"><a href="#post-3556">Address problems</a></div>
    <div class="body">Of course, i forgot locals are on the stack - so it couldn't work!<br /> :stupid: <br /><br />Thnx :)</div>
    <div class="meta">Posted on 2001-08-12 11:42:39 by Robert</div>
   </div>
  </div>
 </body>
</html>
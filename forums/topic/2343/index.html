<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Howto set the priority of a running thread or process - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2343" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2343">Howto set the priority of a running thread or process</a></p>
   <div class="post" id="post-14924">
    <div class="subject"><a href="#post-14924">Howto set the priority of a running thread or process</a></div>
    <div class="body">Hi<br /><br />I know how I can set the Scheduling-priority with CreateProcess if I want to start a new process, but how can I change the priority of my currently running app?<br /><br />Thanks.</div>
    <div class="meta">Posted on 2001-12-14 04:45:58 by nyook</div>
   </div>
   <div class="post" id="post-14928">
    <div class="subject"><a href="#post-14928">Howto set the priority of a running thread or process</a></div>
    <div class="body">Use the SetPriorityClass() API function. Check out the doco for it <u><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dllproc/prothred_9z1v.asp">here</a></u>. Note that you options are different depending on what version of Windoze you are running.</div>
    <div class="meta">Posted on 2001-12-14 05:10:28 by sluggy</div>
   </div>
   <div class="post" id="post-14931">
    <div class="subject"><a href="#post-14931">Howto set the priority of a running thread or process</a></div>
    <div class="body">Thank you very much!<br /><br />What about using realtime priority for a file compressor? I dont think this makes much sense, because I believe it can have an affect to the stability.<br />So I think Highpriority is enough, it can consume a lot of cpu time, too.<br /><br />What do you think?</div>
    <div class="meta">Posted on 2001-12-14 05:56:37 by nyook</div>
   </div>
   <div class="post" id="post-14934">
    <div class="subject"><a href="#post-14934">Howto set the priority of a running thread or process</a></div>
    <div class="body">Using realtime shouldn't cause any problem, but OTOH you shouldn't really need to set it. The only thing i would set to realtime is Winamp or some other media player, and then i would only do that if i had some other heavy process going on, like a huge unzip process, or a long virus scan.</div>
    <div class="meta">Posted on 2001-12-14 06:49:30 by sluggy</div>
   </div>
   <div class="post" id="post-14941">
    <div class="subject"><a href="#post-14941">Howto set the priority of a running thread or process</a></div>
    <div class="body">i see.<br /><br />How much can it affect the filetransfer speed? (From normal-p to high-p)? I don't think very much. But it will have a noteable improvement on compression algorithms, won't it?</div>
    <div class="meta">Posted on 2001-12-14 07:44:57 by nyook</div>
   </div>
   <div class="post" id="post-14944">
    <div class="subject"><a href="#post-14944">Howto set the priority of a running thread or process</a></div>
    <div class="body">File transfer is dog slow, no matter what medium you use.<br /><br />Modems - 56 kbits per second<br />*DSL - 512 kbits per second<br />HDD - 33  Mbytes per second<br /><br />Processor bandwidth 2.1 Gbytes per second :D<br /><br />You cannot hope to saturate the processor with any file transfer, unless you are doing about a million of them (even then you'll clog the PCI bus before you strain the processor).<br />You could need real-time priority if you really tried hard enough (transfer half your memory to the other half repeatedly, while reading a floppy disk, your hdd, CD-ROM, and a Zip disk, then deposting random data to the texture memory of your GFX card over an AGPx4 bus, all that while hosting an ultra popular web-site over a T1 line, but other than that.....).<br /><br />Basically don't worry about it! You'll suffer more from data loss and noise than your processor chokeing up.<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-12-14 08:26:31 by Mirno</div>
   </div>
   <div class="post" id="post-14945">
    <div class="subject"><a href="#post-14945">Howto set the priority of a running thread or process</a></div>
    <div class="body">But it has an effect on compression, yes?</div>
    <div class="meta">Posted on 2001-12-14 08:32:41 by nyook</div>
   </div>
   <div class="post" id="post-14947">
    <div class="subject"><a href="#post-14947">Howto set the priority of a running thread or process</a></div>
    <div class="body">It will have an effect on the speed of the compression, but the data will still get sent at the same rate. All you need to make sure is that the compression is faster than the send rate, then your pipeline will always be full.<br /><br />Once you are at this situation, it doesn't really matter how much faster you compress (at least in terms of the file transfer). I'm not sure how good the task scheduler is in Windows, but it should pause a task that cannot do anything because of a stall (say sending data), so it being any higher priority will not affect it (other than it filling the send buffer a micro second sooner).<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-12-14 09:03:24 by Mirno</div>
   </div>
   <div class="post" id="post-14959">
    <div class="subject"><a href="#post-14959">Howto set the priority of a running thread or process</a></div>
    <div class="body">Ok, but if I have more CPU time left, I can use a compression which uses more CPU time, without slowing down the speed i send the data.<br /><br /><br />Thanks to you all for your advice, you will be noticed if I am done with my progg =)</div>
    <div class="meta">Posted on 2001-12-14 10:57:31 by nyook</div>
   </div>
   <div class="post" id="post-15023">
    <div class="subject"><a href="#post-15023">Howto set the priority of a running thread or process</a></div>
    <div class="body">I think i understand what you are getting at, you want to change the type of compression based on what cpu the user has, and what speed it is running at, etc.<br /><br />IMHO, you are being too nice to the user by worrying about this sort of thing (at work, i have a business analyst who is always nagging me to be nicer/friendlier to the user with my applications ;().<br /><br />As Mirno was saying, the only way that you are going to be able to transmit at a speed that exceeds the compression rate is if the user is running an old 286 or something :)</div>
    <div class="meta">Posted on 2001-12-15 05:17:55 by sluggy</div>
   </div>
   <div class="post" id="post-15041">
    <div class="subject"><a href="#post-15041">Howto set the priority of a running thread or process</a></div>
    <div class="body">RealTime priority is a dangerous beast. You can basically lock up your<br />system with it. Why anybody would set eg winamp to realtime priority<br />confuses me... just make sure the winamp decode buffers are sensibly<br />large.<br /><br />I would keep a compression thread at NORMAL priority. That way it<br />will have the least effect on the responsiveness of the system. Changing<br />the thread priority shouldn't really make the compression any faster...<br />compression tends to be pretty slow and compute-intensive, so<br />you'd just get a sluggish system by increasing thread priority, while<br />doing the compression perhaps... what... 1 second faster?<br /><br />As for boosting priority, dunno really. Might want to boost it a bit<br />for important threads in a game.</div>
    <div class="meta">Posted on 2001-12-15 08:35:00 by f0dder</div>
   </div>
  </div>
 </body>
</html>
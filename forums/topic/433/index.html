<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Math in asm. How do I.... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=433" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=433">Math in asm. How do I....</a></p>
   <div class="post" id="post-2473">
    <div class="subject"><a href="#post-2473">Math in asm. How do I....</a></div>
    <div class="body">Take a number such as $05e4 hex (1508 decimal)<br />I want to divide it by $0FFF hex (4096 decimal)<br />with a result of  $????   hex    (.3681640625 decimal)<br /><br />Then i want to multiply the result by $01Eh (30 decimal)<br />for a final result of 11.044921875<br /><br />I cant seem to make it work in intel asm. my windoze calc can do it, VB can do it... How do i do it in asm??  Dont really need 9 decimal places, somthing close would be ok. Can someone code up a routine for me or show me how to do it? <br />Help, I am stuck in math MuD. <br /><br />SD.</div>
    <div class="meta">Posted on 2001-07-30 10:35:57 by SirDan</div>
   </div>
   <div class="post" id="post-2486">
    <div class="subject"><a href="#post-2486">Math in asm. How do I....</a></div>
    <div class="body">IF you want decimal places in your answer then you have to use the FPU. Heres a simple example.<br /><br />.data<br />Val1 dd 1508.0f<br />Val2 dd 4096.0f<br />Val3 dd 30.0f<br /><br />.data?<br />Ans dd ?<br /><br />.code<br />finit  ; Prepare FPU<br />fld Val1   ; Load 1508 onto FPU stack<br />fdiv Val2   ; Divide by 4096<br />fmul Val3 ; Multiply by 30<br />fstp Ans ;Place answer in Ans <br /><br />Find two basic tutorials for the FPU <a target="_blank" href="http://uk.internations.net/gameasm/tutorial.htm">here</a></div>
    <div class="meta">Posted on 2001-07-30 12:24:16 by Eóin</div>
   </div>
   <div class="post" id="post-2535">
    <div class="subject"><a href="#post-2535">Math in asm. How do I....</a></div>
    <div class="body">Thats great thanks!!<br /><br />SD</div>
    <div class="meta">Posted on 2001-07-31 04:02:50 by SirDan</div>
   </div>
   <div class="post" id="post-167896">
    <div class="subject"><a href="#post-167896">Re: Math in asm. How do I....</a></div>
    <div class="body">you can do it without a FPU and with decimal places, but in that case you have to &quot;learn&quot; your computer basic math like you did in your very first year at school. In Europe we call it basic school. (around 6-7-8 years old)<br /><br />exp:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  1 2 . 3 4<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  x&nbsp;  1 7<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; -- -----------------<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 8&nbsp; 6&nbsp; 3&nbsp; 8<br />&nbsp; &nbsp; &nbsp;  +&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 1&nbsp; 2&nbsp; 3&nbsp; 4&nbsp; 0<br />&nbsp; &nbsp; &nbsp;  ----------------------------- add the stuff and place your decimal point at the right place. Every decimal digit here must be one in memory too.<br /><br />have fun</div>
    <div class="meta">Posted on 2005-11-14 18:27:59 by raidu</div>
   </div>
   <div class="post" id="post-167954">
    <div class="subject"><a href="#post-167954">Re: Math in asm. How do I....</a></div>
    <div class="body">Just in case Eóin&#39;s link to tutorials go crazy like it did for me, you can have access to the following without any risk:<br /><br />http://www.ray.masmcode.com/index.html#fputut<br /><br />If you don&#39;t want to go to the trouble of learning how to use the FPU yet, you can always use the library of functions available from the same site.<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2005-11-16 22:07:41 by Raymond</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>buttons/edit color help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19032" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19032">buttons/edit color help</a></p>
   <div class="post" id="post-147193">
    <div class="subject"><a href="#post-147193">buttons/edit color help</a></div>
    <div class="body">How can I change the color of buttons or edit boxes ? I have already tried to subclass them and handle WM_PAINT, but is doesn't work. Why did this occur and what is the way to do that ?<br /><br />Thanks</div>
    <div class="meta">Posted on 2004-07-31 14:49:01 by Marginais</div>
   </div>
   <div class="post" id="post-147195">
    <div class="subject"><a href="#post-147195">buttons/edit color help</a></div>
    <div class="body">For the edit control you respond to WM_CTLCOLOREDIT, for the buttons you must use owner draw, you can get a simple example from my website on owner drawn buttons.</div>
    <div class="meta">Posted on 2004-07-31 15:10:06 by donkey</div>
   </div>
   <div class="post" id="post-147203">
    <div class="subject"><a href="#post-147203">buttons/edit color help</a></div>
    <div class="body">But is it necessary to handle WM_CTLCOLOR messages? I know that there is the possibility of using WM_CTLCOLORBTN to change the color of a button, but I wanna get this stuff through subclassing them, since I have to do that anyway if I want to change the appearance of the buttons on WM_PAINT or WM_SETFOCUS.<br /><br />:confused: :confused:</div>
    <div class="meta">Posted on 2004-07-31 19:46:45 by Marginais</div>
   </div>
   <div class="post" id="post-147205">
    <div class="subject"><a href="#post-147205">buttons/edit color help</a></div>
    <div class="body">Hi,<br /><br />You will find that WM_CTLCOLORBTN does not work as you might expect, you will have to go the route of owner drawn buttons or you will have no end of troubles. For the edit control, WM_CTLCOLOREDIT is the simplest way to do it, either that or write your own edit control. You can also use a richedit control and set the background color. Doing the edit color in a subclass is difficult to say the least as the text is drawn opaque so it will simply erase any color you use in WM_ERASEBKGND or WM_PAINT. You could superclass the edit then have it subclass it's own parent and process the WM_CTLCOLOREDIT internally, bit of a waste though seeing that the message is easy enough to process. If you want to go the superclassing route you might have a look at this, though I find it unecessarily cumbersome...</div>
    <div class="meta">Posted on 2004-07-31 23:31:07 by donkey</div>
   </div>
  </div>
 </body>
</html>
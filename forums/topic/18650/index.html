<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Which registers should be saved? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18650" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18650">Which registers should be saved?</a></p>
   <div class="post" id="post-144485">
    <div class="subject"><a href="#post-144485">Which registers should be saved?</a></div>
    <div class="body">I have a problem in the following code. In the WndProc I call a procedure written by myself, but my program crashes every time, I change my windows size. If I put the PUSHA and POPA instructions to save the registers in my procedure (MoveDlgControls), the program works fine.<br /><br />Interesting is that the program works well under XP without PUSHA/POPA, I have problem only with Win9x, NT and 2k.<br /><br />I would like to ask, which registers should I save in my procedures? Why is this problem. If I debug my program, the exception occurs, after exiting the WndProc, so the error does not appear directly in the MoveDlg Control procedure or in WndProc.<br /><pre><code>  ; ## Resize Message<br />  .elseif eax==WM_WINDOWPOSCHANGED<br />    mov ebx,lParam<br />    .if !&#40;&#91;ebx+WINDOWPOS.flags&#93;&amp;SWP_NOSIZE&#41;<br />      invoke GetDlgItem,hDlg,IDC_MYIMCLIENT_SBR1<br />      invoke MoveWindow,eax,0,0,0,0,FALSE<br />      invoke GetDlgItem,hDlg,IDC_MYIMCLIENT_TBR1<br />      invoke MoveWindow,eax,0,0,0,0,FALSE<br />      &#91;B&#93;invoke MoveDlgControls               ; Problematic procedure&#91;/B&#93;<br />      invoke InvalidateRect,hDlg,NULL,TRUE<br />      invoke UpdateWindow,hDlg<br />    .endif<br /><br />...<br /><br />MoveDlgControls proc<br />  LOCAL Rect&#58;RECT<br />  LOCAL DeltaW,DeltaH&#58;DWORD<br /><br />  &#91;B&#93;pusha                               ; If I don't put this I obtain exception&#91;/B&#93;<br />  invoke GetWindowRect,hDlg,addr Rect<br />  mov  eax,Rect.right<br />  sub  eax,Rect.left<br />  sub  eax,550<br />  mov  DeltaW,eax<br />  mov  eax,Rect.bottom<br />  sub  eax,Rect.top<br />  sub  eax,450<br />  mov  DeltaH,eax<br />  ; Moving the Message List View<br />  invoke GetDlgItem,hDlg,IDC_MYIMCLIENT_LSV1<br />  mov  edx,DeltaW<br />  add  edx,417<br />  push edx<br />  mov  ebx,DeltaH<br />  add  ebx,233<br />  invoke MoveWindow,eax,9,33,edx,ebx,FALSE<br />  ; Moving the Group Control<br />  invoke GetDlgItem,hDlg,IDC_MYIMCLIENT_GRP1<br />  pop  edx<br />  mov  ebx,DeltaH<br />  add  ebx,274<br />  invoke MoveWindow,eax,9,ebx,edx,89,FALSE<br />  &#91;B&#93;popa                                ; If I don't put this I obtain exception&#91;/B&#93;<br />  ret<br /><br />MoveDlgControls endp</code></pre><br />Dr. Watson on NT generates the following log:<br /><pre><code>Application exception occurred&#58;<br />        App&#58;  &#40;pid=64&#41;<br />        When&#58; 6/22/2004 @ 12&#58;12&#58;14.184<br />        Exception number&#58; c0000005 &#40;access violation&#41;<br /><br />*----&gt; System Information &lt;----*<br />        Computer Name&#58; KICSI<br />        User Name&#58; Administrator<br />        Number of Processors&#58; 1<br />        Processor Type&#58; x86 Family 5 Model 8 Stepping 0<br />        Windows Version&#58; 4.0<br />        Current Build&#58; 1381<br />        Service Pack&#58; 6<br />        Current Type&#58; Uniprocessor Free<br /><br />*----&gt; Task List &lt;----*<br />   0 Idle.exe<br />   2 System.exe<br />  20 SMSS.exe<br />  26 CSRSS.exe<br />  34 WINLOGON.exe<br />  40 SERVICES.exe<br />  43 LSASS.exe<br />  69 SPOOLSS.exe<br />  42 rpcss.exe<br />  46 DKService.exe<br />  95 Navapsvc.exe<br /> 102 PSTORES.exe<br />  79 nddeagnt.exe<br /> 120 mstask.exe<br /> 124 EXPLORER.exe<br /> 107 systray.exe<br /> 135 LOADWC.exe<br /> 143 Navapw32.exe<br /> 145 internat.exe<br />  64 MyIMClient.exe<br />  72 DRWTSN32.exe<br />   0 _Total.exe<br /><br />&#40;00400000 - 00400000&#41; <br />&#40;77f60000 - 77fbf000&#41; dll\ntdll.dbg<br />&#40;77e70000 - 77ec2000&#41; dll\user32.dbg<br />&#40;77f00000 - 77f5f000&#41; dll\kernel32.dbg<br />&#40;78140000 - 78175000&#41; dll\gdi32.dbg<br />&#40;77dc0000 - 77dff000&#41; dll\advapi32.dbg<br />&#40;77e10000 - 77e67000&#41; dll\rpcrt4.dbg<br />&#40;71710000 - 71794000&#41; dll\comctl32.dbg<br />&#40;77d80000 - 77db2000&#41; dll\comdlg32.dbg<br />&#40;77c40000 - 77d7b000&#41; dll\shell32.dbg<br />&#40;776b0000 - 776c4000&#41; dll\ws2_32.dbg<br />&#40;78000000 - 78044000&#41; <br />&#40;776a0000 - 776a7000&#41; dll\ws2help.dbg<br />&#40;76aa0000 - 76aa6000&#41; dll\indicdll.dbg<br />&#40;71300000 - 71306000&#41; dll\msidle.dbg<br /><br />State Dump for Thread Id 0x37<br /><br />eax=0048bbe0 ebx=00000144 ecx=000f00d8 edx=fdd17720 esi=00000047 edi=0048bc94<br />eip=77e87010 esp=0012fc78 ebp=0012fca8 iopl=0         nv up ei pl nz na pe nc<br />cs=001b  ss=0023  ds=0023  es=0023  fs=0038  gs=0000             efl=00000202<br /><br /><br />function&#58; CharPrevW<br />        77e86ff1 ff7514           push    dword ptr &#91;ebp+0x14&#93;   ss&#58;0102e6ae=????????<br />        77e86ff4 ff7510           push    dword ptr &#91;ebp+0x10&#93;   ss&#58;0102e6ae=????????<br />        77e86ff7 56               push    esi<br />        77e86ff8 ff75f8           push    dword ptr &#91;ebp-0x8&#93;    ss&#58;0102e6ae=????????<br />        77e86ffb ffd1             call    ecx<br />        77e86ffd 8b4df8           mov     ecx,&#91;ebp-0x8&#93;          ss&#58;0102e6ae=????????<br />        77e87000 8945fc           mov     &#91;ebp-0x4&#93;,eax          ss&#58;0102e6ae=????????<br />        77e87003 e8feb3feff       call    IsWindow+0x84 &#40;77e72406&#41;<br />        77e87008 85c0             test    eax,eax<br />        77e8700a 0f843b070000     je      CharPrevW+0xbf2 &#40;77e8774b&#41;<br />        &#91;COLOR=red&#93;&#91;B&#93;&#91;I&#93;; This address is not in my code&#91;/I&#93;&#91;/B&#93;&#91;/COLOR&#93;<br />FAULT -&gt;77e87010 f6437bc0         test    byte ptr &#91;ebx+0x7b&#93;,0xc0     ds&#58;00efeb4a=?? <br />        77e87014 0f8531070000     jne     CharPrevW+0xbf2 &#40;77e8774b&#41;<br />        77e8701a 83fe2f           cmp     esi,0x2f<br />        77e8701d 774a             ja      CharPrevW+0x510 &#40;77e87069&#41;<br />        77e8701f 83fe2e           cmp     esi,0x2e<br />        77e87022 0f8323070000     jnb     CharPrevW+0xbf2 &#40;77e8774b&#41;<br />        77e87028 83fe19           cmp     esi,0x19<br />        77e8702b 746a             jz      CharPrevW+0x53e &#40;77e87097&#41;<br />        77e8702d 837dfc00         cmp    dword ptr &#91;ebp-0x4&#93;,0x0 ss&#58;0102e6ae=????????<br />        77e87031 0f85df050000     jne     CharPrevW+0xabd &#40;77e87616&#41;<br />        77e87037 83fe10           cmp     esi,0x10<br />        77e8703a 7766             ja      CharPrevW+0x549 &#40;77e870a2&#41;<br /><br />*----&gt; Stack Back Trace &lt;----*<br /><br />FramePtr ReturnAd Param#1  Param#2  Param#3  Param#4  Function Name<br />0012fca8 77e734af 0048bbe0 00000047 00000000 0012fcf0 user32!CharPrevW <br />0012fcd4 77f76563 0012fce4 00000030 0048bbe0 00000047 user32!MBToWCSEx <br />0012fd54 77e87064 0048bbe0 00000112 0000f002 01b60310 ntdll!KiUserCallbackDispatcher <br />0012fda0 77e71dbb 0048bbe0 00000112 0000f002 01b60310 user32!CharPrevW <br />0012fdcc 77f76563 0012fddc 00000018 0048bbe0 00000112 user32!DefWindowProcA <br />0012fe34 77e87064 0048bbe0 000000a1 0000000b 01b60310 ntdll!KiUserCallbackDispatcher <br />0012fe80 77e8b7cc 0048bbe0 000000a1 0000000b 01b60310 user32!CharPrevW <br />0012fe9c 77e71416 000f00d8 000000a1 0000000b 01b60310 user32!DefDlgProcA <br />0012ff08 01b60310 000babb1 00000310 000001b6 00000001 user32!TranslateMessageEx <br /><br />*----&gt; Raw Stack Dump &lt;----*<br />0012fc78  04 00 00 00 00 00 00 00 - e0 bb 48 00 d8 00 0f 00  ..........H.....<br />0012fc88  47 00 01 01 04 00 00 00 - 04 00 00 00 00 00 00 00  G...............<br />0012fc98  e0 bb 48 00 c4 fc 12 00 - d8 00 0f 00 01 00 00 00  ..H.............<br />0012fca8  d4 fc 12 00 af 34 e7 77 - e0 bb 48 00 47 00 00 00  .....4.w..H.G...<br />0012fcb8  00 00 00 00 f0 fc 12 00 - 01 00 00 00 12 01 00 00  ................<br />0012fcc8  e0 bb 48 00 00 00 00 00 - 00 00 00 00 54 fd 12 00  ..H.........T...<br />0012fcd8  63 65 f7 77 e4 fc 12 00 - 30 00 00 00 e0 bb 48 00  ce.w....0.....H.<br />0012fce8  47 00 00 00 00 00 00 00 - d8 00 0f 00 00 00 00 00  G...............<br />0012fcf8  ed 00 00 00 94 00 00 00 - 27 02 00 00 bb 01 00 00  ........'.......<br />0012fd08  16 12 00 00 01 00 00 00 - 3c 6f e8 77 0e 16 e7 77  ........&lt;o.w...w<br />0012fd18  d8 00 0f 00 12 01 00 00 - 02 f0 00 00 10 03 b6 01  ................<br />0012fd28  00 00 00 00 9e 02 00 00 - 01 00 00 00 94 bc 48 00  ..............H.<br />0012fd38  12 01 00 00 e0 bb 48 00 - 44 f2 ea 77 28 0c eb 77  ......H.D..w&#40;..w<br />0012fd48  70 fd 12 00 60 25 e7 77 - a8 c8 48 00 a0 fd 12 00  p...`%.w..H.....<br />0012fd58  64 70 e8 77 e0 bb 48 00 - 12 01 00 00 02 f0 00 00  dp.w..H.........<br />0012fd68  10 03 b6 01 01 00 00 00 - 02 00 00 00 00 00 00 00  ................<br />0012fd78  e0 bb 48 00 be 00 00 00 - 0f 03 00 00 4b 02 00 00  ..H.........K...<br />0012fd88  f1 00 00 00 be 00 00 00 - 71 64 e7 77 60 9a 47 00  ........qd.w`.G.<br />0012fd98  d8 00 0f 00 00 00 00 00 - cc fd 12 00 bb 1d e7 77  ...............w<br />0012fda8  e0 bb 48 00 12 01 00 00 - 02 f0 00 00 10 03 b6 01  ..H.............</code></pre> <br />Sorry for this long post. Thanks in advance for your help</div>
    <div class="meta">Posted on 2004-06-22 04:18:20 by bszente</div>
   </div>
   <div class="post" id="post-144487">
    <div class="subject"><a href="#post-144487">Which registers should be saved?</a></div>
    <div class="body">You should always preserve EBX, ESI and EDI. The fault you have is because EBX was modified.<br /><br /><pre><code>FAULT -&gt;77e87010 f6437bc0         test    byte ptr &#91;&#91;b&#93;&#91;color=red&#93;ebx&#91;/color&#93;&#91;/b&#93;+0x7b&#93;,0xc0 </code></pre></div>
    <div class="meta">Posted on 2004-06-22 04:26:25 by donkey</div>
   </div>
   <div class="post" id="post-144489">
    <div class="subject"><a href="#post-144489">Which registers should be saved?</a></div>
    <div class="body">Thanks donkey wery much.<br />I corrected the problem with your help. But it seems that WinXP is not so sensitive for such register modifications.</div>
    <div class="meta">Posted on 2004-06-22 04:38:08 by bszente</div>
   </div>
   <div class="post" id="post-144493">
    <div class="subject"><a href="#post-144493">Which registers should be saved?</a></div>
    <div class="body">I have one more question: I change the value of the EBX register in the WndProc:<br /><br /><pre><code>.elseif eax==WM_GETMINMAXINFO<br />    mov		&#91;COLOR=red&#93;&#91;B&#93;ebx&#91;/B&#93;&#91;/COLOR&#93;,lParam<br />    mov		&#91;ebx+MINMAXINFO.ptMinTrackSize.x&#93;,IDD_MYIMSERVER_WMIN<br />    mov		&#91;ebx+MINMAXINFO.ptMinTrackSize.y&#93;,IDD_MYIMSERVER_HMIN<br />  ; ## Resize Message<br />  .elseif eax==WM_WINDOWPOSCHANGED<br />    mov &#91;COLOR=red&#93;&#91;B&#93;ebx&#91;/B&#93;&#91;/COLOR&#93;,lParam<br />    .if !&#40;&#91;ebx+WINDOWPOS.flags&#93;&amp;SWP_NOSIZE&#41;<br />      invoke GetDlgItem,hDlg,IDC_MYIMSERVER_SB</code></pre> <br /><br />The code works perfectly. Is it allowed to change the content of the EBX and EDI regsiters in the WndProc ?</div>
    <div class="meta">Posted on 2004-06-22 04:56:28 by bszente</div>
   </div>
   <div class="post" id="post-144497">
    <div class="subject"><a href="#post-144497">Which registers should be saved?</a></div>
    <div class="body">Then the code will not work on win2k.</div>
    <div class="meta">Posted on 2004-06-22 07:18:58 by roticv</div>
   </div>
   <div class="post" id="post-144500">
    <div class="subject"><a href="#post-144500">Which registers should be saved?</a></div>
    <div class="body"><div class="quote"><br />Thanks donkey wery much.<br />I corrected the problem with your help. But it seems that WinXP is not so sensitive for such register modifications. </div><br /><br />Yes, it is. You just were not using instructions that were effected but believe me it will eventually jump up and bite you. You are *required* to preserve EBX,EDI and ESI in all callback functions, ie WndProc, DlgProc etc... Also every API function will preserve them for you so within a callback you can use them and when you make a call to Windows they will be unchanged. You can do this by simply using the USES directive...<br /><br />DlgProc proc uses ebx, edi esi, hwnd, uMsg, wParam, lParam<br /><br />DlgProc endp</div>
    <div class="meta">Posted on 2004-06-22 07:46:55 by donkey</div>
   </div>
   <div class="post" id="post-144501">
    <div class="subject"><a href="#post-144501">Which registers should be saved?</a></div>
    <div class="body">Ok, I understand now, and I will take care of these registers from now one.<br /><br />Thank for your replies.</div>
    <div class="meta">Posted on 2004-06-22 08:01:31 by bszente</div>
   </div>
   <div class="post" id="post-144514">
    <div class="subject"><a href="#post-144514">Which registers should be saved?</a></div>
    <div class="body">Also, remember than ANY external function you call is allowed to trash eax, ecx, edx. You must also preserve EBP and if you set the direction flag (STD) you must clear it (CLD). Of course &quot;preserve&quot; means &quot;push/pop the register if you use it&quot;, not &quot;blindly save it&quot; (disclaimer to avoid... people.)<br /><br />This whole preservation thing is mostly visible in callbacks (wndproc, dlgproc, the EnumWindowsProc used with EnumWindows, et cetera) - but it also applies to your own routines. Of course you're <strong>free</strong> to use whatever calling convention you want in your own routines - but if you forget that a piece of your code uses a non-standard calling convention, you risk crashes later on.</div>
    <div class="meta">Posted on 2004-06-22 11:24:46 by f0dder</div>
   </div>
   <div class="post" id="post-144516">
    <div class="subject"><a href="#post-144516">Which registers should be saved?</a></div>
    <div class="body">Hehe. For my own routines, every registers need to be preserve except eax. Sometimes eax needs to be preserved too and return using cf. The reason being that some parts of my code make use of all 8 registers. If one register is not preserved, the code will crash.<br /><br />Back to my point which is f0dder is right about the fact that you are free to use whatever calling convention you see fit, just that you need to remember that so long the function is a callback for windows, you need to preserve esp, ebp, edi, esi, ebx. The esp and ebp is like duh and some assemblers fix that for you.</div>
    <div class="meta">Posted on 2004-06-22 11:56:40 by roticv</div>
   </div>
   <div class="post" id="post-144525">
    <div class="subject"><a href="#post-144525">Which registers should be saved?</a></div>
    <div class="body"><div class="quote">Interesting is that the program works well under XP without PUSHA/POPA, I have problem only with Win9x, NT and 2k</div> <br /><br /><br />Funny i think i know what it is... it happened to me for months.  XP does us a favor by letting code run with its attach-ments or not letting code run without the attachment.  I don't really know.<br /><br />I think XP emulates our code by default.  I would like to know if i can turn things like this off so it just be me and the CPU (direct please).  Do we get any options between a OS and a CPU now and into the future.</div>
    <div class="meta">Posted on 2004-06-22 13:38:36 by cmax</div>
   </div>
   <div class="post" id="post-144526">
    <div class="subject"><a href="#post-144526">Which registers should be saved?</a></div>
    <div class="body">This is an off-topic question, but all of you keep mentioning these &quot;callbacks.&quot;  I've seen it before in C++ code for Win32 (obviously) and tried getting help on a C++ forum, but all they said was that it was Windows specific...not much help.  Anyway I was just wondering if you guys could explain or point me to a link about these &quot;callbacks&quot; and what they're all about.  Any help appreciated and sorry for such an off-topic question :alright:</div>
    <div class="meta">Posted on 2004-06-22 13:56:31 by DaRetard</div>
   </div>
   <div class="post" id="post-144531">
    <div class="subject"><a href="#post-144531">Which registers should be saved?</a></div>
    <div class="body">A &quot;callback&quot; is basically just a function that is 'called back' by another part of the system.<br />It is not Windows-specific ofcourse, other systems also use them at times.<br />A window proc is a good example of what a callback is. You create a function, but you never call it. You just pass the address of the function to the OS. Then everytime your window receives a message, the OS calls your function back.<br />Ofcourse the thing here is that your function must behave the way the OS expects, or else things are going to break ;)</div>
    <div class="meta">Posted on 2004-06-22 14:55:49 by Scali</div>
   </div>
   <div class="post" id="post-144534">
    <div class="subject"><a href="#post-144534">Funny experiences</a></div>
    <div class="body">I see that I'm not the only one in this situation and most of you had strange experiences.<br /><div class="quote"><em>Originally posted by <strong>cmax</strong></em><br /><strong>XP does us a favor by letting code run with its attach-ments or not letting code run without the attachment. I think XP emulates our code by default.</div><br />I'm not sure if I understand your opinion about the emulation. I hardly believe WinXP is emulating, because the programs run quite fast.</div>
    <div class="meta">Posted on 2004-06-22 15:33:11 by bszente</div>
   </div>
   <div class="post" id="post-144546">
    <div class="subject"><a href="#post-144546">Which registers should be saved?</a></div>
    <div class="body"><div class="quote"><br />A &quot;callback&quot; is basically just a function that is 'called back' by another part of the system.<br />It is not Windows-specific ofcourse, other systems also use them at times.<br />A window proc is a good example of what a callback is. You create a function, but you never call it. You just pass the address of the function to the OS. Then everytime your window receives a message, the OS calls your function back.<br />Ofcourse the thing here is that your function must behave the way the OS expects, or else things are going to break ;) </div><br />Now why couldn't those &quot;C++ ers&quot; give that good of an good explanation :grin: Thanks a lot for such a clear answer ;)</div>
    <div class="meta">Posted on 2004-06-22 16:58:02 by DaRetard</div>
   </div>
   <div class="post" id="post-144588">
    <div class="subject"><a href="#post-144588">Which registers should be saved?</a></div>
    <div class="body">Because most &quot;C++ ers&quot; don't have the faintest idea about what's really going on! :tongue: (Kidding of course!)</div>
    <div class="meta">Posted on 2004-06-23 01:41:14 by SubEvil</div>
   </div>
   <div class="post" id="post-144600">
    <div class="subject"><a href="#post-144600">Which registers should be saved?</a></div>
    <div class="body"><span style="font-size:9px>I don't know what XP is doing but my story is i build my app with Win95.  I now have both OS on my machine and been working out the bugs so it can run on both OS.  Its wild but it works and i know where everything is.  And it has no flaws thats why i know XP is doing more that what it is suppose to do with app...<br /><br />I already know that each OS Api's may be difference ( XP got what 9x don't ) so i use only 9x api <br />that XP still support for now.<br /><br />I got down to something that did not require any api if i recall correctly.  The code would fail on 9x but not XP.  XP ran the code but did not execute or give the desired results BUT it did NOT crash the app.  It should have crash but it did not.<br /><br />It did visa-versa with simlar code that did something else. FOR SURE<br /><br />I made ajustments to those blocks of code and got it to work for both OS.<br /><br />I think the prefetch feature may have something to do with it or Dr. Watson.  But i promise you i made no mistakes or was dreaming.  It took me weeks to find a solution while moving on in 9x and jumping back to XP from time to time playing with the doctor, prefetch and other stuff i thought may be involved.  I can't think of what it was right now because i was just happy to over come it. I should have made notes of that. I will surely stumble back on it again or remember what i was doing and will make note of strange things for now on end.</span>   <br /><br />By the way i think XP documented  back in the day that other app has its own &quot;whatever&quot; and XP will close that app (or block it from crashing the system and ITSELF it seems) if it don't like the way it do things.<br /><br />So it must be moniting all apps somehow in order to be able to do that.  There was a big issue about that.  XP is slow its not fast at all.  Just open up any folder and see compare to the old forgotten 95.  Seem to be to busy adding  something silly wasteing cpu power. But no big deal to me anymore... I know it is doing something we all can live without.</div>
    <div class="meta">Posted on 2004-06-23 05:33:21 by cmax</div>
   </div>
   <div class="post" id="post-144602">
    <div class="subject"><a href="#post-144602">Which registers should be saved?</a></div>
    <div class="body">Quite possible.  According to Raymond Chen, even C-calling convention window proc's are supported in some cases.  He explained (and still does in his blog entries) what and why gross hacks are in windows kernel.  Basically, some brain-damaged vendors (including MS themselves) got away with idiotic code in the past, and MS does not want to be blamed for breaking existing apps.<br /><br />Maybe what you've been experimenting happened to replicate one of those cases, and triggered kernel hacks.</div>
    <div class="meta">Posted on 2004-06-23 06:11:27 by Starless</div>
   </div>
   <div class="post" id="post-144630">
    <div class="subject"><a href="#post-144630">Which registers should be saved?</a></div>
    <div class="body">I understand now your opinion, cmax. It might be monitoring the apps, rather than emulating.<br />Who knows which undocumented features are runnig in background... :)<br />It is true that the Windows explorer is slower, but I think due to the fact that it detects the content of a directory (music, photos, etc), and it displayes according background images in lower right corner, and it does probable many other &quot;useless&quot; :) stuffs. But in general I found that the applications run faster than under Win9x or Win2K. I'm quite satisfied with WinXP.</div>
    <div class="meta">Posted on 2004-06-23 11:24:34 by bszente</div>
   </div>
   <div class="post" id="post-144649">
    <div class="subject"><a href="#post-144649">Which registers should be saved?</a></div>
    <div class="body">Well, 9x seems a LOT more forgiving than XP... although the NT kernel does have a few gross hacks to support ring3 apps, like some particular nast stack hacks for eudora. So much for anybody blaiming microsoft for being hostile against third-party apps, they're actually hostile against their OWN code to support third-party apps :rolleyes: . Of course this is wrong, they should have simply broken compatibility with the <strong>BROKEN</strong> third-party apps, making *gross* assumptions about the internal workings of windows. Sigh, play by the fscking rules, people.<br /><br />Yep, explorer is slower in winxp because of the metadata shit, and this pi$$es me off. A lot of other features makes it faster (well, the &quot;end-user&quot; experience is faster&quot;), because of things like threading the icon-load stuff. But the end-result is ho-humm. Anyway, turn off the &quot;last-access&quot; time and you'll see a lot of explorer-related things (like filesearch, wow!) go a lot faster on NT.<br /><br />But in general, I'm so much happier with NT than 9x... I'm still mixed-minds about XP, but after you turn off all the crudd, it's about as good as 2k. Some things are worse, some things are better. If you're not on a HTT machine and you don't have problems, there's not much use to go 2k-&gt;xp though (but on HTT, you do NOT want anything lower than xp!)</div>
    <div class="meta">Posted on 2004-06-23 16:57:03 by f0dder</div>
   </div>
   <div class="post" id="post-144658">
    <div class="subject"><a href="#post-144658">Which registers should be saved?</a></div>
    <div class="body">I almost love XP.  Can't wait until i learn how to speed things up a bit.  Until than its a guesting game for me.<br /><br />HTT ... aha<br /><br />Its about hardware ... Thanks</div>
    <div class="meta">Posted on 2004-06-23 17:26:27 by cmax</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Some instruction error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21804" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21804">Some instruction error</a></p>
   <div class="post" id="post-164503">
    <div class="subject"><a href="#post-164503">Some instruction error</a></div>
    <div class="body">I do a program like this<br />&nbsp; &nbsp; szSystemPath&nbsp;  db&nbsp;  MAX_PATH dup (?)<br />&nbsp; &nbsp; szFileName&nbsp; &nbsp; &nbsp;  db&nbsp;  &#39;SexyPink&#39;,0<br />&nbsp; &nbsp; Invoke GetSystemDirectoryPath ,Addr szSystemPath ,MAX_PATH<br />&nbsp; &nbsp; Lea Ebx, Offset szSystemPath<br />&nbsp; &nbsp; Lea Ebx, <br />&nbsp; &nbsp; Mov Byte Ptr , &#39;\&#39;<br />&nbsp; &nbsp; Inc Ebx<br />&nbsp; &nbsp; Lea Esi Offset szFileName<br />&nbsp; &nbsp; Mov Edi Ebx&nbsp; <br />&nbsp; &nbsp; Mov Ecx SizeOf szFileName<br />&nbsp; &nbsp; Cld&nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; Rep Movsb<br />but when i do ml /c /coff try.asm<br />follow instruction get error<br />&nbsp; &nbsp; Mov Edi Ebx&nbsp; <br />&nbsp; &nbsp; Mov Ecx SizeOf szFileName<br />&nbsp; &nbsp; Cld&nbsp; <br />ml note:error A2008: syntax error : in instruction<br /><br /></div>
    <div class="meta">Posted on 2005-09-13 11:35:58 by SexyPink</div>
   </div>
   <div class="post" id="post-164506">
    <div class="subject"><a href="#post-164506">Re: Some instruction error</a></div>
    <div class="body">You are missing commas... or is the compile error due to the usage of sizeof? I am not very sure.</div>
    <div class="meta">Posted on 2005-09-13 12:41:03 by roticv</div>
   </div>
   <div class="post" id="post-164509">
    <div class="subject"><a href="#post-164509">Re: Some instruction error</a></div>
    <div class="body">SexyPink,<br /><br />It might be easier if you learn/used higher level usage and then work your way down to moving bytes around.<br /><br /><pre><code>invoke lstrcat, addr szSystemPath, addr szBackSlash<br />invoke lstrcat, addr szSystemPath, addr szFileName</code></pre><br /><br />Regards,&nbsp; P1&nbsp; 8)</div>
    <div class="meta">Posted on 2005-09-13 13:13:10 by Pone</div>
   </div>
  </div>
 </body>
</html>
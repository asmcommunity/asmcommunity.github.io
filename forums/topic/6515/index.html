<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Struct Problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6515" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6515">Struct Problem</a></p>
   <div class="post" id="post-47043">
    <div class="subject"><a href="#post-47043">Struct Problem</a></div>
    <div class="body">I have declared an structure in asm like this<br /><br />STRUCT MyStructure<br />X dd ?<br />y dd ?<br />MyStructure ENDS<br /><br />that's ok, but when i try to acces it as a global variable or a local one the assember trough me errors. For examble we are in a proc called paint<br /><br />paint proc                      ;the procudere<br />local point:MyStructure  ;The Structure Declaration<br /><br />point.X = 3  &lt;--- This line trough an error when i try to acces the<br />                           member<br /><br />paint endp<br /><br />The Same happens if i try to initialize a global structure:<br />suppouse:<br /><br />Strc1 MyStrucutre<br /><br />the assembler assembles it, but the code again &quot;Strc1.X = 3&quot; is trated as an error.<br /><br />I have readed carrefully the masm help file.<br />This is my first stpes in masm and i would like someone help me please.</div>
    <div class="meta">Posted on 2002-07-10 16:55:03 by IrOn</div>
   </div>
   <div class="post" id="post-47045">
    <div class="subject"><a href="#post-47045">mistake</a></div>
    <div class="body">Forgive me the code is no &quot;Point.X&quot; its &quot;Mov, Point.X&quot; (i make the mistake thinking in C), but the problem is still there.</div>
    <div class="meta">Posted on 2002-07-10 17:01:51 by IrOn</div>
   </div>
   <div class="post" id="post-47046">
    <div class="subject"><a href="#post-47046">Struct Problem</a></div>
    <div class="body"><pre><code>POINT STRUCT<br />  x DD ?<br />  y DD ?<br />POINT ENDS<br /><br />.DATA?<br /><br />  mypt POINT&lt;&gt;<br /><br />.CODE<br /><br />PaintFunc PROC<br />  LOCAL pointStr&#58;POINT<br />  mov pointStr.x, 3<br />  mov eax, pointStr.x<br />  ...<br />  ret<br />PaintFunc ENDP<br /><br />Start&#58;<br /><br />  mov mypt.x, 3<br />  mov edx, mypt.x<br /><br />....</code></pre>:)</div>
    <div class="meta">Posted on 2002-07-10 17:08:41 by stryker</div>
   </div>
   <div class="post" id="post-47057">
    <div class="subject"><a href="#post-47057">Struct Problem</a></div>
    <div class="body">MOV it where?  You need to state a destination.<br /><br /><br />You defined MyStructure.X as a dd, or a word (I forget, thats why I never use 'dd' or 'dw', I use DWORD and WORD and BYTE and...)<br /><br />Anyway, the point is, MyStructure.X is a memory location, so you can only MOV it to a register. Additionally, the register must be the same size as X is, here a (I think) word.<br /><br />mov ax, MyStructure.X   ; should compile<br />mov eax, MyStructure.X   ; should NOT compile<br /><br />OK?   &lt;g&gt;</div>
    <div class="meta">Posted on 2002-07-10 21:16:13 by Ernie</div>
   </div>
   <div class="post" id="post-47058">
    <div class="subject"><a href="#post-47058">Struct Problem</a></div>
    <div class="body">Instead of starting a new thread, you should have posted a reply to your original thread, it keeps things nice and organised.....<br /><br />You said your code still doesn't work, if you post your code (just cut&amp;paste it inline if it is short, not as an attachment), then we can check it.<br /><br /><span style="font-size:12px>&lt;edit&gt; Heh, i got interupted, Ernie beat me... :) &lt;/edit&gt;</span></div>
    <div class="meta">Posted on 2002-07-10 21:36:22 by sluggy</div>
   </div>
   <div class="post" id="post-47133">
    <div class="subject"><a href="#post-47133">Thanks</a></div>
    <div class="body">Thanks for the help, i was so stupid that i have been using &quot;Struct &quot; instead of &quot; Struct&quot;.<br />:tongue:</div>
    <div class="meta">Posted on 2002-07-11 11:32:20 by IrOn</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>PacketsView 1.5 (sniffer) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15786" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=15786">PacketsView 1.5 (sniffer)</a></p>
   <div class="post" id="post-122326">
    <div class="subject"><a href="#post-122326">PacketsView 1.5 (sniffer)</a></div>
    <div class="body">New version of my sniffer for Windows 2000+<br />(requires admin rights).<br /><br />h.<br /><br />(Added commented .ini file)<br /><br />(Download the v1.6 below)</div>
    <div class="meta">Posted on 2003-10-24 10:32:17 by hitchhikr</div>
   </div>
   <div class="post" id="post-122395">
    <div class="subject"><a href="#post-122395">INI file</a></div>
    <div class="body">is where for program to work correctly?</div>
    <div class="meta">Posted on 2003-10-25 01:31:08 by stanks</div>
   </div>
   <div class="post" id="post-122429">
    <div class="subject"><a href="#post-122429">PacketsView 1.5</a></div>
    <div class="body">Here it is.</div>
    <div class="meta">Posted on 2003-10-25 08:02:25 by hitchhikr</div>
   </div>
   <div class="post" id="post-122454">
    <div class="subject"><a href="#post-122454">PacketsView 1.5</a></div>
    <div class="body">Thank you very much :D</div>
    <div class="meta">Posted on 2003-10-25 13:26:14 by stanks</div>
   </div>
   <div class="post" id="post-122556">
    <div class="subject"><a href="#post-122556">PacketsView 1.5</a></div>
    <div class="body">Nice clean code - for those who have already been initiated :)</div>
    <div class="meta">Posted on 2003-10-26 21:33:20 by Homer</div>
   </div>
   <div class="post" id="post-123455">
    <div class="subject"><a href="#post-123455">problem running</a></div>
    <div class="body">Hello there,<br />very nice source, but I have a problem.<br /><br />If I open the zip, and run the exe from within, no errors.<br />After I extracted the zip, now when I run the exe windows kills the app and wants to send a report.<br /><br />Is there something I'm missing?  I've tried it several times with the same results.<br /><br />Thanks again for the nice source...</div>
    <div class="meta">Posted on 2003-11-04 22:15:24 by mrkasai</div>
   </div>
   <div class="post" id="post-123457">
    <div class="subject"><a href="#post-123457">PacketsView 1.5</a></div>
    <div class="body">hi,<br /><br />What do you mean by &quot;wants to send a report.&quot; ?<br />And what the exact error ?<br />And are you using windows xp ?<br /><br />h.</div>
    <div class="meta">Posted on 2003-11-04 22:48:36 by hitchhikr</div>
   </div>
   <div class="post" id="post-123461">
    <div class="subject"><a href="#post-123461">PacketsView 1.5</a></div>
    <div class="body">yes, xp home (came with vaio didn't have a choice)<br /><br />It says that packetsview.exe has encountered an error and needs to close.<br /><br />I thought this was a rather odd error since it only occurs when running the app standalone.<br /><br />I can send you the xml file windwows creates when sending in its error report if that would help...</div>
    <div class="meta">Posted on 2003-11-04 23:01:37 by mrkasai</div>
   </div>
   <div class="post" id="post-123470">
    <div class="subject"><a href="#post-123470">PacketsView 1.5</a></div>
    <div class="body">It could help.<br />But you'd rather build it with debug infos turned on and see for yourself where it crashes.<br /><br />I won't mind a complete report.<br /><br />h.</div>
    <div class="meta">Posted on 2003-11-04 23:35:51 by hitchhikr</div>
   </div>
   <div class="post" id="post-123483">
    <div class="subject"><a href="#post-123483">PacketsView 1.5</a></div>
    <div class="body">for me it crashes here in argclc<br /><br />cl2Out:<br />      mov al, 0<br />      stosb<br /><br />  ; ---------------------------------<br />  ; replace substitutions with spaces<br />  ; ---------------------------------<br />    mov esi, ItemBuffer<br />    mov edi, ItemBuffer<br /><br />with a messed up EDI<br /><br />I'll try to think about it tonight</div>
    <div class="meta">Posted on 2003-11-05 03:22:12 by Hiroshimator</div>
   </div>
   <div class="post" id="post-123525">
    <div class="subject"><a href="#post-123525">PacketsView 1.5</a></div>
    <div class="body">I'm relieved, i thought it was me, but it's masm32lib again.<br /><br />Btw, the argcl/argclc proc are probably subject to a buffer overflow (or at least a denial of service attack) when used for eg. cgi scripts, a network server or something else that requires command line arguments passed from the network, so beware.<br /><br />What's the value of edi when it crashes ? And it is the first or second argument ?<br /><br />Notice that both arguments are optionals.<br /><br />Report me the problem if you find it (i'll try to test it myself but it's working perfectly under windows 2000).<br /><br />h.</div>
    <div class="meta">Posted on 2003-11-05 10:24:46 by hitchhikr</div>
   </div>
   <div class="post" id="post-123533">
    <div class="subject"><a href="#post-123533">PacketsView 1.5</a></div>
    <div class="body">I'm just beginning to get back into assembly, and am pretty rusty on most of this stuff.<br /><br />I haven't had the chance to debug yet, but I noticed another thing.<br /><br />Please don't take my posts in this thread as complaints, just helping you out with the program.<br /><br />Noticed that when running the program it's eating as much CPU as it can gather.  It's currently holding around 96-100%.<br /><br />Just FYI.</div>
    <div class="meta">Posted on 2003-11-05 12:09:11 by mrkasai</div>
   </div>
   <div class="post" id="post-123546">
    <div class="subject"><a href="#post-123546">PacketsView 1.5</a></div>
    <div class="body">Here is the v1.6:<br /><br />- Added handling for console signals.<br />- Added Sleep(1) to avoid the report of 100% CPU usage.<br />- Sourcecode Slightly cleaned up.<br />- Increased length of arguments buffers.<br /><br />I don't know if it works under windows xp.<br /><br />h.</div>
    <div class="meta">Posted on 2003-11-05 15:51:09 by hitchhikr</div>
   </div>
   <div class="post" id="post-123557">
    <div class="subject"><a href="#post-123557">PacketsView 1.5</a></div>
    <div class="body">Everything's happy here. CPU is within some sanity now :)<br /><br />I've had it running for several minutes now surfing around the web and no errors yet.  I did notice that by executing the program via double-click the process is dropped, but if you execute the file from within 'cmd' you are OK and it stays alive. Is the new sleep state the culprit?<br /><br />Other than that nuance, it looks nice, thanks.</div>
    <div class="meta">Posted on 2003-11-05 17:50:30 by mrkasai</div>
   </div>
   <div class="post" id="post-123558">
    <div class="subject"><a href="#post-123558">PacketsView 1.5</a></div>
    <div class="body">haven't had any more time to test<br /><br />some remarks: memalloc (or whatever you use in there) is a registered API with a totally different argumentcount<br /><br />it does not crash when I call it from a CMD box  :|<br /><br />sorry I write it down sloppily but it's over midnight and I just got home for today and am ready to turn in</div>
    <div class="meta">Posted on 2003-11-05 17:53:46 by Hiroshimator</div>
   </div>
   <div class="post" id="post-123561">
    <div class="subject"><a href="#post-123561">PacketsView 1.5</a></div>
    <div class="body"><div class="quote"><br />I did notice that by executing the program via double-click the process is dropped, but if you execute the file from within 'cmd' you are OK and it stays alive. <br /></div><br /><br />Could you be a little bit more precise ?<br /><br /><div class="quote"><br />some remarks: memalloc (or whatever you use in there) is a registered API with a totally different argumentcount<br /></div><br /><br />AllocMem only exists in IIService.<br />More precision would be welcome too.<br /><br />h.</div>
    <div class="meta">Posted on 2003-11-05 18:21:26 by hitchhikr</div>
   </div>
   <div class="post" id="post-123567">
    <div class="subject"><a href="#post-123567">PacketsView 1.5</a></div>
    <div class="body">Sorry,<br />When I double click the application from within windows to execute it, it flashes up the dos box and immediately exits.  If, however, I drop into &quot;dos,&quot; navigate to the application and execute it, the application stays up and runs correctly.<br /><br />I hope that clears it up.</div>
    <div class="meta">Posted on 2003-11-05 19:56:18 by mrkasai</div>
   </div>
  </div>
 </body>
</html>
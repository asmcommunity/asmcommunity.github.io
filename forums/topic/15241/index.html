<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>please test this out - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15241" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15241">please test this out</a></p>
   <div class="post" id="post-118393">
    <div class="subject"><a href="#post-118393">please test this out</a></div>
    <div class="body">for gdi leaks and useagebility..<br /><br /><a target="_blank" href="http://www.web.ms11.net/drarem/ron2.exe">http://www.web.ms11.net/drarem/ron2.exe</a><br />it has grown to 11k<br /><br />the palette is near to working pretty good, with 'selection' bars and a blending button. the ones at top left do nothing, except for the 'pen' button on the top left which exits the app. The up and down arrows only move the selection pointers when blend is toggled.<br /><br />thinking of using this for a landscape modeller, any suggestions on how it should work would be highly appreciated (by moi).</div>
    <div class="meta">Posted on 2003-09-16 20:48:57 by drarem</div>
   </div>
   <div class="post" id="post-118404">
    <div class="subject"><a href="#post-118404">Re: please test this out</a></div>
    <div class="body">Hi, <strong>drarem</strong>!<br /><div class="quote">The up and down arrows only move the selection pointers when blend is toggled.</div><br />Still it seems to me that color isn't changing when I press these buttons (I suppose the color should become darker or lighter). When I manually shift each selection pointers, things are Ok.<br />Win2k SP4<br /><br />Also, as far as I can understand, when I shift grayscale selection pointers, the color ones should move with it (just equate each color pointers to grayscale one. Or may be it shoud be better to shift color selection pointers relatively from current position)</div>
    <div class="meta">Posted on 2003-09-16 22:47:48 by S.T.A.S.</div>
   </div>
   <div class="post" id="post-118427">
    <div class="subject"><a href="#post-118427">please test this out</a></div>
    <div class="body">nice job drarem ! :alright: <br /><br />It work fine in win2k + spack 3! There's a little delay on drawing only if you click a single point.<br /><br />I'm interested in how you do it in 11 k:). I suppose a dialog. An also, what apies did you use to draw the lines ? Is very fast !<br /><br />B7</div>
    <div class="meta">Posted on 2003-09-17 01:54:13 by Bit7</div>
   </div>
   <div class="post" id="post-118432">
    <div class="subject"><a href="#post-118432">please test this out</a></div>
    <div class="body">Hi drarem,<br /><br />MemProof reports 14 gdi problems, without the source I can't really check any further.<br /><pre><code>        1  Error                 76010303          0  Attempt to free unexisting resource<br />        1  Pen                   633006B4          0  CreatePen&#40;0,18,16777215&#41;<br />        1  Bitmap                7A0506B0          0  LoadBitmap&#40;4194304,2001&#41;<br />        1  Bitmap                C10506A8          0  LoadBitmap&#40;4194304,2002&#41;<br />        1  Bitmap                75050680          0  LoadBitmap&#40;4194304,2003&#41;<br />        1  Bitmap                340506A7          0  LoadBitmap&#40;4194304,2004&#41;<br />        1  Bitmap                050506BD          0  LoadBitmap&#40;4194304,2005&#41;<br />        1  Bitmap                050506BE          0  LoadBitmap&#40;4194304,2006&#41;<br />        1  Bitmap                1D050632          0  CreateCompatibleBitmap&#40;16843936,800,600&#41;<br />        1  Bitmap                29050530          0  CreateCompatibleBitmap&#40;16843936,302,302&#41;<br />        1  Bitmap                36050678          0  CreateCompatibleBitmap&#40;16843936,128,296&#41;<br />        1  DC                    21010659          0  CreateCompatibleDC&#40;16843936&#41;<br />        1  DC                    720102B8          0  CreateCompatibleDC&#40;16843936&#41;<br />        1  DC                    F601068F          0  CreateCompatibleDC&#40;16843936&#41;<br />        1  Dialog                000701C4          0  CreateDialogParam&#40;4194304,1000,0,00401643,0&#41;</code></pre></div>
    <div class="meta">Posted on 2003-09-17 04:44:24 by donkey</div>
   </div>
   <div class="post" id="post-118489">
    <div class="subject"><a href="#post-118489">please test this out</a></div>
    <div class="body">ack.. it does have issues.  I just grabbed memproof and will try to work through this myself<br /><br /><br />thanks to all for your assistance<br /><br />Bit7 - I used the normal gdi stuff,<br />invoke MoveToEx  and LineTo in the messaging (WM_MOUSEMOVE), etc.<br /><br />Yes I used radasm's helper to make a dialog-based app, I would think a win32 app would be around the same size but creating controls at runtime is a pain - unless someone has made a program or addin already to convert a dlg to code in that way..</div>
    <div class="meta">Posted on 2003-09-17 19:45:18 by drarem</div>
   </div>
   <div class="post" id="post-118495">
    <div class="subject"><a href="#post-118495">please test this out</a></div>
    <div class="body">the LoadBitmap(....,2001)  are resource bitmaps. I thought I read somewhere on MSDN that resource bitmaps did not need to be deleted.. just like stock brushes</div>
    <div class="meta">Posted on 2003-09-17 20:44:13 by drarem</div>
   </div>
   <div class="post" id="post-118497">
    <div class="subject"><a href="#post-118497">please test this out</a></div>
    <div class="body">Nope, they have to be deleted:<br /><div class="quote"><em><strong>From MSDN LoadBitmap</strong></em><br />The application must call the DeleteObject function to delete each bitmap handle returned by the LoadBitmap function. </div><br />Since LoadBitmap can only be used with resources I'd say the article you read was wrong:</div>
    <div class="meta">Posted on 2003-09-17 20:52:34 by donkey</div>
   </div>
   <div class="post" id="post-118557">
    <div class="subject"><a href="#post-118557">please test this out</a></div>
    <div class="body"><a target="_blank" href="http://www.web.ms11.net/drarem/ron2.exe">http://www.web.ms11.net/drarem/ron2.exe</a><br /><br /><br />now try it...  still about 11k, no mem leaks as far as I can see with the memproof tool. Also fixed the updown arrows.<br /><br />Update: now it's leak-free unless I am missing something, you might want to clear your internet browser cache before dowloading if you already tried it once.</div>
    <div class="meta">Posted on 2003-09-18 07:21:46 by drarem</div>
   </div>
  </div>
 </body>
</html>
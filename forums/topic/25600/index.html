<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Diagonalising matrices - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25600" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25600">Diagonalising matrices</a></p>
   <div class="post" id="post-186904">
    <div class="subject"><a href="#post-186904">Diagonalising matrices</a></div>
    <div class="body">Does anyone have asm code for &#39;diagonalising&#39; a (3x3) matrix (using Jacobi or any other method) ?<br /></div>
    <div class="meta">Posted on 2006-12-09 19:02:42 by Homer</div>
   </div>
   <div class="post" id="post-186905">
    <div class="subject"><a href="#post-186905">Re: Diagonalising matrices</a></div>
    <div class="body">I don&#39;t have the codes, but I know how to do it with pen and paper. Do you want me to help you code it?&nbsp; ;) </div>
    <div class="meta">Posted on 2006-12-09 19:09:40 by roticv</div>
   </div>
   <div class="post" id="post-186907">
    <div class="subject"><a href="#post-186907">Re: Diagonalising matrices</a></div>
    <div class="body">I&#39;d love you to help me understand it.<br />All I really know is that it involves N iterations of matrix multiplications (and thus isn&#39;t suited to high-order matrices, but 3x3 is not so bad..)<br /><br />Yes, I&#39;m out of my depth here, I slept thru a lot of math.. </div>
    <div class="meta">Posted on 2006-12-10 02:30:24 by Homer</div>
   </div>
   <div class="post" id="post-186910">
    <div class="subject"><a href="#post-186910">Re: Diagonalising matrices</a></div>
    <div class="body">It&#39;s just all about finding the eigenvalues and respective eigenvectors. Well, give me some time and I&#39;ll try to come out with the code. Is that alright with you? (I need time as I can only do coding during the weekends)</div>
    <div class="meta">Posted on 2006-12-10 05:14:30 by roticv</div>
   </div>
   <div class="post" id="post-186911">
    <div class="subject"><a href="#post-186911">Re: Diagonalising matrices</a></div>
    <div class="body"> 8)</div>
    <div class="meta">Posted on 2006-12-10 09:16:03 by Homer</div>
   </div>
   <div class="post" id="post-186922">
    <div class="subject"><a href="#post-186922">Re: Diagonalising matrices</a></div>
    <div class="body">How is your mil. service going by the way, roticv?<br /><br /></div>
    <div class="meta">Posted on 2006-12-11 14:57:51 by arafel</div>
   </div>
   <div class="post" id="post-186972">
    <div class="subject"><a href="#post-186972">Re: Diagonalising matrices</a></div>
    <div class="body">Homer,<br /><br />Could you like attached the matrix codes that you have done? 3x3 would be fine. It will help me alot.<br /><br />arafel,<br /><br />I&#39;ve sent you a PM.&nbsp; ;)</div>
    <div class="meta">Posted on 2006-12-15 11:56:38 by roticv</div>
   </div>
   <div class="post" id="post-186981">
    <div class="subject"><a href="#post-186981">Re: Diagonalising matrices</a></div>
    <div class="body">Here&#39;s something to look at I guess..</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2182" target="_blank">Mat33Math.inc</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-12-16 08:53:19 by Homer</div>
   </div>
   <div class="post" id="post-186982">
    <div class="subject"><a href="#post-186982">Re: Diagonalising matrices</a></div>
    <div class="body">Cool you have an eigenvector and eigenvalue function. Things aren&#39;t too difficult now.<br /><br />Cause if you want to Diagonalise matrix A to<br /><br />A = PDP-1<br /><br />P = the 3 eigenvectors formed to a 3x3 matrix and D = the 3 respective eigenvalues<br /><br />for example matrix A has eigenvalue of -1 with eigenvector (1 2 3) and eigenvalue of 1 with eigenvector (1 1 1) and eigenvalue of 2 with eigenvector of (1 2 2), then<br /><br />P =&nbsp; <br />&nbsp; &nbsp; &nbsp; (1 1 1)<br />&nbsp; &nbsp; &nbsp; (2 1 2)<br />&nbsp; &nbsp; &nbsp; (3 1 2)<br /><br />D = <br />&nbsp; &nbsp; &nbsp; (-1 0 0)<br />&nbsp; &nbsp; &nbsp; (0&nbsp; 1 0)<br />&nbsp; &nbsp; &nbsp; (0&nbsp; 0 2)<br /><br />P-1 can be found by finding the inverse of P</div>
    <div class="meta">Posted on 2006-12-16 09:42:01 by roticv</div>
   </div>
   <div class="post" id="post-186984">
    <div class="subject"><a href="#post-186984">Re: Diagonalising matrices</a></div>
    <div class="body">I&#39;ve got oodles of experience with 4x4 matrices, but haven&#39;t required dedicated 3x3 matrix support until recently.. I was extremely disappointed in the lack of generic support for this, and decided to write a set of helper macros with a longer-term view of wrapping them into a larger math support library.<br /><br />The Eigen function hasn&#39;t been tested yet..<br /><br />I&#39;ve put together support code for Vec3, Mat33 and Quaternions, mostly in macro format.. the larger, more common functions have been written as procs.<br />Once all has been tested to my satisfaction, I&#39;ll be handing them all to Biterider for inclusion in the next release of OA32.<br /><br />Anyone who has an interest in this stuff is welcome to help test and debug the beta sourcecode - as usual any source posted by me (either here on this forum, or as part of OA32) is 100% free, use it as you wish.<br /><br />If you&#39;re willing to look over the source, make corrections, suggestions, optimizations, whatever, let me know and I&#39;ll start posting daily updates.<br /></div>
    <div class="meta">Posted on 2006-12-16 23:31:03 by Homer</div>
   </div>
   <div class="post" id="post-186985">
    <div class="subject"><a href="#post-186985">Re: Diagonalising matrices</a></div>
    <div class="body">Homer,<br /><br />Don&#39;t worry. hmm the eigenvalue and eigenvector function is not tested yet? That&#39;s really sad. Maybe I&#39;ll test them out next week - it is a long break for me (Whee Christmas!).<br /><br />I&#39;ll be willing to help out. Will ask you on IM for your copy...&nbsp; ;)</div>
    <div class="meta">Posted on 2006-12-17 03:51:24 by roticv</div>
   </div>
   <div class="post" id="post-186989">
    <div class="subject"><a href="#post-186989">Re: Diagonalising matrices</a></div>
    <div class="body">I&#39;m using 3x3 matrices to represent (moment of) inertia tensors which are useful in regards to rigid body physics simulation.. my priority is to complete the framework for arbitrary rigid bodies, and that&#39;s the primary reason why I&#39;m bothering to write up all this support code, particularly the diagonalising function.<br />The process of diagonalising an inertia tensor actually performs three jobs at once - it finds the principle axes of the rigid body, it aligns the center of mass with the origin of the principle axes, and (less obviously) it allows us to reduce the inertia matrix from a 3x3 matrix into a 3D vector for smaller storage at runtime... not that I&#39;ve bothered to optimize memory use , my purposes don&#39;t demand it, and I&#39;m not sure that the memory versus speed tradeoff is worth the effort :P<br /><br /></div>
    <div class="meta">Posted on 2006-12-17 08:51:28 by Homer</div>
   </div>
   <div class="post" id="post-187044">
    <div class="subject"><a href="#post-187044">Re: Diagonalising matrices</a></div>
    <div class="body">Well I had guessed that you are using the 3x3 matrix for tensors. Do you have any links to diagonalising of an inertia tensor?</div>
    <div class="meta">Posted on 2006-12-22 00:53:06 by roticv</div>
   </div>
   <div class="post" id="post-187046">
    <div class="subject"><a href="#post-187046">Re: Diagonalising matrices</a></div>
    <div class="body">Biterider gave me an excellent link to a linear solution that&#39;s supposed to work for these (assumed symmetrical) matrices, but unfortunately I&#39;ve lost it :( maybe he still has it..<br /><br />Anyway, I didn&#39;t use it, I implemented &#39;Jacobian Diagonalization of 3x3 Matrix&#39; .. <br />We have a 3x3 matrix which contains the following:<br /> Ixx, -Ixy, -Izx<br />-Ixy,&nbsp; Iyy, -Iyz<br />-Izx, -Iyz,&nbsp; Izz <br />which is our input inertia tensor.. notice its symmetry.<br /><br />We want to find a Matrix containing the following:<br />&#39;Ixx, 0,&nbsp; 0<br />0,&nbsp; &#39;Iyy, 0<br />0,&nbsp;  0,&nbsp; &#39;Izz <br />ie a diagonalized matrix where &#39;(Ixx,Iyy,Izz) = eigen values <br />and the eigen vectors represent the rotation from I to &#39;I<br /><br />The Jacobian method involves &#39;rotating away&#39; the off-diagonal fields in order to make them zero.<br />I&#39;ll see if I can dig up some links on this solution.. note I&#39;ve done some debugging/modifying of the math helpers, and am currently debugging my Jacobian Diagonalize function.. somethings screwy.<br /><br /></div>
    <div class="meta">Posted on 2006-12-22 03:09:14 by Homer</div>
   </div>
  </div>
 </body>
</html>
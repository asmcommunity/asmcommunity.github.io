<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>reduce flicker of owner drawn listbox - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18530" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18530">reduce flicker of owner drawn listbox</a></p>
   <div class="post" id="post-143451">
    <div class="subject"><a href="#post-143451">reduce flicker of owner drawn listbox</a></div>
    <div class="body">hey<br />does anyone know how to reduce the flickering of an ownerdrawn listbox (when you scroll or resize the window)<br />it works with a normal listbox (using wm_erasebkgnd), but that dosn't work with an ownerdrawn one.<br />anyone know how to fix it ?</div>
    <div class="meta">Posted on 2004-06-11 01:11:43 by someone</div>
   </div>
   <div class="post" id="post-143566">
    <div class="subject"><a href="#post-143566">reduce flicker of owner drawn listbox</a></div>
    <div class="body">anyone ?</div>
    <div class="meta">Posted on 2004-06-12 07:45:16 by someone</div>
   </div>
   <div class="post" id="post-143571">
    <div class="subject"><a href="#post-143571">reduce flicker of owner drawn listbox</a></div>
    <div class="body">i think i read this somewhere. You need to lock the listbox while updating (which causes the flicker) and then unlock when done. don't exactly know how that's done tho.</div>
    <div class="meta">Posted on 2004-06-12 10:23:42 by evil__donkey</div>
   </div>
   <div class="post" id="post-143575">
    <div class="subject"><a href="#post-143575">reduce flicker of owner drawn listbox</a></div>
    <div class="body"><pre><code><br />invoke LockWindowUpdate, hListboxHandle<br /><br />;update listbox<br /><br />invoke LockWindowUpdate, 0<br /><br /></code></pre><br /><br /><br />Maybe?</div>
    <div class="meta">Posted on 2004-06-12 11:29:54 by Delight</div>
   </div>
   <div class="post" id="post-143638">
    <div class="subject"><a href="#post-143638">reduce flicker of owner drawn listbox</a></div>
    <div class="body">hi, nope<br />i'm already using LockWindowUpdate, the flickering happens when the window is resized, rather than when adding stuff<br />thanks for replying though<br /><br />any other ideas ?</div>
    <div class="meta">Posted on 2004-06-13 00:32:34 by someone</div>
   </div>
   <div class="post" id="post-143672">
    <div class="subject"><a href="#post-143672">reduce flicker of owner drawn listbox</a></div>
    <div class="body">Flickering during a resize is (usually) a result of the parent<br />window overdrawing the child and the child having to<br />repaint itself.  Its usually very fast, but the eye is faster.<br /><br />In such cases, experiment with the different clipping<br />styles in the parent (WS_CLIPSIBLINGS/WS_CLIPCHILDREN)<br />etc.<br /><br />My guess is that your main window needs to clip its children...<br />Of course there are other reasons why you might be getting<br />flicker.</div>
    <div class="meta">Posted on 2004-06-13 12:20:38 by Graebel</div>
   </div>
   <div class="post" id="post-143677">
    <div class="subject"><a href="#post-143677">reduce flicker of owner drawn listbox</a></div>
    <div class="body">Use double-buffering?<br />CreateCompatibleDC, CreateCompatibleBitmap, SelectObject, BitBlt, DeleteDC, DeleteObject</div>
    <div class="meta">Posted on 2004-06-13 13:05:20 by comrade</div>
   </div>
   <div class="post" id="post-143717">
    <div class="subject"><a href="#post-143717">reduce flicker of owner drawn listbox</a></div>
    <div class="body">hi<br />i tried ws_clipsiblings and ws_clipchildren, but that just made it worse.<br />also double buffering seems pretty complex just to stop flickering, but i'll try it anyway<br />thanks</div>
    <div class="meta">Posted on 2004-06-14 00:16:32 by someone</div>
   </div>
   <div class="post" id="post-143721">
    <div class="subject"><a href="#post-143721">reduce flicker of owner drawn listbox</a></div>
    <div class="body">if the flickering appear just when scrolling the listbox (without resizeing) , double buffering will possibly not help. Post your code.<br /><br />Japheth</div>
    <div class="meta">Posted on 2004-06-14 00:34:18 by japheth</div>
   </div>
   <div class="post" id="post-143727">
    <div class="subject"><a href="#post-143727">reduce flicker of owner drawn listbox</a></div>
    <div class="body">hey, nah the flickering is also when resizing the window<br />i think double buffering should fix it cause it's owner-drawn<br />but i gotta work out how to do double buffering first, seems a bit complicated</div>
    <div class="meta">Posted on 2004-06-14 05:23:29 by someone</div>
   </div>
  </div>
 </body>
</html>
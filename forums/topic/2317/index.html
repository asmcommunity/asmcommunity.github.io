<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>pc-speaker sound...rocks!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2317" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2317">pc-speaker sound...rocks!!</a></p>
   <div class="post" id="post-14659">
    <div class="subject"><a href="#post-14659">pc-speaker sound...rocks!!</a></div>
    <div class="body">Hi,<br /><br />isn't it possible to do some music with the pc-speakers like it was possible with the SOUND procedure in pascal? i mean, i'm sure that it is possible with dos assembly, but shouldn't it be possible with windows assembly, too, when i would use IN and OUT? you know, i couldn't find any documentation about that, don't you know anything about that?<br /><br />nop</div>
    <div class="meta">Posted on 2001-12-11 16:00:34 by NOP-erator</div>
   </div>
   <div class="post" id="post-14664">
    <div class="subject"><a href="#post-14664">pc-speaker sound...rocks!!</a></div>
    <div class="body">you can use in/out to play some funky tunes on win9x ;)<br />shouldn't work with nt/2k..., though.</div>
    <div class="meta">Posted on 2001-12-11 16:55:38 by Tola</div>
   </div>
   <div class="post" id="post-14666">
    <div class="subject"><a href="#post-14666">pc-speaker sound...rocks!!</a></div>
    <div class="body">Sounds like real cheap surround sound.  :)<span style="font-size:9px><br />(If you already have a couple speakers)</span></div>
    <div class="meta">Posted on 2001-12-11 17:51:11 by bitRAKE</div>
   </div>
   <div class="post" id="post-14667">
    <div class="subject"><a href="#post-14667">pc-speaker sound...rocks!!</a></div>
    <div class="body">Hi,<br /><br />Here's a Speaker C example dll showing the disassembled _inp and _outp routines.  You can tap into the dll and run it yourself.  I d/l it ages ago and don't know where I found it.<br /><br />Kayaker</div>
    <div class="meta">Posted on 2001-12-11 17:57:30 by Kayaker</div>
   </div>
   <div class="post" id="post-14670">
    <div class="subject"><a href="#post-14670">pc-speaker sound...rocks!!</a></div>
    <div class="body">Dunno how to do it in 9x except those ugly in/out. On NT kernels you<br />might want to check out Kernel32!Beep, it can do a lot more on NT<br />than 9x.</div>
    <div class="meta">Posted on 2001-12-11 18:25:47 by f0dder</div>
   </div>
   <div class="post" id="post-14727">
    <div class="subject"><a href="#post-14727">program</a></div>
    <div class="body">ok, created some code, works well on win9x, have to try it out on NT, still. i attached the program.....<br /><br />nop</div>
    <div class="meta">Posted on 2001-12-12 12:32:08 by NOP-erator</div>
   </div>
   <div class="post" id="post-14733">
    <div class="subject"><a href="#post-14733">pc-speaker sound...rocks!!</a></div>
    <div class="body">It didn`t worked here. I`m using WinNT 4 here at work.<br /><br />Exception: privileged instruction (0xc0000096), Address: 0x00401050<br /><br />I have no time to debug this now, but I think that you`re not allowed to use IN and OUT instructions directly on WinNT.</div>
    <div class="meta">Posted on 2001-12-12 13:45:55 by eeprom</div>
   </div>
   <div class="post" id="post-14734">
    <div class="subject"><a href="#post-14734">pc-speaker sound...rocks!!</a></div>
    <div class="body">INs and OUTs are not allowed in NT. However with winio + asmio you can use ports in NT/win2k too.. In the attachment you will find your example but using winio. It works in win2k and should work in win9x/ME too (iirc it may even be faster than using in &amp; out).<br /><br />Thomas</div>
    <div class="meta">Posted on 2001-12-12 13:48:10 by Thomas</div>
   </div>
   <div class="post" id="post-14739">
    <div class="subject"><a href="#post-14739">dll</a></div>
    <div class="body">hmm,<br /><br />it seems that i always need the dll with the program, don't i? hmm, i don't like that, dunno why :rolleyes: <br /><br />another possibility could be to check on which operating system the program is running, and in case of win nt, just call &quot;Beep&quot;. does this function also work in win2k? it doesn't work on win9x. <br /><br />&quot;Windows 95:<br /><br />The Beep function ignores the dwFreq and dwDuration parameters. On computers with a sound card, the function plays the default sound event. On computers without a sound card, the function plays the standard system beep.&quot;<br /><br />nop</div>
    <div class="meta">Posted on 2001-12-12 14:18:22 by NOP-erator</div>
   </div>
   <div class="post" id="post-14793">
    <div class="subject"><a href="#post-14793">pc-speaker sound...rocks!!</a></div>
    <div class="body">here's a very simple and small way to<br />check for NT(2K?????)<br /><br /><pre><code><br />        mov     ecx,cs<br />        xor     cl,cl<br />        jecxz   _winNT<br /></code></pre></div>
    <div class="meta">Posted on 2001-12-13 06:01:59 by mob</div>
   </div>
   <div class="post" id="post-14809">
    <div class="subject"><a href="#post-14809">pc-speaker sound...rocks!!</a></div>
    <div class="body">That's a bad way though. GetWindowsVersion or GetWindowsVersionEx<br />(I believe) is much better. It might take more code, but it's guaranteed<br />to work...</div>
    <div class="meta">Posted on 2001-12-13 09:21:35 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Buffer question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1200" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1200">Buffer question</a></p>
   <div class="post" id="post-7869">
    <div class="subject"><a href="#post-7869">Buffer question</a></div>
    <div class="body">If I create a buffer in the data or data? section is there any way to get rid of of it when i no longer need it.<br /><br />mega thanx<br />:alright:</div>
    <div class="meta">Posted on 2001-09-23 20:43:04 by titan</div>
   </div>
   <div class="post" id="post-7872">
    <div class="subject"><a href="#post-7872">Buffer question</a></div>
    <div class="body">If you want to create a buffer and then delete it , you can allocate memory at runtime, use it and then dispose it.<br />For such task the *Alloc,*Free,*ReAlloc group of API will do it. (ie GlobalAlloc,GlobalFree,HeapAlloc,HeapFree,etc).<br /><br />Iczelion's tutorial N? 12 explains the ins and outs of runtime memory allocation.<br /><br />You will not be able to destroy buffers declared in the .data or .data? section.<br />What you could also do (depending on the case) is to use local buffers (as in procedures) which will be automatically destroyed when the procedure returns.<br /><br />This are my two pence :)<br /><br /><br />Latigo</div>
    <div class="meta">Posted on 2001-09-23 21:48:37 by latigo</div>
   </div>
   <div class="post" id="post-7876">
    <div class="subject"><a href="#post-7876">Buffer question</a></div>
    <div class="body">Ya... As long as your not buffering a WAV  or  BITMAP data (ie, big buffers!), you can easily get away with using the LOCAL stack.  I did a test a while ago to see how many DWORDS I could push on the stack, and the # was in the ten's of thousands before i got a GPF.  (remember a dword == 4 bytes!, so the byte allowed is 4 times this!)<br /><br />Format:  LOCAL  myArray[128]  :BYTE<br /><br />Its also best if you keep the allocated # of bytes in your array to multiples of 4, for allignment issuses ( a topic im not too well versed in, basically keeps code runing at its best ).<br /><br />Hope this helps..<br />NaN</div>
    <div class="meta">Posted on 2001-09-24 00:44:40 by NaN</div>
   </div>
   <div class="post" id="post-7903">
    <div class="subject"><a href="#post-7903">Buffer question</a></div>
    <div class="body">... and you can get away with even more than that. Just set the<br />linker options for stack commit and reserve size. Just a little problem...<br />because of the way the stack is grown using &quot;guard pages&quot;, you must<br />access the data in a linear fashion, from start to end, otherwise<br />you can expect crashes... but that can be alleviated by &quot;pretouching&quot;<br />the memory.</div>
    <div class="meta">Posted on 2001-09-24 07:38:06 by f0dder</div>
   </div>
  </div>
 </body>
</html>
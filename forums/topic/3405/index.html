<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>file locking - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3405" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3405">file locking</a></p>
   <div class="post" id="post-22549">
    <div class="subject"><a href="#post-22549">file locking</a></div>
    <div class="body">Is there a way to prevent a file I create with CreateFile from being locked by the shell under Win9x?  I see there is a FILE_SHARE_DELETE attribute that is NT only.  Any way to delete the file while it's still open under win98?</div>
    <div class="meta">Posted on 2002-02-02 19:13:18 by grv575</div>
   </div>
   <div class="post" id="post-22586">
    <div class="subject"><a href="#post-22586">file locking</a></div>
    <div class="body">Also any way to completely hide a dialog box?  ShowWindow w/ SW_HIDE doesn't work for DialogBoxParam apps it seems.</div>
    <div class="meta">Posted on 2002-02-03 01:52:25 by grv575</div>
   </div>
   <div class="post" id="post-22588">
    <div class="subject"><a href="#post-22588">file locking</a></div>
    <div class="body">Here's wat it says in the Win32.hlp API reference. <br /><br /><br /><div class="quote"><br />Windows 95: This function deletes a file even if it is open for normal I/O or as a memory-mapped file. To prevent loss of data, close files before attempting to delete them.<br /></div><br /><br /><br />If this is true or not I leave it up to you to find out with some tests.<br /><br />-huh</div>
    <div class="meta">Posted on 2002-02-03 01:57:43 by huh</div>
   </div>
   <div class="post" id="post-22590">
    <div class="subject"><a href="#post-22590">file locking</a></div>
    <div class="body"><div class="quote">any way to completely hide a dialog box?</div><br />Do you mean a dialog box created by your program? Couldn't you just close it</div>
    <div class="meta">Posted on 2002-02-03 03:00:55 by Quantum</div>
   </div>
   <div class="post" id="post-22667">
    <div class="subject"><a href="#post-22667">file locking</a></div>
    <div class="body">huh: I mean when I have a program running and writing to a file I want to be able to delete it through explorer and then have windows automatically recreate the file with the same filename but an empty file.  Thought I've seen this before but I could be mistaken.  You might have to close the handle after each write and reopen it to allow the user delete access?<br /><br />quantum: The application doesn't run in a window but uses a dialog box as the main window.  But I want to be able to hide it and just place an icon in the system tray.</div>
    <div class="meta">Posted on 2002-02-03 15:12:49 by grv575</div>
   </div>
   <div class="post" id="post-22728">
    <div class="subject"><a href="#post-22728">file locking</a></div>
    <div class="body">When you use CreateWindowEx, you can create a toolwindow, which does not have a taskbar button. Similarly, you can create a toolwindow dialog box, which won't have a taskbar button. Try hiding that and see if it works. If not, try to minimize it. Because it does not have a taskbar button, it should go away, although I'm quite sure the user can bring it back.<br />Setting the system tray icon is a separate issue that can be accomplished easily .</div>
    <div class="meta">Posted on 2002-02-03 23:19:18 by Hel</div>
   </div>
  </div>
 </body>
</html>
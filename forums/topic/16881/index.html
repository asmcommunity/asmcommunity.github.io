<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>gcc inline asm little help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16881" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=16881">gcc inline asm little help</a></p>
   <div class="post" id="post-130938">
    <div class="subject"><a href="#post-130938">gcc inline asm little help</a></div>
    <div class="body">hi all<br /><br />i'm not leaving win32 for linux :) i'm just writing in a fast fashon a sw for a little eprom programmer i've build and i would it works fast, to come back to my win32 projects :)<br /><br /><br />so in a cpp file i'm doing<br /><br /><br />__asm (&quot;pusha                  ;&quot;<br />	   &quot;mov  	$0x378, %dx		;&quot;<br />	   &quot;xor           %eax, %eax		;&quot;<br />           &quot;outb	%al, %dx		&quot;;<br /><br />    etc etc )<br /><br />the line with out cause a crash &quot;segmentation fault&quot;. Is possible that the kernel don't allow outb and inb ?<br /><br />Other question... anyone know how i can use some #define  values into the asm code ?</div>
    <div class="meta">Posted on 2004-01-18 03:19:04 by Bit7</div>
   </div>
   <div class="post" id="post-130940">
    <div class="subject"><a href="#post-130940">gcc inline asm little help</a></div>
    <div class="body">Seg fault on out?  Odd.  What is the actual message?  OTOH, I see that the semicolon is outside of the string in outb line.  Is it a typo during post, or is it real?<br /><br />BTW, all low level stuff should be done in the device driver.  An analogy (not quite good, but...) to NT family may help you understand whether you can access the hardware port directly.</div>
    <div class="meta">Posted on 2004-01-18 03:32:33 by Starless</div>
   </div>
  </div>
 </body>
</html>
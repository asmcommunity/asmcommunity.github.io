<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>HLA v2.0/ADK Release - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21101" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=21101">HLA v2.0/ADK Release</a></p>
   <div class="post" id="post-159835">
    <div class="subject"><a href="#post-159835">HLA v2.0/ADK Release</a></div>
    <div class="body">Hi All,<br /><br />I&#39;ve posted an update to the Assembler Developer&#39;s Kit<br />(the basis for the HLA v2.0 assembler) on Webster at<br />http://webster.cs.ucr.edu/AsmTools/RollYourOwn/index.html<br />(ignore the dates, I&#39;ve still got to update the HTML page<br />and the master file is on a laptop I don&#39;t have available<br />to me right now).<br /><br />This version has a couple of major additions.<br /><br />1. (The Biggie) The ADK now assembles and runs under Linux.<br /> <br />2. The regression test suite has also been ported to Linux<br />(no small feat, this port uncovered a bunch of bugs in<br />both the test suite and the assembler).<br /><br />3. I&#39;ve modified the test suite to generate the comparison<br />test data for the test from a known (good) version of the<br />assembler. This saves a bit of time when downloading the<br />files as you don&#39;t need copies of all the test data in the<br />ZIP file.<br /><br />4. This version includes the &quot;static variable placement<br />optimization&quot; that I&#39;ve discussed in other threads around<br />here. It does a half-way decent job of filling in gaps<br />between the variables at either end of a declaration<br />section.<br /><br />Sooner or later I&#39;ll get around to posting a Linux-ized<br />version of all the source code. Actually, the Windows<br />sources compile just fine under Linux, the only catch is<br />that the makefiles make contain some superfluous carriage<br />returns (which GNU make rejects).<br /><br />Cheers,<br />Randy Hyde<br /><br /><br /><br />You can find this software at <br /><br />http://webster.cs.ucr.edu/AsmT?ools/RollYourOwn/index.html <br /><br />or <br /><br />http://webster.cs.ucr.edu/AsmT?ools/HLA/hla2/0_hla2.html <br /><br />Cheers, <br />Randy Hyde <br /><br />As far as computer languages go, most assembly languages <br />have a fairly simple syntax. As a result, many programmers<br /> have actually written their own assembler. Though many <br /> open source assemblers exist and one could argue that <br /> there is no real reason for writing an assembler from<br /> scratch,&nbsp; there are many benefits to doing exactly that.<br /> Among these&nbsp; benefits include: <br /><br />Writing an assembler will give a programmer a good <br />appreciation of the instruction encoding <br />	<br />Writing an assembler will let the programmer insert the <br />features they want into the assembler<br />	 <br />Writing an assembler allows the author to design a syntax <br />for the assembly language that they prefer <br />	<br />Writing an assembler is a good medium-sized project that <br />many beginning to intermediate programmers can handle, <br />allowing them to sharpen their programming skills on a<br />practical&nbsp; project. <br /><br />Unfortunately, there are some disadvantages to writing an<br />assembler,&nbsp; as well: <br /><br />Creating a &quot;hobby-quality&quot; assembler isn&#39;t a difficult<br />task,&nbsp; but creating a &quot;commercial-quality&quot; assembler with<br />a&nbsp; professional feature set is a large project, often<br />requiring&nbsp; skills that beginning to intermediate<br />programmers don&#39;t possess. <br />	<br />Creating a modern assembler requires a lot of advanced<br />compiler&nbsp; knowledge, again that most beginning to<br />intermediate programmers don&#39;t&nbsp; have. <br /><br />Creating a fast assembler, one that others will want to<br />use,&nbsp; requires a commanding knowledge of data structures<br />and algorithms.&nbsp; It&#39;s easy enough to whip out a little<br />&quot;toy&quot; assembler that works fine&nbsp; for&nbsp; small projects; it&#39;s<br />a bit more difficult to create a high-performance&nbsp; system<br />that handles large projects just as well as small<br />projects. <br /><br />While writing code to process individual machine<br />instructions is fun&nbsp; and interesting, a professional-<br />quality modern assembler requires a&nbsp; lot of other code to<br />handle declarations, data types, macros, and other<br />advanced features. These features are not particularly<br />easy&nbsp; or obvious to implement. <br /><br />The purpose of the Assembler Developer&#39;s Kit is to provide<br /> documentation and source code to those individuals who<br /> are&nbsp; interested in writing a professional quality<br /> assembler, without&nbsp; all the work needed to create such a<br /> product from scratch.&nbsp; Using the ADK will allow a<br /> programmer to concentrate on the&nbsp; interesting and fun<br /> parts of writing an assembler (e.g., working&nbsp; on the<br /> instructions and the encoding of those instructions)<br /> while&nbsp; sparing themselves all the &quot;grunt&quot; work (e.g.,<br /> writing high-&nbsp; performance symbol table management code,<br /> writing a lexical&nbsp; analyzer, parsing declarations, and so<br /> on). <br /><br />The ADK is based on the code written for the High-Level <br />Assembler V2.0 (or, perhaps, it&#39;s better to say that HLA<br />v2.0&nbsp; is being written around the use of the ADK). This<br />code is written&nbsp; in assembly language using good<br />algorithms. As such, it executes&nbsp; very fast! Because the<br />ADK is designed to implement the HLA v2.0&nbsp; feature set,<br />you&#39;ll find that the ADK provides a very rich set of <br />advanced assembler features. Because the ADK is written in<br />assembly&nbsp; language using HLA (v1.x), the code is very easy<br />read and understand.&nbsp; Here are some of the advantages of<br />writing an assembler based&nbsp; on the ADK: <br /><br />Assemblers designed around the ADK will be very fast <br />(most of the time-consuming algorithms you&#39;ll find in an<br />assembler&nbsp; are already efficiently implemented in the<br />ADK).<br />	 <br />The ADK contains over 85,000 lines of code that an<br />assembler&nbsp; author will not have to write themselves.<br />	 <br />The ADK is very modular. You can easily eliminate features<br />you don&#39;t want.<br /> <br />The ADK is based on the HLA v2.0 feature set, perhaps the <br />most advanced x86 assembler ever designed. <br /><br />Unlike most open source assemblers, the ADK contains<br />documentation&nbsp; that explains the internal operation of the<br />code, so you can more easily&nbsp; figure out the internal<br />operation of the system in order to make&nbsp; modifications. <br /><br />If you decide to adopt an HLA-like syntax for<br />declarations,&nbsp; you can use the ADK code almost as-is,<br />supplying only the&nbsp; instructions needed to implement the<br />assembly of your instructions. <br /><br />The ADK is being designed to be portable. Code will<br />compile&nbsp; under Windows and Linux. If you exercise care<br />when writing your&nbsp; portion of the assembler, you&#39;ll be<br />able to port your assembler to&nbsp; different operating<br />systems with minimal effort. <br /><br />Along with HLA v2.0, the ADK is under continuing<br />development.&nbsp; Expect new features and facilities as time<br />passes. <br /><br />The ADK is great for those who would like to create a<br />HLA-like&nbsp; assembler for processors other than the x86<br />(actually, there&#39;s no&nbsp; reason you can&#39;t use it to create<br />an x86 high-level assembler; that&#39;s&nbsp; exactly what the ADK<br />was developed for in the first place.). <br /><br />With some minor modifications, you could even use the ADK <br />as the basis for creating a high-level language compiler. <br /><br />The ADK is planned to contain the following components: <br /><br />A lexical analyzer module (scanner) <br /><br />Symbol table management code <br /><br />Declarations parsing code <br /><br />A compile-time language/macro processor module <br /><br />A set of object-code generation modules (for different <br />object code file formats)<br />	<br />Documentation for the internal operation of the ADK code <br /><br />User-level documentation (that you can edit) that<br />describes&nbsp; the user-visible features of the ADK components<br /> (to which you would add your specific assembler&#39;s<br /> documentation). <br /><br />Not all of these components are in place at this time, <br />but a fair amount of code is currently available.&nbsp; As<br />development proceeds on the HLA v2.0 project,&nbsp; you can<br />expect to see the ADK&#39;s feature set grow. <br /><br />Note that the ADK source code is written in HLA v1.x, so<br />you&nbsp; will need to download and install a recent version of<br />HLA in&nbsp; order to modify the ADK source code. Note that the<br />ADK&nbsp; source code is very modular and uses standard calling<br />conventions,&nbsp; so it is perfectly possible to write your<br />code using a different&nbsp; assembler and link your code into<br />the ADK object code.&nbsp; However, it&#39;s probably going to be<br />easier to maintain your&nbsp; assembler if you write the whole<br />thing with HLA. <br /><br />Note that the ADK project is public domain and open<br />source.&nbsp; Anyone wishing to contribute may do so, as long<br />as they are&nbsp; willing to release their code to the public<br />domain (of course,&nbsp; anyone may contribute to the project<br />anyway they like, but&nbsp; the &quot;official&quot; components of the<br />ADK must all be in the&nbsp; public domain). </div>
    <div class="meta">Posted on 2005-05-07 21:00:44 by rhyde</div>
   </div>
  </div>
 </body>
</html>
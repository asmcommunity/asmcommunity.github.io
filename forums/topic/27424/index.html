<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>The number of code section can be greater (or equal) than 2 ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27424" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27424">The number of code section can be greater (or equal) than 2 ?</a></p>
   <div class="post" id="post-196228">
    <div class="subject"><a href="#post-196228">The number of code section can be greater (or equal) than 2 ?</a></div>
    <div class="body">I'm modifying a Win32 PE executable.

I want to add another code section and, after that,
I wanna modify the entry point to point out the new code section.

Can this be true?

Please masters...

I'm Korean and my English is very poor.
So sorry about that...

Thank you for reading this.
Have a nice day! :=)</div>
    <div class="meta">Posted on 2001-03-28 07:53:00 by nyam</div>
   </div>
   <div class="post" id="post-196229">
    <div class="subject"><a href="#post-196229">The number of code section can be greater (or equal) than 2 ?</a></div>
    <div class="body">Hi,

This is quite possible. The easiest way is to use a PE editor such as PEditor 1.7 for example:

http://www.suddendischarge.com/download.query?id=0x1E4E7A5A

You can add a section in the PE Header and call it anything you like. Then add as many bytes as you need to the file with a hex editor. Just make sure you use a multiple of the Section Alignment size (usually 1000 bytes).

In the PE Header you will also need to increase the Size of the file, specify the Raw and Virtual sizes of the new section, and set the Code Characteristics of your new section to E0000020 or 60000020 so it is recognized as an executable section. Then you can change the entry point of the program to the new section using the PE editor.  There are some specific programs around which will *just* add a new section for you as well.

Hope this helps,

Kayaker</div>
    <div class="meta">Posted on 2001-03-28 13:05:00 by Kayaker</div>
   </div>
  </div>
 </body>
</html>
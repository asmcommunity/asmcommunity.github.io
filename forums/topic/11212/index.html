<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Loading Bitmaps in DDraw - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11212" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=11212">Loading Bitmaps in DDraw</a></p>
   <div class="post" id="post-84525">
    <div class="subject"><a href="#post-84525">Loading Bitmaps in DDraw</a></div>
    <div class="body">Hi guys,<br />ahm, i just wondered if there is any clean and proper method to load bitmaps in directdraw. there are different ways and i tried it with normal windows functions so far, but failed.<br /><br />( code snippet : inv	CreateCompatibleDC, NULL<br />	mov	hdc, eax<br />	inv 	SelectObject, hdcImage, hBitmap<br />	inv	GetObject, hBitmap, SIZEOF bm, OFFSET bm)<br /><br /><br />So, what's the &quot;normal&quot; way to load bitmaps? and have you got some source code for that?<br /><br />thanks :)</div>
    <div class="meta">Posted on 2003-03-02 13:52:13 by Johannson</div>
   </div>
   <div class="post" id="post-84537">
    <div class="subject"><a href="#post-84537">Loading Bitmaps in DDraw</a></div>
    <div class="body">Use this sequence:<br />---------------------------------<br /><br />1)LoadImage with LR_LOADFROMFILE OR LR_DEFAULTSIZE OR LR_CREATEDIBSECTION<br />2)CreateCompatibleDC with your main window or screen (after you have setup resolution/fullscreen)<br />3)SelectObject Hbitmap from above in HDC from above<br /><br />4)DirectDraw CreateSurface - where to keep above bitmap<br />5)DirectDraw GetDC for above surface<br /><br />6)BitBlt from GDI HDC to Directraw's surface DC<br /><br />7)Eventually set colorkey for above surface IF it is going to be a sprite :)<br /><br />Lately we have designed our own sprite format that is more memory intensive and faster to blit for HE game <br />However we are still loading a lot of bitmaps using above sequence</div>
    <div class="meta">Posted on 2003-03-02 14:47:47 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-84538">
    <div class="subject"><a href="#post-84538">Loading Bitmaps in DDraw</a></div>
    <div class="body">bogdan, i love you :alright:</div>
    <div class="meta">Posted on 2003-03-02 14:51:14 by Johannson</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Gdi+, Resizing images. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21722" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21722">Gdi+, Resizing images.</a></p>
   <div class="post" id="post-163897">
    <div class="subject"><a href="#post-163897">Gdi+, Resizing images.</a></div>
    <div class="body">Hi all<br /><br />I am currently working on a project that involves Gdi+ and resizing jpeg images.<br /><br />I am not satisfied with the picture quality I get.<br />Is there something in Gdi+ that I have missed?<br />Which interpolation method gives, in your opinion the best result?<br /><br />KetilO<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=885" target="_blank">ImgTest.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-08-28 15:33:04 by KetilO</div>
   </div>
   <div class="post" id="post-163915">
    <div class="subject"><a href="#post-163915">Re: Gdi+, Resizing images.</a></div>
    <div class="body">HiQualityBicubic IMO on my PC<br /><br />OS: Win2K SP4<br />VC: Radeon 9550 (w/ 9600 BIOS)</div>
    <div class="meta">Posted on 2005-08-28 21:59:28 by x86asm</div>
   </div>
   <div class="post" id="post-163990">
    <div class="subject"><a href="#post-163990">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Hi Ketil,<br /><br />Can you post the gdiplus.inc and gdiplus_structs.inc files, I don&#39;t have them and would like to tweak around with your application to do some tests I had in mind.<br /><br />Donkey</div>
    <div class="meta">Posted on 2005-08-30 21:10:20 by donkey</div>
   </div>
   <div class="post" id="post-163996">
    <div class="subject"><a href="#post-163996">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Hi Edgar<br /><br />Shure, you can find it here:<br /><a target="_blank" href="http://www.radasm.com/projects/gdi+%20for%20masm.zip">http://radasm.visualassembler.com/projects/gdi+%20for%20masm.zip</a><br /><br />KetilO<br /><br />Edit:<br />Link updated.</div>
    <div class="meta">Posted on 2005-08-31 03:33:40 by KetilO</div>
   </div>
   <div class="post" id="post-180159">
    <div class="subject"><a href="#post-180159">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Hi KetilO<br />The link to the GDI+ inc file seems to be broken. Can you check it please. Thanks<br /><br />Regards<br /><br />Biterider</div>
    <div class="meta">Posted on 2006-04-26 11:02:21 by Biterider</div>
   </div>
   <div class="post" id="post-180187">
    <div class="subject"><a href="#post-180187">Re: Gdi+, Resizing images.</a></div>
    <div class="body">KetilO,<br />Do like I do, I don&#39;t use gdi to resize the images<br />if you have a handle to a image you can get the dibits<br />and right in ram resize them without lose of color<br />and set them back to a handle.<br /><br />Infact I have wrote such proc&#39;s to resize inlarge image, shrink image<br />flip image, rotate image, brighten image, dim image, grayscale image<br /><br />all done in ram skipping gdi. it is faster and feels good to know you<br />wrote the same stuff gdi has in it.<br /><br />of corse you have to use GDI to get it to the screen but atleast you<br />can do it all faster. and without loss of color.<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-04-27 22:53:28 by Zcoder</div>
   </div>
   <div class="post" id="post-180189">
    <div class="subject"><a href="#post-180189">Re: Gdi+, Resizing images.</a></div>
    <div class="body"><div class="quote"><br />Infact I have wrote such proc&#39;s to resize inlarge image, shrink image<br />flip image, rotate image, brighten image, dim image, grayscale image<br />all done in ram skipping gdi. it is faster and feels good to know you<br />wrote the same stuff gdi has in it.</div><br />ZCoder,<br />Any chance of you posting that code or portions of it, to see how its done?<br />Thank,<br />Rags</div>
    <div class="meta">Posted on 2006-04-28 00:34:01 by rags</div>
   </div>
   <div class="post" id="post-180193">
    <div class="subject"><a href="#post-180193">Re: Gdi+, Resizing images.</a></div>
    <div class="body">rags,<br />Your wish is my command, the zip file I have posted contains<br />all the functions I have in regards to image manipulation.<br /><br />All I ask is if you use it in a tool or something to give me some small<br />credit. except for the code in there that reads GIF&#39;s and JPG&#39;s that<br />I think was done by ernie? not sure. But all the rest was written by me<br />for use in some of my apps.<br /><br />And if you modify it by optimizing it more then I did I would like a copy<br />or if you add more image manipulations to it I would like that too.<br /><br /><br />Zcoder....</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1590" target="_blank">ImgLib.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-04-28 05:00:29 by Zcoder</div>
   </div>
   <div class="post" id="post-180194">
    <div class="subject"><a href="#post-180194">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Humm, the image shrinking seems a bit simplistic - no filtering of any kind?<br /></div>
    <div class="meta">Posted on 2006-04-28 05:04:46 by f0dder</div>
   </div>
   <div class="post" id="post-180195">
    <div class="subject"><a href="#post-180195">Re: Gdi+, Resizing images.</a></div>
    <div class="body">f0dder,<br />I am not sure what you mean by filtering?<br /><br />I shrunk it in reverse of how I did the inlarging and it<br />looked good to me, just as good as I see done by<br />other image veiwer I have.<br /><br />could you explain more on filtering?<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-04-28 05:14:46 by Zcoder</div>
   </div>
   <div class="post" id="post-180196">
    <div class="subject"><a href="#post-180196">Re: Gdi+, Resizing images.</a></div>
    <div class="body">As long as you only shrink in half (well, powers of two) you will get okay results. But if you need to, say, shrink a 1600x1200 image to 1024x768, you get an uneven shrink factor (something like 1:1.5652). Have a look at the attached image. It&#39;s a bit large because I saved it in PNG format, to avoid a lossy compression algorithm blurring out the differences. The image was resized from 1632x1232, and you&#39;ll need to zoom in to really see the difference...<br /><br /><img src="http://f0dder.reteam.org/junk/resize.png" /><br /></div>
    <div class="meta">Posted on 2006-04-28 05:31:05 by f0dder</div>
   </div>
   <div class="post" id="post-180197">
    <div class="subject"><a href="#post-180197">Re: Gdi+, Resizing images.</a></div>
    <div class="body">f0dder,<br />I see now what you mean.<br />Most of the programs I have wont let me shrink or inlarge a file<br />by a uneven mark, one I have shows a slider and it jumps by two<br />and one I have that will let me do a odd mark value seems<br />to skim off a few pixles on one or 2 sides, couse the image<br />always winds up X2 or /2.<br /><br />So I thought this is what they do, I never really tried to<br />do that, I just made the proc do it by 2 each time you call it.<br /><br />I could try as you say and see what I come up with.<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-04-28 05:40:14 by Zcoder</div>
   </div>
   <div class="post" id="post-180199">
    <div class="subject"><a href="#post-180199">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Well, doing it properly requires a fair bit of code - and there&#39;s a fair amount of different ways to do it, which will give varying quality of results, depending on the source image, targer resolution et cetera. Bilinear and bicubic filtering, weighed average etc. There&#39;s a lot of research to do :), especially because one would generally want &quot;subpixel accuracy&quot;.<br /></div>
    <div class="meta">Posted on 2006-04-28 08:19:55 by f0dder</div>
   </div>
   <div class="post" id="post-180201">
    <div class="subject"><a href="#post-180201">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Even shrinking by a factor of 2 looks *much* better when done via some smart filter (triangle/lanczos/etc.). Same goes to stretching.</div>
    <div class="meta">Posted on 2006-04-28 10:14:32 by ti_mo_n</div>
   </div>
   <div class="post" id="post-180202">
    <div class="subject"><a href="#post-180202">Re: Gdi+, Resizing images.</a></div>
    <div class="body">f0dder,<br />Well I can give it a shot, I am really good at finding away.<br />I have been working on one to blar a image, I took it out<br />of the download couse it&#39;s not working right yet, I use<br />a look ahead logo, Alpha blending to blar each scan line in the image <br />it kinda works, but needs improvements.<br /><br />I have in my gamer folder wrote ray casting for use in DX surface rendering<br />so I know alot about dealing with pixels and colors.<br />ray casting of circels and squares and angles stuff like that so far.<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-04-28 10:42:58 by Zcoder</div>
   </div>
   <div class="post" id="post-180316">
    <div class="subject"><a href="#post-180316">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Thanks guys<br /><br />The application is wrapped in plastic and are now sold.<br /><br /><img src="http://www.radasm.com/Upload/Junk/app.JPG" /><br /><br />KetilO</div>
    <div class="meta">Posted on 2006-05-02 07:51:54 by KetilO</div>
   </div>
   <div class="post" id="post-180320">
    <div class="subject"><a href="#post-180320">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Cool man, congrats!!!!!&nbsp; 8)<br /><br />Biterider</div>
    <div class="meta">Posted on 2006-05-02 09:26:11 by Biterider</div>
   </div>
   <div class="post" id="post-180321">
    <div class="subject"><a href="#post-180321">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Interesting what is that applications? Video/Music rental, or online purchasing of those? Got a link to the product? :)<br /></div>
    <div class="meta">Posted on 2006-05-02 09:29:42 by f0dder</div>
   </div>
   <div class="post" id="post-180328">
    <div class="subject"><a href="#post-180328">Re: Gdi+, Resizing images.</a></div>
    <div class="body">It is an addon for our POS system, an information kiosk for video rental/sale.<br />So fresh it&#39;s not on our website yet.<br /><br />http://www.jm-data.no/<br /><br />KetilO</div>
    <div class="meta">Posted on 2006-05-02 11:41:04 by KetilO</div>
   </div>
   <div class="post" id="post-180329">
    <div class="subject"><a href="#post-180329">Re: Gdi+, Resizing images.</a></div>
    <div class="body">Nice, good work - hope you make a bit of cash from this :)<br /><br />Also, the interface looks pretty nice - thumbs up.<br /></div>
    <div class="meta">Posted on 2006-05-02 11:46:51 by f0dder</div>
   </div>
  </div>
 </body>
</html>
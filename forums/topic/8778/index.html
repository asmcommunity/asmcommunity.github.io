<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>lstrlen?? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8778" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8778">lstrlen??</a></p>
   <div class="post" id="post-64499">
    <div class="subject"><a href="#post-64499">lstrlen??</a></div>
    <div class="body">Im just curious what register does lstrlen return in? Also can it count ascii in buffers?</div>
    <div class="meta">Posted on 2002-11-03 13:27:19 by resistance_is_futile</div>
   </div>
   <div class="post" id="post-64503">
    <div class="subject"><a href="#post-64503">lstrlen??</a></div>
    <div class="body">It returns the lenght in eax and it counts the chars in your buffer until it reaches a 0.<br /><br />:) JC</div>
    <div class="meta">Posted on 2002-11-03 13:58:48 by JimmyClif</div>
   </div>
   <div class="post" id="post-64505">
    <div class="subject"><a href="#post-64505">lstrlen??</a></div>
    <div class="body">So does that mean if the buffer is like 256 dup(?) then it will return all zeros after it counts the actual count of whats in the buffer?</div>
    <div class="meta">Posted on 2002-11-03 14:07:25 by resistance_is_futile</div>
   </div>
   <div class="post" id="post-64510">
    <div class="subject"><a href="#post-64510">lstrlen??</a></div>
    <div class="body">Strings in memory are typically &quot;null terminated&quot;, meaning at the end of the byte array there is a 0 to indicate termination.<br /><br />myString db &quot;Hello World&quot;, 0<br /><br />myString has a length of 11.  Strlen() scans the bytes, counting as it goes, and when it finds a 0 it stops counting.</div>
    <div class="meta">Posted on 2002-11-03 14:38:38 by iblis</div>
   </div>
   <div class="post" id="post-64517">
    <div class="subject"><a href="#post-64517">lstrlen??</a></div>
    <div class="body">oh okay. thanks for the explaination. Do you know of any thing (api etc) that can count what is inside a buffer. Like for example I put &quot;Hello world&quot; in a buffer (lets say this one: &quot;mybuffer db 254 dup(?)&quot;). Is there a way to get it to count and read out how many letters are in that buffer?</div>
    <div class="meta">Posted on 2002-11-03 15:37:44 by resistance_is_futile</div>
   </div>
   <div class="post" id="post-64522">
    <div class="subject"><a href="#post-64522">lstrlen??</a></div>
    <div class="body"><div class="quote"><em>Originally posted by resistance_is_futile in thread lstrlen??? </em><br />oh okay. thanks for the explaination. Do you know of any thing (api etc) that can count what is inside a buffer. Like for example I put &quot;Hello world&quot; in a buffer (lets say this one: &quot;mybuffer db 254 dup(?)&quot;). Is there a way to get it to count and read out how many letters are in that buffer? </div><br /><br />Yes, there's an api called lstrlen which does exactly that :grin:<br /><br />lol</div>
    <div class="meta">Posted on 2002-11-03 16:49:33 by JimmyClif</div>
   </div>
   <div class="post" id="post-64523">
    <div class="subject"><a href="#post-64523">lstrlen??</a></div>
    <div class="body">lol Umm this doesnt work:<br /><pre><code><br />invoke lstrlen,offset Buffer<br />invoke MessageBox,0,eax,0,0<br /></code></pre><br /><br />How do I get it to print out how many characters are in Buffer?</div>
    <div class="meta">Posted on 2002-11-03 17:00:06 by resistance_is_futile</div>
   </div>
   <div class="post" id="post-64526">
    <div class="subject"><a href="#post-64526">lstrlen??</a></div>
    <div class="body">Use a debugger to see what it returns. It will return a number in eax.<br />This number will not be in ascii format - so you can't show it inside a MessageBox.<br />You have to convert the number first using for example the function from masmlib dwtoa. (Dword to Ascii)<br />So:<br /><br /><pre><code><br />invoke lstrlen, ADDR Buffer<br />mov dword ptr &#91;Buffer&#93;,0<br />mov dword ptr &#91;Buffer+1&#93;,0<br />invoke dwtoa, eax, ADDR Buffer<br />invoke MessageBox, 0, ADDR Buffer, 0, 0<br /></code></pre></div>
    <div class="meta">Posted on 2002-11-03 17:11:39 by JimmyClif</div>
   </div>
   <div class="post" id="post-64530">
    <div class="subject"><a href="#post-64530">lstrlen??</a></div>
    <div class="body">okay d00d thx a lot...</div>
    <div class="meta">Posted on 2002-11-03 17:56:53 by resistance_is_futile</div>
   </div>
  </div>
 </body>
</html>
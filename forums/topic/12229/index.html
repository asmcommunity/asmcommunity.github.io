<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CPU limit - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12229" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=12229">CPU limit</a></p>
   <div class="post" id="post-93977">
    <div class="subject"><a href="#post-93977">CPU limit</a></div>
    <div class="body">while viewing flash sites, my CPU usage goes up to 100% - and my computer gets very warm...  i know that Flash doesn't actually use up all that processing time (or at least, it better not...) - i was wondering if there was any way to limit the % CPU time a program gets?<br /><br />Something else i was always wondering about:  Windows doesn't use 100% of the CPU wen other programs are running;  it has idle time...  how does that work?  does it just finish a cycle and wait for a callback or something?<br /><br />thanks :)</div>
    <div class="meta">Posted on 2003-04-07 13:31:17 by jademtech</div>
   </div>
   <div class="post" id="post-93979">
    <div class="subject"><a href="#post-93979">CPU limit</a></div>
    <div class="body">re-install flash? It's probably a fault in the implementation you have on your system.</div>
    <div class="meta">Posted on 2003-04-07 13:33:08 by Hiroshimator</div>
   </div>
   <div class="post" id="post-94003">
    <div class="subject"><a href="#post-94003">CPU limit</a></div>
    <div class="body">The HLT instruction is used to wait for an interrupt. But in user-mode code, this has the effect of releasing the current thread's time slice.</div>
    <div class="meta">Posted on 2003-04-07 15:44:11 by Sephiroth3</div>
   </div>
   <div class="post" id="post-94005">
    <div class="subject"><a href="#post-94005">CPU limit</a></div>
    <div class="body">flash is one very poorly coded program. I would assume that - among other bad coding faults - it uses PeekMessage instead of GetMessage. flash sites suck, the flash viewer sucks.<br /><br />Sephiroth3, don't talk about things you don't know :) - HLT is a privileged instruction.</div>
    <div class="meta">Posted on 2003-04-07 15:51:48 by f0dder</div>
   </div>
   <div class="post" id="post-94029">
    <div class="subject"><a href="#post-94029">CPU limit</a></div>
    <div class="body"><div class="quote"><br />re-install flash? It's probably a fault in the implementation you have on your system. </div><br /><br />well, there are some other things, like when i'm rendering stuff /w POV for renders...  i just don't like the idea of my CPU running at full steam =D<br /><br />like, if i know my animation will take ~5 hours, but i only need it in 10, why stress my system?<br /><br />and then there's SimCity 4...<br /><br />so no solutions?  thanks anyway :)</div>
    <div class="meta">Posted on 2003-04-07 17:03:40 by jademtech</div>
   </div>
   <div class="post" id="post-94038">
    <div class="subject"><a href="#post-94038">CPU limit</a></div>
    <div class="body">I use phoenix and have no such issues with flash</div>
    <div class="meta">Posted on 2003-04-07 17:35:03 by Hiroshimator</div>
   </div>
   <div class="post" id="post-94041">
    <div class="subject"><a href="#post-94041">CPU limit</a></div>
    <div class="body"><div class="quote"><br />flash is one very poorly coded program. I would assume that - among other bad coding faults - it uses PeekMessage instead of GetMessage. flash sites suck, the flash viewer sucks.<br /><br />Sephiroth3, don't talk about things you don't know :) - HLT is a privileged instruction. </div><br /><br />damn it how many more instruction will Win32 not let me use!! &gt;=|, I can't read my PMC's or my MSR's stupid piece of .....</div>
    <div class="meta">Posted on 2003-04-07 18:05:26 by x86asm</div>
   </div>
   <div class="post" id="post-94043">
    <div class="subject"><a href="#post-94043">CPU limit</a></div>
    <div class="body"><div class="quote"><br /><br /><br />damn it how many more instruction will Win32 not let me use!! &gt;=|, I can't read my PMC's or my MSR's stupid piece of ..... </div><br /><br />you can use a device driver, i think...  besides, it's not Windows...  it's the CPU (well, technically, everything is the CPU, but it's because of Ring3 in PM)<br /><br />BTW, correct me if i'm wrong...  i'm speaking from my very basic understanding of computers :grin:</div>
    <div class="meta">Posted on 2003-04-07 18:10:56 by jademtech</div>
   </div>
   <div class="post" id="post-94051">
    <div class="subject"><a href="#post-94051">CPU limit</a></div>
    <div class="body"><div class="quote"><br /><br /><br />you can use a device driver, i think...  besides, it's not Windows...  it's the CPU (well, technically, everything is the CPU, but it's because of Ring3 in PM)<br /><br />BTW, correct me if i'm wrong...  i'm speaking from my very basic understanding of computers :grin:  </div><br /><br />You are right! But Windows messed my CPU up and it now wont let me execute those instructions. So now I have to use a commercial profiler (damn it....)</div>
    <div class="meta">Posted on 2003-04-07 18:57:58 by x86asm</div>
   </div>
   <div class="post" id="post-94152">
    <div class="subject"><a href="#post-94152">CPU limit</a></div>
    <div class="body"><div class="quote"><br />But Windows messed my CPU up <br /></div><br />With an attitude like that, I'd say it's you and not windows that's stupid ^_^<br />Go read the intel docs, the volume about systems programming. Then you can decide whether to use a protected multitasking OS like windows (or linux or bsd or ...) and stop moaning about privileged instructions, or you can go toddle with DOS.</div>
    <div class="meta">Posted on 2003-04-08 02:21:59 by f0dder</div>
   </div>
   <div class="post" id="post-94285">
    <div class="subject"><a href="#post-94285">CPU limit</a></div>
    <div class="body">Well, what I meant was that VMM's GPF handler will release the current thread's time slice if the instruction that caused the GPF is a HLT and the critical section is unowned. If the critical section has been claimed, it will execute a real HLT. At least, this is so in Windows 98. The code that does this is at 0x995 in segment 13, if you still won't believe me.<br />Windows NT probably does something similar.<br />So, Windows will let you use the instruction, as a short hand form of Sleep(0).</div>
    <div class="meta">Posted on 2003-04-08 09:44:16 by Sephiroth3</div>
   </div>
   <div class="post" id="post-94288">
    <div class="subject"><a href="#post-94288">CPU limit</a></div>
    <div class="body">Don't make assumptions about all windows just because it works on one version.<br />NT correctly raises a privileged instruction exception.</div>
    <div class="meta">Posted on 2003-04-08 09:47:11 by f0dder</div>
   </div>
   <div class="post" id="post-94330">
    <div class="subject"><a href="#post-94330">CPU limit</a></div>
    <div class="body"><div class="quote">i just don't like the idea of my CPU running at full steam =D</div> <br /><br /><br />AFAIAC your cpu runs at 100% usage ALL the time.<br />Although some instructions create more heat within the cpu than others, instructions which supposedly &quot;idle&quot; the cpu are simply misleading.<br />So is the notion that the OS can control the rate at which instructions are executed by the cpu.<br /><br />If anyone can argue against my masters degree in digital electronic engineering, I'm happy to hear their opinion, as microprocessor architecture is something I haven't been into for a decade...</div>
    <div class="meta">Posted on 2003-04-08 11:29:34 by Homer</div>
   </div>
   <div class="post" id="post-94390">
    <div class="subject"><a href="#post-94390">CPU limit</a></div>
    <div class="body">Well, the HLT instruction does just that - it causes the processor to enter a state where it hardly does any work, and thus generates considerably less heat than when it is executing instructions. It only resumes operation when the next interrupt arrives. Thus, Windows can halt the processor when it finds that there's nothing to do for the moment, and it does exactly that.<br />If you have a CPU termometer, you could write a driver that upon detecting that the CPU is too hot, sets the current thread's priority to realtime, executes a HLT repeatedly until the processor is cool again, and sets the priority back. Another way of ensuring that it stays cool is to lower the clock frequency.</div>
    <div class="meta">Posted on 2003-04-08 13:29:15 by Sephiroth3</div>
   </div>
   <div class="post" id="post-94391">
    <div class="subject"><a href="#post-94391">CPU limit</a></div>
    <div class="body">9x doesn't HLT btw.</div>
    <div class="meta">Posted on 2003-04-08 13:33:45 by f0dder</div>
   </div>
   <div class="post" id="post-94466">
    <div class="subject"><a href="#post-94466">CPU limit</a></div>
    <div class="body"><div class="quote"><br /> <br /><br /><br />...argue against my masters degree in digital electronic engineering...</div><br /><br />I won't even bother :)</div>
    <div class="meta">Posted on 2003-04-08 19:31:51 by x86asm</div>
   </div>
   <div class="post" id="post-94468">
    <div class="subject"><a href="#post-94468">CPU limit</a></div>
    <div class="body"><div class="quote"><br /><br /><br />...argue against my masters degree in digital electronic engineering...</div><br /><br />wow first time i've seen anyone use that attack. The 'Degree Attack', good job<br /><br />/me gives EvilHomer2k 3 cool points<br /><br />:alright:</div>
    <div class="meta">Posted on 2003-04-08 19:58:20 by Guy on ASM</div>
   </div>
   <div class="post" id="post-94592">
    <div class="subject"><a href="#post-94592">CPU limit</a></div>
    <div class="body">One of those mail order degrees perhaps? ^_^</div>
    <div class="meta">Posted on 2003-04-09 03:10:21 by f0dder</div>
   </div>
   <div class="post" id="post-94616">
    <div class="subject"><a href="#post-94616">CPU limit</a></div>
    <div class="body"><div class="quote"><br /> <br /><br /><br />AFAIAC your cpu runs at 100% usage ALL the time.<br />Although some instructions create more heat within the cpu than others, instructions which supposedly &quot;idle&quot; the cpu are simply misleading.<br />So is the notion that the OS can control the rate at which instructions are executed by the cpu.<br /><br />If anyone can argue against my masters degree in digital electronic engineering, I'm happy to hear their opinion, as microprocessor architecture is something I haven't been into for a decade... </div><br /><br />it's the amount of instructions it needed to process within a given timeframe that determines cpu-usage for an OS AFAIK<br />I think they time it with the performance counters</div>
    <div class="meta">Posted on 2003-04-09 04:49:15 by Hiroshimator</div>
   </div>
  </div>
 </body>
</html>
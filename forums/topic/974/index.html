<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how can i use ICMP apis ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=974" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=974">how can i use ICMP apis ?</a></p>
   <div class="post" id="post-6301">
    <div class="subject"><a href="#post-6301">how can i use ICMP apis ?</a></div>
    <div class="body">i must use ICMP for Ping tester , but i donno how to make ICMP packet.<br /><br />so i hope to use ICMP apis.. follow this..<br /><br />IcmpCreateFile<br />IcmpSendEcho<br />IcmpCloseHandle<br /><br />um.. i cant find definition these func in any include files..<br /><br />how can i use these apis ?<br /><br />forgive my bad english , and have a nice day.</div>
    <div class="meta">Posted on 2001-09-05 18:56:26 by newbie</div>
   </div>
   <div class="post" id="post-6328">
    <div class="subject"><a href="#post-6328">how can i use ICMP apis ?</a></div>
    <div class="body">newbie,<br /><br />The icmp functions are implemented on Windows CE only, so you won't find them in the header files.<br /><br />You can use ICMP packets however, but you need to create a socket of type SOCK_RAW, then build you own header. MS have an explanation of this <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winsock/hh/sockspi/wsanxref_8xo2.asp">here.</a> <br /><br /><br />umbongo</div>
    <div class="meta">Posted on 2001-09-06 05:19:08 by umbongo</div>
   </div>
   <div class="post" id="post-6330">
    <div class="subject"><a href="#post-6330">how can i use ICMP apis ?</a></div>
    <div class="body">actually umbongo... that's not true...<br /><br />ICMP.dll IcmpCloseHandle IcmpCreateFile IcmpParseReplies IcmpSendEcho2 IcmpSendEcho do_echo_rep do_echo_req register_icmp<br /><br />that's the exporttable directly copied from icmp.dll on my win2k work machine.. the difference is that in winCE icmp is integrated with winsock... anyways... i'm actually trying to figure out using these myself... disassembling and looking at the WinCE documentation to see if it matches up... i'll get back on that when i've figured it out...</div>
    <div class="meta">Posted on 2001-09-06 06:26:52 by NervGaz</div>
   </div>
   <div class="post" id="post-6367">
    <div class="subject"><a href="#post-6367">how can i use ICMP apis ?</a></div>
    <div class="body">The lib/header/inc &amp; sort-of-documentation (short descriptions in .txt) are at my site: <a target="_blank" href="http://exagone.cjb.net">exagone.cjb.net</a> <br /><br />Thomas</div>
    <div class="meta">Posted on 2001-09-06 13:51:57 by Thomas</div>
   </div>
   <div class="post" id="post-6435">
    <div class="subject"><a href="#post-6435">how can i use ICMP apis ?</a></div>
    <div class="body">maybe this will help<br /><br /><pre><code><br />INCLUDE ICMP.INC<br />INCLUDELIB ICMP.LIB<br /><br />.code<br />...<br />...<br />...<br />  Invoke IcmpCreateFile ; this could be in WM_INITDIALOG proc<br />  Mov hICMP, Eax<br />...<br />...<br />...<br />  Invoke IcmpSendEcho, hICMP, IPAddr, ADDR ICMPSendBuff, SIZEOF ICMPSendBuff, 0,ADDR ICMPReplyBuff, SIZEOF ICMPReplyBuff, 100 ; read icmp.h -- it will explain all &#58;&#41;<br />...<br />...<br />...<br />  Invoke IcmpCloseHandle, hICMP ; this could be in WM_CLOSE proc<br />...<br />...<br />...<br /></code></pre>Hope this will help:grin:</div>
    <div class="meta">Posted on 2001-09-07 05:00:56 by NEMO</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Environmental variable - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7291" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=7291">Environmental variable</a></p>
   <div class="post" id="post-52802">
    <div class="subject"><a href="#post-52802">Environmental variable</a></div>
    <div class="body">Does FASM uses environmental variables ?<br />I.E MASM (ml) uses a facultative INCLUDE environmental variables to know where the includes files are stored...<br />I find it is a good solution as you don't have to manually copy include directory in your project directory, or write the include as a hard-coded full path... which can break if you move the directory from one drive to another...<br /><br />If no, can it be added?<br /><br />Thanks.</div>
    <div class="meta">Posted on 2002-08-12 00:55:15 by JCP</div>
   </div>
   <div class="post" id="post-52870">
    <div class="subject"><a href="#post-52870">Environmental variable</a></div>
    <div class="body">Don't know about environment variables, but I always use include '\fasm\include\blah.blah' which means the the fasm directory is in the root directory of a drive and the source code is somewhere on the same drive.</div>
    <div class="meta">Posted on 2002-08-12 06:55:24 by EÃ³in</div>
   </div>
   <div class="post" id="post-52888">
    <div class="subject"><a href="#post-52888">Environmental variable</a></div>
    <div class="body">I've decided to use solution proposed by Maverick some time ago (download the <a target="_blank" href="http://fasm.metro-nt.pl/fasm140b.zip">latest beta</a> to have implementation of it): the names enclosed within % characters in path are replaced with the values of appropriate environment variables. For example, when you have INCLUDE=c:\fasm\include variable defined, you can include files the following way:<br /><pre><code><br />include '%include%\kernel.inc'<br /></code></pre><br />It's already done for DOS and Win32, I don't know how to make it for Linux, should the enclosing % characters be used there also, or should I allow there $name form, like it is in Linux shells (in opposite to command.com)? I'd prefer %name% because it's easier to implement and there would be the one standard for all fasm versions, but when you provide paths with Linux version you already have to use slashes instead of backslashes, so maybe it would be better to follow the system's convention. What do you think?</div>
    <div class="meta">Posted on 2002-08-12 08:02:06 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-52890">
    <div class="subject"><a href="#post-52890">Environmental variable</a></div>
    <div class="body">The '%' character is ok. Its assembler source and no bash script :)</div>
    <div class="meta">Posted on 2002-08-12 08:05:05 by bazik</div>
   </div>
   <div class="post" id="post-52909">
    <div class="subject"><a href="#post-52909">Environmental variable</a></div>
    <div class="body">It's done. ;)</div>
    <div class="meta">Posted on 2002-08-12 09:21:25 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-52916">
    <div class="subject"><a href="#post-52916">Environmental variable</a></div>
    <div class="body">I didn't know it was added...<br />The actual solution is convenient and easy to use... :alright: <br /><br />Thanks.</div>
    <div class="meta">Posted on 2002-08-12 09:41:32 by JCP</div>
   </div>
   <div class="post" id="post-52939">
    <div class="subject"><a href="#post-52939">Environmental variable</a></div>
    <div class="body">I forgot to replace some files with new versions when I previously uploaded the beta 6, so please download it once again if you downloaded it earlier (before this post). Environment variables are replaced everwhere in paths used by fasm, so it will work also with file and load directives, and in command line too. For example<br />&quot;fasm foo.asm %systemroot%\foo.exe&quot; will create the executable in Windows directory (this is how it always worked in .BAT files, but now it works in all cases).</div>
    <div class="meta">Posted on 2002-08-12 11:13:18 by Tomasz Grysztar</div>
   </div>
   <div class="post" id="post-52951">
    <div class="subject"><a href="#post-52951">Environmental variable</a></div>
    <div class="body">Privalov, you could support both slashes and backslashes for both linux and other systems, and convert to whatever the host OS requires... I used to do this back in my 32bit dos programming days. I'm still annoyed microsoft decided to break the standard and use backslashes instead of regular slashes :/</div>
    <div class="meta">Posted on 2002-08-12 11:49:18 by f0dder</div>
   </div>
   <div class="post" id="post-52970">
    <div class="subject"><a href="#post-52970">Environmental variable</a></div>
    <div class="body">I second f0dder's proposal, and have been doing it too since I migrated to the PC.<br /><br />Privalov: great work.. I hope the MASM nonsense stops soon.</div>
    <div class="meta">Posted on 2002-08-12 13:15:19 by Maverick</div>
   </div>
   <div class="post" id="post-52984">
    <div class="subject"><a href="#post-52984">Environmental variable</a></div>
    <div class="body">The Win32 does it automatically, so I added it to the DOS and Linux version. Yes, that was a good idea - now I have full platform-independency. Current beta updated one more time.</div>
    <div class="meta">Posted on 2002-08-12 14:43:02 by Tomasz Grysztar</div>
   </div>
  </div>
 </body>
</html>
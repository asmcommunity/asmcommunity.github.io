<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Let's go to a lower level in gfx/snd, it's possible. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2909" />
    <link rel="next" href="../?id=2909&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=2909">Let's go to a lower level in gfx/snd, it's possible.</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=2909&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=2909&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="2909" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=2909&amp;page=2">&gt;</a><a href="../?id=2909&amp;page=3">&raquo;</a></form>   <div class="post" id="post-18808">
    <div class="subject"><a href="#post-18808">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">Hi,<br />As any bare-to-the-metal asm code hacker will agree, we<br />like to go to the lowest level possible. This means coding in<br />assembly, but following the same philosophy means also<br />programming the hardware directly. Those that (like me)<br />had the luck to live the Vic20, C64 and Amiga eras (I made<br />commercial games for it, 100% asm + a programming<br />language created by me) miss much of that freedom on the<br />PC, where for commercial reasons and for lack of technical<br />informations (let away the extreme abundance of uncompatible<br />chipsets) we are &quot;forced&quot; to code in C++, or even Java, and to<br />use high level, abstract API's to program the graphics and<br />sounds of the computer.<br /><br />Fortunately people like you, and this forum is the definitive<br />proof, don't like to be forced to do silly things, and here we<br />gained back the right to program in assembly under Winslows.<br /><br />It is not reasonable, though, to program in Windows for each<br />graphics and sound chip out there, although I'd be very happy<br />to help on such a project (an &quot;OpenSourced everybody's OS&quot;..<br />and I don't mean Linux) if anybody want to endorse it.<br />Anyway, if we want to remain into a reasonable level, what<br />we can do though is to go as low level as possible, to the max<br />possible level where we still get &quot;hardware independence&quot;.<br />So why use DirectX 8, when it is not the lowest level possible<br />which is &quot;hardware independent&quot;?<br /><br />If the DirectX DLL's are not specific-chipset dependent, then<br />there must be an underlying layer. Be it the card's driver, be<br />it something else, I don't know.. and I'm here to ask it.<br /><br />I can easily imagine, though, that this layer which DirectX 8<br />uses is not only still &quot;hardware independent&quot; (being all the<br />DirectX DLL's the same for all cards), but also considerably<br />less overheaded (expecially for small objects) than doing<br />things through DirectX, and also certainly more powerful and<br />versatile.. since it has to offer all the funcionality required by<br />all DirectX versions, present and past (and in part even future).<br /><br />Does anybody know about what this underlying layer may be?<br />And how to call its functions? And how to get the protos of them?<br /><br />Although I like to code in assembly even only for the pleasure<br />of it, I also (and sometimes expecially) see a practical advantage<br />in doing it. I'm sure that all those of you that agree with my<br />philosophy, will feel an advantage in skipping useless and<br />limiting passages if we can.<br />Using directly the &quot;hardware independent&quot; resource that<br />DirectX uses seems a much better idea than using DirectX to<br />me, a more low level idea, and the use we could do of this<br />increased freedom could very well make our programs a step<br />superior than going through the GWBASIC coded (well, nearly..<br />if we consider the overhead) DirectX DLL's.<br /><br />So I hope this thread gets as many useful posts as possible,<br />and we start to explore what is behind DirectX 8, since there<br />must be something usable which is still 100% hardware<br />independent.. or even partly hardware independent, but<br />certainly more versatile and performant than being forced<br />to go through DirectX.<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-12 06:20:36 by Maverick</div>
   </div>
   <div class="post" id="post-18829">
    <div class="subject"><a href="#post-18829">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">I think this is what you're looking for:<br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/wcegmm/htm/ddover_15.asp">Hardware abstraction layer</a><br /><br />It would definately be a good laugh if you could beat the biggest software company in the world in terms of speed, using a specification they designed and an assembler they created :grin: <br /><br />*but*:<br />Even if MS's developers code mainly in C++, I'm betting they already have important stuff written in ASM.<br />Even if MS has bad coders, they have lots of them working full-time on improving DX.<br /><br />So, to be short: Good luck :alright: and I mean it too...<br /><br />Edit: Also try <a target="_blank" href="http://www.scorpioncity.com/dj1.html">this link</a>. The author certainly seems to have your mindset:<br /><br /><div class="quote">DirectX is a horrible, clunky, poorly-designed, poorly-documented, bloated, ugly, confusing beast of an API (Application Programming Interface) that has driven many a programmer to drink.</div></div>
    <div class="meta">Posted on 2002-01-12 10:43:45 by Qweerdy</div>
   </div>
   <div class="post" id="post-18849">
    <div class="subject"><a href="#post-18849">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">You may want to take a look at the Driver Developer Kits<br /><br /><a target="_blank" href="http://www.microsoft.com/DDK/">http://www.microsoft.com/DDK/</a><br /><br />although i'm not sure how to get it</div>
    <div class="meta">Posted on 2002-01-12 14:14:56 by simi</div>
   </div>
   <div class="post" id="post-18867">
    <div class="subject"><a href="#post-18867">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">Thanks for the replies.. I've got the DDK and will study<br />how much convenient it would be to go straight to the<br />Device Driver Interface.<br /><br />Also, thanks for all the links.<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-12 17:46:58 by Maverick</div>
   </div>
   <div class="post" id="post-18873">
    <div class="subject"><a href="#post-18873">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><strong>Hi Maverick !</strong><br /><br />I would be really happy if there would be a common way to code GFX and SND at a lower level. Also I had coded everything on the good old Amiga in assembler and I'm still missing this machine.<br /><br />The problem is that nearly every hardware manufactor does his own standard for implementing hardware-functionalities on actual PCs. If you want to code those Hardware-Layers directly your code won't run on others PC's, only if the same hardware is present.<br />DirectX (exspecially DirectDraw) is a wrapper for all those Hardware-Layers. You only have a hard live as coder if you want ignore that.<br />(Or you want to code really fast GFX/SND-Apps for the X-Box !)<br /><br />I think what you want to do will end up into another DX-Interface ... If you want to avoid thousands of constants, structures and interfaces I suggest to deal only with the most simplest of them ...<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2002-01-12 19:38:10 by Caleb</div>
   </div>
   <div class="post" id="post-18885">
    <div class="subject"><a href="#post-18885">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><div class="quote">The Direct3D HAL is implemented by the chip manufacturer, board producer, or original equipment manufacturer (OEM). The HAL implements only device-dependent code and performs no emulation. If a function is not performed by the hardware, the HAL does not report it as a hardware capability. Additionally, the HAL does not validate parameters; Direct3D does this before the HAL is invoked.</div>Does the DDK specify how to code a Direct3D HAL?  If that interface is known then invoking the HAL directly shouldn't be a problem.  All the testing for valid features would be left to the application though.<br /><br /><a target="_blank" href="http://www.osr.com/seminars_wkmddw2_5dlwl.shtml">5 Day Lecture/Lab on Driver Programming:</a> $3150 (Ouch!)</div>
    <div class="meta">Posted on 2002-01-12 20:50:15 by bitRAKE</div>
   </div>
   <div class="post" id="post-19059">
    <div class="subject"><a href="#post-19059">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">Hi Caleb,<br /><br />You recall the old Seka assembler? Not the easiest of all. And<br />AsmOne? The best assembler and debugger I've ever seen<br />in my life (14 years of asm programming, on various CPUs).<br />I'm sure I know why you miss those old times. ;)<br />You're right that nowadays device drivers are designed with<br />DirectX so much in mind, that DirectX becomes more or less<br />only an intermediatary with the same functions and parameters.<br />DirectX checks for the parameters, and this slows things down a<br />bit, let away other things, but all in all the overhead is not too<br />big, and I think we can live with it. I'll be more sure once I'll have<br />benchmarked some basic functions, but studying a video card<br />driver I noticed how much similar were some of its blt functions<br />to the classic DirectX blt functions. They were almost the same.<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 06:25:37 by Maverick</div>
   </div>
   <div class="post" id="post-19060">
    <div class="subject"><a href="#post-19060">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">Hi bitRAKE,<br />I have the W98 DDK, it can be downloaded for free (also other,<br />but not all, DDK's) from the MS site.<br />It contains quite all is necessary to write drivers.. I don't think<br />that you should spend all that money on those lectures ;-)<br />Also, there are undocumented functions to go to RING0 on<br />Windows9x OS, and to call most of the KERNEL functions like<br />a VxD would do; if anybody is interested I'll search for this info<br />on my HD.<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 06:27:42 by Maverick</div>
   </div>
   <div class="post" id="post-19063">
    <div class="subject"><a href="#post-19063">blah</a></div>
    <div class="body">If there's *one* thing I've come to enjoy about windows, it's that<br />(well-programmed) applications/games work on most hardware,<br />unlike the DOS days (and now, linux days) where you have to have<br />specially written drivers for each and every app, for each and every<br />card.<br /><br />This wasn't really much of a problem if you had a SoundBlaster card,<br />but it was much worse with the video issues... VESA fixed a lot of<br />problems, but many cards had very flawed implementations. Let's<br />not go back to *that* mess.<br /><br />A simple thing using only the simples of the features of DirectDraw,<br />and doing a full local memory-&gt;video memory can easily give me<br />above hundred fps... if I use video memory sprites and fast blits,<br />I can get even higher. So I don't really think DirectX is a bottleneck.<br />The bottleneck is *your* code, and of course the hardware in the<br />machine.<br /><br />Ok, perhaps you'd be able to squeeze out a few more fps by<br />hammering the hardware directly. Or even by using DDI (and even<br />then very very possibly causing loads of incompatibilities). But what<br />use is that if you go from 100fps to 110fps? Also, if I remember correctly,<br />DDI can only be interfaced from ring0, and only by video device<br />drivers (ie, not generic device drivers). And you'd have to write<br />code for both NT and 9x. And, guess what, you'd just end up with<br />a mini DX version, lagging behind compared to the microsoft one.<br /><br />DirectX might not be the best possible API, but at least it works<br />pretty reasonably across a broad range of hardware, and it allows<br />for pretty nifty speeds. Even on older hardware, as long as you<br />stick to a reasonable subset of the API that doens't require software<br />paths to be taken.<br /><br />Perhaps I'm wrong in this, but I think not. Sorry if this sounds a<br />bit agressive, but it annoys me when people seem to think that they<br />can get better performance *just* by writing in assembly or *just*<br />by accessing the hardware at a lower level. This sort of elitism is<br />one of the reasons assembly has gotten a bad name in some places :(.</div>
    <div class="meta">Posted on 2002-01-14 06:44:22 by f0dder</div>
   </div>
   <div class="post" id="post-19072">
    <div class="subject"><a href="#post-19072">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><strong>Hi Maverick</strong><br /><br />Yeah ASMOne was a good thing ! Such an assembler is missing on Windows - Short exe and all you need  is integrated ... inclusive a debugger !<br /><br /><strong>Hi f0dder</strong><br /><br />I agree with you, but I think too, it's not an annoying thing to try the best performce which is possible ... even if one tries unconventional ways. They must not be bad ... <br /><br />But nowadays we think like:<br /><br />Wow - I've programmed a super effect-funciton, which can do those nasty things ... but it runs a bit lame on my 2 GHz-PC ... OK never mind, tomorrow I'm going to buy a 4 GHz-PC !<br /><br />And that's not even better !<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2002-01-14 07:51:07 by Caleb</div>
   </div>
   <div class="post" id="post-19075">
    <div class="subject"><a href="#post-19075">Calm down, it's you the elitist.</a></div>
    <div class="body">f0dder:<br /><br />Wow.. what a post.. and what did I deserve to get all of your<br />anger? Perhaps you just had a bad day? Sorry about that, but<br />that's not my fault.<br /><br />You practically imply that I'm a dumb wannabe that just because<br />it's assembly then it must be automagically faster; or that I nag<br />on the overhead of DX when it's my code instead that simply<br />sucks.<br /><br />You wondered if you were maybe too aggressive, well pal, you<br />indeed were, and I don't think you had any justification to it.<br /><br />FYI I code asm since 14 years ago, 6502/6510, Z80, 8080, 8085,<br />x86, 680x0, PowerPC, various PICs and other microcontrollers,<br />etc.. it sucks to talk like this but evidently I have to.<br />I invented my programming language, compiler and debugger<br />(HLA, which stands for High Level Assembly) on the Amiga long<br />before I (unfortunately) had to read this same word about a PC<br />product.<br />I wrote my HLA, with which I wrote commercial games.. because<br />I (not worse than you do, be sure) know that sometimes to code<br />in pure assembly is a waste of time. It took me the same time to<br />write HLA + my Amiga game Virtual Karting, than if I had written<br />only Virtual Karting in pure assembly. Also, HLA (there are some<br />old, public posts about it, although it was never released<br />because it was an internal development tool) had a very good<br />optimizer, which proven superior to the one of SAS/C in many<br />tests. Also, there's now a version for PC which I'm developing,<br />and I'm working on a game while doing it (the best test bench<br />for a compiler development IMO), just like 7 years ago on the<br />Amiga.<br /><br />I hate to talk in this &quot;I did, blablabla&quot; way but you force me to<br />do it with your &quot;you stupid, assembly alone doesn't make code<br />faster than the one that the VisualBasic compiler can produce&quot;,<br />or &quot;DirectX has no overhead whatsoever, it's your code that<br />sucks&quot;.<br />Let away that it's everyone's right to code in whatever style<br />he prefers, and I never nagged at you (nor will ever do) just<br />because you probably use MASM instead of the better written,<br />simpler and more linear NASM, just as an example. I urge to<br />make you note that when you have to blit thousands of very<br />small sprites your beloved DirectX can be a *serious* bottleneck<br />vs the ideal hardware performance. We disagree also on the<br />fact that to exploit the full potential of the hardware is an<br />important goal for a coder. For me it is. I don't say &quot;buy a faster<br />CPU&quot; every time this problem arises, I rather find more optimal<br />ways to code, if the results are worth the added development<br />time.<br /><br />Also, I don't understand why you tell me that assembly alone<br />doesn't make things faster, father. I don't have the presumption<br />to go teaching others, I'd like to know why you have it and what<br />experience do you have that entitles you to do it, when me and<br />others do not *want* to do it.<br /><br />By any means, if you're happy with DirectX overhead go with<br />it, but do not imply that I or others are more stupid or more<br />ignorant than you, nor call me/us elitist when the other elitist<br />here evidently is you. You live too much with schemes.. that's<br />not good for a assembly coder.<br /><br />Sorry to be that harsh, but you started it with no rights.<br /><br />Have a nice day,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 07:54:18 by Maverick</div>
   </div>
   <div class="post" id="post-19084">
    <div class="subject"><a href="#post-19084">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">Maverick, no need to get THAT defensive :). You probably read<br />my post a bit harder than was intended. The &quot;just because it's<br />assembly it's faster&quot; wasn't targetted at you, it's just an<br />observation I've done. I think you'll have to admit that *just*<br />using assembly isn't a magical wand... an asm bubblesort will<br />still suck compared to a C quicksort.<br /><br />While I think 100% assembly is a bit silly in most fields, I do<br />still acknowledge that it has uses, often has uses, and will<br />for quite a bunch of years to come. I don't like the common<br />mentality that you should just buy a bigger CPU every few months.<br />On the other hand, I don't like the way some people (not you)<br />say that it's not possible to write good code in higher level<br />languages (let's exclude VB from this thread. It probably has<br />it's uses, although I haven't seen it ;) ).<br /><br />Yes, if I write larger code in assembly, I use masm instead of<br />nasm. If a tool has numerous advantages without (too many)<br />disadvantages, of course I use it. Sure, you can fix up nasm<br />pretty well with a lot of macros, but still masm has a better<br />feel to it. I often do use nasm though, as it has other advantages<br />that would require quirky workarounds in masm (or stuff that<br />isn't easily found in the documentation).<br /><br />Hm, beloved DirectX... I don't love it. And I don't think it's<br />necessarily the best API. But it's what we have if we want broad<br />hardware support. While I think it would be interesting to see<br />whatever you can come up with, I fear that you would lose compatibility.<br />*if* you manage to come up with some significantly faster that<br />still has very broad hardware support... well, I'll be just as<br />happy as everyone else :).<br /><br />I think it's important to take full advantage of the hardware.<br />When it's beneficial. When you're actually able to feel the<br />difference. Yes, graphics is one of these areas. But I'm still<br />much against going directly at the hardware. This is possible<br />on a number of platforms, especially the gaming oriented ones,<br />as they don't have as broad a range of hardware. The PC scene<br />is notorious for all the crappy different parts and incompatibilities.<br /><br /><div class="quote"><br />Also, I don't understand why you tell me that assembly alone<br />doesn't make things faster, father.<br /></div><br />Please understand me correctly here. What I mean is... *just*<br />by writing a thing in assembly doesn't make it faster than the<br />same thing written in, say, C. If you do a dumb line-by-line<br />translation that is. A mov is a mov is a mov.<br />If &quot;myVariable = 1000&quot; generates &quot;mov , 1000&quot; in<br />C, and you write &quot;mov , 1000&quot; in the assembler...<br />has the assembler code given you a speed advantage?<br /><br />Of course it's possible to gain speed advantages by writing in<br />assembly rather than in a HLL, since you can do stuff in asm<br />that can't be done in a HLL. I've never disagreed with that.<br />Sometimes it's easy to beat your compiler, and a few times you<br />can't (but that's very rare).<br /><br />Another example... some guy might spend time and write a *perfect*<br />clipped putpixel, the super fastest code you could *ever* write<br />for that CPU, in asm. Use that in a sprite drawing app. Chances<br />are that a non-putpixel based approach in a HLL (with decent use<br />of pointers) would be faster. Algorithm design can often be more<br />important than going straight to the assembly (which I don't doubt<br />you already know - I'm just trying to clarify my opinions.)<br /><br />I don't doubt you're a better coder than me. There's a lot of<br />people who are much better than me. I have only been in this<br />&quot;game&quot; for a handful of years or so. Hell, I wouldn't stand a<br />chance against BitRAKE or Eo?n and probably not you either. I do<br />acknowledge this. But looking at the assembly code written by<br />a lot of people, I can easily defend my statements... of course<br />this is fine if the people enjoy themselves, as long as they<br />don't fool themselves and think they're doing a better job than<br />a compiler.<br /><br />Am I a hypocrite? Probably. Am I arrogant? Sometimes, probably.<br />Do keep in mind, though, that this is pure text and doesn't have<br />any facial mimics, body language (et cetera), and might thus come<br />out (a lot) worse than intended.<br /><br /><div class="quote"><br />Sorry to be that harsh, but you started it with no rights. <br /></div><br />Free speech :).<br /><br />I don't wish to run a war with you, by the way. I shoudl try to<br />make my tone a bit friendlier, and perhaps give better explanations<br />of my statements... that would probably help.<br /><br />You have a nice day too, and please stay with us - it's always<br />nice to have people with different opinions.</div>
    <div class="meta">Posted on 2002-01-14 09:29:06 by f0dder</div>
   </div>
   <div class="post" id="post-19096">
    <div class="subject"><a href="#post-19096">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><div class="quote"><br />Well, all I can say is...<br />Designing a new low-level interface is LOTS of work (has to be tested well on all sorts of hardware too)...<br />And the gain is probably &lt; 0... Namely, DirectX is programmed by professionals. It is optimized for various CPUs, well-tested, and well-supported.<br /><br />Just don't make the common mistake of spending a lot of time optimizing the wrong things. </div><br /><br />I kindly ask you and f0dder where did I ever say that I want to<br />design a new low-level interface, or 10000 drivers? Where/when<br />did I say that?<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 10:31:47 by Maverick</div>
   </div>
   <div class="post" id="post-19109">
    <div class="subject"><a href="#post-19109">Hmmm</a></div>
    <div class="body">Guys,<br /><br />He just told he want to go to a LOWER level not to the LOWEST level, he wnat to talk to the HAL, that is he will still be using the drivers that windows provide, he will just bypass DirectX.<br /><br />And belive it: DX has some bottlenecks esp ::Lock methods are slow. Also lately features that the videoboard universally have (alpha blending in 2D and direct video memory acces) started to be eliminated from DirectX. This is pretty dump for the &quot;profesionals&quot; that do DX.... so IMHO Maverick has a point<br /><br />if he can or can not do it...that is the question?<br />Is the HAL enough documented or not?<br /><br />and fodder we can also choose the best algorithm in asm and then ... i mean given the best algorithm only ASM will give the full speed :). I just wonder why HLL ppl assume ASM ppl can not choose the best algorithms :P<br /><br />Doing full games/apps in ASM is silly? arghhh Hostile Encounter :P<br /><br />besides i have just restarted to do my own OS fully in ASM...<br /><br />hehe i guess i will have to study the same HAL to do my 10.000 drivers for my OS :(</div>
    <div class="meta">Posted on 2002-01-14 11:47:05 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-19112">
    <div class="subject"><a href="#post-19112">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><div class="quote"><br />I just wonder why HLL ppl assume ASM ppl can not choose the best algorithms :P <br /></div><br /><br />I've never said that bogdan. Just that doing asm *before* choosing<br />the best algorithm is folly.<br /><br /><div class="quote"><br />i mean given the best algorithm only ASM will give the full speed <br /></div><br />Except those (very rare, admitted) occasions where you can only<br />get to the level of the compiler.</div>
    <div class="meta">Posted on 2002-01-14 11:53:29 by f0dder</div>
   </div>
   <div class="post" id="post-19123">
    <div class="subject"><a href="#post-19123">Hey</a></div>
    <div class="body">Dear X-Calibre,<br /><br />All the things that is say here are IMHO, please get my excusses if i did not let everyone understand that. I respect your oppinions but i also expect that you respect mine's.<br /><br />With DirectX, ::LOCK is not my concern, it was just an example where things could be improved in terms of speed.<br /><br />Please note that we use DirectX in Hostile Encounter :) so i am not anti DX, and not anti M$. I have a deep respect for each ppl/application that does better that what i did ... but please understand i also find it normal to be critical about what they do wrong IMHO. <br /><br />Directx developers decided to remove support for direct video memory acces (this in a game library/sdk!) and this is LAME IMHO. <br /><br />Also the sad fact that video boards support 2d alpha blending from over 6 years now and DX never incorporate this feature in their releases (allthougt the said they will in their docs and they use it in GDI32 and HAL drivers are required to do it if possible) is ALSO LAME.<br /><br />In order to prove this i usually make my own applications. Partially that is wahy i started HE and now my own OS... i will show in my OS (game oriented) that is possible to get both speed and protection<br /><br />Quality? well HE never carshed on most of our users not even once! and it is in the pre alpha stages of developement and written in ASM and yeah using that dangerouse (for system stability ::Lock method)<br /><br />Yes, MS sometimes sucks, and yes i can do better (if i only had the money) but MS has also done some great things for programming and even for ASM programming (see MASM and flat memory model) <strong>And I recognise that</strong>.<br /><br />I do not want to be &quot;lowlevel&quot; or &quot;elite&quot; neither  am I<br /><br />I have nothing against a well done VB or VFox or Perl application as long as it suits a certain need. <br /><br />I myself do quite a lot of VC++ and Vfox HLL programming for a living. <br /><br />Hovever i know its not the best solution its just a compromise to get a living ;) and get the project done in time (teir time) <br /><br />And most of all i will never belive a thing because many ppl use it or many ppl say it. <br /><br />As Socrate stated it: the word of a true master is beter that 100.000 words from normal ppl. (note that i am not a master ;) nor i do consider myself as one)<br /><br />And please let's keep it to the subject of Maverick's Questions or else let's move to the Crusades<br /><br />The man just wanted to make a better version of DirectX using the HAL interfaces, what is wrong with this. IRC doing it will be the real hard part... <br /><br />So let' show him the problems, help him if we can and wish him the best of luck...who knows even if he will not succed he will learn a lot from it and maybe he will share this info with us :)<br /><br />All this is IMHO<br />Best regards <br />Bogdan</div>
    <div class="meta">Posted on 2002-01-14 12:45:26 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-19131">
    <div class="subject"><a href="#post-19131">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">This is really sad...<br /><br />I thought this could have been a really good topic of conversation, but due to a few &quot;people&quot; arguing about why it shouldn't be done (in a very rude manner -- IMHO) I've decided this is isn't worth reading.<br /><br />If I were Maverick I would copy the first forum topic into a new thread and send the rest of this load of garbage to the Heap...<br /><br />I wish people where more supportive of other people's ideas.<br /><br />-Directx isn't written perfectly and if someone wants to &quot;try&quot; to create a better interface to the HAL (or BETTER just talk about how it would be done) I think he should be supported.  At least as an exercise in learning.<br /><br />THE POINT IS:  He didn't spend ?? minutes writing a thread -- just to have someone say it's &quot;stupid&quot; or &quot;You can't get much better then ....&quot; reply.<br /><br />A good idea to follow: Check your additude at the door... If you can't do that then don't respond to thread... it's that easy...<br /><br />With that said:  I'm going to a different topic :alright:</div>
    <div class="meta">Posted on 2002-01-14 13:26:00 by Sliver</div>
   </div>
   <div class="post" id="post-19148">
    <div class="subject"><a href="#post-19148">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body">If I would start a poll: Do you want to stop this discussion, would be there anyone here voting with NO ?<br /><br />Guys - please keep cool. Let's discuss about the basic of Mavericks' Idea and not about the question: Is DX being botched or not ?<br /><br />Perhabs we should take a look at the LINUX-Scene: There exists a project which try to realize a library for direct-hardware-access to graphiccards. Perhabs someone here knows more about this and can tell something about it ?<br /><br />(Due to the fact that nowadays only 3 - 4 GPU-families exist the basic idea isn't as bad as we may have thought at the beginning of the discussion ...)<br /><br />Greetings, CALEB<br /><br />P.S.:  Don't forget to vote ;)</div>
    <div class="meta">Posted on 2002-01-14 15:43:49 by Caleb</div>
   </div>
   <div class="post" id="post-19161">
    <div class="subject"><a href="#post-19161">Re: Hmmm</a></div>
    <div class="body"><div class="quote"><br />Guys,<br /><br />He just told he want to go to a LOWER level not to the LOWEST level, he wnat to talk to the HAL, that is he will still be using the drivers that windows provide, he will just bypass DirectX.<br /></div><br /><br />In fact.. what I said (thank you for reading me correctly) is that:<br /><br />1) DirectX checks and validates for parameters. This is often a<br />redundant work (and in some cases relatively slow), so why<br />should I do two times (in my application and in DirectX) the<br />same thing? When you've to blit thousands of small sprites per<br />frame it indeed does a big difference.<br /><br />2) Modern hardware is practically designed with DirectX in mind.<br />This means that the HAL's DDI functions, which are standard and<br />exactly the same on all different boards (although, just like with<br />DirectX, some features may be supported, and some others not),<br />are in practice extremely similar in functionality to the DirectX<br />functions; thus I don't see why one, if it's viable, shouldn't call<br />HAL's blit routine instead of DirectDraw's perfectly equivalent blit<br />routine.. which simply adds severe (and sometimes relatively<br />slow) parameter checking/validation, some times grabs the<br />16bit MUTEX (I don't know if the HAL does that too), and God<br />only knows how many other things. F0dder, don't get me wrong<br />pal, but just because you can blit a couple of big sprites at<br />100 fps doesn't mean that we must be all happy. In the era<br />of PacMan, having a 100MHz machine would have been a<br />temptation to code everything in GWBASIC from then on.<br />Today's 2GHz machines and superfast graphics cards are<br />useless if we think about yesterday's or today's applications.<br />IMHO I shouldn't even talk about this in a forum dedicated to<br />assembly language!<br />I could have to do it in a Java forum.. but it makes me a bit<br />astonished that I've to write these things in a asm forum.<br />Assembly will always have a place, as long as coders will know<br />how to take advantage from it (IMO forever). Going as low level<br />as possible in gfx/snd programming is exactly the same thing.<br /><br /><div class="quote"><strong><br />And belive it: DX has some bottlenecks esp ::Lock methods are slow.<br /></div><br /><br />I have read, but haven't checked it myself yet, that under DX 8<br />locking a texture which is also a rendertarget causes a videomem<br />to systemmem copy.. and unlocking it causes the opposite thing.<br />WHICH IS DAMN SLOW.<br />But under DX 7 this doesn't happen.. and the pointer that lock<br />returns is in videomem. The DX 8 scenario has such a hit in<br />performance that it makes the hardware go back practically<br />of 3 years. The problem is that all of that performance hit is<br />not really necessary, if DX 7 under the same drivers doesn't<br />do that silly thing!!<br /><br />So talking directly to the HAL *has* important, sometimes<br />dramatic reasons. Sure, f0dder calling whoever is seriously<br />concerned with these problems an &quot;elitist&quot; doesn't help<br />nobody. We should all team up and make a real advantage<br />of our philosophy (reflected in our love for assembly).. of<br />course we don't must all agree on everything, but I don't<br />think that being hostile or calling names is a good thing for<br />any of us.<br /><br />F0dder, believe me when I say that I have nothing to share<br />with those people you were referring to. I know very well<br />also that the example of above may well be that Microsoft<br />is starting to discourage the use of pointers in videomem,<br />to make happy those video board manufacturers that want<br />to use proprietary texture formats to improve performance or<br />to use undisclosed technologies. Of course Microsoft is more<br />concerned with market than technology.. but if they want to<br />discourage to access textures directly because in some years<br />the hardware will all use secret, proprietary texture formats<br />(and do the conversion to/from systemmem when loading or<br />locking/unlocking them), this doesn't mean we've to pay<br />from today that big price. I mean, I don't see why my today's<br />application should run 5 times slower than it could. Every wise<br />programmer will revert back to a compatible mode if those<br />features aren't supported by the hardware (and the HAL says<br />this exactly like DX), and future compatibility is assured as well.<br />In two years maybe that trend will die and all of the sacrifices<br />eventually done would have been useless anyway, when no<br />hardware manufacturers wanted anyway to implement secret<br />and proprietary, directly unaccessible texture formats. Who<br />knows? Coding well doesn't mean stop thinking with your brain<br />and do every thing Bill Gates tells us to do. Remember, 640KB<br />will be enough for everybody, forever. Sometimes even Mr.Gates<br />returns back to his steps.<br /><br />Also, for the same reasons AFAIK DX 8.1 doesn't allow anymore<br />to lock the primary, visible buffer.. but only the backbuffer. I think<br />that every limitation should have a real, serious justification.<br />Otherwise the day that I need that feature I will become very<br />anarchist.. and THEY will be responsible for code that breaks<br />on some machines.. just like governments are responsible when<br />a bad, unacceptable and totally useless law makes millions<br />of people die of hunger, and the people by very consequence<br />perform actions they wouldn't ever have the need to do (let<br />away the wish).<br /><br />Compatibility problems in Dos games were due to a stupid<br />lack of standards (e.g. VESA came late, and was designed in<br />a very bad way.. they should have provided the protected<br />mode interface since the early times, and more features).<br />There was no serious equivalent to VESA for audio (including<br />the &quot;VESA audio&quot; itself).. hardware manufacturers didn't agree<br />on common lines until late.<br /><br />I'm sure that bad coders would produce crappy and<br />uncompatible code even in Java.. don't blame the wrong<br />people please.<br /><br /><div class="quote"><strong><br />Also lately features that the videoboard universally have (alpha blending in 2D and direct video memory acces) started to be eliminated from DirectX. This is pretty dump for the &quot;profesionals&quot; that do DX.... so IMHO Maverick has a point<br /></div><br /><br />I also wonder why some basic functionalities present in all<br />hardware are not available in some DX interfaces.. that maybe<br />was done (not always, but in some cases) just to make DirectX<br />look easier to use, etc.. which is a even worse reason than<br />making happy the board manufacturers.<br />I don't think I should have these constraints.. nor anybody else<br />that doesn't want them. Be clear, I do respect whoever thinks<br />different than me, but I ask this respect as well.<br /><br /><br /><div class="quote"><strong><br />if he can or can not do it...that is the question?<br />Is the HAL enough documented or not?<br /></div><br /><br />And my original post asked for this information, or to team up<br />to find it. After all, I was asking this into a assembly forum, not<br />into a Java or VisualBasic forum.<br /><br />Also, I'm sure that programming directly the HAL would be<br />easier than going through DX-&gt;HAL *if* one (like me but I'm<br />sure also many other asm coders here) need/want to use only<br />hardware accelerated functions, and to go straight to the point.<br />I'm pretty sure that if it wasn't for hardware acceleration, almost<br />nobody would use DirectX anyway.<br /><br /><div class="quote"><strong><br />and fodder we can also choose the best algorithm in asm and then ... i mean given the best algorithm only ASM will give the full speed :). I just wonder why HLL ppl assume ASM ppl can not choose the best algorithms :P<br /></div><br /><br />In fact.. f0dder is right to say that a lame algorithm in asm will<br />be slower than a good one in HLL, but I'd rather say that if one<br />knows asm well, and knows why he wants to use it, he most<br />probably will be incline and experienced enough to use or invent<br />good algorithms *as well*.<br />Instead many &quot;I love HLL, asm is for grannies&quot; people don't<br />even have a real clue about how a computer really works inside..<br />they'll be happy with whichever algorithm their favourite book<br />provides them.. but benchmarks show no pity. Let's not start<br />a polemic though.. I don't want to offend anybody, I just want<br />code, fun and friendship. It's just that offends me when some<br />of that kind of HLL programmers call us old farts. :grin:<br /><br /><div class="quote"><strong><br />Doing full games/apps in ASM is silly? arghhh Hostile Encounter :P<br /></div><br /><br />Everybody has his own vision to it, which must be fully<br />respected IMHO. Personally, I started my HLA (High Level<br />Assembly) on Amiga first as an intelligent macro system,<br />because I didn't see a point in doing in asm things like<br />calling the OS's file routines, while writing LOADFILE would<br />have been more readable and quicker to develop (said<br />LOADFILE then expanded in a serie of MOVE's and JSR).<br />But then the idea extended and extended into a HLL compiler,<br />which anyway still retained complete support to asm and<br />to &quot;medium level&quot; coding as well.. but also some neat HLL<br />constructs.<br /><br /><br /><div class="quote"><strong><br />besides i have just restarted to do my own OS fully in ASM...<br /></div><br /><br />:)<br /><br /><div class="quote"><strong><br />hehe i guess i will have to study the same HAL to do my 10.000 drivers for my OS :(<br /></div><br /><br />;-)<br /><br /><br />Sincere greets to everyone, whatever are his views on the<br />argument.<br /><br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 17:07:55 by Maverick</div>
   </div>
   <div class="post" id="post-19163">
    <div class="subject"><a href="#post-19163">Let's go to a lower level in gfx/snd, it's possible.</a></div>
    <div class="body"><div class="quote"><br />The reason why I stopped using this messageboard, is because everything always gets to &quot;yes - no&quot;, &quot;true - false&quot;, &quot;I didn't say that - yes you did&quot;, &quot;You started it - no you did!&quot;...<br /><br />Bottom line is that a lot of people talk when they shouldn't...<br />bog for example...<br /><br />Well duh, ofcourse Lock() is slow...<br />It has to go to kernel mode, change permission flags, map memory, possibly even make a copy of the data, and then go back to usermode...<br />That's just how it is in a protected mode OS. If you don't want that, code for consoles, where protection is not important (only one process running at any time, and crashes are a big deal anyway, just reset the console).<br /><br />Making Lock() fast means giving up stability and multitasking, to a certain extent. It doesn't work like that.<br /><br />I thought ASM people were smart... Sound like they just want to be 'lowlevel' and 'elite'.. Add a little arrogance (&quot;MS sucks, we can do it better&quot;, and that defines some of the people here. That's not a good mindset. The quality of a product is important, not the tools it was made with.<br />DirectX is such a quality product. It may not be the fastest way, but then again Windows is more than a games console.<br />You have to see it in the right perspective... DirectX offers great performance while allowing easy use of hardware acceleration, and maintaining system stability and multitasking.</div><br /><br />Don't get me wrong pal, but WindowsME (as well as 98,95) in<br />my home crashes several times a day nearly even if I leave it<br />alone with no application running. So let's get serious when we<br />talk about system stability.<br /><br />Let's not even talk about multitasking.. I was used to the one<br />of Unix and even of the little Amiga.. light years above the one<br />I experience every day under Windows (16bit MUTEX anyone?).<br /><br />As for performance, if WindowsXP means performance (just to<br />start to have some real stability), then.. ehm. :grin: <br /><br />*personally* when I watch a cool demo or I play a full-screen<br />action frantic game I want smooth, uninterrupted game<br />experience, and I don't really care about multitasking or<br />writing an email while playing the game. Of course multitasking<br />is more than that, but I don't see why if one can grab the screen,<br />keyboard or mouse exclusively (as DX lets you do) then you have<br />to be surprised if one wants to grab most of the CPU for itself,<br />or if he wants to concentrate the hardware power on that<br />frantic action fullscreen game.<br /><br />The good thing about a PC is that after you got enough from<br />that game, you can quit it and run a wordprocessor.. where<br />every need changes.<br /><br /><div class="quote"><strong> I doubt that you can improve performance noticably without making sacrifices that most users just find unacceptable.<br /><br />Time for me to quit using this messageboard again. </div><br /><br />Sorry to hear that. I hope that you don't get angry just by<br />reading others' opinions. I feel enriched reading yours, but<br />nobody has ever said we must all agree on everything. But<br />if you divide the world between the &quot;good and wise&quot; people<br />and the &quot;lowlevel and elite&quot; then I think that the very attitude<br />that you denounced at the begin of the post belongs to you<br />as much as to many other people you're calling responsible<br />for your leaving this board.<br /><br />Again, I don't want you to go, but I can't force you to remain,<br />of course, if you can't stand to stay here and read other's<br />opinions. I hope you reflect anyway on the fact that your<br />opinions don't seem less extremist than the ones of the people<br />you call extremist; the people that made you sick of being here.<br /><br />Greets,<br />Maverick</div>
    <div class="meta">Posted on 2002-01-14 17:27:29 by Maverick</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=2909&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=2909&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="2909" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=2909&amp;page=2">&gt;</a><a href="../?id=2909&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
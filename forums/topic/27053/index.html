<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Changing Icons - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27053" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27053">Changing Icons</a></p>
   <div class="post" id="post-194399">
    <div class="subject"><a href="#post-194399">Changing Icons</a></div>
    <div class="body">Hi

i try to change some PE Exe icons and like to ask if someone know where i can find infos on the PE Header for Icons.
I often found PE hints for joining 2 files or pack a PE File ,but i miss some infos for the Icon section.

the idea i have is:
i will search the icon start and end section of a PE file and then i insert in this section my new icon data.

but i dont know where is the start or end and how can i find it,thats the problem :(

Thanks for any help :)</div>
    <div class="meta">Posted on 2001-02-28 03:45:00 by WH¥</div>
   </div>
   <div class="post" id="post-194400">
    <div class="subject"><a href="#post-194400">Changing Icons</a></div>
    <div class="body">The easiest solution would be to use a resource editor (or "hacker").
The resource section of the PE file doesn't look like it's much
fun to deal with by hand. If you need general information about
the PE format, go for iczelions tutorials, and the LUEVELSMEYER
PE doc from microsoft (dunno where you can get it, search around).</div>
    <div class="meta">Posted on 2001-03-01 06:47:00 by f0dder</div>
   </div>
   <div class="post" id="post-194401">
    <div class="subject"><a href="#post-194401">Changing Icons</a></div>
    <div class="body">Gonna put in a very "un-win32asm"/"generic" type reply, but i'm a bit lazy atm, and i'm sure you'll get the idea ;)

<pre><code>
invoke BeginUpdateResource, "PE.exe", FALSE
mov hResup, eax
invoke UpdateResource, hResup, RT_ICON, 1, NULL, lpIcon, cbIconSize ; assumes you want to replace icon ID "1"
invoke EndUpdateResource, hResup, FALSE
</code></pre>

may have to check these params, i'm doing this "on-the-fly"
i also have a sneaky suspicion that 95/98(?) might not support these, but *shrug* it _is_ a valid alternative.

Clive [ Entro-P ]</div>
    <div class="meta">Posted on 2001-03-01 07:46:00 by Entro-P</div>
   </div>
   <div class="post" id="post-194402">
    <div class="subject"><a href="#post-194402">Changing Icons</a></div>
    <div class="body">Hi

thanks for the help.
Im not shure at the moment,but i mean the last example you post,change the icon to default windows icons ,or ?
i will test it ;)

i simply got the idea to write the icon new ,by studie a exe patcher and since i know no icon changer in asm ,i like to code one.

asm makes fun ;)

cu</div>
    <div class="meta">Posted on 2001-03-03 04:32:00 by WH¥</div>
   </div>
  </div>
 </body>
</html>
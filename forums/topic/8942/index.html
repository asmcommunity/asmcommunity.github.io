<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>htons parametar - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8942" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=8942">htons parametar</a></p>
   <div class="post" id="post-65846">
    <div class="subject"><a href="#post-65846">htons parametar</a></div>
    <div class="body">did you know that hotns api on win98 can work if you pass it WORD as parametar, but on XP it will only work if you pass it DWORD?<br /><br />yeah it took me a few days and a lot of headche to find this bug which is not soupose to be a bug, since short should be always WORD.....damn billy</div>
    <div class="meta">Posted on 2002-11-14 21:20:15 by Mikky</div>
   </div>
   <div class="post" id="post-65873">
    <div class="subject"><a href="#post-65873">Well, I can only take your WORD for what you are stating.</a></div>
    <div class="body">If you needed to pass the parameter as a 'DWORD' in Windows/XP <br />and 'WORD' in Windows/98. This would resort in compatibility problems <br />for alot of winsock related software.<br /><br /><strong>MSDN:</strong>&quot;The htons function takes a 16-bit number in host byte order and <br />returns a 16-bit number in network byte order used in TCP/IP networks.&quot;<br /><br />Wouldn't Microsoft tell the programmers that they infact changed the whole<br />winsock 'htons' api call in Windows/XP? ( I would like to think so ) :alright:</div>
    <div class="meta">Posted on 2002-11-15 03:13:06 by natas</div>
   </div>
   <div class="post" id="post-65876">
    <div class="subject"><a href="#post-65876">htons parametar</a></div>
    <div class="body">All parameters to API functions (or any stdcall/C function for that matter) are passed as dwords. If you need to pass a byte or word you extend it to a dword (just only use a lower part of the dword), and pass it on.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-11-15 03:51:12 by Thomas</div>
   </div>
   <div class="post" id="post-65931">
    <div class="subject"><a href="#post-65931">htons parametar</a></div>
    <div class="body">well problem was that I used WORD as parametar and I was programming under 98se, now after I gave source to buddy with XP he complained that there is bug but we could found one<br />later he found out that<br /><br />invoke htons, 80    ; works<br />mov Port,80<br />invoke htons,Port   ; doesnt work, Port is dword<br /><br />that was a little clue that help us to solve this bug case</div>
    <div class="meta">Posted on 2002-11-15 16:00:55 by Mikky</div>
   </div>
  </div>
 </body>
</html>
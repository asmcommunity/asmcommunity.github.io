<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>TextFile Algo do you have it (on Masm)? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15723" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15723">TextFile Algo do you have it (on Masm)?</a></p>
   <div class="post" id="post-121808">
    <div class="subject"><a href="#post-121808">TextFile Algo do you have it (on Masm)?</a></div>
    <div class="body">I need TextFile algo, like GetText, OpenFile etc.<br />Thanks.</div>
    <div class="meta">Posted on 2003-10-20 00:48:00 by realvampire</div>
   </div>
   <div class="post" id="post-121895">
    <div class="subject"><a href="#post-121895">Hi</a></div>
    <div class="body">Here is the code, but it does not work.<br /><br /><pre><code><br />CreateOffsetTable proc uses esi edi ebx lpSou&#58;dword,lpTbl&#58;dword,FileSize&#58;dword,lnCnt&#58;dword<br />	;LOCAL rslt,Pos&#58;dword<br />	<br />	<br />	mov esi,lpSou<br />	mov edi,lpTbl<br />		<br />	<br />	xor ecx,ecx<br />		mov &#91;edi&#93;,ecx    ; &lt;&lt; 1st line at 0 offset.<br />		add edi,4<br />	dloop&#58;<br />	mov bl,&#91;esi&#93;<br />	cmp bl,10    ; &lt;&lt; if 0a it mean end of Line<br />	jnz go<br />		inc eax       <br />		mov &#91;edi&#93;,ecx   ; place the offset to lpTable pointed by edi<br />		add edi,4<br />	go&#58;<br />	inc esi<br />	inc ecx<br />	cmp ecx,FileSize<br />	jl dloop<br />	<br />	<br />	ret<br />CreateOffsetTable endp<br /></code></pre><br /><br />This code must able to place all line offset on a memory.</div>
    <div class="meta">Posted on 2003-10-20 20:31:46 by realvampire</div>
   </div>
   <div class="post" id="post-121906">
    <div class="subject"><a href="#post-121906">Re: Hi</a></div>
    <div class="body"><div class="quote"><br />Here is the code, but it does not work.</strong><br /><br /></div><br /><br />I got such alot :grin:</div>
    <div class="meta">Posted on 2003-10-20 22:49:18 by Ranma_at</div>
   </div>
   <div class="post" id="post-121915">
    <div class="subject"><a href="#post-121915">TextFile Algo do you have it (on Masm)?</a></div>
    <div class="body">to me it looks like your testing a string that ends with the return hex of 0a0d... but not all programs use 0a0d for the parsing of return... some only use one byte.. i dont know what your exactly trying to do though please explain more..</div>
    <div class="meta">Posted on 2003-10-21 02:04:51 by devilsclaw</div>
   </div>
   <div class="post" id="post-122165">
    <div class="subject"><a href="#post-122165">Hi .</a></div>
    <div class="body">It only mark offset of a Line. It only for standard text format. I think it only use 0xd. not 0x0d0a.<br /><br />It working now, I miss-offset buffered it.</div>
    <div class="meta">Posted on 2003-10-22 19:29:38 by realvampire</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>No bulky libraries.. (link error) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2071" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2071">No bulky libraries.. (link error)</a></p>
   <div class="post" id="post-13161">
    <div class="subject"><a href="#post-13161">No bulky libraries.. (link error)</a></div>
    <div class="body">Could somebody show me how to write code that wouldnt require linking libraries? I can't have them at school because they take up too much space... Also I'd just like to be more familiar with the assembly process. Before the only way I could compile was to open up qeditor.exe and press 'build'. I don't want to have to do that..<br /><br />For example:<br /><br /><pre><code><br />.386 <br />.model flat, stdcall <br />option casemap&#58;none <br />include \masm\include\windows.inc <br />include \masm\include\kernel32.inc <br />ExitProcess PROTO &#58;DWORD<br />.data <br />.code <br />start&#58; <br />push 0<br />call ExitProcess<br />end start <br /></code></pre><br /><br />ml /c /coff test1.asm<br />ml /subsystem:windows test1.obj<br /><br />Gives the link error, ' unresolved external symbol _ExitProcess@4'.<br />What am I doing wrong? It must think I want to use my own ExitProcess... <br /><br /><br />Thanks.</div>
    <div class="meta">Posted on 2001-11-26 23:34:31 by matthew</div>
   </div>
   <div class="post" id="post-13170">
    <div class="subject"><a href="#post-13170">No bulky libraries.. (link error)</a></div>
    <div class="body">if you look through 'kernel32.inc' you will find it already has the definition 'ExitProcess PROTO :DWORD'. <br /><br />You actualy do need these librarys to link a program as these contain the information used to create the import information for the Dll's or I dont have a clue how to work around not having them.<br /><br />Most basic programs, should only require Kernel32.lib User32.lib and Gdi32.lib, so you really dont need all of the other ones.</div>
    <div class="meta">Posted on 2001-11-27 01:54:29 by huh</div>
   </div>
   <div class="post" id="post-13215">
    <div class="subject"><a href="#post-13215">No bulky libraries.. (link error)</a></div>
    <div class="body">matthew, you should get the libraries from the latest platformsdk,<br />they use the *new* import library format which is substantially<br />smaller than the old import format (reason is sorta technicaly, but<br />it's well described somewhere in msdn :)).<br /><br />If you really *CANT* have the import libraries with you, you'll probably<br />have to switch to one of those wacky assemblers ;).</div>
    <div class="meta">Posted on 2001-11-27 10:17:35 by f0dder</div>
   </div>
   <div class="post" id="post-13231">
    <div class="subject"><a href="#post-13231">No bulky libraries.. (link error)</a></div>
    <div class="body">As huh said, you only need a few .LIBs for most basic progs.<br /><br />Do you have access to a CD recorder? You could put everything on CD, and change the INCLUDELIBs to point to the CD. :)</div>
    <div class="meta">Posted on 2001-11-27 13:22:37 by S/390</div>
   </div>
   <div class="post" id="post-13232">
    <div class="subject"><a href="#post-13232">No bulky libraries.. (link error)</a></div>
    <div class="body">Instead of changing &quot;include&quot; and &quot;includelib&quot;, just use the base<br />filename instead of any directory paths, and set up your INCLUDE<br />and LIB environment variables properly. That way you can make<br />your source build &lt;whereever&gt;.</div>
    <div class="meta">Posted on 2001-11-27 13:24:33 by f0dder</div>
   </div>
   <div class="post" id="post-13241">
    <div class="subject"><a href="#post-13241">No bulky libraries.. (link error)</a></div>
    <div class="body">Yup, or you could use the command line options on ML and LINK, in case another &quot;language&quot; uses the same env vars. This is what I did. I have one .BAT file at home that uses C: and another at work that uses U:, my network drive.<br /><br />I didn't want to confuse the lad... :)</div>
    <div class="meta">Posted on 2001-11-27 14:33:20 by S/390</div>
   </div>
   <div class="post" id="post-13254">
    <div class="subject"><a href="#post-13254">No bulky libraries.. (link error)</a></div>
    <div class="body">I added an example in version 7 that shows an alternative way to build projects. Set environment variables in a batch file, build a response file for assembly, build the resource file, build another response file for linking, link with the RES file directly in the link line.<br /><br />None of it is hard to do.<br /><br />The file is ALTBUILD.ASM in the example code.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2001-11-27 15:23:11 by hutch--</div>
   </div>
   <div class="post" id="post-13281">
    <div class="subject"><a href="#post-13281">ty</a></div>
    <div class="body">I have actually thought of burning the whole thing to cd... since I have my own burner (2x w00t) it won't be difficult. Finding some media to burn too could be tougher ;) <br /><br />I just got masm32v7 and it's great, i'll just burn it to the cd.. after checking batch files for drive letter refrences.</div>
    <div class="meta">Posted on 2001-11-27 18:20:58 by matthew</div>
   </div>
  </div>
 </body>
</html>
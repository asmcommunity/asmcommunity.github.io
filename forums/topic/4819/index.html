<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hello and a Q about tlink32 linking lotsa unused imports - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4819" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4819">Hello and a Q about tlink32 linking lotsa unused imports</a></p>
   <div class="post" id="post-33762">
    <div class="subject"><a href="#post-33762">Hello and a Q about tlink32 linking lotsa unused imports</a></div>
    <div class="body">Ok, at first a hello everyone. I'm familiar with asm (see the link in my sig if you wish) but this win32 coding is killing me. <br /><br />What to say to the linker that it wouldn't add A LOT of imports to functions I've even heard of? Like, the std &quot;Hello World!&quot; proggy is a 4k file with basically no stuff in the .exe than the code, zeros and some other stuff. Now, when I've used a few imports like &quot;GetModuleHandleA&quot;, &quot;ShowCursor&quot; etc. (I believe DirectX stuff doesn't add much to the filesize, except codewise) the .exe is suddenly 8k and there is that forementioned bunch of imports. <br /><br />Not that this was very annoying (I can always pack the .exe to something like that 4k, yes, I try to code a 4k intro) but I'd really like to know how to cut the file size without any magic.</div>
    <div class="meta">Posted on 2002-04-16 20:08:36 by tmb</div>
   </div>
   <div class="post" id="post-33766">
    <div class="subject"><a href="#post-33766">Hello and a Q about tlink32 linking lotsa unused imports</a></div>
    <div class="body">Here are some links that discuss this...<br /><br />You can also search the board for this topic (comes up pretty often).<br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=1953&amp;highlight=file+size+small">Thread 1</a> <br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=764&amp;perpage=15&amp;highlight=file%20size%20small&amp;pagenumber=2">Thread 2</a> <br /><br />Sliver</div>
    <div class="meta">Posted on 2002-04-16 20:38:44 by Sliver</div>
   </div>
   <div class="post" id="post-33770">
    <div class="subject"><a href="#post-33770">Hello and a Q about tlink32 linking lotsa unused imports</a></div>
    <div class="body">Ok, thanks! I found out a trick to get int 4096b... i.e. putting all data and structures in .code area so there's not .data... the imports are still there though.<br /><br />That is:<br /><br />-----<br />.data<br />number dd 42<br />.code<br />start: ret<br />end start<br />------<br />becomes...<br />------<br />.code<br />number dd 42<br />start: ret<br />end start<br />------</div>
    <div class="meta">Posted on 2002-04-16 21:09:03 by tmb</div>
   </div>
   <div class="post" id="post-33818">
    <div class="subject"><a href="#post-33818">Hello and a Q about tlink32 linking lotsa unused imports</a></div>
    <div class="body">If you write to data in your .code, be sure to make the code segment<br />writeable :)</div>
    <div class="meta">Posted on 2002-04-17 07:27:09 by f0dder</div>
   </div>
   <div class="post" id="post-33843">
    <div class="subject"><a href="#post-33843">Hello and a Q about tlink32 linking lotsa unused imports</a></div>
    <div class="body">f0dder: Of course, of course. I actually have a little patcher in my assy.bat that automatically does that. I'm in love with smc :) I really think that's one of the best parts in asm coding. Dunno if it's any faster nowadays but it sure is damn leet. :)</div>
    <div class="meta">Posted on 2002-04-17 11:03:20 by tmb</div>
   </div>
  </div>
 </body>
</html>
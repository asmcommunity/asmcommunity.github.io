<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CreateFile for loading files - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5107" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5107">CreateFile for loading files</a></p>
   <div class="post" id="post-35927">
    <div class="subject"><a href="#post-35927">CreateFile for loading files</a></div>
    <div class="body">Hi,<br /><br />this Dll function should read a file in a memory and it works fine.<br />But it cannot read a file by a read-only medium, e.g from cd.<br />What's my error ? Can you help?<br /><br />Greetings, Nordwind64<br /><br /><br />invoke CreateFile,,GENERIC_READ,0,0,OPEN_EXISTING,FILE_ATTRIBUTE_NORMAL,0<br />  cmp   eax,0<br />  jle   halloerror<br />  push  eax<br />  mov   ebx,<br />  add   ebx,<br />  invoke ReadFile,eax,ebx,,addr readed,0<br />  pop   eax<br />  invoke CloseHandle,eax<br />  mov   eax,dword ptr <br />  halloerror:</div>
    <div class="meta">Posted on 2002-05-01 07:08:24 by Nordwind64</div>
   </div>
   <div class="post" id="post-36052">
    <div class="subject"><a href="#post-36052">CreateFile for loading files</a></div>
    <div class="body">Hi  Nordwind64<br /><br />I am using:<br /><br />invoke CreateFile,lpFileName,GENERIC_READ,FILE_SHARE_READ,NULL,OPEN_EXISTING,FILE_ATTRIBUTE_NORMAL,0<br /><br />and have no problems reading from CD.<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-05-02 02:33:57 by KetilO</div>
   </div>
   <div class="post" id="post-36167">
    <div class="subject"><a href="#post-36167">CreateFile for loading files</a></div>
    <div class="body">Thank you KetilO,<br /><br />sorry, it was not an assembler problem, the programming language, my Dll works for, has an error...<br /><br />;-))<br /><br />Greetings,<br />Nordwind64</div>
    <div class="meta">Posted on 2002-05-02 15:10:05 by Nordwind64</div>
   </div>
  </div>
 </body>
</html>
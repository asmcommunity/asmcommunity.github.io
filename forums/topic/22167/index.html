<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Floating Point Division - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22167" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22167">Floating Point Division</a></p>
   <div class="post" id="post-166813">
    <div class="subject"><a href="#post-166813">Floating Point Division</a></div>
    <div class="body">Hello, i&#39;m having a problem about floating point division and hope someone can help me<br />here is my code<br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;this is supposed to load in stack of FPU <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FLDPI 		;Loads PI =3,1415...&nbsp;  in&nbsp; the stack of FPU<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  	FLD1 		;Loads a 1&nbsp; in&nbsp; the stack of FPU<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  	FDIV 		; PI/1&nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FBSTP NumOro&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Now load the result in&nbsp; NumOro, the declaration is: &quot;NumOro&nbsp; dd	0&quot;&nbsp; <br /><br />And all i get is a 3, why???????<br />please someone help me..............<br /></div>
    <div class="meta">Posted on 2005-10-09 22:43:21 by zaiboot</div>
   </div>
   <div class="post" id="post-166817">
    <div class="subject"><a href="#post-166817">Re: Floating Point Division</a></div>
    <div class="body">You should find an answer to your problem at:<br /><br />http://www.ray.masmcode.com/tutorial/fpuchap6.htm#fbstp<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2005-10-09 23:03:01 by Raymond</div>
   </div>
   <div class="post" id="post-166820">
    <div class="subject"><a href="#post-166820">Re: Floating Point Division</a></div>
    <div class="body">...why divide by 1 anyway? :-s<br /></div>
    <div class="meta">Posted on 2005-10-10 00:20:58 by f0dder</div>
   </div>
   <div class="post" id="post-167017">
    <div class="subject"><a href="#post-167017">Re: Floating Point Division</a></div>
    <div class="body">excuse me for my poor english.<br />I think you should to see the examples of fup IN the MASM32 packaged.<br />This examples will show you how to translate a FLOAT number to a CHAR number.<br />Because your &#39;NumOro&#39; is a DWORD, and it dos not contain a digital.&nbsp;  :P</div>
    <div class="meta">Posted on 2005-10-18 06:28:01 by miaomiao</div>
   </div>
   <div class="post" id="post-167034">
    <div class="subject"><a href="#post-167034">Re: Floating Point Division</a></div>
    <div class="body">I don&#39;t see how it assembled with NumOro as a dd, <br />the FBSTP instruction, stores a BCD number and POPs it from the stack,<br />only assembled when I used the dt data type.<br /><br />The BCD becomes a rounded integer for storing to memory.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1072" target="_blank">FLTest.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-10-18 14:00:37 by dsouza123</div>
   </div>
   <div class="post" id="post-167048">
    <div class="subject"><a href="#post-167048">Re: Floating Point Division</a></div>
    <div class="body">Your bcd number requires 10 bytes of storage, not 4.&nbsp; Why are you storing you number as a bcd number?.&nbsp; There is a function in the masm.lib that turns floaing point number into text: FPTOA, use this function to output floating point properly. ;)</div>
    <div class="meta">Posted on 2005-10-19 00:52:00 by GorillaCoder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>My OS/GUI preview - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4037" />
  <link rel="prev" href="../?id=4037&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4037">My OS/GUI preview</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=4037&amp;page=1" style="">&laquo;</a><a href="../?id=4037&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="4037" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-28091">
    <div class="subject"><a href="#post-28091">My OS/GUI preview</a></div>
    <div class="body">Hi Bogdan. If one doesn't need hw acceleration then VESA 2.0 protected mode interface is fine. Tell me if you need some help on it.. I still remember something from my Dos days, I've also some WatcomC code backupped somewhere.<br /><br />Greets,<br />Mav</div>
    <div class="meta">Posted on 2002-03-09 19:37:02 by Maverick</div>
   </div>
   <div class="post" id="post-28094">
    <div class="subject"><a href="#post-28094">My OS/GUI preview</a></div>
    <div class="body">Hi Mav,<br /><br />Yes, I know what you mean by using the TSR to load updated VESA support<br /><br />But there are some cards that have no ROM VESA support, not even ver 1. I can't name the cards off the top of my head, but I have several Gateway and Dell machines at work, Pentium-IIIs, that don't support it at all without the TSR.<br /><br />I know this because I'm a big fan of the old Links386 golf game. The pres of my company is a golf-a-holic, and several other employees play Links &quot;on lunch&quot; :)<br /><br />Links requires VESA 1 and won't run on these machines without the TSR. The old DOS Manifest utility that came with QEMM reports VESA information, and says &quot;none&quot; on these cards, before the TRS is loaded.<br /><br />If I remember this thread, I'll try to report some specifics when I get to work on Monday.<br /><br />:)</div>
    <div class="meta">Posted on 2002-03-09 21:27:03 by S/390</div>
   </div>
   <div class="post" id="post-28119">
    <div class="subject"><a href="#post-28119">My OS/GUI preview</a></div>
    <div class="body">Bogdan,<br /><br />=================<br />I whould like to know your oppinion about releasing sourcecode ... <br />=================<br /><br />It depends on what you want to do with it. It is already an advanced piece of code to do what it already does so it depends on if you want to keep developing it or share the development with other people who are interested in OS development or not.<br /><br />I have no doubt that some would be interested in the code used as it seems to handle some advanced techniques already. It really depends on how you wish to proceed.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-10 03:08:44 by hutch--</div>
   </div>
   <div class="post" id="post-28142">
    <div class="subject"><a href="#post-28142">My OS/GUI preview</a></div>
    <div class="body">Thx Hutch, i will think about it <br /><br />code is not very advanced IMHO (but could be by others oppinion) however it took me many versions to get here, only the conceptual part took me some time until i realized the best ways to do such windows managers ... <br /><br />strange enough there is close to none info about such things on the net :(<br /><br />Maverick, yes i guess i will need to change VESA video modes from protected ring0 code to support different resolution/color deephs, so if you have some info on that, please send it to me, <br /><br />but i will like to have some hardware acceleration pretty soon also at least for 3D it is  required<br /><br />Opps Dell's w/o VESA... i have to check my Dell workstation :)<br /><br />Well it looks i will need all the hardware info i can get :) but i will take it one thing at a time <br /><br /><br /><strong>What di you guys think the next steep should be as a OS or GUI developement?</strong><br /><br />Thx<br />Bogdan</div>
    <div class="meta">Posted on 2002-03-10 07:11:04 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-28146">
    <div class="subject"><a href="#post-28146">My OS/GUI preview</a></div>
    <div class="body"><strong>&gt;What di you guys think the next steep should be as a OS or GUI developement?</strong><br /><br />A new keyboard :) <span style="font-size:9px>(sorry, could not resist)</span></div>
    <div class="meta">Posted on 2002-03-10 07:45:41 by bazik</div>
   </div>
   <div class="post" id="post-28147">
    <div class="subject"><a href="#post-28147">My OS/GUI preview</a></div>
    <div class="body">Personally I would rather have a working Kernel/OS with a CUI/TUI (Console User Interface/Text User Interface... whichever you prefer to call it) before jumping right into the GUI muck which might stray you off the course since it will be so &quot;comfortable&quot; having it work the way it is instead of continuing on with the hardcore bs.</div>
    <div class="meta">Posted on 2002-03-10 07:47:37 by SpooK</div>
   </div>
   <div class="post" id="post-28151">
    <div class="subject"><a href="#post-28151">Hehe</a></div>
    <div class="body">What kind of new keyboard Bazik<br />this kind?</div>
    <div class="meta">Posted on 2002-03-10 08:07:42 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-28152">
    <div class="subject"><a href="#post-28152">Spook</a></div>
    <div class="body">Spook, yeah maybee, but i find it very productive to keep my mind at peace and not frustrated by a text based interface :), as you have noted from Bazik's screensshots there was a text interface in this OS long time ago :tongue: <br /><br />today i see no difference in painting gfx or text characters but doing it on gfx screen is better for me, do not forget that i am a game programmer :)<br /><br />and if needed i will make a &quot;terminal emulation app&quot;</div>
    <div class="meta">Posted on 2002-03-10 08:16:48 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-28176">
    <div class="subject"><a href="#post-28176">My OS/GUI preview</a></div>
    <div class="body">Bogdan, VESA2 doesn't necessarily mean LFB support. But, if I remember<br />correctly, it *should* always have the protected mode bank switching<br />interface... with this and paging enabled, it's not too hard to<br />emulate a LFB.</div>
    <div class="meta">Posted on 2002-03-10 12:52:50 by f0dder</div>
   </div>
   <div class="post" id="post-28204">
    <div class="subject"><a href="#post-28204">My OS/GUI preview</a></div>
    <div class="body">On most cards, even enabling UCWC, $A0000 is slow, slow slow.. so true LFB support (and enabling UCWC) is really &quot;a must&quot;.</div>
    <div class="meta">Posted on 2002-03-10 17:21:35 by Maverick</div>
   </div>
   <div class="post" id="post-28276">
    <div class="subject"><a href="#post-28276">My OS/GUI preview</a></div>
    <div class="body">current video cards offer sometimes &quot;native&quot; DirectX support - is it possible to access the LFB in another way than VESA? Maybe some new interrupt functions.<br /><br />(I guess, MS uses VESA itself for directX)</div>
    <div class="meta">Posted on 2002-03-11 03:48:51 by beaster</div>
   </div>
   <div class="post" id="post-28284">
    <div class="subject"><a href="#post-28284">My OS/GUI preview</a></div>
    <div class="body">I'm afraid, the answer is &quot;no&quot; for both questions.</div>
    <div class="meta">Posted on 2002-03-11 04:45:39 by Maverick</div>
   </div>
   <div class="post" id="post-28298">
    <div class="subject"><a href="#post-28298">My OS/GUI preview</a></div>
    <div class="body">As for the assembler... im using NASM for the initial tests... but soon after I will be using DynASM :P</div>
    <div class="meta">Posted on 2002-03-11 06:57:05 by SpooK</div>
   </div>
   <div class="post" id="post-28334">
    <div class="subject"><a href="#post-28334">My OS/GUI preview</a></div>
    <div class="body"><div class="quote"><br />I guess, MS uses VESA itself for directX</div>directX uses a dedicated driver, to talk to the hardware.  The video controller manufacturer supplies a driver designed specificaly for their hardware, so that Windows has access to the dX hardware acceleration.</div>
    <div class="meta">Posted on 2002-03-11 08:48:09 by The Worrier King</div>
   </div>
   <div class="post" id="post-28447">
    <div class="subject"><a href="#post-28447">My OS/GUI preview</a></div>
    <div class="body">Sorry for the late reply:<br /><br /><div class="quote"><br />Maverick, yes i guess i will need to change VESA video modes from protected ring0 code to support different resolution/color deephs, so if you have some info on that, please send it to me, <br /></div>I think that's what you need (I attached the whole document below):<br /><br />     4.13.     Function 0Ah - Return VBE Protected Mode Interface<br /><br />     This required function call returns a pointer to a table that contains<br />     code for a 32-bit protected mode interface that can either be copied<br />     into local 32 bit memory space or can be executed from ROM providing<br />     the calling application sets all required selectors and I/O access<br />     correctly. This function returns a pointer (in real mode space) with<br />     offsets to the code fragments, and additionally returns an offset to a<br />     table which contains Non-VGA Port and Memory locations which an<br />     Application may have to have I/O access to.<br /><br /><br />     Input:    AX   = 4F0Ah   VBE 2.0 Protected Mode Interface<br />               BL   = 00h          Return protected mode table<br /><br /><br />     Output:   AX   =         Status<br />               ES   =         Real Mode Segment of Table<br />               DI   =         Offset of Table<br />               CX   =         Length of Table including protected mode code<br />                              (for copying purposes)<br /><br /><br />     The format of the table is as follows:<br /><br />          ES:DI + 00h    Word Offset in table of Protected mode code for<br />                         Function 5 for Set Window Call<br />          ES:DI + 02h    Word Offset in table of Protected mode code for<br />                         Function 7 for set Display Start<br />          ES:DI + 04h    Word Offset in table of Protected mode code for<br />                         Function 9 for set Primary Palette data<br />          ES:DI + 06h    Word  Offset in table of Ports and Memory Locations<br />                         that the application may need I/O privilege for.<br />                         (Optional:  if unsupported this must be 0000h)<br />                         (See Sub-table for format)<br />          ES:DI + ?      Variable remainder of Table including Code<br /><br /><br />     The format of the Sub-Table (Ports and Memory locations)<br /><br />          Port, Port, ... , Port, Terminate Port List with FF FF, Memory<br />          locations (4 bytes), Length (2 bytes), Terminate Memory List with<br />          FF FF.<br /><br />     Example 1. For Port/Index combination 3DE/Fh and Memory locations<br />     DE800-DEA00h (length = 200h) the table would look like this:<br />          DE 03 DF 03 FF FF 00 E8 0D 00 00 02 FF FF<br /><br />     Example 2. For only the ports it would look like:<br />          DE 03 DF 03 FF FF FF FF<br /><br />     Example 3. For only the memory locations it would look like<br />          FF FF 00 E8 0D 00 00 02 FF FF<br /><br />     Note:. All protected mode functions should end with a near RET (as<br />     opposed to FAR RET) to allow the application software to CALL the code<br />     from within the ROM.<br /><br />     Note:  The Port and Memory location Sub-table does not include the<br />     Frame Buffer Memory location.  The Frame Buffer Memory location is<br />     contained within the ModeInfoBlock returned by VBE Function 01h.<br /><br />     Note:  The protected mode code is assembled for a 32-bit code segment,<br />     when copying it, the application must copy the code to a 32-bit code<br />     segment.<br /><br />     Note:  It is the application's responsibility to ensure that the<br />     selectors and segments are set up correctly.<br /><br />     Note:  Currently undefined registers may be destroyed with the<br />     exception of ESI, EBP, DS and SS.<br /><br /><br />     Note:  Refer to Section 4.2 for information on protected mode<br />     considerations.</div>
    <div class="meta">Posted on 2002-03-11 17:09:52 by Maverick</div>
   </div>
   <div class="post" id="post-28449">
    <div class="subject"><a href="#post-28449">My OS/GUI preview</a></div>
    <div class="body">The official VESA 2.0 document should be the one I attach here.. it seems less readable, but more complete.</div>
    <div class="meta">Posted on 2002-03-11 17:13:55 by Maverick</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=4037&amp;page=1" style="">&laquo;</a><a href="../?id=4037&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="4037" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
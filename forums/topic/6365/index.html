<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>To Hutch : about &quot;dwtoa&quot; - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6365" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6365">To Hutch : about &quot;dwtoa&quot;</a></p>
   <div class="post" id="post-45780">
    <div class="subject"><a href="#post-45780">To Hutch : about &quot;dwtoa&quot;</a></div>
    <div class="body">Hutch,,, <br /><br />As I told u before...In masm32v7.dwtoa<br />In case of &quot;zero&quot;<br />there is no stack restore routine....<br /><br />============================<br />dwtoa proc dwValue:DWORD, lpBuffer:DWORD<br />        <br />    ; -------------------------------------------------------------<br />    ; convert DWORD to ascii string<br />    ; dwValue is value to be converted<br />    ; lpBuffer is the address of the receiving buffer<br />    ; EXAMPLE:<br />    ; invoke dwtoa,edx,ADDR buffer<br />    ;<br />    ; Uses: eax, ecx, edx.<br />    ; -------------------------------------------------------------<br /><br /><br />    push ebx<br />    push esi<br />    push edi<br /><br />    mov eax, dwValue<br />    mov edi, <br /><br />    or eax,eax<br />    jnz sign<br />    <br />  zero:<br />    mov word ptr ,30h<br />    ret</div>
    <div class="meta">Posted on 2002-06-29 21:10:52 by muzidowa</div>
   </div>
   <div class="post" id="post-45792">
    <div class="subject"><a href="#post-45792">To Hutch : about &quot;dwtoa&quot;</a></div>
    <div class="body">muzidowa,<br /><br />Thanks, I got your comment the first time but there have been no later releases of MASM32 so there has been no later versions.<br /><br />I did not write this procedure myself but it is no problem to change, the preferred method is to put a label at the end of the proc before the stack is restored and jump to it if the parameter is zero.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-06-29 23:56:58 by hutch--</div>
   </div>
  </div>
 </body>
</html>
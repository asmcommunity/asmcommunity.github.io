<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>The 0 index Issue. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30404" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=30404">The 0 index Issue.</a></p>
   <div class="post" id="post-213763">
    <div class="subject"><a href="#post-213763">The 0 index Issue.</a></div>
    <div class="body">If it&#039;s a text it generally doesn&#039;t matter, if it&#039;s a deck of cards, well, should it matter? <br /><br />I am talking about indexes. 0-51 for cards, 0-6 for days in a week, 0-364 for days in a year if you want to store something at that spot in your array.<br /><br />The human thinks that the first ( 1 ) day of the year is 1. Computers with their 0-indexes start at 0 and we adjust accordingly. <br /><br />How do you do it? Burn the first byte? dword? whatever? so that your indexes can be 1-52, 1-7, 1-365 organized or the other way around? Anyway - you have to adjust the length somewhere. Do you get confused thinking that your array has in fact 8 days in a week if you burn the first? How about loops ? Does it annoy you / confuse you to start looping at 1? Does it annoy you if you read someone else code who does the opposite of how you would have done it?<br /><br />Pick a side and stick to it? What&#039;s your input?<br /><br /></div>
    <div class="meta">Posted on 2010-12-30 12:44:19 by JimmyClif</div>
   </div>
   <div class="post" id="post-213764">
    <div class="subject"><a href="#post-213764">Re: The 0 index Issue.</a></div>
    <div class="body">Aside from a few languages where 1-indexing is supported natively (eg Pascal/Delphi, VB), I would say that 0-based indexing is the convention.<br />I always use 0-based indexing, and virtually all of the code that I&#039;ve worked with over the years (mostly asm, C/C++, Java and C#) does the same.<br />I think 0-based indexing is very intuitive if you understand WHY it works that way.<br />And that is because an array is stored as a pointer to the first element.<br />The array indexing is an offset to the pointer.<br />So array comes down to this:<br />- array is the pointer<br />- array is shorthand for: array + n*sizeof(element)<br />Hence the first element is the element at n=0.</div>
    <div class="meta">Posted on 2010-12-30 14:14:43 by Scali</div>
   </div>
   <div class="post" id="post-213766">
    <div class="subject"><a href="#post-213766">Re: The 0 index Issue.</a></div>
    <div class="body">Although I tend to agree with Scali, I think we humans bend too much to try to think like the computer instead of the other way around. &nbsp;There is quite a bit of literature on the net that supports the side of making computers understand our natural language better. &nbsp;All natural languages begin with 1 as the first in the sequence. &nbsp;When I&#039;m programming I have to make the mental adjustment that the first position of an array is at offset zero of an address. &nbsp;Programming occasionally tends to &nbsp;be counter-intuitive to what we&#039;ve been taught since grade school. &nbsp;If I have 1 apple and you have one apple how many apples do we have? 1 + 1 = 2. &nbsp;Let&#039;s see how this incredibly simply concept translates into computer code :<br /><br /><pre><code><br />void main(int argc, char *argv&#91;])<br />{<br /> &nbsp; &nbsp;int ctr, total_apples;<br /> &nbsp; &nbsp;int apples_array[2];<br /><br /> &nbsp; &nbsp;apples_array[0] = 1;<br /> &nbsp; &nbsp;apples_array[1] = 1;<br /><br /> &nbsp; &nbsp;for ( ctr=0, total_apples=0; ctr &lt; sizeof(apples_array); ctr++)<br /> &nbsp; &nbsp; &nbsp; total_apples += apples_array;<br /><br /> &nbsp; &nbsp;printf(&quot;there are %d apples available to eat\n&quot;, total_apples);<br />}<br /></code></pre><br /><br />Why does the first index in the array start at 0 rather than 1? &nbsp;Because C as a language is designed to be &quot;close&quot; to machine code but yet also &quot;portable&quot;. &nbsp;Thus, we talk of array offsets. &nbsp;Offsets from what? &nbsp;The address location designed to hold the first object - an integer number in this case - the address in memory that is represented by the variable name apples_array. &nbsp; For those of us that having been programming our entire lives we understand this. &nbsp;But this concept is a major hurdle for newbie programmers. &nbsp;It is counter-productive to the way we think. &nbsp;How many bugs and buffer over-runs have been caused by this - and made by professionals even? &nbsp;Quite a lot.<br />Had Pascal gained widespread acceptance rather than C we&#039;d be indexing array positions, not offsets.<br />And starting with the number 1.<br />Just my 1 + 1 cents ...<br /><br /><br />Edit: Speaking of bugs made by professionals, the above hastily posted code contains one which I&#039;m purposely leaving in for this discussion.&nbsp; :lol:<br /><br /></div>
    <div class="meta">Posted on 2010-12-30 22:36:07 by p1ranha</div>
   </div>
   <div class="post" id="post-213769">
    <div class="subject"><a href="#post-213769">Re: The 0 index Issue.</a></div>
    <div class="body"><div class="quote"><br />Had Pascal gained widespread acceptance rather than C we&#039;d be indexing array positions, not offsets.<br />And starting with the number 1.<br />Just my 1 + 1 cents ...</div><br /><br />Well, to clarify my earlier post, I&#039;d like to say that you should stick to the &#039;native&#039; representation that your language uses, to avoid problems.<br />If you want 1-based indexing in C/C++, not only is that counter-intuitive to most C/C++ programmers, so that they may misread your code, but you also need to manage this translation manually, which means there&#039;s more code to write, and as such there is room for error. If you just stick with 0-based all the time, you&#039;ll get used to it soon, and rarely make mistakes (and if you do, you&#039;ll catch them quickly).<br />With Pascal the feature is built into the language, so the compiler handles it for you behind the scenes (which may result in reduced performance and larger code, which is probably one of the reasons why Pascal never became as widespread as C/C++). The actual range is also evident from the syntax that you use, so other Pascal programmers will not have problems understanding your code or making wrong assumptions.<br /><br />For me personally the worst part of working with Pascal and VB is that they use 0-based and 1-based indexing at the same time. Namely, although the language itself might support 1-based indexing, the underlying Windows API or other third-party libraries do not. So you will still be using 0-based indexing in a lot of code.<br />For me personally that is a good reason not to use 1-based indexing at all, if your language can handle 0-based indexing equally well.<br /><br />I also don&#039;t think that 0-based is all that &#039;unhuman&#039;. In essence, programming is just a form of applied mathematics. And in mathematics, using 0 is quite common practice as well. Like for example how x^0 is defined, and in general, series will be started at 0. This practice has existed centuries before the computer was even invented.<br />Mathematics is the language of counting, not &#039;natural language&#039;.<br />Likewise, using &#039;natural language&#039; to define logical statements is very error-prone, since logic in natural language often depends on context and other strange intricacies. Saying the exact same sentence word-for-word in a different language can mean something completely different.<br />Hence humans have invented languages to express logical statements in unambiguous ways.<br />Trying to make the computer understand natural language is nice at a high level (eg Google), but I don&#039;t think it has a place in programming because of the inherent ambiguous nature of natural language. The fact that we have introduced 1-based indexing in the first place (where 0-based indexing has been around even before programming languages were invented, as that is just how the machine works), introduces such ambiguities.<br /><br /><br /><div class="quote">Edit: Speaking of bugs made by professionals, the above hastily posted code contains one which I&#039;m purposely leaving in for this discussion.&nbsp; :lol:</div><br /><br />Yea, that sizeof(apples_array) statement is rather interesting in combination with the ctr++ in that for-loop :)<br /></div>
    <div class="meta">Posted on 2010-12-31 07:13:01 by Scali</div>
   </div>
   <div class="post" id="post-213780">
    <div class="subject"><a href="#post-213780">Re: The 0 index Issue.</a></div>
    <div class="body">It&#039;s what I though you guys would write. I never even considered &#039;burning&#039; a slot to align my array&#039;s on a 1 index until I came along on a C# book by Jack Purdum (wrox.com) and he suggests strongly to align arrays on a 1 index. His code is riddled with static string &#91;] = { &quot;cabbage&quot;, &quot;Monday&quot;, Tuesday&quot;, Wednesday&quot;...etc} - He accesses them using for (index = 1 to end) and ArraySize + 1 all over. <br /><br />Reading the code confuses the living hell out of me. As this book was given to me I am reluctant to not continue reading but I wonder if I should bother scratching my head over it or not. <br /><br />I&#039;m pleased to know that 0-based is the standard. :thumbsup:<br /><br />Thanks for the input.</div>
    <div class="meta">Posted on 2011-01-01 19:05:42 by JimmyClif</div>
   </div>
   <div class="post" id="post-213783">
    <div class="subject"><a href="#post-213783">Re: The 0 index Issue.</a></div>
    <div class="body">&quot;void main&quot;? Where&#039;d you learn talk like that? :)<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-01-01 22:30:35 by fbkotler</div>
   </div>
  </div>
 </body>
</html>
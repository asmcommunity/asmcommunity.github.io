<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Delete CHAR in a file on Disk - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13944" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13944">Delete CHAR in a file on Disk</a></p>
   <div class="post" id="post-107766">
    <div class="subject"><a href="#post-107766">Delete CHAR in a file on Disk</a></div>
    <div class="body">I tried SetEndof File and a few other things but i cannot figure out how to select, delete or replace the CHAR in a file on Disk.  A small text file.  I been seaching like crazy.  I am finding everything else but this it seems.<br /><br /><br /><strong>Example 1</strong> <br /><br />This  is line line 1.<br /><br />I want to delete the extra word line.<br />.......................................................<br /><strong>Example 2</strong> <br /><br />This  is line<br />2.<br /><br />This is another line.<br /><br />I want to make the number 2 move up so I only have 2 full lines.<br /><br />Than CloseHandle.<br /><br />Hope someone know how this is done<br /><br />Thanks in advance.<br /><br />PS <br /><br /><br />.......................................................<br /><strong>Example 3</strong> <br /><br />This   line 3<br /><br />This is  line 3<br /><br />Can i insert the word is in line 3</div>
    <div class="meta">Posted on 2003-06-20 23:54:52 by cmax</div>
   </div>
   <div class="post" id="post-107767">
    <div class="subject"><a href="#post-107767">Delete CHAR in a file on Disk</a></div>
    <div class="body">You can only delete from end. Otherwise you have to read in almost all of file, and use moving operations to delete/replace what you want.</div>
    <div class="meta">Posted on 2003-06-21 00:18:39 by comrade</div>
   </div>
   <div class="post" id="post-107769">
    <div class="subject"><a href="#post-107769">Delete CHAR in a file on Disk</a></div>
    <div class="body">Yup,<br /><br />You have to find the offset of the beginning and end of the word you want to clip. Read the whole file into a buffer if it's small enough starting at the end of the word then set the end of the file to the start of the word and append the buffer. Not much you can do besides that, everything else would be slower.</div>
    <div class="meta">Posted on 2003-06-21 00:34:16 by donkey</div>
   </div>
   <div class="post" id="post-107772">
    <div class="subject"><a href="#post-107772">Delete CHAR in a file on Disk</a></div>
    <div class="body">I been to hell and back.  I always thought this could be done until i tried it for many days.<br /><br />donkey i read your post about mddle of a string and you said the ONLY way was to READ it in and slit the string.<br /><br />Then to hear what you say comrade, it's THE END of my wild ideas.<br /><br />At lease i finally learned my lesson about what is possible and what is not.  <br /><br /><span style="font-size:9px>This is the one of best lesson i ever received after what i went through.  It was like trying to make a football act lile a basketball and i never even came close to THAT MUCH.  How dumb could  i be...</span> <br /><br />Thanks again Guys</div>
    <div class="meta">Posted on 2003-06-21 01:45:43 by cmax</div>
   </div>
   <div class="post" id="post-107787">
    <div class="subject"><a href="#post-107787">Delete CHAR in a file on Disk</a></div>
    <div class="body">I have one more question about this.  I can't seem to stop and is planning to try to rig something up to get at lease half way there.<br /><br />Ok, if i can do this one thing i will be on my way.<br /><br />I can do Endof File but once i get there i want to back up one or two spaces than delete those one or two letters<br />Can this be done to a file on disk as i explained above.<br /><br />If not than i really give up ...<br /><br /><br /><strong>Example:</strong> <br /><br />This is Line 44<br /><br />To be<br /><br />This is Line 4<br /><br />O know it may be simple if it was in my program but i am working with text files on disk and don't want to read them in unless i have to.  If i can get this one out the way I worry about the rest latter.</div>
    <div class="meta">Posted on 2003-06-21 05:26:27 by cmax</div>
   </div>
   <div class="post" id="post-107788">
    <div class="subject"><a href="#post-107788">Delete CHAR in a file on Disk</a></div>
    <div class="body">invoke SetFilePointer,-2,NULL,FILE_END<br />invoke SetEndOfFile,hFile<br /><br />Will make your file two bytes shorter.<br /><br />If your going to copy stuff after there's no need to set the end of the file, just begin writing at that file position.</div>
    <div class="meta">Posted on 2003-06-21 05:31:21 by donkey</div>
   </div>
   <div class="post" id="post-107789">
    <div class="subject"><a href="#post-107789">Delete CHAR in a file on Disk</a></div>
    <div class="body">donkey, I asked the wrong question because I figured that out about a half hour ago when comrade idea hit me.  Everything after the end can be deleted... So i made my own end with the way you did it but i did it from FILE_BEGIN.<br /> <br />My question should have been how do I delete those spaces or two letters.<br /><br />Thanks again<br /><br />Heck I just look at my clock and a half hour was only 10 minutes ago, I must be getting wore out.</div>
    <div class="meta">Posted on 2003-06-21 05:40:36 by cmax</div>
   </div>
   <div class="post" id="post-107790">
    <div class="subject"><a href="#post-107790">Delete CHAR in a file on Disk</a></div>
    <div class="body">You're going to have to do a copy for that one. Copy the file to a buffer if it's small enough then delete the original and create a new file starting at pos 2 or where-ever.</div>
    <div class="meta">Posted on 2003-06-21 05:47:11 by donkey</div>
   </div>
   <div class="post" id="post-107791">
    <div class="subject"><a href="#post-107791">Delete CHAR in a file on Disk</a></div>
    <div class="body">What do you think about Edit control Select and Clear.  Can that be done by he handle or do the file have to be open.<br /><br />Also how about keyboard delete like that.</div>
    <div class="meta">Posted on 2003-06-21 05:54:04 by cmax</div>
   </div>
   <div class="post" id="post-107792">
    <div class="subject"><a href="#post-107792">Delete CHAR in a file on Disk</a></div>
    <div class="body">If you have a handle the file is open. Doing it in an edit control is exactly the same thing but just adds a level of complexity to it. In the end it will load it into a buffer (the edit control) remove the parts that it doen't want and save it back to the file. This can be done without using the edit control much faster and more transparently.</div>
    <div class="meta">Posted on 2003-06-21 05:59:45 by donkey</div>
   </div>
   <div class="post" id="post-107794">
    <div class="subject"><a href="#post-107794">Delete CHAR in a file on Disk</a></div>
    <div class="body">Thank you for all the help donkey,<br /><br />Now i think i still got a fighting chance to make things work.</div>
    <div class="meta">Posted on 2003-06-21 06:10:23 by cmax</div>
   </div>
  </div>
 </body>
</html>
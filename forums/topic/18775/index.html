<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>About section Header - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18775" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18775">About section Header</a></p>
   <div class="post" id="post-145331">
    <div class="subject"><a href="#post-145331">About section Header</a></div>
    <div class="body">IS it possible to do that: <br /><br />during execution of prog..i would change its flag of section .text. (code) to have read and write..after i modify some instruction in coding..and then put off the flag write of the section.... <br /><br />thanks for help <br /><br />Frenchy</div>
    <div class="meta">Posted on 2004-07-03 05:21:04 by Frenchy</div>
   </div>
   <div class="post" id="post-145333">
    <div class="subject"><a href="#post-145333">About section Header</a></div>
    <div class="body">You don't have to modify the flag, link your object file with the switch /SECTION:.text,ERW</div>
    <div class="meta">Posted on 2004-07-03 06:08:19 by Vortex</div>
   </div>
   <div class="post" id="post-145334">
    <div class="subject"><a href="#post-145334">About section Header</a></div>
    <div class="body">thks  Vortex...but i know that , but i would know if we can change flag section during the execution..i would keep the protect against bad write in section code...<br /><br />i suppose the flag is loaded in memory but i dont know where exactly ...<br /><br />i have written  a prog in assembly..and i would implement a coding to change flag..i suppose all is possible in programmation, but how resolve this prob..</div>
    <div class="meta">Posted on 2004-07-03 06:15:01 by Frenchy</div>
   </div>
   <div class="post" id="post-145335">
    <div class="subject"><a href="#post-145335">About section Header</a></div>
    <div class="body">To get the writing access to the code section, consider using the <strong>OpenProcess</strong> function:<br /><pre><code><br />HANDLE OpenProcess&#40;<br /><br />    DWORD dwDesiredAccess,	// access flag <br />    BOOL bInheritHandle,	// handle inheritance flag <br />    DWORD dwProcessId 	// process identifier <br />   &#41;;	<br /></code></pre><br /><br />I have an old example using this function to modify the code section, you can check the attachment.</div>
    <div class="meta">Posted on 2004-07-03 06:31:20 by Vortex</div>
   </div>
   <div class="post" id="post-145336">
    <div class="subject"><a href="#post-145336">About section Header</a></div>
    <div class="body">thks Vortex i see that...</div>
    <div class="meta">Posted on 2004-07-03 06:36:32 by Frenchy</div>
   </div>
   <div class="post" id="post-145346">
    <div class="subject"><a href="#post-145346">About section Header</a></div>
    <div class="body">Try that<br /><br />C&amp;P from Win32SDK<br />The VirtualProtect function changes the access protection on a region of committed pages in the virtual address space of the calling process. This function differs from VirtualProtectEx, which changes the access protection of any process.<br /><pre><code><br />BOOL VirtualProtect&#40;<br /><br />    LPVOID lpAddress,	// address of region of committed pages <br />    DWORD dwSize,	// size of the region <br />    DWORD flNewProtect,	// desired access protection <br />    PDWORD lpflOldProtect 	// address of variable to get old protection  <br />   &#41;;<br /></code></pre><br />More ?<br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/memory/base/virtualprotect.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/memory/base/virtualprotect.asp</a></div>
    <div class="meta">Posted on 2004-07-03 11:22:42 by Criminal2</div>
   </div>
  </div>
 </body>
</html>
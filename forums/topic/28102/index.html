<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Tricky files - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28102" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28102">Tricky files</a></p>
   <div class="post" id="post-199397">
    <div class="subject"><a href="#post-199397">Tricky files</a></div>
    <div class="body">This is a bit off topic but my find file program is MASM so here's what I'm doing.  I want to display in a window all files and directories on my computer.  This works fine except Temp Internet Files and History folders only report index.dat file and desktop.ini even though I see dozens of other objects when I look in these folders.  I can select and delete the objects in these folders but I can't copy and paste.  When I delete the desktop.ini all the files disappear!  I think this means they weren't really there to begin with, they're somewhere else, but where?  So how can I generate a listing of them?  Any help or ideas would be appreciated.

Thanx</div>
    <div class="meta">Posted on 2001-05-17 23:23:00 by czDrillard</div>
   </div>
   <div class="post" id="post-199398">
    <div class="subject"><a href="#post-199398">Tricky files</a></div>
    <div class="body">the desktop.ini contains a string with the class ID of the temporary internet files folder (i guess the same also apply's to other folders). when you delete or rename the file you get the real contents of that folder..

i think what you see with explorer is some of the contents of the index.dat file witch points to the four or six (depending on the total size of the directory) ramdomly created subdirectories with the real files. if you want to list them the way explorer does then you should read the dat file, but be aware that the file structure may vary from one ie version to another.

for the index.dat structure just search it with a search engine..

ensein</div>
    <div class="meta">Posted on 2001-05-18 08:32:00 by ensein</div>
   </div>
   <div class="post" id="post-199399">
    <div class="subject"><a href="#post-199399">Tricky files</a></div>
    <div class="body">Thanx ensein, the actual files are in the sub directories like you said.  I found a lot of references to index.dat files on the net but none that clearly explained how they work.

thanks again and best regards,

czDrillard</div>
    <div class="meta">Posted on 2001-05-20 00:17:00 by czDrillard</div>
   </div>
   <div class="post" id="post-199400">
    <div class="subject"><a href="#post-199400">Tricky files</a></div>
    <div class="body">in wotsit.org there's the Will's knowledge of Windows Internet Browser Cache file formats which explains the structure of the index.dat files (or others with the same function) from iexplorer 2.0 to 4.0.

and there's also the Wolfgang Baudisch homepage with the dat file structure for version 4.0 ..

well, these are a little obsolete docs but acording to Baudisch "ie5 cache structure is similar to ie4 but not identical", "the offset values and cache names" are different, so, if you learn the previous cache structures, maybe you could figure out more easily the current ones.

just a thought in case you didn't hear about these pages before.

happy digging:D

ensein</div>
    <div class="meta">Posted on 2001-05-21 17:27:00 by ensein</div>
   </div>
   <div class="post" id="post-199401">
    <div class="subject"><a href="#post-199401">Tricky files</a></div>
    <div class="body">Hey ensein,
These are really helpful links.  I never came accross them on my search.  Thanx, much appreciated.

best regards,

czDrillard</div>
    <div class="meta">Posted on 2001-05-22 23:20:00 by czDrillard</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>mixing langage (solution...) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=731" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=731">mixing langage (solution...)</a></p>
   <div class="post" id="post-4363">
    <div class="subject"><a href="#post-4363">mixing langage (solution...)</a></div>
    <div class="body">i  want to thanks all of u, how take the pain to reply to me,<br /><br />what's was the need of mixing two langages, was to write my own new OS, to grasp all the internal architecture, and to understand how an os works, <br /><br />   To achieve this two goals, writing it in just full assembly was a bit amazing, that's why was the choice, to mix'em up<br /><br /><br />so here is what i found, for the persons who'r  interesed in...<br /><br />First, the first function called in a C program, is _start, not the main. it's responsible to settinp and initializing up the environment, so that printf, and scanf will run clearly.<br /><br /><br />the C skelton, is<br /><br />----------- snippet ------------------<br />extern void SomeAsmFunction(void);<br /><br /><br />void _start (void) {<br /><br />...<br />	SomeAsmFunction();<br />...<br />}<br />------------------------------------------------<br />compile it with bcc -c -mt skeleton1.c<br /><br />and the ASM one, look like this,<br /><br />-----------------------------------------------<br />_TEXT segment byte 'CODE'<br />	<br />     PUBLIC SomeAsmFunction<br /><br />SomeAsmFunction PROC<br />	mov ah,09<br />....<br /><br />	RET<br />SomeAsmFunction ENDP<br />_TEXT ends<br />------------------------------------------------<br />compile it with<br /><br />TASM AsmOne.asm<br /><br />then the linkage, .... tlink selton1.obj AsmOne.obj<br />		       EXe2bin Skelton1.exe ske.exe<br /><br />and u get a 11 byte file, that don't call any interrupt, that was my disappointement, when i realise, that i can't call any of the CRT library, when coding your own OS.</div>
    <div class="meta">Posted on 2001-08-21 19:57:30 by Sabeel</div>
   </div>
   <div class="post" id="post-4374">
    <div class="subject"><a href="#post-4374">mixing langage (solution...)</a></div>
    <div class="body">Actually, the &quot;name of the entrypoint&quot; is chosen by the writers of<br />whatever C runtime you're using. And various different names have<br />been used. And the very first entrypoint is controlled by nothing else<br />than a linker switch.<br /><br />As for writing your own OS, you have to read and read and read<br />and... it will probably take a handful of years before you are ready<br />to take even the first vague steps :).</div>
    <div class="meta">Posted on 2001-08-21 22:06:59 by f0dder</div>
   </div>
   <div class="post" id="post-4540">
    <div class="subject"><a href="#post-4540">mixing langage (solution...)</a></div>
    <div class="body">thanks, and especially for <strong>disease_2000</strong></div>
    <div class="meta">Posted on 2001-08-22 20:57:07 by Sabeel</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>intermediate language assembly - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18545" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=18545">intermediate language assembly</a></p>
   <div class="post" id="post-143569">
    <div class="subject"><a href="#post-143569">intermediate language assembly</a></div>
    <div class="body">Well i couldn't resist the temptation of trying to program directly in ILassembly<br />to be honnest it's not that ugly language(if it weren't managed it would be kewl)<br /><br />well here's my first attempt (whatever you think it's assembly) :)<br />to run/assemble you need .net framework offcourse<br /><pre><code><br />.assembly extern mscorlib<br />&#123;// never change these values<br />	.publickeytoken = &#40;B7 7A 5C 56 19 34 E0 89 &#41;                        <br />	.ver 1&#58;0&#58;5000&#58;0<br />&#125;<br />.assembly extern System.Windows.Forms<br />&#123;<br />	.publickeytoken = &#40;B7 7A 5C 56 19 34 E0 89 &#41;                    <br />	.ver 1&#58;0&#58;5000&#58;0<br />&#125;<br />.assembly helloworld<br />&#123;&#125;<br />.namespace Hello_world 							<br />&#123;        <br />    .class public Hello_world<br />    &#123; <br />	    .method static void Main&#40;&#41; <br />	    &#123;<br />	      .entrypoint<br />	      ldstr &quot;Hello everybody&quot;<br />	      ldstr &quot;Developed in IL&quot;<br />	      call value class &#91;System.Windows.Forms&#93;System.Windows.Forms.DialogResult &#91;System.Windows.Forms&#93;<br />	      System.Windows.Forms.MessageBox&#58;&#58;Show&#40;class System.String, class System.String&#41;<br />	      pop<br />	      ret<br />	    &#125;<br />	&#125;<br />&#125;</code></pre></div>
    <div class="meta">Posted on 2004-06-12 09:15:59 by czubin</div>
   </div>
   <div class="post" id="post-143572">
    <div class="subject"><a href="#post-143572">intermediate language assembly</a></div>
    <div class="body">What makes you think you could write different/better code than the compiler will, using IL? :)</div>
    <div class="meta">Posted on 2004-06-12 10:41:19 by Scali</div>
   </div>
   <div class="post" id="post-143573">
    <div class="subject"><a href="#post-143573">intermediate language assembly</a></div>
    <div class="body">Sergie lind &lt;hope I spelled name right  creator of ilasm for Microsoft said you can do things in ilasm that C# does not support.  So perhaps you can do better than the compiler.  But thats the fault of the C# compiler.</div>
    <div class="meta">Posted on 2004-06-12 11:20:21 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-143574">
    <div class="subject"><a href="#post-143574">intermediate language assembly</a></div>
    <div class="body">yup, you can do things in ILAsm that you can't do in the various lenguages that creates IL, which is used for obfuscators.<br /><br />But with regards to making more efficient IL than a compiler? Ho humm, it's going to be JIT'ed anyway.</div>
    <div class="meta">Posted on 2004-06-12 11:25:53 by f0dder</div>
   </div>
   <div class="post" id="post-143582">
    <div class="subject"><a href="#post-143582">intermediate language assembly</a></div>
    <div class="body">yes, you can do a lot of things not avaible in the .net language<br />there are some special vb.net assemblies that C# can't acces but C# can do so much more then vb.net<br /><br />and all of the three language compilers outputs are different <br />and most of these outputs aren't optimized ,there are some (not free)programs out there wich allows optimizing<br />the one I made was assembled to only 2KB a similar one compiled in C# is 16KB size <br /><br />it's not impressive nor needed to program directly in IL assembly but <br />that goes the same for native assembly, it's just having some controll or how the program works :)<br /><br />One mayor disavantage it's compiled at runtime wich looses speed<br />on the other hand , i can run it on linux , mac os and the java platform<br /><br />well .net compilers are for me as HLL compilers are to you<br /><br />hope that wasen't boring ;)</div>
    <div class="meta">Posted on 2004-06-12 12:55:34 by czubin</div>
   </div>
   <div class="post" id="post-143583">
    <div class="subject"><a href="#post-143583">intermediate language assembly</a></div>
    <div class="body">Managed C++ can also do things that C# can't do. I don't see why people think C# == .NET.<br /><br /><div class="quote">One mayor disavantage it's compiled at runtime wich looses speed</div><br /><br />Not quite. Firstly, the compiled code is cached, so the code is only compiled once for the lifetime of the program, so the compilation time gets negligible.<br />Secondly, you can also opt to compile on installation.</div>
    <div class="meta">Posted on 2004-06-12 13:02:35 by Scali</div>
   </div>
   <div class="post" id="post-143586">
    <div class="subject"><a href="#post-143586">intermediate language assembly</a></div>
    <div class="body"><div class="quote"><br />only 2KB a similar one compiled in C# is 16KB size <br /></div><br />Who cares about so small size differences, as long as the size is some runtime lib overhead, and not linear 2x growth? :)<br /><br /><div class="quote"><br />One mayor disavantage it's compiled at runtime wich looses speed<br /></div><br />Well, not necessarily... JIT has the <strong>theoretical</strong> advantage that the IL can be optimized for the CPU it's run on. Like, there's &quot;some&quot; difference in how to optimize, depending on whether you target Athlon or P4. Also, a JITer could <strong>theoretically</strong> profile the execution path of the code, and generate more optimal code. So... JITed IL can, if implemented properly, actually beat natively compiled code.<br /><br />But that's all theory - I dunno how well MS's JITter is. I assume it's &quot;pretty good&quot;, but that there's also a lot of room for improvement.</div>
    <div class="meta">Posted on 2004-06-12 13:07:12 by f0dder</div>
   </div>
   <div class="post" id="post-143590">
    <div class="subject"><a href="#post-143590">intermediate language assembly</a></div>
    <div class="body"><div class="quote"><br />the one I made was assembled to only 2KB a similar one compiled in C# is 16KB size <br /></div><br />Which has probably only to do with padding and the version resource the C# compiler includes by default.<br /><br />If you compile this code manually:<br /><pre><code><br />using System.Windows.Forms;<br /><br />namespace HelloWorld<br />&#123;<br />    class HelloWorld<br />    &#123;<br />        static void Main&#40;string&#91;&#93; args&#41;<br />        &#123;<br />            MessageBox.Show&#40;&quot;Hello everybody&quot;, &quot;Developed in C#&quot;&#41;;<br />        &#125;<br />    &#125;<br />&#125;<br /></code></pre><br />With:<br /><pre><code>csc /o small.cs</code></pre><br /><br />The output will be 3kb. The extra kb is because the executable has a .rsrc section which czubin's version doesn't. I couldn't find a compiler switch to prevent a version resource from being included but if you disassemble the output and assemble it again (ildasm-&gt;ilasm) without the resource, the executable will be 2kb. Also, if you look at the disassembly you will find it to be nearly the same as czubin's code, except for that the C# compiler also built a constructor for the HelloWorld class.<br /><br />Thomas</div>
    <div class="meta">Posted on 2004-06-12 13:24:35 by Thomas</div>
   </div>
   <div class="post" id="post-143594">
    <div class="subject"><a href="#post-143594">intermediate language assembly</a></div>
    <div class="body">oh well before anyone makes a quote about the size again ,<br />I wasn't impressed too, I was just wanting to say C# compiler makes a different output ;)</div>
    <div class="meta">Posted on 2004-06-12 13:46:40 by czubin</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Fun with ASCII additions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12972" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12972">Fun with ASCII additions</a></p>
   <div class="post" id="post-100814">
    <div class="subject"><a href="#post-100814">Fun with ASCII additions</a></div>
    <div class="body">This is intented to be a fun thread where you can post interesting results with ASCII additions.<br /><br />In the early days of the 8086, one of the main commercial uses of the PC was accounting. Registers being only 16 bits and the co-processor not being a standard addition, some machine instructions (AAA, AAD, AAM, AAS, DAA and DAS) were included to facilitate arithmetic operations with base 10 numbers so that large numbers could be handled.<br /><br />The published logic of the AAA operation is as follows:<br /><br />if((AL)&amp;0Fh)&gt;9  or (AF)=1 then<br />  (AL) &lt;- (AL)+6<br />  (AH) &lt;- (AH)+1<br />  (AF) &lt;- 1<br />  (CF) &lt;- (AF)<br />  (AL) &lt;- (AL)&amp;0Fh<br /><br />When using AAA immediately after adding two numbers, this leaves in AL the (binary) value of the decimal units, and the CF indicates if there was a carry. Because the lower 4 bits of the ASCII decimal numbers are the same as the equivalent binary numbers, and only those 4 bits are taken into consideration by the AAA operation, the ASCII bytes can thus be added directly without converting first to binary. When needed, the result is converted back to the ASCII representation of decimal numbers by simply adding 48 (30h). (Note that AAA will always operate on the lower 4 bits of AL and the AF flag regardless of previous instructions.)<br /><br />Although AAA was intended to be used after adding two numbers, it can also be used after adding any two bytes. And, any number can be added to the result. This opens up a totally different application. This idea germinated while posting on another thread dealing with &quot;ASCII additions&quot;. For example:<br /><br />adding <strong>wars</strong> and <strong>+CIA</strong>, and adding 64 to the results, you get <strong>AHEAD</strong>,<br />adding <strong>film</strong> and <strong>stars</strong>, and adding 78 to the results, will get you to <strong>ROOST</strong>,<br />adding <strong>enough</strong> and <strong>punk\$</strong>, and adding 75 to the results, you obtain a <strong>QUORUM</strong>.<br /><br />Included in the attached .zip file is a short program for a small dialog box to enter two strings of up to 15 characters each. The two strings are added and the result displayed according to the specified number to be added (if one string is shorter than the other, it is front padded with spaces and redisplayed for alignment, spaces acting as zeros).<br /><br />The source code (MASM32) and the resource file are also included. A table of the ASCII representation of the keyboard characters (20h-7Eh) is also appended to the source code file.<br /><br />Enjoy. I decline any responsibility if you get hooked to find the best equation.:grin: <br /><br />Raymond<br /><br />N.B. The dialog box can also be used for simply adding two numbers; use 48 for adding to the results.</div>
    <div class="meta">Posted on 2003-05-02 15:59:05 by Raymond</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Window initialization - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8206" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8206">Window initialization</a></p>
   <div class="post" id="post-60011">
    <div class="subject"><a href="#post-60011">Window initialization</a></div>
    <div class="body">I need to add columns to my ListView when it is created. When I try to add them on WM_CREATE message they are not added. Is there any window message that is sent to it one time right after creation but before showing, so I can add some initialization on that message processing? I can add columns on the WM_SHOWWINDOW message, but I have to check wether this message is sent for the first time or not. So it would be great to have some init message without overheading code with checking the message count.</div>
    <div class="meta">Posted on 2002-09-29 15:02:43 by Vaxon</div>
   </div>
   <div class="post" id="post-60038">
    <div class="subject"><a href="#post-60038">Window initialization</a></div>
    <div class="body">Have you tried posting the LVM_INSERTCOLUMN message to the listview? And if you have, did you make sure that the index you specified was correct? And are you aware that the LVCOLUMN struct you pass with that message is IE version dependant? (although you shouldn't have any trouble with that if you demand IE 3.0+).</div>
    <div class="meta">Posted on 2002-09-29 21:25:25 by sluggy</div>
   </div>
   <div class="post" id="post-60061">
    <div class="subject"><a href="#post-60061">Window initialization</a></div>
    <div class="body">Thanls for you reply, Sluggy. Yes, I tried Posting the message and i tried sending it. The fact is everything works fine on WM_SOWWINDOW message and doesn't work on WM_CREATE. I think I can't add columns before CreateWindowEx returns.</div>
    <div class="meta">Posted on 2002-09-30 02:10:40 by Vaxon</div>
   </div>
   <div class="post" id="post-60068">
    <div class="subject"><a href="#post-60068">Window initialization</a></div>
    <div class="body">Well, it works on WM_CREATE now. It was my mistake. I superclassed listview and I had to call the standard (old) wndproc after my initialization when processing WM_CREATE message.</div>
    <div class="meta">Posted on 2002-09-30 03:20:31 by Vaxon</div>
   </div>
  </div>
 </body>
</html>
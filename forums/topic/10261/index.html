<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>&quot;pause&quot; instruction - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10261" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=10261">&quot;pause&quot; instruction</a></p>
   <div class="post" id="post-77010">
    <div class="subject"><a href="#post-77010">&quot;pause&quot; instruction</a></div>
    <div class="body">Hello, I have a few questions about the <strong>pause</strong> instruction, it tells the processor the following code is a spin loop for performance reasons (makes things faster), but what is a spin loop?Is it the same as a loop?<br /><br />Also, would the pause instruction be best used at the beginning of a &quot;spin&quot; loop or before a JMP to the spin loop?<br /><br />Thanks.</div>
    <div class="meta">Posted on 2003-01-18 08:46:17 by kairon</div>
   </div>
   <div class="post" id="post-77024">
    <div class="subject"><a href="#post-77024">&quot;pause&quot; instruction</a></div>
    <div class="body">The pause instruction ?</div>
    <div class="meta">Posted on 2003-01-18 10:37:42 by Axial</div>
   </div>
   <div class="post" id="post-77025">
    <div class="subject"><a href="#post-77025">&quot;pause&quot; instruction</a></div>
    <div class="body">B.206 PAUSE: Spin Loop Hint<br /><br />PAUSE                         ; F3 90           <br /><br />PAUSE provides a hint to the processor that the following code is a spin loop. This improves processor performance by bypassing possible memory order violations. On older processors, this instruction operates as a NOP. <br /><br />Taken from <a target="_blank" href="http://alien.dowling.edu/~rohit/nasmdocb.html#section-B.206">http://alien.dowling.edu/~rohit/nasmdocb.html#section-B.206</a> and works in FASM as well.</div>
    <div class="meta">Posted on 2003-01-18 10:40:03 by kairon</div>
   </div>
   <div class="post" id="post-77030">
    <div class="subject"><a href="#post-77030">&quot;pause&quot; instruction</a></div>
    <div class="body">hm, &quot;spin loop&quot;. if you're doing normal win32 coding and don't have specific reasons, Sleep()ing is probably the smartest thing to do. Dunno about the instruction though. &quot;the following code&quot;. First guess would be putting it as the first instruction in the loop.</div>
    <div class="meta">Posted on 2003-01-18 11:02:01 by f0dder</div>
   </div>
   <div class="post" id="post-77041">
    <div class="subject"><a href="#post-77041">&quot;pause&quot; instruction</a></div>
    <div class="body">Ok, I found some good documentation on this from Intel, seems to go well with Hyper-Threading, for anyone who's interested on what it said, here:<br /><br />Use the PAUSE Instruction to Optimize Code<br /> <br />Intel recommends that software writers always use the PAUSE instruction in spin-wait loops. <br /><br />Starting with the Intel? Pentium? 4 processor, this recommendation was made for the benefit of power savings. Executing a PAUSE in a spin-wait loop forces the spin-wait to finish one iteration of the loop before starting the next iteration. Halting the spin-wait loop reduces consumption of non-productive resources - and thus power. <br /><br />With a Hyper-Threading Technology processor, using the PAUSE instruction optimizes processing of two threads. Pausing the spin-wait loop frees more resources for the other processor, allowing faster completion of its thread. <br /><br /><a target="_blank" href="http://cedar.intel.com/media/training/hyper_threading_intro/tutorial/index.htm">http://cedar.intel.com/media/training/hyper_threading_intro/tutorial/index.htm</a><br /><br />Thanks :alright:</div>
    <div class="meta">Posted on 2003-01-18 12:26:09 by kairon</div>
   </div>
   <div class="post" id="post-77067">
    <div class="subject"><a href="#post-77067">&quot;pause&quot; instruction</a></div>
    <div class="body">&quot;Tuning Suggestion 1.<br />Rarely, a performance problem may be noted due to executing data on a<br />code page as instructions.<br />The only condition where this is very likely to happen is following an<br />indirect branch that is not resident in the trace cache. Only if a performance problem is clearly<br />due to this problem, try moving the data elsewhere, or inserting an illegal opcode or a <strong>pause</strong><br />instruction immediately following the indirect branch. The latter two alternatives may degrade<br />performance in some circumstances.&quot;<br />from  Intel Pentium 4 and Intel Xeon? Processor Optimization - Reference Manual<br /><br />Regards,<br />Lingo</div>
    <div class="meta">Posted on 2003-01-18 16:29:20 by lingo12</div>
   </div>
   <div class="post" id="post-77071">
    <div class="subject"><a href="#post-77071">&quot;pause&quot; instruction</a></div>
    <div class="body">This, of course, is entirely different from Hiroshimator's PAWS instruction.</div>
    <div class="meta">Posted on 2003-01-18 17:07:50 by iblis</div>
   </div>
   <div class="post" id="post-77405">
    <div class="subject"><a href="#post-77405">&quot;pause&quot; instruction</a></div>
    <div class="body">Other names for spin-wait loop:<br /><br />Spin lock<br />Busy wait<br />Wait loop</div>
    <div class="meta">Posted on 2003-01-20 15:55:09 by tenkey</div>
   </div>
   <div class="post" id="post-77406">
    <div class="subject"><a href="#post-77406">&quot;pause&quot; instruction</a></div>
    <div class="body">polled waiting. ick ;)</div>
    <div class="meta">Posted on 2003-01-20 15:55:48 by f0dder</div>
   </div>
  </div>
 </body>
</html>
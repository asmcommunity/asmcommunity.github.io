<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Concerning understanding DX - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9995" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=9995">Concerning understanding DX</a></p>
   <div class="post" id="post-74677">
    <div class="subject"><a href="#post-74677">Concerning understanding DX</a></div>
    <div class="body">Hi !<br />I've just begun learning directX, and I have a few questions :)<br />Some 6-7 years ago (before directx) I made a 3d-engine in asm+BPascal,  for DOS.<br />It supported triangles, gouradshading, and textures. Now I haven't programmed almost anything since then,<br />but wanna to learn.<br /><br />Now, after reading some tutorials on directX, I can't really make out what parts does directX handle, and what do you have to program by yourself ? Also what is supported by hardware ? And are there directX-routines that are slow, and should be avoided ?<br /><br />I mean:<br />Im currently playing around with dx7, and there are blitfunctions, to blitt sprites from system memory to the primary surface.  Like blt and bltfast, are those the best ones to use ? <br />When working with offscreen surfaces, should I place them in the video-memory or as system memory?<br /><br />In 3d:<br />Is there some kind of hardware support for the matrix-calculations ? x,y,z- rotation ? If not, are the directX HEL versions good, or are they slow ?<br />Z-buffer,  (i used to dream about those before ;) Is there any drawback useing Z-buffer to just using plain &quot;depthsort + painters-algo&quot;, I mean, will graphicsdrawing  become slower ?<br /><br />Is it worth learning how to use mmx, 3dnow, SSE ?<br /><br />Please tell me what i've missed !<br /><br />Thanks!<br />//TechnoCore</div>
    <div class="meta">Posted on 2003-01-06 15:57:36 by TechnoCore</div>
   </div>
   <div class="post" id="post-74706">
    <div class="subject"><a href="#post-74706">Concerning understanding DX</a></div>
    <div class="body">A quick answer as I head out the door.  DX will handle anything youu need to draw to the screen and there is a way to create your own buffer to draw directly.  Not all functions are supported by the hardware but dx will handle most of the unsupported ones in software.  You can query the hardware to find what's available.  You can place objects in system or graphics memory but there are recommendations as to which to use when.  MSDN has an article about that.  <br /><br />dx will handle vertices as rotated or unrotated and will rotate them for you if you wish.</div>
    <div class="meta">Posted on 2003-01-06 17:52:01 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-74715">
    <div class="subject"><a href="#post-74715">Concerning understanding DX</a></div>
    <div class="body">Hi<br /><br />DirectX handles video board initializations (mode setting,linear framebuffer,double or N buffering) acces to 2D surfaces and blit primitives (well up to DX7) and acces to 3D rendering pipeline T&amp;L and pisel shaders (starting from DX8 Direct3D)<br /><br />-You should avoid reading from video memory at all cost!<br />-Also keep video memory located surfaces Locked() as little as possible in 2D. <br />-Mixing 2D operations with 3D should also be avoided when possible or is almost imposible (without converting to simple mapped triangles/quads on DX&gt;= 8) .<br /><br />Take care at Pitch when working with surfaces! Surface Width &lt;&gt; Pitch Esp. for surfaces located into video memory. You can also loose and have to restore surfaces on Alt+Tab.<br /><br />Place Primary and it's backbuffer(s) in video memory.<br /><br />Any sprites that have space and that do not need complex operations (like read and/or alpha blending) just for simple blits...could also be placed in video memory.<br /><br />NOTE! YOU CAN NOT do alpha blending (transparency not color key) with DirectDraw... you have to write your own optimized software routines . Check the board for some very good examples from Bitrake or Bazik if i recall ok<br /><br />3D<br />---------<br />Some T&amp;L boards will assist you on matrix and light calculations but basically you have to do your own matrix multiplications for most of the scenes.<br /><br />Z-buffer is fast and well impllemented in DirectX/hardware ... works ok for small scenes... but you still need  some form of space partitioning scheme for large scenes to avoid drawing and or sending vertices that will not be drawn to the board.<br /><br />Knowledge is power ... if you plan using 3dNow and SSE they are good for 3d ...<br />MMX is supposed to be good for 2D but can not say that it helped us very much until now ...<br /><br />You have missed: clippers/clipping, vertex and pixel shaders, BSP , texture mapping,  physics :)</div>
    <div class="meta">Posted on 2003-01-06 18:42:25 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-74775">
    <div class="subject"><a href="#post-74775">Concerning understanding DX</a></div>
    <div class="body">Hey thanks a lot BogdanOntanu !<br /><br />Just what I needed...!<br /><br />I have made a tile-based game-engine for starters. For now it's just plain dx7 2d, but im gonna make it into<br />dx3d soon... not that much will differ i guess, since i want an almost topdown view of the map.<br /><br /><br />&gt;Knowledge is power ... if you plan using 3dNow and SSE they are good for 3d ...<br />&gt;MMX is supposed to be good for 2D but can not say that it helped us very much until now ...<br /><br />ok... guess ill get back to you when im gonna start optimizing ;)<br /><br /><br />&gt;You have missed: clippers/clipping, vertex and pixel shaders, BSP , texture mapping,  physics :)<br /><br />When using clipping in 2d: right now im just doing the clipping myself, from the source-sprite to the screen, using bitbltfast. (Guess im gonna be better off using bitblt since it seems to be using the hardware). I've seen that it is possible to add a clipper to the primary surface maybe... is this good to use ? Is it optimized ?<br /><br />What exactly is vertex shaders ? is that gourad ?<br />And pixel-shaders ? Is that phong-shading ?<br />I guess BSP is not really needed for a topdown gameview, right ? ;)<br /><br /><br />thank you, drhowarddrfinedrhoward for your quick reply also !<br /><br />//TechnoCore !!</div>
    <div class="meta">Posted on 2003-01-07 03:05:21 by TechnoCore</div>
   </div>
   <div class="post" id="post-76399">
    <div class="subject"><a href="#post-76399">Concerning understanding DX</a></div>
    <div class="body"><div class="quote"><br /><br />What exactly is vertex shaders ? is that gourad ?<br />And pixel-shaders ? Is that phong-shading ?<br />I guess BSP is not really needed for a topdown gameview, right ? ;)<br /></div><br /><br />(Psst, you other guys &lt;Scronty, Bogdan, EvilHomer et al.&gt; might want to correct me if I'm wrong...) In DX8 at least, vertex shaders do transformations from 3-d object projection through world, view, projection etc. transforms until it reaches the screen, and can also give a per-vertex manipulation of various sorts (e.g. different colors per vertex, different vertex tweens, geometry blending, etc.).  Pixel shaders are the rendering shaders.  For instance, by default DX8 uses a linear color interpolation from vertex to vertex, you might want to use a non-linear color interpolation so you create a programmed pixel shader.  You might want to mix textures in different ways to create special effects, etc. using Programmed Pixel Shaders.<br /><br /><br />Anyway, as Bogdan mentioned, a very nasty thing about using a FULL-SCREEN mode (called EXCLUSIVE MODE in DX7 I think) is that if the user does Alt+Tab, you lose all resources that are in video memory (surfaces, textures, vertex buffers).  So in general, after detecting a 'LOST DEVICE' condition (which is any condition that would cause you to lose FULL-SCREEN), you must continually wait until the device is restorable, then recreate all resources you need when you can restore (RESET) the device.<br /><br />What I did was, since I have different screens in my program (and hence several different Render procedures) instead of a Call RenderRoutine, I have a Call DWORD PTR .  Every time I need to change screens, I just change the  to the proper render procedure.  Then I have a macro (DetectLostDevice) which detects the lost device, place the macro in each render routine, and replaces the  with a special render procedure.  This special render waits for a restoration condition, then resets the device and restores any invalidated resources.</div>
    <div class="meta">Posted on 2003-01-15 02:21:12 by AmkG</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>RadAsm and TASM with big projects - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17330" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=42">RadASM</a> &raquo; <a href="../?id=17330">RadAsm and TASM with big projects</a></p>
   <div class="post" id="post-134260">
    <div class="subject"><a href="#post-134260">RadAsm and TASM with big projects</a></div>
    <div class="body">Great Work Ketilo.<br /><br />However,<br /><br />I am still unable to use RAdASm with TASM on full throttle because:<br /><br />My Procedures are written like this (this is the TASM style)<br /><pre><code><br />Create_Label PROC<br />	USES	ecx,ebx,esi,edi<br />	ARG 	@@token_start,@@token_size&#58;dword<br />	ARG		@@symbol_type,@@symbol_value&#58;dword<br />	LOCAL	@@tmp_id&#58;dword<br /><br />&#91;...some code here&#93;<br /><br />ENDP<br /><br /></code></pre><br /><br />Unfortunately i still can NOT see the parameters of my procedures in the Properties Window ... :( <br />Am i doing something wrong in setup/project ini ?<br /><br />Also there is no setup for an TASm Win32Console application? (ie like my assembler)<br /><br />Also some options in project command line are just wrong: like /mx ....only global symbols are case sensitive...why? /kh# option is critical for large projects (#=16384 ..65536 etc)<br /><br />Tlink32 options should use &quot;-&quot; and not &quot;/&quot; for command line switches, some other minor switches are kind of inappropiate but nothing criticall<br /><br />Also importing huge existing projects into RadAsm (in my case) is pretty hard to do. And i need to do this as i hesitate to move all my work under Radasm because of those issues. <br /><br />I also like to keep projects in my own folders structure but RadASM insists on starting to brows from its own paths.  So i try to move them under Radasm control for testing but this is pretty hard.<br /><br />If i create an empty project in an attemp to copy and paste my own .ASM files and then add them one by one into project... they all end up under &quot;Added Files&quot; ? and NOT ASM files?<br /><br />Beeing able to have the same file opened in at least 2 windows in the same time (but most likely in 3 windows) while making edits in all 3 windows at different locations is also critical for my huge projects. <br /><br />Saving and syncronization between those 3 MDI windows is also critical ;)<br /><br />Just a few things i have noticed while testing. As i notice more issues regarding TASM i will post them here.<br /><br />Please note that my own assembler is going to use TASM styles...<br /><br />Best regards<br />Bogdan Ontanu</div>
    <div class="meta">Posted on 2004-02-20 00:51:37 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134262">
    <div class="subject"><a href="#post-134262">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Bogdan,<br /><br />For the command line options you can change the defaults in TASM.INI to have them set to whatever you like. For a one shot deal you can change them in Project Properties.<br /><br />If you create your sub folders when you add a new file you can select that subfolder to create it in. I set up the browse paths to my subfolders (File Browser in the Option menu) it lets me click through a list of folders and view the files in them by pressing the File Browser button on the Project window toolbar. Use the arrow buttons to move between folders. You can also browse normally with the File Browser enabled but you cannot browse above the root folder you specify. I generally put the main folder for each of my projects in the list then I can move around in each as I please.<br /><br />I would very much like to have parameters on separate lines as well, also when using invoke it would be nice if it could recognize the continuation character (\)<br /><br />For templates, I create my own. I generally don't install the ones that come with RadASM as I find mine match my coding much better. Just create a skeleton and save it as a template from the project menu. It will save any command lines that you specify with the template as well.</div>
    <div class="meta">Posted on 2004-02-20 01:10:52 by donkey</div>
   </div>
   <div class="post" id="post-134267">
    <div class="subject"><a href="#post-134267">RadAsm and TASM with big projects</a></div>
    <div class="body">Thanks Donkey<br /><br />I will do so...<br /><br />On the very bright side i have noticed big (for me) improvements on the properties Window (like find and stuff)<br />This helps me a lot on seraching Procedures and data structures in huge projects ... <br /><br />And curently i think i can live with it not showing the right parameters for TASM style notation since a double click will locate meat the procedure anyway and i can inspect parameters on site ;)<br /><br /><strong>So once again i am moving all my projects to RadAsm :alright: </strong><br /><br />I was also wondering how can i will do with my SolOS that is made of 3 modules (boot, system16, and system32)<br />and has very special build options, i will try to change the TASM.ini for this and see what happens ;)<br /><br />Do we have custom after build commands?, like i used to copy files arround to release folders with xcopy<br /><br />Once again:<br />Thank you for the great work Ketilo  :)</div>
    <div class="meta">Posted on 2004-02-20 02:27:33 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134288">
    <div class="subject"><a href="#post-134288">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Bogdan<br /><br /><pre><code><br />Create_Label PROC<br />	ARG 	@@token_start,@@token_size&#58;dword<br />	;This is a comment<br />	LOCAL	@@tmp_id&#58;dword<br />	USES	ecx,ebx,esi,edi<br />	ARG	@@symbol_type,@@symbol_value&#58;dword<br /><br />&#91;...some code here&#93;<br /><br />ENDP<br /></code></pre> <br /><br />What more than the above example can be put in between the ARG's<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-02-20 08:21:53 by KetilO</div>
   </div>
   <div class="post" id="post-134306">
    <div class="subject"><a href="#post-134306">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Ketilo,<br /><br />In TASM style (and upcoming SOL_ASM that is):<br /><br />1)<strong>USES has to be the first </strong> statement after the PROC name definition<br />2)Multiple <strong>ARG</strong> lines can folow stating the procedure's arguments as required<br />3)Multiple <strong>LOCAL</strong> lines can folow but only <strong>after</strong>the  &quot;ARG&quot; ones stateing as many local variables and types as required<br /><br />4) the procedure body (and internally the PROLOGUE) will start at the first code producing instruction.<br /><br />That means that further ARG/LOCAL/USES are ilegal and/or errors after that...<br /><br />So order is: 1)USES 2)ARG 3)LOCAL while theoretically USES are a single line statement but ARG/LOCAl can be on multiple lines. Of course any of those can be just missing and comments are alowed at the end of line at least.<br /><br />Also parameters are separated by <strong>comma</strong> not spaces<br /><br />One extra thing is that the procedure name &quot;may&quot; OR &quot;may not&quot; be placed in front of the ENDP statement.<br />Both versions beeing acceptable in TASM. <br /><br />Myself i just ommit this and got by in RADASM by cutting the $ in front of ENDP in TASM.ini</div>
    <div class="meta">Posted on 2004-02-20 14:34:45 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134311">
    <div class="subject"><a href="#post-134311">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Bogdan<br /><br /><pre><code><br />TestProc1 proc<br />	USES	ecx,ebx,esi,edi<br />	ARG	@@token_start,@@token_size&#58;dword<br />	ARG	@@symbol_type,@@symbol_value&#58;dword<br />	LOCAL	@@tmp_id&#58;dword<br /><br />	mov	eax,@@token_start<br />	ret<br /><br />endp<br /><br />TestProc2 proc<br />	LOCAL	@@tmp_id&#58;dword<br />	ARG	@@token_start,@@token_size&#58;dword<br />	;This is a comment<br />	USES	ecx,ebx,esi,edi<br />	ARG	@@symbol_type,@@symbol_value&#58;dword<br /><br />	mov	eax,@@token_start<br />	ret<br /><br />endp<br /><br />TestProc3 proc<br />	ARG	@@token_start,@@token_size&#58;dword<br />	;This is a comment<br />	LOCAL	@@tmp_id&#58;dword<br />	USES	ecx,ebx,esi,edi<br />	ARG	@@symbol_type,@@symbol_value&#58;dword<br /><br />	mov	eax,@@token_start<br />	ret<br /><br />endp<br /></code></pre> <br /><br />The above example assemble without errors and looking at the code in OllyDbg everything seem ok to me.<br />Are you shure you are correct?<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-02-20 15:09:51 by KetilO</div>
   </div>
   <div class="post" id="post-134321">
    <div class="subject"><a href="#post-134321">RadAsm and TASM with big projects</a></div>
    <div class="body">I am somehow sure,<br /><br />Yes unfortunately TASM is NOT reporting a lot of errors, esp when in MASM &quot;non-IDEAL&quot; mode<br /><br />But i recall i once had missplaced an USE after some ARG and some registers have <strong>not</strong> been saved corectly, ... but it could depend on pass numbers. I recall a few instances in SolOS and HE Game when this has stroke me down.<br /><br />Well i have not checked it lately as i have learned THAT lesson and started to behave my PROCs in the way i have described in above messages. I might be wrong though...<br /><br />However this issue is relevant for the compiler and/or the well function of the executable.<br />When i will find the time i will research  this matter a little more deeper with multiple tests on executables...so i can be sure is like i say.<br /><br />For RAdASM my problem is that USES, ARG and LOCAL do not get promoted to the Properties window</div>
    <div class="meta">Posted on 2004-02-20 17:41:14 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134322">
    <div class="subject"><a href="#post-134322">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Ketil,<br /><br />While you are working on that :) Is there a possibility to have this:<br /><br /><pre><code>Label&#58;<br />USEDATA DlgProc ; use the parameters from the DlgProc stack frame<br />LOCAL Hello &#58;D ; local to this USEDATA block only<br />.<br />.<br />.<br />ENDU</code></pre><br /><br />Currently I have USEDATA in the macro slot for GoAsm (there is no way RadASM can distinguish a macro from a constant and it's not important). So the USEDATA/ENDU collapse but they do not appear in the maco list because RadASM cannot see their label. The locals are insignificant but it would be nice to have the labels enumerated.<br /><br />Ofcourse GoAsm has much more powerful LOCAL data handling than other assemblers such as the ability to have multiple LOCAL blocks within a procedure or to free the locals and define new ones with LOCALFREE but for the most part they are not needed. It would be nice to have the label for USEDATA though...</div>
    <div class="meta">Posted on 2004-02-20 17:53:43 by donkey</div>
   </div>
   <div class="post" id="post-134352">
    <div class="subject"><a href="#post-134352">RadAsm and TASM with big projects</a></div>
    <div class="body">One more extra thing:<br /><br />With TASM structures<br /><br /><pre><code><br />LABEL_STRU STRUC<br />	label_name		db	128 dup&#40;?&#41;<br />	label_name_len	dd	?<br />	label_next		dd	?<br /><br />	label_type		dd	?<br />	label_size		dd	?<br /><br />	label_segment	dd	?<br />	label_offset	dd	?<br /><br />ENDS<br /></code></pre><br /><br />because TASM does NOT allow 2 structure members to have the same name (ouch)<br />I CAN write:<br /><pre><code><br />mov eax,&#91;esi.label_next&#93;<br /></code></pre><br />without actually having to use the structure name:<br /><pre><code><br />mov eax,&#91;esi.LABEL_STRU.label_next&#93;<br /></code></pre><br />So ultimately, the disadvantage of forcing distinct structure members names helps a lot in writting expressions..<br /><br />However in RAdASm i must use the structure name pre-qualifying IF i want to have a list of members names opened on shift+space... <br /><br />Clearely i need an option somewhere...</div>
    <div class="meta">Posted on 2004-02-21 01:22:11 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134446">
    <div class="subject"><a href="#post-134446">RadAsm and TASM with big projects</a></div>
    <div class="body">Also another small bug i think:<br /><strong>part_table</strong> and other  variables defined in code below<br /><strong> do not appear in .data list in properties window <strong> <br />Why? <br /><br />I am programming for my OS here and i do not have distinct .data .code sections but IMHO<br />below code defines part_table as a data variable<br /><br /><pre><code><br />PART_STRU STRUC<br />	boot			db	?<br />	beg_head		db	?<br />	beg_cylsect		dw	?<br />	par_type		db	?<br />	end_head		db	?<br />	end_cylsect		dw	?<br />	lba_addr		dd	?<br />	lba_size		dd	?<br />ENDS<br /><br />fat32bs0	FAT_BOOT_SECTOR		&lt;?&gt;<br />ide_id0		ide_ident_struct	&lt;?&gt;<br /><br />part_table	PART_STRU	16 dup&#40;&lt;?&gt;&#41;<br /><br /></code></pre><br /><br />However the Structures themselfes do appear corectly in the .struct section of properties</div>
    <div class="meta">Posted on 2004-02-22 07:15:43 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-134456">
    <div class="subject"><a href="#post-134456">RadAsm and TASM with big projects</a></div>
    <div class="body">Hi Bogdan<br /><br />Make shure that section Code in tasm.ini:<br /><br />Data={C},$ db,$ dw,$ dd,$ dq,$ df,$ dt,$ byte,$ word,$ dword,$ qword,$ &lt;?&gt;,$ {?},$ &lt;&gt;<br /><br />KetilO</div>
    <div class="meta">Posted on 2004-02-22 09:33:34 by KetilO</div>
   </div>
   <div class="post" id="post-134466">
    <div class="subject"><a href="#post-134466">RadAsm and TASM with big projects</a></div>
    <div class="body">Thank you,<br /><br />that did it for 2 structures but not for this one:<br /><pre><code><br />part_table	PART_STRU	16 dup&#40;&lt;?&gt;&#41;<br /></code></pre><br /><br />I suspect it is something related to the <strong>dup(...)</strong> stuff<br /><br />TASM cries that it needs left ( and right ) after dup  so i can not use {} instead<br /><br />Finally:<br /><br />$ dup(&lt;?&gt;) did fixed it <br /><br />:alright:</div>
    <div class="meta">Posted on 2004-02-22 10:50:06 by BogdanOntanu</div>
   </div>
  </div>
 </body>
</html>
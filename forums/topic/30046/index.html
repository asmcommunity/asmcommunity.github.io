<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>boot loader to load BIOS code!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30046" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=30046">boot loader to load BIOS code!!</a></p>
   <div class="post" id="post-212118">
    <div class="subject"><a href="#post-212118">boot loader to load BIOS code!!</a></div>
    <div class="body">Is there any open source boot loader to load a binary raw image(free format) into memory? I want boot loader passes control to BIOS code!&nbsp;  </div>
    <div class="meta">Posted on 2010-06-21 02:04:38 by logicman112</div>
   </div>
   <div class="post" id="post-212119">
    <div class="subject"><a href="#post-212119">Re: boot loader to load BIOS code!!</a></div>
    <div class="body"><a target="_blank" href="http://www.gnu.org/software/grub/">GRUB</a>.</div>
    <div class="meta">Posted on 2010-06-21 03:27:16 by baldr</div>
   </div>
   <div class="post" id="post-212121">
    <div class="subject"><a href="#post-212121">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">As far as I know GRUB understands ELF and COFF formats, these file formats have special headers and the code is relocatable. I just want GRUB to load an executable binary absolute file into memory.&nbsp; </div>
    <div class="meta">Posted on 2010-06-21 04:41:05 by logicman112</div>
   </div>
   <div class="post" id="post-212122">
    <div class="subject"><a href="#post-212122">Re: boot loader to load BIOS code!!</a></div>
    <div class="body"><strong>logicman112</strong>,<br /><br />Why do you guess when the manual is available? <a target="_blank" href="http://www.gnu.org/software/grub/manual/html_node/Chain_002dloading.html">4.1.2 Load another boot loader to boot unsupported operating systems</a> gives hint on how to load arbitrary sectors in memory and pass control there.<br /><br />Alexei A. Frounze wrote simple Bin/Com/Exe bootloader for FAT12/FAT16, available <a target="_blank" href="http://alexfru.chat.ru/epm.html#bootprog">here</a>.</div>
    <div class="meta">Posted on 2010-06-21 05:31:01 by baldr</div>
   </div>
   <div class="post" id="post-212132">
    <div class="subject"><a href="#post-212132">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">Thank you.<br /> <br />Is vmlinuz (in Linux kernel) an ELF executable? Can i make a raw executable image from vmlinuz(without ELF headers and other meta data)? </div>
    <div class="meta">Posted on 2010-06-22 01:16:22 by logicman112</div>
   </div>
   <div class="post" id="post-212136">
    <div class="subject"><a href="#post-212136">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">GRUB also understands the <a target="_blank" href="http://www.gnu.org/software/grub/manual/multiboot/multiboot.html">multiboot specification</a>, which will assist you in supporting any kind of image/object format.<br /><br />You place a (valid) multiboot header <a target="_blank" href="http://www.gnu.org/software/grub/manual/multiboot/multiboot.html#OS-image-format">within the first 8KB</a> of the binary image, dword-aligned, and ensure the entry-point is coded for 32-bit Protected Mode.</div>
    <div class="meta">Posted on 2010-06-22 11:41:48 by SpooK</div>
   </div>
   <div class="post" id="post-212237">
    <div class="subject"><a href="#post-212237">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">It seems Grub understands some specific file formats ONLY, I tested this with a BIOS image. &nbsp;Grub complains the file format is unsupported.&nbsp; </div>
    <div class="meta">Posted on 2010-07-06 22:33:32 by logicman112</div>
   </div>
   <div class="post" id="post-212241">
    <div class="subject"><a href="#post-212241">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">Yes GRUB has specific object/binary support. For unsupported types, e.g. flat/binary file, read the contents of the <strong><em>multiboot specification</em></strong> link above.</div>
    <div class="meta">Posted on 2010-07-07 02:08:06 by SpooK</div>
   </div>
   <div class="post" id="post-212242">
    <div class="subject"><a href="#post-212242">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">thank you.<br /><br />Is there any Linux tool to add multi-boot spec header to a binary file?&nbsp; </div>
    <div class="meta">Posted on 2010-07-07 02:46:42 by logicman112</div>
   </div>
   <div class="post" id="post-212244">
    <div class="subject"><a href="#post-212244">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">Loading a BIOS image with GRUB sounds like wasted effort to me, as the system BIOS would already have initialized the system... and it probably wouldn&#039;t even work, since stuff like SMM would have been setup and locked.</div>
    <div class="meta">Posted on 2010-07-07 06:01:08 by f0dder</div>
   </div>
   <div class="post" id="post-212247">
    <div class="subject"><a href="#post-212247">Re: boot loader to load BIOS code!!</a></div>
    <div class="body">In one instance, it sounds like he is talking about loading a 16-bit Real Mode flat binary that is making calls to the BIOS.<br /><br />In the other instance, it sounds like he is trying to load a BIOS image (from somewhere?) and pass control to it.<br /><br />Which one is it, <strong>logicman112</strong>?</div>
    <div class="meta">Posted on 2010-07-07 11:57:46 by SpooK</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>involuntary operating system alterations - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3819" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3819">involuntary operating system alterations</a></p>
   <div class="post" id="post-25801">
    <div class="subject"><a href="#post-25801">involuntary operating system alterations</a></div>
    <div class="body">It seems to me that there is more risk to your operating system from out-of-control, demented assembly language instructions, that your cpu has latched onto, than from instructions handed to it by a higher level language. Just the other day, with DOS debug, I accidently hit &quot;T&quot;, when the instruction ready to roll was just random garbage, to me, but it meant something to the cpu, which apparently wrote over the names of the files that some of my windows shortcuts (lnk files) were using to decide which icons to display for a number of shortcuts. I discoverd that several of my DOS program shortcuts (and console screens) had new icons, and that the &quot;change icon&quot; dialog, for each shortcut, under the properties dialog, was reporting &quot;can't find the file named .&quot;<br /><br />After reboot of my computer -- the erroneous shortcut icons were still there. I simply made new shortcuts for these programs -- but who knows what else I wrote over on my hard drive, when I accidently pressed that &quot;T&quot; one time too many -- that I might find out about, unhappily, some time in the future.  Fortunately, I pressed &quot;T&quot; accidently, and not &quot;G&quot; -- which could have set a whole chain of unwanted instructions to my cpu, to do who knows what to my operating system.<br /><br />I am worrying about what I would do, short of re-formatting my fixed disk and reloading my whole windows operating system, and all my programs and data, should I make a mistake that wreaks more havoc. <br /><br />By the way, I don't keep the complete backup of my fixed disk in the form of a complete duplicate-disk. I just don't have the room to do this, nor do I have a read-write cd drive. What I do is, of course, I keep the cd's from any operating systems and programs that I use (most of the bytes); and, on a second, smaller, fixed disk, I keep, zipped up, installation files for any  programs I use that I don't have cd's for (generally downloaded programs); I keep a backup of all my data files in a zip file;  and I also back up any configuration files that i need for the programs that I use (which, to make it easier to back them up, I try to remember to keep in folders under my main &quot;data&quot; folder, rather than in their program folders, under my main &quot;programs&quot; folder), in a zip file.<br /><br />Anyway, do you guys and gals worry about accidently setting a program into operation, that wreaks havoc on your operating system? It is so <strong>easy</strong> to do this accidentally when assembling with DOS debug. Scary.</div>
    <div class="meta">Posted on 2002-02-25 11:05:18 by verb</div>
   </div>
   <div class="post" id="post-25848">
    <div class="subject"><a href="#post-25848">involuntary operating system alterations</a></div>
    <div class="body"><pre><code>.if zip drive == cdr drive&#40;in the first place&#41;<br />   invoke NoWorries<br />.else<br />   invoke Worry<br />   invoke TimeToInvest<br />.endif</code></pre></div>
    <div class="meta">Posted on 2002-02-25 16:57:55 by smurf</div>
   </div>
   <div class="post" id="post-25857">
    <div class="subject"><a href="#post-25857">involuntary operating system alterations</a></div>
    <div class="body"><div class="quote"><br />Anyway, do you guys and gals worry about accidently setting a program into operation, that wreaks havoc on your operating system? It is so easy to do this accidentally when assembling with DOS debug. Scary.<br /></div><br />I'm not scared, I run win2k ;). The only thing I have seen crash<br />(my) win2k box has been unstable ring0 code... which I got rid of<br />when I ditched my sblive and got a terratec (creative aren't too<br />good at writing device drivers it seems).<br /><br />As for your icon problems, it might have been the icon cache that<br />has become corrupted, that happens every now and then on 9x.<br />Tweak UI can rebuild the icon cache. You might want to run a<br />scandisk first if you've had a crash, though.</div>
    <div class="meta">Posted on 2002-02-25 18:01:01 by f0dder</div>
   </div>
   <div class="post" id="post-25891">
    <div class="subject"><a href="#post-25891">involuntary operating system alterations</a></div>
    <div class="body">Thanks smurf, and f0dder.<br /><br />Unfortunately I don't think I can put a cd r/w, an upgrade to Window 2000, or a broadband connection, in my budget yet.<br /><br />Even tho my DOS debug mistake didn't crash my computer, I thought it would be a good idea to run Norton Disk Doctor on my fixed disk. Thanks for that advice, f0dder.<br /><br />My icons look ok now. <br /><br />I seem to remember it may have been a LODSB instruction that i accidently executed, but I could be wrong, and I don't know what operands were involved; and my assembly language vocabulary at this point is pretty much limited to mov, inc, and dec, anyway. Tho I haven't yet assimilated what lodsb means, I'll might get around to it some time in the future. Meanwhile my computer seems to be working ok -- so far. Thanks again.</div>
    <div class="meta">Posted on 2002-02-25 20:11:55 by verb</div>
   </div>
   <div class="post" id="post-25892">
    <div class="subject"><a href="#post-25892">involuntary operating system alterations</a></div>
    <div class="body">hm, lodsb from a dos VM shouldn't have much effect. The icon<br />b0rking might just have been a coincidence :). While there were<br />some things (that I can't remember) that would consistantly fubar<br />my icons on 9x, it also happened sometimes at random... I think<br />especially when the icon cache got large it would do weird stuff.</div>
    <div class="meta">Posted on 2002-02-25 20:16:21 by f0dder</div>
   </div>
   <div class="post" id="post-25893">
    <div class="subject"><a href="#post-25893">involuntary operating system alterations</a></div>
    <div class="body">Thanks f0dder. I could be mistaken about the LODSUB though. I might have seen that some other time, waiting by the door; and maybe it was some other creature that darted out to take a romp about the neigborhood, the time that  I carelessly opened the door.</div>
    <div class="meta">Posted on 2002-02-25 20:22:46 by verb</div>
   </div>
   <div class="post" id="post-25900">
    <div class="subject"><a href="#post-25900">involuntary operating system alterations</a></div>
    <div class="body">You know, it may be harder to do this kind of stuff in a HLL, but not impossible. Today's compilers are pretty smart, doing things like bounds checking, but it's still possible to crap on yourself. A buffer overflow could clobber instructions with random data, then try to execute it. :)</div>
    <div class="meta">Posted on 2002-02-25 21:20:08 by S/390</div>
   </div>
   <div class="post" id="post-25901">
    <div class="subject"><a href="#post-25901">involuntary operating system alterations</a></div>
    <div class="body">Ah the ever insiduous segmentation fault:)<br />-&gt; What is more scary is the one that gets away!</div>
    <div class="meta">Posted on 2002-02-25 21:27:42 by -T-</div>
   </div>
   <div class="post" id="post-26072">
    <div class="subject"><a href="#post-26072">involuntary operating system alterations</a></div>
    <div class="body">Unless against the greatest of odds a highly improbable set of circumstances stacked up against you, I sincerely doubt that one single random CPU instruction caused that much damage, especially to information on disk.  System calls to file access routines require a fair ammount information set up before hand, and even bios disk routines need specific parameters passed to them.<br />       As for what may have happened if you'd pressed &quot;g&quot; while running debug, well chances are that within fifty harmless instruction, the processor would encounter an invavlid opcode.  If you were under dos at the time, then you computer would just hang, and if you were running Windows, then the system would catch the exception.  In either case, the most you'd have to do it reboot.<br />      My point, though, is that if your system experienced that much coruption, then a random CPU instruction is a poor explaination.  I would recommend that you analyze the task you were performing more thouroughly in order to make sure you don't make the same mistake in the future.<br />     Or.....you just had some really bad luck :)</div>
    <div class="meta">Posted on 2002-02-26 17:32:26 by Canite</div>
   </div>
   <div class="post" id="post-26074">
    <div class="subject"><a href="#post-26074">involuntary operating system alterations</a></div>
    <div class="body">I agree with Canite.  You would have to be Stephen Hawking to 'accidently' execute that many valid instructions and system calls in a dos vm to actually do any damage to a file.  There aren't enough interrupts that actually work in Win9x to even worry about.  Fodder is probably right about ShellIconcache being fragged.  As for the added safety of a HLL, I don't see anything different between:<br /><br /><pre><code><br />DeleteFile&#40;'c&#58;\windows\ShellIconCache'&#41;;<br /><br />and<br /><br />invoke    DeleteFile, ADDR szShellIconCache<br /></code></pre><br /><br />Actually I think a mis-typed line in a .bat file is probably more dangerous than masm.  del commands in a dos vm don't end up in the recycle bin.</div>
    <div class="meta">Posted on 2002-02-26 18:04:39 by rdaneel</div>
   </div>
   <div class="post" id="post-26094">
    <div class="subject"><a href="#post-26094">involuntary operating system alterations</a></div>
    <div class="body">Day of wayward instruction was around 2002feb20. Shelliconcache acc to directory and property sheet was last modified on 2002feb08. Hmm, it was created on 2002jan12. <br /><br />I don't know what shelliconcache if for, tho. Its name is suggestive, but combined with the dates, it doesn't make much evident to me, as I'm sure I changed some icons via both windows&gt; view&gt; options&gt; file types, and *.lnk file or *.pif file &quot;change icon&quot; buttons, within a day or 2 previous to today, 2002feb26 -- and any write to the file would change the &quot;modifed&quot; date, wouldn't it? So it wasn't written to recently even tho i changed icons recently. So its purpose is eluding me. I think this discussion is getting a bit over my head now, but thanks for pointing out the existence of shelliconcache.</div>
    <div class="meta">Posted on 2002-02-26 21:20:18 by verb</div>
   </div>
   <div class="post" id="post-26152">
    <div class="subject"><a href="#post-26152">involuntary operating system alterations</a></div>
    <div class="body">I've fixed up the icons on my windows 95 computer. And I have Tweak UI for it. But I just learned, when installing windows 98 se on my second computer, that 98 se doesn't come with tweak ui or power toys, and that Microsoft recommends not using the tweak ui that comes with windows 98 (first edition), with windows 98 se. Can I count on windows 98 se to be less likely to develop &quot;icon-incongruity&quot; ??</div>
    <div class="meta">Posted on 2002-02-27 08:30:30 by verb</div>
   </div>
   <div class="post" id="post-26169">
    <div class="subject"><a href="#post-26169">involuntary operating system alterations</a></div>
    <div class="body">One instruction *can* wreck a lot of havoc... &quot;rep stosd&quot; in a dos<br />app under 9x can take down the entire system if you're unlucky.<br />And &quot;out&quot; commands... mmmmh :).</div>
    <div class="meta">Posted on 2002-02-27 09:46:42 by f0dder</div>
   </div>
   <div class="post" id="post-26226">
    <div class="subject"><a href="#post-26226">involuntary operating system alterations</a></div>
    <div class="body">Now some more icons just got replaced by erroneous ones, for no reason that I know of. I just looked at windows explorer and either <strong>my computer</strong> or <strong>desktop,</strong> or both, i forget which, had a wrong icon. Odd. Tweak ui fixed the problem tho.</div>
    <div class="meta">Posted on 2002-02-27 14:05:20 by verb</div>
   </div>
   <div class="post" id="post-26240">
    <div class="subject"><a href="#post-26240">involuntary operating system alterations</a></div>
    <div class="body">For that matter c:\con\con from the run prompt can crash the whole system too on win9x.</div>
    <div class="meta">Posted on 2002-02-27 15:04:50 by rdaneel</div>
   </div>
   <div class="post" id="post-26243">
    <div class="subject"><a href="#post-26243">involuntary operating system alterations</a></div>
    <div class="body">rdaneel writes<br />------------------------<br />For that matter c:\con\con from the run prompt can crash the whole system too on win9x.<br />---------------------<br /><br />It can? I don't have a directory named con, with a file in it named con.* .. So I don't see how. Because of my skepticism, I'm tempted to learn the hard way.<br /><br />Also, the run prompt, when you call it up, doesn't usually turn out to have actual executable filenames placed in it at random (just on-purpose); the area of so-called free memory that would be next to execute when t or g is pressed, after debug is loaded without an argument, very well may.<br /><br />There will tend to either be something left over from the last time you used the run prompt, or there will be nothing there. Even if you should key in some random letters at the run prompt, they are unlikely to turn out to be the name of an executable program file. However any random sequence of 8 bits that happens to be in the first area of &quot;free&quot; memory space when you execute debug without an argument, has a larger chance of being an byte that the processor recognizes as a being a machine instruction, than whatever you have in the run prompt turns out to be an actual executable filename.</div>
    <div class="meta">Posted on 2002-02-27 15:39:46 by verb</div>
   </div>
   <div class="post" id="post-26249">
    <div class="subject"><a href="#post-26249">involuntary operating system alterations</a></div>
    <div class="body">Verb, The con\con bug is an old Win9x bug that involves accessing dos device names.  If you type in c:\con\con at the run prompt and hit ok, your computer will blue screen.  Give it a try.  It doesn't hurt anything if you save your work first.  Kind of like the CrashOnCtrlScroll thing in W2k.</div>
    <div class="meta">Posted on 2002-02-27 16:29:17 by rdaneel</div>
   </div>
   <div class="post" id="post-26299">
    <div class="subject"><a href="#post-26299">involuntary operating system alterations</a></div>
    <div class="body">Very amusing rdaneel.<br /><br />I remember now, from the olden days long ago when lots of people used DOS, that you aren't supposed to use <strong>con</strong> as a filename because you need it when you want to pipe something to the <strong>con</strong>sole or something. <br /><br />But I never knew that in windows 9x typing c:\con\con would crash the whole operating system. Windows 9<span style="font-size:18px><strong>X</strong></span> -- your terminology implies, I think, that the bug existed in windows 95a -- and that in windows 95b, windows 98, and windows 98se -- it didn't get fixed!?!? Oh well.</div>
    <div class="meta">Posted on 2002-02-27 19:08:47 by verb</div>
   </div>
   <div class="post" id="post-26300">
    <div class="subject"><a href="#post-26300">involuntary operating system alterations</a></div>
    <div class="body">It has been fixed with patches, winMe probably has the patch<br />applied by default.</div>
    <div class="meta">Posted on 2002-02-27 19:16:33 by f0dder</div>
   </div>
   <div class="post" id="post-26847">
    <div class="subject"><a href="#post-26847">involuntary operating system alterations</a></div>
    <div class="body">Verb,<br />     You're absolutely right that if you execute code in at a random address (that is, any address that hasn't been intentionally prepare) you will probably execute a good number of valid instructions, but chances are, they will be harmless and meaningless, though I will concede that it is conceivable to have residual code still resident, but again (and I'm sure this issue is growing stale) it's unlikely that file access would take place.<br />       Just for fun though, try generating a file of random bytes.  Disassemble it, and take a look at how many invalid opcode you get.  Keep in mind that DEBUG (if I recall) doesn't actually point out invalid opcodes.<br /><br />Fodder, <br />         I'd be the last to argue that it's difficult to hang a system.  I think we all find out how easy it is the first time we attempt to use pointers, but disk access by mistake...that's a different story.<br />Regardless, since I don't use my computer to monitor a nuclear reactor or naivgate an oil barge, I don't consider locking a processor to be such a terrible ordeal.  (Though the boot time of modern OS's is a bit more troublesome than yesteryear :) )</div>
    <div class="meta">Posted on 2002-03-02 22:23:17 by Canite</div>
   </div>
  </div>
 </body>
</html>
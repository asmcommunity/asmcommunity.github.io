<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>.386,.486,.586p - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=716" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=716">.386,.486,.586p</a></p>
   <div class="post" id="post-4287">
    <div class="subject"><a href="#post-4287">.386,.486,.586p</a></div>
    <div class="body">At the top of different assembly source I see one of these.<br />I just want to know what the different is in using one or the other, and/or their advantages?  Also, what's the &quot;p&quot; in .586p?</div>
    <div class="meta">Posted on 2001-08-21 05:21:37 by vcv</div>
   </div>
   <div class="post" id="post-4291">
    <div class="subject"><a href="#post-4291">.386,.486,.586p</a></div>
    <div class="body">the diffrence is that U inform your assembler which set of instructions u'll be using for example, pentium processor (.586) had some new instructions and some old that were optimezed by Intel and they take less tickcounts (they are litel bit faster) see Intel Hex Opcodes And Mnemonix help, U can download this from hutch's site <a target="_blank" href="http://www.hutch.ukshells.co.uk/download/opcodes2.zip">http://www.hutch.ukshells.co.uk/download/opcodes2.zip</a> <br /><br />As the &quot;p&quot; it means that the procesor is in protrcted mode.</div>
    <div class="meta">Posted on 2001-08-21 05:47:17 by NEMO</div>
   </div>
   <div class="post" id="post-4295">
    <div class="subject"><a href="#post-4295">.386,.486,.586p</a></div>
    <div class="body">You will normally write programs to operate within the 32-bit Windows protected mode with a &quot;flat&quot; memory model, whereby all code, data and stack is in a single 32-bit segment and where all addresses are 32-bit relocatable offsets (relative addresses) with a range of up to 4GB.  Addresses and pointers passed to system services are always 32-bit near addresses and pointers.  This means (thankfully) that you are not interested in the old DOS segment:offset, segments or interrupts anymore - instead, you let Windows manage all address fixups, loading and running your program, and you work through the API (Applications Programming Interface) rather than using interupts.<br /><br />To write a flat memory model program you include the assembler directive:<br /><br />.model flat, stdcall<br /><br />...at the start of your source file.  This is an assembler directive, not a processor instruction, meaning that it tells the assembler (ML.EXE) how to assemble your source file - what memory model to assemble for.  However, to use the flat memory model you must have at least a 80386 processor.  But since the default processor under ML.EXE is the old 8086, you first have to issue another assembler directive telling ML.EXE that you have at least an 80386.  This is the .386, .486 and .586 etc.<br /><br />So, your source file must have, as it's first two lines:<br /><br />.586                              ; or use .386 or .486 as appropriate for your processor<br />.model flat, stdcall<br /><br />The .286P, .386P, and .486P assembler directives enable the use of privilege level instructions as well as the normal instruction set for the given processor. You won?t need these unless you are writing your own operating-system or device drivers.  So just stick with .586 etc.<br /><br /><br />Hope this helps</div>
    <div class="meta">Posted on 2001-08-21 06:04:54 by Hamper</div>
   </div>
   <div class="post" id="post-4302">
    <div class="subject"><a href="#post-4302">.386,.486,.586p</a></div>
    <div class="body">If I remember right you can also use<br />.586<br />.MMX<br /><br />This enables MMX instruction.</div>
    <div class="meta">Posted on 2001-08-21 06:53:53 by Test Department</div>
   </div>
  </div>
 </body>
</html>
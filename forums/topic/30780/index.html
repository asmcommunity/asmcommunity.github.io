<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>delay the loop. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30780" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30780">delay the loop.</a></p>
   <div class="post" id="post-215467">
    <div class="subject"><a href="#post-215467">delay the loop.</a></div>
    <div class="body">i gonna crazy about the looping in ascii.... <br />anyone can suggest a good tutorial place, or simple sample code to me . i just need to delay the loop.<br />display the output string in a very slow movement<br />.I current using the book is &quot;IBM PC&nbsp; Assembly Language and Programming&quot;&nbsp; ,but still canno get it....<br /><br /><br />i not so sure what&#039;s problem in my code...just newbie in learning and want to make the &quot;T&quot;<br />keep move from left to right.....pls help me ...<br /><br /><pre><code>.model small<br />.stack 64<br />.data<br /><br />	T1		BYTE	 &quot; =============&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T2		BYTE	 &quot; ============= &quot;,&quot;$&quot;<br />	T3		BYTE	 &quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T4		BYTE	 &quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T5		BYTE	 &quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T6		BYTE	 &quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T7		BYTE	 &quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	<br />	T11		BYTE	 &quot;&nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T12		BYTE	 &quot;&nbsp;  ============= &quot;,&quot;$&quot;<br />	T13		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T14		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T15		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T16		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T17		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	<br />	T21		BYTE	 &quot;&nbsp; &nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T22		BYTE	 &quot;&nbsp; &nbsp;  ============= &quot;,&quot;$&quot;<br />	T23		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T24		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T25		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T26		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T27		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br /><br /><br />	T31		BYTE	 &quot;&nbsp; &nbsp; &nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T32		BYTE	 &quot;&nbsp; &nbsp; &nbsp;  ============= &quot;,&quot;$&quot;<br />	T33		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T34		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T35		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T36		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T37		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br /><br /><br />	T41		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T42		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp;  ============= &quot;,&quot;$&quot;<br />	T43		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T44		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;,&quot;$&quot;<br />	T45		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T46		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br />	T47		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;,&quot;$&quot;<br /><br /><br /> <br />.code<br />PUTS1:<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T1<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T2<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T3<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T4<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T5<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T6<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T7<br />	INT 21H<br />	<br />	<br /><br />PUTS2:<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T11<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T12<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T13<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T14<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T15<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T16<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T17<br />	INT 21H<br />	<br />	RET<br />	<br />PUTS3:<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T21<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T22<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T23<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T24<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T25<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T26<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T27<br />	INT 21H<br />	<br />	RET<br />	<br />PUTS4:<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T31<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T32<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T33<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T34<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T35<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T36<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T37<br />	INT 21H<br />	<br />	RET<br />	<br />PUTS5:<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T41<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T42<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T43<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T44<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T45<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T46<br />	INT 21H<br />	<br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br />	<br />	MOV AH,09H<br />	LEA DX,T47<br />	INT 21H<br />	<br />	RET<br /><br /><br />	<br />main proc<br />	mov ax,@data<br />	mov ds,ax<br />	<br />	MOV CX,10<br />	<br />	<br />	<br /><br />	<br />DISPLAY1:<br /><br />	CALL PUTS1<br />	CALL clearScreen	<br />	CALL RESETCURSOR<br />	CALL PUTS2<br />	CALL clearScreen<br />	CALL RESETCURSOR<br />	CALL PUTS3<br />	CALL clearScreen	<br />	CALL RESETCURSOR<br />	CALL PUTS4<br />	CALL clearScreen<br />	CALL RESETCURSOR<br />	CALL PUTS5<br />	CALL clearScreen<br />	CALL RESETCURSOR<br />	<br />	LOOP DISPLAY1<br />			<br />	mov ax,4c00h<br />	int 21h<br /><br />main endp<br />	<br />clearScreen proc<br />	MOV	AX, 0600H ;AH = 06 (scroll)<br />	;AL = 00 (full screen)<br />	MOV	BH, 0fH ;White background (0)<br />	;Blue foreground (1)<br />	<br />	MOV	CX, 0000H	 ;Upper left row:column<br />	MOV	DX, 184FH	 ;Lower right row:column<br />	<br />	INT	10H	 ;Call interrupt service<br />	<br />	retn<br />clearScreen endp<br />	<br />resetCursor proc<br />	MOV	AH, 02H	 ;Request set cursor<br />	MOV	BH, 00	 ;Page number 0<br />	<br />	MOV	DX, 0000H	 ;Row 0, column 0<br />	<br />	INT	10H	 ;Call interrupt service<br />	retn<br />resetCursor endp<br />&nbsp; &nbsp; <br />	end main</code></pre><br /></div>
    <div class="meta">Posted on 2011-12-01 10:18:59 by jove2493</div>
   </div>
   <div class="post" id="post-215470">
    <div class="subject"><a href="#post-215470">Re: delay the loop.</a></div>
    <div class="body">It would be really cool if you&#039;d use &quot;code&quot; tags instead of &quot;quote&quot;. As it is, your strings &quot;wrap&quot;, making it hard to see the intended effect. Do you want (to simplify)...<br />0123456789<br />123456789<br />23456789<br />3456789<br />etc. or...<br />0123456789<br />1234567890<br />2345678901<br />etc. ? Or what?<br /><br />For a delay, there are a couple of ways to do it. There&#039;s a word down in the Bios Data Area that updates 18.2 times per second. You can fetch that word, add an appropriate amount to it, and wait for the BDA to get up to that value. There&#039;s also a BIOS interrupt that gives a delay. I think it&#039;s int 15h/83h or int 15h/86h, but I don&#039;t remember for sure. If you&#039;re going to mess with dos code, you should get Ralf Brown&#039;s Interrupt List, if you haven&#039;t. You can look up that kind of thing.<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-12-01 13:47:41 by fbkotler</div>
   </div>
   <div class="post" id="post-215471">
    <div class="subject"><a href="#post-215471">Re: delay the loop.</a></div>
    <div class="body">my means is to make a code that move the &quot;T&quot;&nbsp;  from left to right....by using loop method, and add delay in the loop...</div>
    <div class="meta">Posted on 2011-12-01 18:03:05 by jove2493</div>
   </div>
   <div class="post" id="post-215473">
    <div class="subject"><a href="#post-215473">Re: delay the loop.</a></div>
    <div class="body">most new users have no idea what a code tag is.<br />write your posts like this minus the spaces:<br /><br />Hey guys, I have some questions about the following broken unworkable sourcecode:<br />[ c o d e ] <br />put some stuff in here<br />[ / c o d e ]<br /><br />k? :)</div>
    <div class="meta">Posted on 2011-12-02 02:29:27 by Homer</div>
   </div>
   <div class="post" id="post-215478">
    <div class="subject"><a href="#post-215478">Re: delay the loop.</a></div>
    <div class="body">Thanks, Homer! Okay, now I see the &#039;T&#039;! Sorry to be obtuse.<br /><br />What I think I would do, is to start with just one &quot;set&quot; of strings - the one with the most spaces on the left. I think I&#039;d include the CR/LF in each string, rather than do it as a separate operation each time. If you put a couple of extra spaces on the right end, you could probably skip the clearscreen, too. Then do something like...<br /><br /><pre><code><br />...<br />display:<br />&nbsp; &nbsp;  mov bx, 10 ; or whatever<br />top:<br />&nbsp; &nbsp; mov ah, 9<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; etc. ...<br /><br />&nbsp; &nbsp; call delay<br />&nbsp; &nbsp; call reset_cursor<br />&nbsp; &nbsp; dec bx<br /><br />&nbsp; &nbsp; jnz top ; maybe jns?<br />; keep going?<br />&nbsp; &nbsp; jmp display<br />...<br /></code></pre><br /><br />For a delay, something like...<br /><br /><pre><code><br />delay:<br />&nbsp; &nbsp; push cx<br />&nbsp; &nbsp; push dx<br />&nbsp; &nbsp; mov cx, 1000000 &gt;&gt; 16<br />&nbsp; &nbsp; mov dx, 1000000 &amp;&amp; 0FFFFh<br />&nbsp; &nbsp; mov ah, 86h<br />&nbsp; &nbsp; int 15h<br />&nbsp; &nbsp; pop dx<br />&nbsp; &nbsp; pop cx<br />&nbsp; &nbsp; ret<br /></code></pre><br /><br />I&#039;ve probably screwed up the syntax (and maybe the logic, too), but is &quot;something like that&quot; what you&#039;re looking for?<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-12-02 11:09:10 by fbkotler</div>
   </div>
   <div class="post" id="post-215479">
    <div class="subject"><a href="#post-215479">Re: delay the loop.</a></div>
    <div class="body"><pre><code>...<br />display:<br />&nbsp; &nbsp;  mov bx, 10 ; or whatever<br />top:<br />&nbsp; &nbsp; mov ah, 9<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; etc. ...<br /><br />&nbsp; &nbsp; call delay<br />&nbsp; &nbsp; call reset_cursor<br />&nbsp; &nbsp; dec bx<br /><br />&nbsp; &nbsp; jnz top ; maybe jns?<br />; keep going?<br />&nbsp; &nbsp; jmp display<br />...<br /></code></pre><br /><br />thank you.....but if i wan display the string from T1- T7..... what should my coding....<br />sorry that i maybe asking too much ....but i really couldn&#039;t understand .....<br /><br /><br /><pre><code>delay:<br />&nbsp; &nbsp; push cx<br />&nbsp; &nbsp; push dx<br />&nbsp; &nbsp; mov cx, 1000000 &gt;&gt; 16<br />&nbsp; &nbsp; mov dx, 1000000 &amp;&amp; 0FFFFh<br />&nbsp; &nbsp; mov ah, 86h<br />&nbsp; &nbsp; int 15h<br />&nbsp; &nbsp; pop dx<br />&nbsp; &nbsp; pop cx<br />&nbsp; &nbsp; ret<br /></code></pre><br /><br />mov cx, 1000000 &gt;&gt; 16<br />mov dx, 1000000 &amp;&amp; 0FFFFh<br /><br />can u explain about this line for me ......i a bit blur...<br /><br /><br /></div>
    <div class="meta">Posted on 2011-12-02 11:39:09 by jove2493</div>
   </div>
   <div class="post" id="post-215480">
    <div class="subject"><a href="#post-215480">Re: delay the loop.</a></div>
    <div class="body">Well... something like...<br /><br /><pre><code><br />...<br />display:<br />&nbsp; &nbsp;  mov bx, 10 ; or whatever<br />top:<br />&nbsp; &nbsp; mov ah, 9<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />; maybe need to reload ah? maybe not?<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br /><br />&nbsp; &nbsp; call delay<br />&nbsp; &nbsp; call reset_cursor<br /><br />&nbsp; &nbsp; dec bx<br />&nbsp; &nbsp; jnz top ; maybe jns?<br />; keep going?<br />&nbsp; &nbsp; jmp display<br />...<br /></code></pre><br /><br />Where your strings look something like...<br /><br /><pre><code><br />	T1		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T2		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp;  ============= &quot;, 13, 10,&quot;$&quot;<br />	T3		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T4		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T5		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;, 13, 10,&quot;$&quot;<br />	T6		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;, 13, 10,&quot;$&quot;<br />	T7		BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  &quot;, 13, 10,&quot;$&quot;<br /></code></pre><br /><br />You understand that the &quot;lea dx, &quot; causes the &quot;write&quot; to start bx bytes beyond the beginning of the string, right? Then we increment (or decrement) bx to get the &quot;move&quot; effect.<br /><br />I&#039;m not in a position to test dos code at the moment, so you&#039;ll have to &quot;experiment&quot; yourself to get the effect you want.<br /><br />RBIL describes int 15h/86h:<br />http://www.ctyme.com/intr/rb-1525.htm<br />as taking the delay time, in microseconds, in &quot;cx:dx&quot;. If you&#039;re not familiar with the notation, that just means cx * 64k + dx - just a way of representing a 32-bit number in two 16-bit registers. I was thinking that 1000000000 microseconds would be a one second delay - probably too long for you(?). In order to easily adjust the delay, you might want to do something like:<br /><br /><pre><code><br />DELAYCOUNT equ 1000000000<br />DELAYHI equ DELAYCOUNT &gt;&gt; 16<br />DELAYLOW equ DELAYCOUNT &amp;&amp; 0FFFFh<br /></code></pre><br /><br />... and just use DELAYHI (in cx) and DELAYLOW (in dx) in your delay function. You could write a delay function that takes the time as a parameter, too, if you want to be able to vary it &quot;on the fly&quot;.<br /><br />I may have the Masm syntax wrong (I&#039;m Nasmist). Maybe &quot;=&quot; instead of &quot;equ&quot;. Maybe &quot;shr&quot; instead of &quot;&gt;&gt;&quot;. Maybe &quot;and&quot; instead of &quot;&amp;&amp;&quot;. Fool with it until Masm quits complaining (if ever :) ).<br /><br />Reading documentation is good, but I personally learn more from &quot;experimenting&quot;. Both &quot;RTFM&quot; and &quot;experiment&quot; is probably best!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-12-02 12:38:15 by fbkotler</div>
   </div>
   <div class="post" id="post-215512">
    <div class="subject"><a href="#post-215512">Re: delay the loop.</a></div>
    <div class="body">can explain to me what is the meaning of the&nbsp; &quot;, 13, 10,&quot;$&quot;&nbsp; that u put at the end of the String<br /><br /><pre><code>T1		 BYTE	 &quot;&nbsp; &nbsp; &nbsp; &nbsp;  =============&nbsp; &nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br /></code></pre></div>
    <div class="meta">Posted on 2011-12-05 21:30:24 by jove2493</div>
   </div>
   <div class="post" id="post-215513">
    <div class="subject"><a href="#post-215513">Re: delay the loop.</a></div>
    <div class="body">ASCII codes for carrige return and linefeed.&nbsp; Same as pressing return.&nbsp; $ is a string terminator</div>
    <div class="meta">Posted on 2011-12-05 22:03:44 by Gunner</div>
   </div>
   <div class="post" id="post-215514">
    <div class="subject"><a href="#post-215514">Re: delay the loop.</a></div>
    <div class="body">13 = carriage return, 10 = linefeed, together, a &quot;newline&quot;. Same as you were doing with:<br /><br /><pre><code><br />	MOV AH,02H<br />	MOV DL,0DH<br />	INT 21H<br />	MOV DL,0AH<br />	INT 21H<br /></code></pre><br /><br />(I see that Gunner just told you the same thing)<br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-12-05 22:09:55 by fbkotler</div>
   </div>
   <div class="post" id="post-215515">
    <div class="subject"><a href="#post-215515">Re: delay the loop.</a></div>
    <div class="body">ok,i get this.thanks<br /><br />but about the delay code. i test it already , still don have any effect .......put or not put the result is same.....<br /><br /><pre><code>.model small<br />.stack 64<br />.data<br /><br /><br />&nbsp;  DELAYCOUNT equ 10000000000<br />&nbsp;  DELAYHI equ 180<br />&nbsp;  DELAYLOW equ 0FFFFh<br /> <br /><br />	T1		BYTE	&quot;&nbsp; =========== ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T2		BYTE	&quot;&nbsp; =========== ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T3		BYTE	&quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T4		BYTE	&quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  |||||||||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T5		BYTE	&quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T6		BYTE	&quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	T7		BYTE	&quot;&nbsp; &nbsp; &nbsp; |||&nbsp; &nbsp;  ||&nbsp; &nbsp;  ||&nbsp; &nbsp; &quot;, 13, 10,&quot;$&quot;<br />	<br />	T8		BYTE	&quot; +=+= +=+= +=+= +=+= +=+= +=+= +=+= +=+=&quot;, 13, 10,&quot;$&quot;<br /> <br />.code<br />delay:<br />&nbsp; &nbsp; push cx<br />&nbsp; &nbsp; push dx<br />&nbsp; &nbsp; mov cx,DELAYHI<br />&nbsp; &nbsp; mov dx,DELAYLOW <br />&nbsp; &nbsp; mov ah, 86h<br />&nbsp; &nbsp; int 15h<br />&nbsp; &nbsp; pop dx<br />&nbsp; &nbsp; pop cx<br />&nbsp; &nbsp; ret<br /><br />Main proc<br />	mov ax,@data<br />	mov ds,ax<br />	<br />;	MOV CX,10	<br />	<br />	<br />display:<br />&nbsp; &nbsp;  mov bx,2; or whatever<br />top:<br />&nbsp; &nbsp; mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp;  <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp;  <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; &nbsp; <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; &nbsp; <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; &nbsp; <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; &nbsp; &nbsp; <br />	mov ah, 09H<br />&nbsp; &nbsp; lea dx, <br />&nbsp; &nbsp; int 21h<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; call delay <br />&nbsp; &nbsp; call resetCursor<br /><br />&nbsp; &nbsp; dec bx<br /><br />&nbsp; &nbsp; jnz top <br />&nbsp; &nbsp; JMP display<br />		<br />	mov ax,4c00h<br />	int 21h<br /><br />main endp<br />	<br />clearScreen proc<br />	MOV	AX, 0600H ;AH = 06 (scroll)<br />	;AL = 00 (full screen)<br />	;MOV	BH, 0fH ;White background (0)<br />	;Blue foreground (1)<br />	<br />	MOV	CX, 0000H	 ;Upper left row:column<br />	MOV	DX, 184FH	 ;Lower right row:column<br />	<br />	INT	10H	 ;Call interrupt service<br />	retn<br />	<br />clearScreen endp<br />	<br />resetCursor proc<br />	MOV	AH, 02H	 ;Request set cursor<br />	MOV	BH, 00	 ;Page number 0<br />	MOV	DX, 0000H	 ;Row 0, column 0<br />	INT	10H	 ;Call interrupt service<br />	retn<br />resetCursor endp<br />&nbsp; &nbsp; <br />	end main</code></pre><br /><br /><br />here is my code....==,i want the STRING &quot;T&quot; and &quot;H&quot;&nbsp; move togather with whole word....<br />but when i excute it ....it is move separate........</div>
    <div class="meta">Posted on 2011-12-05 22:21:17 by jove2493</div>
   </div>
   <div class="post" id="post-215518">
    <div class="subject"><a href="#post-215518">Re: delay the loop.</a></div>
    <div class="body">I don&#039;t know why your delay isn&#039;t working. I must have told you wrong. I&#039;ll have to reboot into dos to try it - not right now. I don&#039;t understand your other problem. Are you saying that the &#039;T&#039; and &#039;H&#039; move separately? I don&#039;t see how that could happen. Have to try it - or maybe someone more familiar with Masm can give you a hand...<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-12-05 23:26:07 by fbkotler</div>
   </div>
   <div class="post" id="post-215520">
    <div class="subject"><a href="#post-215520">Re: delay the loop.</a></div>
    <div class="body">sry i keep make touble to u ......the &quot;T&quot; ang &quot;H&quot;&nbsp; is no move separately.but it separately by the line....can it possible 7 line of the combination to &quot;T&quot; and &quot;H&quot;&nbsp;  move in a same time??<br />my code of delay is not work also ......any pro in Masm can give me a help .......T.T</div>
    <div class="meta">Posted on 2011-12-06 04:38:28 by jove2493</div>
   </div>
  </div>
 </body>
</html>
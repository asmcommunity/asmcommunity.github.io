<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Why these 2 different ways of doing the same thing??? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16681" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16681">Why these 2 different ways of doing the same thing???</a></p>
   <div class="post" id="post-129649">
    <div class="subject"><a href="#post-129649">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">When debugging I sometimes see things as the following:<br /><br />MOV EDI,DWORD PTR DS:[&lt;&amp;USER32.SendMessageA&gt;] <br />CALL EDI<br /><br />and other times the more common<br /><br />CALL DWORD PTR DS:[&lt;&amp;KERNEL32.SendMessageA&gt;]<br /><br />I was wondering why compilers generate these two different set of instructions to do the same thing.<br /><br />yaa</div>
    <div class="meta">Posted on 2004-01-03 05:40:45 by yaa</div>
   </div>
   <div class="post" id="post-129651">
    <div class="subject"><a href="#post-129651">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">in case of<br />MOV EDI,DWORD PTR DS:[&lt;&amp;USER32.SendMessageA&gt;] <br />CALL EDI<br />you'll probably see some more calls to this api after that,<br />should be some kind of optimisation ;)</div>
    <div class="meta">Posted on 2004-01-03 05:59:25 by Tola</div>
   </div>
   <div class="post" id="post-129654">
    <div class="subject"><a href="#post-129654">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">Size of instruction, my friend<br /><br /><strong>call memory</strong> is 6 bytes. <br /><br /><strong>mov reg, memory</strong> is 6bytes. <strong>call reg</strong> is 2 bytes.<br /><br />Therefore if the same function is called more than once, it is more favourable to use the second method. Registers used is usually ebx, esi, edi or ebp as they are not changed when calling other functions (other functions usually preserve ebx, edi, esi and ebp if they modify the value in it).</div>
    <div class="meta">Posted on 2004-01-03 07:03:58 by roticv</div>
   </div>
   <div class="post" id="post-129694">
    <div class="subject"><a href="#post-129694">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">What are ebx, esi, edi or ebp?</div>
    <div class="meta">Posted on 2004-01-03 22:25:00 by bRaNcO</div>
   </div>
   <div class="post" id="post-129696">
    <div class="subject"><a href="#post-129696">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">There are 8 general purpose registers. ebx, esi,edi and ebp are just 4 of the 8 registers. ebx is the base pointer. esi is the string source. edi is the string destination. ebp is the stack frame base.</div>
    <div class="meta">Posted on 2004-01-03 22:32:59 by roticv</div>
   </div>
   <div class="post" id="post-129719">
    <div class="subject"><a href="#post-129719">Why these 2 different ways of doing the same thing???</a></div>
    <div class="body">thx guys. everything is clear now.<br /><br />yaa</div>
    <div class="meta">Posted on 2004-01-04 05:45:19 by yaa</div>
   </div>
  </div>
 </body>
</html>
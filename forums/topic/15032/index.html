<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Intersection of two circles - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15032" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=15032">Intersection of two circles</a></p>
   <div class="post" id="post-116620">
    <div class="subject"><a href="#post-116620">Intersection of two circles</a></div>
    <div class="body">Area of two circles' intersection<br />Two circles given, intersecting:<br />M(a,b) r<br />N(c,d) s<br /><br />Equation of circle:<br />(x-a)^2 + (y-b)^2 = r^2<br />or<br />(x-a)^2 + (y-b)^2 -r^2 = 0<br /><br />To find intersection points you equate equations of two circles i.e.<br />(x-a)^2 + (y-b)^2 -r^2 = (x-c)^2 + (y-d)^2 -s^2<br />find (x1,y1), (x2,y2) (two points)<br /><br />Divide intersection to two chords, find one by one, add together voila!<br /><br />PS: This is for enjoyment if you don't then don't bother to write.</div>
    <div class="meta">Posted on 2003-09-02 15:19:42 by inFinie</div>
   </div>
   <div class="post" id="post-116649">
    <div class="subject"><a href="#post-116649">Intersection of two circles</a></div>
    <div class="body">Well I'm intrigued, but the last line confuses me, perhaps if you drew a pic showing what you mean by &quot;<em>Divide intersection to two chords</em> &quot;</div>
    <div class="meta">Posted on 2003-09-02 18:03:52 by Eóin</div>
   </div>
   <div class="post" id="post-116718">
    <div class="subject"><a href="#post-116718">Intersection of two circles</a></div>
    <div class="body">I meant two calculate areas I and II seperately(i'm not sure if it can be done all together at once) in the figure. And i wonder if the areas can be calculated with integrating</div>
    <div class="meta">Posted on 2003-09-03 03:53:26 by inFinie</div>
   </div>
   <div class="post" id="post-116744">
    <div class="subject"><a href="#post-116744">Intersection of two circles</a></div>
    <div class="body">A more direct approach via geometry (but requires trig functions)<br /><br />For clarity, and without any loss of generality, I'll assume that r &gt; s and the center of circle &quot;s&quot; falls outside of circle &quot;r&quot;<br /><br />We are interested in the area of circular *sections* A1 + A2<br /><br />Let:<br />  L^2 = (c-a)^2 + (d-b)^2   (ie, L = the distance between circle centers)<br />  2u = The angle of arc subtending the chord from circle &quot;r&quot; <br />  2v = The angle of arc subtending the chord from circle &quot;s&quot; <br /><br />Then, using the cosine law:<br /><br />  2*r*L*cos(u) = r^2 + L^2 - s^2          (from sircle &quot;r&quot;)<br /><br />  2*s*L*cos(v) = s^2 + L^2 - r^2          (from sircle &quot;s&quot;)<br /><br />We can solve for u and v from these equations (via arccosine) since r, s, and L are known.<br /><br />Compute the areas of the circular *sectors*<br />   Ar = Pi*r^2*(2u/2Pi) = u*r^2<br />   As = Pi*s^2*(2v/2Pi) = v*s^2<br /><br />To compute the *sections*, we need to subtract the triangluar portion of the sector:<br />            Tr  = 2 * (1/2)**<br />                 = (1/2) r^2 *sin(2u)<br />similary<br />            Ts = (1/2) s^2*sin(2v)<br /><br />The area for the *sections* are<br /><br />  A1 = Ar - Tr = u*r^2 - (1/2) r^2 * sin(2u)<br />       = (1/2) r^2 [ 2u - sin(2u) ]<br /><br />  A2 = As - Ts = v*s^2 - (1/2) s^2 * sin(2v) <br />       = (1/2) s^2 [ 2v - sin(2v) ]<br /><br />We note the need for the angles to be expressed in radians.<br /><br />The total area of intrest is A = A1 + A2.</div>
    <div class="meta">Posted on 2003-09-03 07:23:04 by TheoMcCloskey</div>
   </div>
   <div class="post" id="post-116778">
    <div class="subject"><a href="#post-116778">Intersection of two circles</a></div>
    <div class="body">I forgot to say something, sorry:<br />I know how to calculate but thanks either, this thread is much more like the threads The Svin's math book ...<br />You should submit your code and let it optimized or sthg like that.</div>
    <div class="meta">Posted on 2003-09-03 10:48:26 by inFinie</div>
   </div>
   <div class="post" id="post-117160">
    <div class="subject"><a href="#post-117160">Intersection of two circles</a></div>
    <div class="body">infinie, time has been against me recently so I havn't attempted this yet, but looking at it I don't think it the best candidate for optimisation to be honest.<br /><br />To solve this you really need to use transcendental functions, most probably a cos/sin as well as probably an arccos/sin. These would require so many clock cycles that they'd drown out optimisations of the rest of the solution. <br /><br />Plus the solution is quite long which makes it a pain to code :grin: .</div>
    <div class="meta">Posted on 2003-09-05 21:06:28 by Eóin</div>
   </div>
   <div class="post" id="post-117200">
    <div class="subject"><a href="#post-117200">Intersection of two circles</a></div>
    <div class="body">you will need:<br />atan<br />sin<br />LOTS of fld fstp</div>
    <div class="meta">Posted on 2003-09-06 04:45:59 by inFinie</div>
   </div>
   <div class="post" id="post-117357">
    <div class="subject"><a href="#post-117357">Intersection of two circles</a></div>
    <div class="body">InFinie - Like Eoin says, may not be the best canidate -- working on a solution and will post shortly, but has many fpu instructions. These will be optimized but only up to the point where fsqrt and fpatan are required.</div>
    <div class="meta">Posted on 2003-09-07 15:42:43 by TheoMcCloskey</div>
   </div>
   <div class="post" id="post-169333">
    <div class="subject"><a href="#post-169333">Re: Intersection of two circles</a></div>
    <div class="body">A working snippet (does not handle degenerate cases)<br /><pre><code><br />.data<br />	m REAL8 5.0<br />	n REAL8 4.0<br />	r REAL8 6.0<br />	q REAL8 2.0<br /><br />.code<br /><br />	fld m<br />	fmul st(0),st(0)<br />	fld n<br />	fmul st(0),st(0)<br />	fadd<br />	fsqrt ; L = sqrt( m*m+n*n )	<br />	fld st(0)<br />	<br />	fld r				; r, L<br />	fld q				; q, r, L	<br />	fmul st(0),st(0)	; q*q, r, L<br />	fld st(2)			; L, q*q, r, L <br />	fmul st(0),st(0)	; L*L, q*q, r, L<br />	fsubr				; L*L-q*q, r, L<br />	fxch<br />	fld st				<br />	fmul st(0),st(0)	; r*r, r, L*L-q*q, L<br />	fxch<br />	fxch st(2)<br />	fadd				; r*r+L*L-q*q, r, L	<br />	fxch st(2)<br />	fmul<br />	fld1<br />	fadd st(0),st(0)<br />	fmul				; 2rL, r*r+L*L-q*q<br />	fdiv				; (r*r+L*L-q*q)/(2rL) = cos(u)<br />	<br />	farcsin	<br />	fldpi<br />	fld1<br />	fadd st(0),st(0)<br />	fdiv<br />	fsubr 				; u, L<br />	fxch				; L, u<br />	<br />	fld q				; q, L<br />	fld r				; r, q, L	<br />	fmul st(0),st(0)	; r*r, q, L<br />	fld st(2)			; L, r*r, q, L <br />	fmul st(0),st(0)	; L*L, r*r, q, L<br />	fsubr				; L*L-r*r, q, L<br />	fxch<br />	fld st				<br />	fmul st(0),st(0)	; q*q, q, L*L-r*r, L<br />	fxch<br />	fxch st(2)<br />	fadd				; q*q+L*L-r*r, q, L	<br />	fxch st(2)<br />	fmul<br />	fld1<br />	fadd st(0),st(0)<br />	fmul				; 2qL, q*q+L*L-r*r<br />	fdiv				; (q*q+L*L-r*r)/(2qL) = cos(v)<br />	<br />	farcsin	<br />	fldpi<br />	fld1<br />	fadd st(0),st(0)<br />	fdiv<br />	fsubr 				; v, u<br />	<br />	<br />	fld st(0)<br />	fxch<br />	fsincos<br />	fmul				; sin2v/2, v, u<br />	fxch<br />	fldpi<br />	fmul<br />	fadd st(0),st(0)<br />	fsubr<br />	fld q<br />	fmul st(0),st(0)<br />	fmul				; A1, u<br />	 <br />	<br />	fxch<br />	<br />	fld st(0)<br />	fxch<br />	fsincos<br />	fmul				; sin2u/2, u, A1<br />	fxch<br />	fldpi<br />	fmul<br />	fadd st(0),st(0)<br />	fsubr<br />	fld r<br />	fmul st(0),st(0)<br />	fmul				; A2, A1 <br />	<br />	fadd				; A</code></pre><br /><br /><pre><code>	farcsin macro<br />					; x<br />		fld st		; x, x<br />		fmul st, st ; x * x, x<br />		fld1		; 1, x * x, x<br />		fsubr		; 1 - x * x, x<br />		fsqrt		; sqrt(1 - x * x), x<br />		fpatan		; atan(x / sqrt(1 - x * x))		<br />	endm</code></pre></div>
    <div class="meta">Posted on 2006-01-03 13:20:00 by inFinie</div>
   </div>
   <div class="post" id="post-178579">
    <div class="subject"><a href="#post-178579">Re: Intersection of two circles</a></div>
    <div class="body">You can get the area of intersection by integrating <strong>f(x) = sqrt(r^2-x^2)</strong>.<br /><br />After substituting x with d/2 and -d/2 ( where d is the length of the chord ), you get<br /><br /><div class="quote"><span class="text-center"><strong>r^2*asin( d/ (2*abs(r)) )</strong></span></div><br /><br />But you have to substract the area of the remaining rectangle so<br /><br /><div class="quote"><span class="text-center"><strong>r^2*asin( d/ (2*abs(r)) ) - d*sqrt(4*r^2-d^2)/4</strong></span></div><br /><br />Therefore the area of intersection is:<br /><div class="quote"><span class="text-center"><strong>r1^2*asin( d/ (2*abs(r1)) ) - d*sqrt(4*r1^2-d^2)/4 + r2^2*asin( d/ (2*abs(r)) ) - d*sqrt(4*r2^2-d^2)/4</strong></span></div></div>
    <div class="meta">Posted on 2006-03-24 14:44:05 by mr.schyte</div>
   </div>
   <div class="post" id="post-178725">
    <div class="subject"><a href="#post-178725">Re: Intersection of two circles</a></div>
    <div class="body">Length of the chord is not given. But you can calculate it. It seems it complicates things. After you&#39;ve found the intersection points, you can get the answer by integrating but not by integrating your f(x) I suppose. Because it only considers the upper half of the circle. Usage of polar coordinates may be a better candidate. <br /><br />i.e. take a circle centered at origin: r=k where k is the radius.<br />Let&#39;s define an alpha which the intersection points are on the circle. Better said: at alpha on the circle there is a point, at -alpha there is the other one.<br /><br />Then we can find the area of one chord by:<br /><br />t=theta,<br />a=alpha<br /><br /><div class="quote">int(-a, a, int(0, k, r dr dt)) - int(-a, a, int(0, k sint, r dr dt))</div><br /><br />which will give us<br /><br />A1 or A2 in TheoMcCloskey&#39;s post :D</div>
    <div class="meta">Posted on 2006-03-29 14:28:40 by inFinie</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Convert File to Data for ASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20516" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=20516">Convert File to Data for ASM</a></p>
   <div class="post" id="post-156748">
    <div class="subject"><a href="#post-156748">Convert File to Data for ASM</a></div>
    <div class="body">Hi, All<br /><br />A long time ago when I developed my first asm program I spent alot of time constructing files as data.<br /><br />Just recently I made an installer for my programs and needed the executable to be in the form of data, so instead of doing it long hand I wrote a program to convert it to a data file.<br /><br />Now I needed to convert a jpg file to data, so I modified it to handle odd file sizes.<br /><br />Anyhow, enough rambling!!!<br /><br />If anyone is interested in trying it out e-mail me with the subject WoW. Then you can post any comments; good, bad or indifferent here.<br /><br />The File size is 5.00 KB. After you convert a file to data you will have to open it up and give it a name.<br /><br />Thanks for your time and consideration,<br /><br />Darrel<br /><br />edit:<br /><br />I was not sure where to post this.</div>
    <div class="meta">Posted on 2005-02-06 23:00:42 by Darrel</div>
   </div>
   <div class="post" id="post-156750">
    <div class="subject"><a href="#post-156750">Convert File to Data for ASM</a></div>
    <div class="body">What exactly do you mean by converting a file to data? Do you mean converting a file into a text file that is like:<br /><br />dd .., .., .., ..<br />dd .., .. etc...<br /><br />If so, a better way to do this would be to use the binary include directive. I think it's &quot;incbin&quot; in NASM, not sure if there's one in MASM.</div>
    <div class="meta">Posted on 2005-02-07 00:36:14 by StefanD</div>
   </div>
   <div class="post" id="post-156753">
    <div class="subject"><a href="#post-156753">Convert File to Data for ASM</a></div>
    <div class="body">Yes, you are correct StefanD.<br /><br />It converts a file into a BYTE array:<br /><br />BYTE   xxh,xxh,xxh,etc<br />BYTE   xxh,etc<br />etc<br /><br />I am not familiar with NASM. I just use the basics ML, LINK,RC,etc and a MAKEFILE.<br /><br />Regards,<br /><br />Darrel</div>
    <div class="meta">Posted on 2005-02-07 01:12:02 by Darrel</div>
   </div>
   <div class="post" id="post-156754">
    <div class="subject"><a href="#post-156754">Convert File to Data for ASM</a></div>
    <div class="body">Hi Darrel,<br /><br />The tool you are looking for is a binary to include file converter. Check Hutch's masm32 package, the folder C:\masm32 contains a bintodb tool.<br /><br />Another method to embed your data ( like executables ) is to convert your file to MS COFF object file.<br /><br />Here is an example:<br /><br />http://www.masmforum.com/simple/index.php?topic=576.msg3889#msg3889</div>
    <div class="meta">Posted on 2005-02-07 01:58:01 by Vortex</div>
   </div>
   <div class="post" id="post-156756">
    <div class="subject"><a href="#post-156756">Convert File to Data for ASM</a></div>
    <div class="body">Hi, Vortex<br /><br />Thanks for the info, you are correct. I guess this was a useless post. I was just attempting to share.<br /><br />Thanks again,<br /><br />Darrel<br /><br />edit:<br /><br />I could not find a way for Windows XP to clear the temp folder, so I wrote a little program that does it each time you log on. I just found Mark Larsen's optimization page. I'm quite sure my code is not optimized yet, but would be happy to post the code if anyone is interested.</div>
    <div class="meta">Posted on 2005-02-07 02:20:54 by Darrel</div>
   </div>
   <div class="post" id="post-156758">
    <div class="subject"><a href="#post-156758">Convert File to Data for ASM</a></div>
    <div class="body">Hi Darrel,<br /><br />No problem. Your post is not useless. Every question is important.</div>
    <div class="meta">Posted on 2005-02-07 03:52:38 by Vortex</div>
   </div>
   <div class="post" id="post-156759">
    <div class="subject"><a href="#post-156759">Convert File to Data for ASM</a></div>
    <div class="body">Darrel,<br /><br />It sounds like an interesting tool, you should post it somewhere. If you join the masmforum, it will accept files from members so you are welcome to post it there.<br /><br />Regards,<br /><br />hutch at movsd dot com</div>
    <div class="meta">Posted on 2005-02-07 04:01:08 by hutch--</div>
   </div>
   <div class="post" id="post-156778">
    <div class="subject"><a href="#post-156778">Convert File to Data for ASM</a></div>
    <div class="body">Hi Vortex,<br /><br />Thanks for the encouragement. I didn't mean for my comment to be as negative as it came out.<br /><br />Hi hutch--,<br /><br />I will be happy to do that. I assume we're talking about the temp folder cleaner.<br /><br />I did notice your BINTODB uses 16 bytes per row, the same as mine (Great minds think alike :-)). Mine uses hexadecimal instead of decimal tho.<br /><br />Thank you both for your words of encouragement,<br /><br />Darrel</div>
    <div class="meta">Posted on 2005-02-07 14:23:30 by Darrel</div>
   </div>
   <div class="post" id="post-156780">
    <div class="subject"><a href="#post-156780">Convert File to Data for ASM</a></div>
    <div class="body">If you want to skip the .asm stage and do .obj directly, have a look at http://f0dder.has.it , tool section, and get &quot;bin2o&quot;.</div>
    <div class="meta">Posted on 2005-02-07 18:35:18 by f0dder</div>
   </div>
   <div class="post" id="post-156792">
    <div class="subject"><a href="#post-156792">Convert File to Data for ASM</a></div>
    <div class="body">Hi f0dder,<br /><br />Thanks for the info. Correct me if I'm wrong, but isn't an .obj file the same as a .lib file.<br /><br />I got the idea for the temp folder cleaner from you. In some posts regarding self-deleting programs. I decided your method was the one I would implement. Anyhow when I found my temp folder there was a complete operating system in there!!!!<br /><br />As of now I'm just converting files to data for installation purposes.<br /><br />Thanks again, for your time and consideration,<br /><br />Darrel</div>
    <div class="meta">Posted on 2005-02-07 23:38:46 by Darrel</div>
   </div>
   <div class="post" id="post-156795">
    <div class="subject"><a href="#post-156795">Convert File to Data for ASM</a></div>
    <div class="body">Hi Darrel,<br /><br />Basically, a static library ( .lib ) is a collection of object files containing functions. Once assembled to an object file, a function can be a member of static libraries. Check the lib tool from the Masm32 package, it creates static libs from object files. These libraries are easier to use compared to indivual object files during linking stage.<br /><br />Another type of lib files is an import library which is completely different from static libs. An import library informs the linker about the association of imported functions with DLLs.<br /><br />f0dder's bin2o tool is a very usefull one, the purpose of this tool is to convert any type of binary file ( .inc , .exe etc. ) to an object file making easy to embed datas to your main executable.</div>
    <div class="meta">Posted on 2005-02-08 05:01:31 by Vortex</div>
   </div>
  </div>
 </body>
</html>
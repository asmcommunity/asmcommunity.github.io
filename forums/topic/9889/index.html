<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>preservance of MMX reg in Win32 func - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9889" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9889">preservance of MMX reg in Win32 func</a></p>
   <div class="post" id="post-73731">
    <div class="subject"><a href="#post-73731">preservance of MMX reg in Win32 func</a></div>
    <div class="body">Hi<br />Do win32 functions save MMX registers?<br />From my observation they don't modify them ( since W2K has to run on plain Pentium) but don't save them either( from looking at their code beginning)?<br />What if new version decide to use MMX?<br /><br />What is the offical MS policy?<br /><br />BTW, I noticed that some (most) functions expect DF=0 otherwise they crash.</div>
    <div class="meta">Posted on 2002-12-31 15:37:58 by Sergo</div>
   </div>
   <div class="post" id="post-73815">
    <div class="subject"><a href="#post-73815">preservance of MMX reg in Win32 func</a></div>
    <div class="body">As far as I know, the Win32 API Doesn't use any MMX registers, so it doesn't save them.<br /><br />Windows runs on other processors aside from intel x86, AMD... MMX instructions isn't present on other processor architectures.<br /><br />You have to remember that the win32 API must work across different versions of windows. If functions such as lstrlen are to be recoded using MMX then there must be an update on the dll's of all version of windows starting from win95++ and we can't guarantee that all windows 95 are on pentiums with mmx support.<br /><br />I doubt MS will ever consider MMX<br /><br />but this is just my opinion since I don't work for MS. ;)<br /><br />btw, I think there are a few people here that works for MS maybe you can ask them. :)<br /><br />yes the df should be 0 (cld)<br /><br />hint: it affects the direction of esi/edi if DF is set, esi/edi decrements... meaning you are going to lower addresses instead of going higher.</div>
    <div class="meta">Posted on 2003-01-01 04:25:12 by arkane</div>
   </div>
  </div>
 </body>
</html>
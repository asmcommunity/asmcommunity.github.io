<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Might be of help to beginers like myself. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25581" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25581">Might be of help to beginers like myself.</a></p>
   <div class="post" id="post-186803">
    <div class="subject"><a href="#post-186803">Might be of help to beginers like myself.</a></div>
    <div class="body">Hi guys been awhile since I was on here.<br />Just taught i&#39;d post some code to help people understand whats going on behind all the macros etc.<br /><br /><br /><br /><pre><code><br />;compile with:<br />;NASMW.EXE -fobj stack.asm<br />;link with:<br />;ALINK.EXE stack.obj -c -oPE<br /><br />%include &quot;E:\nasm\include\windows.inc&quot;<br /><br />EXTERN ExitProcess<br />IMPORT ExitProcess kernel32.dll<br />EXTERN MessageBoxA<br />IMPORT MessageBoxA user32.dll<br /><br />;segment .data USE32<br /><br />segment .code USE32 <br /><br />..start<br /><br />push ebp&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ;make room for the string<br />mov ebp,esp<br />sub esp,24<br /><br />mov , byte 0 <br />mov , byte 0 <br />mov , byte &quot;!&quot;&nbsp; &nbsp; &nbsp; &nbsp;  <br />mov , byte &quot;O&quot;<br />mov , byte &quot;L&quot;<br />mov , byte &quot;L&quot;<br />mov , byte &quot;E&quot;<br />mov , byte &quot;H&quot;&nbsp; &nbsp; &nbsp; ;start of the string<br /><br />lea edi, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ;locate address of string<br /><br />mov ,dword MB_OK <br />mov ,edi&nbsp; &nbsp; &nbsp; &nbsp;  <br />mov ,edi&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />mov ,dword 0&nbsp; &nbsp;  <br />call  <br /><br />add esp,16<br /><br />mov esp, ebp	; takedown stack frame<br />pop ebp<br /><br />sub esp,4&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ;make room for our exitcode status<br />mov ,dword 0&nbsp; &nbsp;  ;exitprocess will exit with the 0 good<br /><br />call <br /><br /></code></pre></div>
    <div class="meta">Posted on 2006-11-30 11:37:48 by gavin</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C++ method with variables list. ?? elipsis ?? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21212" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=21212">C++ method with variables list. ?? elipsis ??</a></p>
   <div class="post" id="post-160543">
    <div class="subject"><a href="#post-160543">C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body">How can i make a method in C++ that works just like wsprintf, i mean with changeable variables number;<br /><br />Actually i want to encapsulate wsprintf inside my class.<br /><br />btw. &quot;spell check&quot; is great :P<br /><br /></div>
    <div class="meta">Posted on 2005-05-28 17:36:23 by AceEmbler</div>
   </div>
   <div class="post" id="post-160545">
    <div class="subject"><a href="#post-160545">Re: C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body">void __cdecl blah(...) {<br />&nbsp; &nbsp; return;<br />}<br /><br />you can call it with as many params, as you like, but i don&#39;t know to access these params without using the assembly.</div>
    <div class="meta">Posted on 2005-05-28 18:11:46 by ti_mo_n</div>
   </div>
   <div class="post" id="post-160557">
    <div class="subject"><a href="#post-160557">Re: C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body">void __cdecl blah(long dummyArgument,...){<br />long *args = &amp;dummyArgument;<br />// accessing arguments:<br />long arg0 = args[0];<br />long arg1 = args[1];<br />long arg2 = args[2];<br />char* lpszString1 = (char*) args[3]; <br />}<br /><br />But accessing variables &gt;4bytes in size, I don&#39;t know - you should look at the assembly listing of such a proc . <br /></div>
    <div class="meta">Posted on 2005-05-29 02:30:38 by Ultrano</div>
   </div>
   <div class="post" id="post-160560">
    <div class="subject"><a href="#post-160560">Re: C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body">You can use the functions in stdarg.h to access the variable arguments - see <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/vccore98/html/_crt_va_arg.2c_.va_end.2c_.va_start.asp">msdn</a> for examples etc.<br /><br />There is no way to know how many arguments were passed, though, so you have to infer that by passing a number indicating how many or a special &#39;end&#39; argument... you will see on msdn.<br /><br />hth<br /><br /></div>
    <div class="meta">Posted on 2005-05-29 08:43:16 by stormix</div>
   </div>
   <div class="post" id="post-160565">
    <div class="subject"><a href="#post-160565">Re: C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body">I dropped this one. C++ lacks Asm flexibility (maybe i will use inline assembly for this one)&nbsp; &nbsp; (this is a flame, or rather Crusade :P)</div>
    <div class="meta">Posted on 2005-05-29 10:19:41 by AceEmbler</div>
   </div>
   <div class="post" id="post-160575">
    <div class="subject"><a href="#post-160575">Re: C++ method with variables list. ?? elipsis ??</a></div>
    <div class="body"><strong>AceEmbler</strong>, check up on stdarg.h as suggested by stormix, it works fine. <br /><br /><strong>Ultrano</strong>, if you&#39;re going to do it that way, you might as well code it in assembly - your method isn&#39;t very portable :)<br /></div>
    <div class="meta">Posted on 2005-05-29 19:41:31 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Inexplicable Error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2110" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2110">Inexplicable Error</a></p>
   <div class="post" id="post-13409">
    <div class="subject"><a href="#post-13409">Inexplicable Error</a></div>
    <div class="body">I have written a simple numeric output routine for dos. I know its been done before, but i need easy projects to hone my newbie skills. Anyway, Thanks to NaN's suggestion, i have been able to compile and debug it correctly. The problem is that when i run the program (I know it is a com, but why make it an exe? that just takes more space) it give me an illegal operation at<br />seg:0136<br />which corresponds to the<br />mov dx,color<br />command in the program.<br />when i trace through the program, this command does not generate an error, so i am mystified. I added lots of comments to my program so it would be easy for anyone who looks at it to understand it.<br />I would appreciate if someone would take a look at it and tell me what is causing the problem.<br />Thanks.<br />-LOLTH</div>
    <div class="meta">Posted on 2001-11-28 17:17:39 by LOLTH</div>
   </div>
   <div class="post" id="post-13497">
    <div class="subject"><a href="#post-13497">Inexplicable Error</a></div>
    <div class="body">here we go,<br /><br />i don't know well why, but when you divide a 32bit reg for another 32bit reg pot before the 'div' instruction a xor edx,edx.<br /><br />Whit these change you program recompiled now works. Take a look.<br /><br />Bye</div>
    <div class="meta">Posted on 2001-11-29 14:22:04 by Bit7</div>
   </div>
   <div class="post" id="post-13500">
    <div class="subject"><a href="#post-13500">Inexplicable Error</a></div>
    <div class="body">sorry, i've compiled as EXE but you talked about com...<br /><br />To compile as com i need to add org 100h before .code starting.<br /><br />Then your program work in any case.</div>
    <div class="meta">Posted on 2001-11-29 14:54:25 by Bit7</div>
   </div>
   <div class="post" id="post-13505">
    <div class="subject"><a href="#post-13505">Inexplicable Error</a></div>
    <div class="body">Thanks!<br />I figured out why that caused a crash<br />the div command divides the 64bit number edx:eax by 10 in my program. Since dx was unused, it was filled with some garbage value larger than 10, which made the result of dividing edx:eax by 10 greater than 2^32, causing an overflow of the eax reg and a crash. <br />Thanks again!</div>
    <div class="meta">Posted on 2001-11-29 15:47:46 by LOLTH</div>
   </div>
  </div>
 </body>
</html>
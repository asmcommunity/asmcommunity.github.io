<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>remainder... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1475" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1475">remainder...</a></p>
   <div class="post" id="post-9533">
    <div class="subject"><a href="#post-9533">remainder...</a></div>
    <div class="body">Hey guys...<br />Is there an opcode which calculates the remainder a.k.a MOD of a division or does anyone know of a trick to perform this...i can code this using standard div/mul/sub but is there a clever! way of doing it?<br /><br />eg.<br />two integers INT1 INT2<br />INT1 mod INT2=INT1 - ((INT1/INT2)*INT2);/= interger division<br /><br />so if INT1=5 and INT2 =3 then:<br /><br />mov edx,0             ;setup for division<br />mov eax,INT1        ; eax =5<br />mov ecx,INT2        ;ecx =3<br />div ecx                  ;eax=1<br />mul ecx                 ;eax=3<br />mov ecx,INT1        ;ecx=5<br />sub ecx,eax          ;ecx=2, remainder <br /><br />thanks all<br /><br />The Martial</div>
    <div class="meta">Posted on 2001-10-16 11:27:16 by MArtial_Code</div>
   </div>
   <div class="post" id="post-9535">
    <div class="subject"><a href="#post-9535">remainder...</a></div>
    <div class="body">im not sure but isnt the remainder in (e)dx or ah after div?<br /><br />japheth</div>
    <div class="meta">Posted on 2001-10-16 11:33:39 by japheth</div>
   </div>
   <div class="post" id="post-9536">
    <div class="subject"><a href="#post-9536">remainder...</a></div>
    <div class="body">if the operand is a dword, the quotient will be in eax and the remainder in edx.</div>
    <div class="meta">Posted on 2001-10-16 11:43:20 by Tola</div>
   </div>
   <div class="post" id="post-9537">
    <div class="subject"><a href="#post-9537">remainder...</a></div>
    <div class="body">If INT2 is a constant, there are a couple of options!<br /><br /><pre><code><br />  IF INT2 is a power of 2, simply&#58;<br />    mask = NOT&#40;INT2 - 1&#41;<br />    and INT1, mask<br /><br />  IF INT1 is a word in ax, and the divisor is a byte&#58;<br /><br />  db 0D4h, INT2<br />  ;An undocumented, un mneumoniced instruction<br />  ;based on AAM. It'll take quite a few clocks, but<br />  ;marginally better than a divide<br /></code></pre><br /><br />Other than that, divide is a nasty thing to code (it sucks in logic too, and it takes too many gates to speed it up :( ), its difficult to do a better &quot;general&quot; solution, if you have a specific subset of numbers in mind, then there can be cheats &amp; hacks.<br /><br />div is the best general rule way of doing things though.<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-10-16 12:02:42 by Mirno</div>
   </div>
   <div class="post" id="post-9558">
    <div class="subject"><a href="#post-9558">remainder...</a></div>
    <div class="body">Cheers Guys...just checked up on the div instruction and indeed the remainder is in edx<br /><br />the Martial</div>
    <div class="meta">Posted on 2001-10-16 17:41:57 by MArtial_Code</div>
   </div>
   <div class="post" id="post-9567">
    <div class="subject"><a href="#post-9567">remainder...</a></div>
    <div class="body">Yea, DIV is a hog but it's nice to have. Ever work on a CPU that didn't have hardware MUL/DIV? The 6502 didn't. You had to code compare/subtract/shift loops to divide. :)</div>
    <div class="meta">Posted on 2001-10-16 20:57:34 by S/390</div>
   </div>
  </div>
 </body>
</html>
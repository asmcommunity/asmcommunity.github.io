<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Problem with 'fst' - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8190" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=8190">Problem with 'fst'</a></p>
   <div class="post" id="post-59946">
    <div class="subject"><a href="#post-59946">Problem with 'fst'</a></div>
    <div class="body">Why doesn't FASM want to take a tword as an argument of FST command? :confused: I thought FPU works mainly (if not only) with this datatype. How should I save a 80-bit value to memory?<br />Can anyone also provide me with some examples of using FPU?</div>
    <div class="meta">Posted on 2002-09-29 04:27:41 by longer</div>
   </div>
   <div class="post" id="post-59947">
    <div class="subject"><a href="#post-59947">Problem with 'fst'</a></div>
    <div class="body">The FPU works with that data types internally, and its only recommended that you uses them if the small bit of extra precision they provide is absolutly necessary. This is because they are much slower.<br /><br />If you do still need to use them however the you should be aware that the only two instructions which accept them as operands are fld &amp; fstp :)<br /><br />As for examples, check out Amr's nice <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=7997">Math program</a></div>
    <div class="meta">Posted on 2002-09-29 05:06:47 by Eóin</div>
   </div>
   <div class="post" id="post-59995">
    <div class="subject"><a href="#post-59995">Problem with 'fst'</a></div>
    <div class="body"><div class="quote"><br />If you do still need to use them however the you should be aware that the only two instructions which accept them as operands are fld &amp; fstp :)</div>Additionally, FXSAVE/FXRSTOR &amp; FSAVE/FNSAVE/FRSTOR also use 80-bit FPU numbers.</div>
    <div class="meta">Posted on 2002-09-29 12:04:24 by bitRAKE</div>
   </div>
   <div class="post" id="post-59996">
    <div class="subject"><a href="#post-59996">Problem with 'fst'</a></div>
    <div class="body">My appologies <br /><br />:stupid:</div>
    <div class="meta">Posted on 2002-09-29 12:39:03 by Eóin</div>
   </div>
   <div class="post" id="post-60002">
    <div class="subject"><a href="#post-60002">Problem with 'fst'</a></div>
    <div class="body"><strong>E?in</strong>, do you think it might be faster for some routine to use FXRSTOR instead of several FLD or MOVQ reg?  It would take more memory, but I was surprised by how fast this instruction is on an Athlon.</div>
    <div class="meta">Posted on 2002-09-29 13:27:33 by bitRAKE</div>
   </div>
   <div class="post" id="post-60168">
    <div class="subject"><a href="#post-60168">Problem with 'fst'</a></div>
    <div class="body">Thanks a lot both of you!<br />And one more question:<br />Are there any online resources that contain complete documentation on FPU instructions (including operand sizes)?</div>
    <div class="meta">Posted on 2002-09-30 11:39:15 by longer</div>
   </div>
   <div class="post" id="post-60388">
    <div class="subject"><a href="#post-60388">Problem with 'fst'</a></div>
    <div class="body">Hi longer,<br />search this board, there is a very nice tutorial  by The Svine.<br />ANd the complete docs, in <a target="_blank" href="http://developer.intel.com">http://developer.intel.com</a></div>
    <div class="meta">Posted on 2002-10-02 10:01:46 by slop</div>
   </div>
   <div class="post" id="post-60459">
    <div class="subject"><a href="#post-60459">Problem with 'fst'</a></div>
    <div class="body">Hi sloppy,<br />thanks for your help!</div>
    <div class="meta">Posted on 2002-10-03 00:24:56 by longer</div>
   </div>
   <div class="post" id="post-60554">
    <div class="subject"><a href="#post-60554">Problem with 'fst'</a></div>
    <div class="body">bitRAKE, I've been in college all week and didn't get a chance to reply.<br /><br />Unfortunatly I don't quite follow what you mean. Are you suggesting it as a method of quickly freeing up the registers, it sounds very interesting.</div>
    <div class="meta">Posted on 2002-10-04 12:56:06 by Eóin</div>
   </div>
   <div class="post" id="post-60581">
    <div class="subject"><a href="#post-60581">Problem with 'fst'</a></div>
    <div class="body">Yeah, I was suggesting using it like the MOVEM instruction on the 680x0 CPU - to load/store all the registers very quickly at high perscision.  The OS does it all the time during task switches - hence the reason for AMD speeding it up. :)  Haven't done any testing - just a thought.</div>
    <div class="meta">Posted on 2002-10-04 19:15:11 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Pulldown menu does appear - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=839" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=839">Pulldown menu does appear</a></p>
   <div class="post" id="post-5296">
    <div class="subject"><a href="#post-5296">Pulldown menu does appear</a></div>
    <div class="body">Hi,<br /><br />I am new to WIN32 assembly. I have started a project to learn it. But I have encountered the following problem.<br /><br />The program is a MDI application, with two other windows in the parent frame. I create the MDIClient window and then resize the MDIClient window, to make room for two more windows. These two new windows are not siblings of the MDIClient window. They are children of the frame window. However after I create these windows, the menu does not function properly. I have to click on a menu item and then move the mouse down, where the pulldown menu is supposed to appear, and only then the menu is shown? Why?</div>
    <div class="meta">Posted on 2001-08-29 11:00:26 by Rob</div>
   </div>
   <div class="post" id="post-5332">
    <div class="subject"><a href="#post-5332">Pulldown menu does appear</a></div>
    <div class="body">Afternoon, Rob.<br /><br />I'm only having a guess here. Are you painting over the client area of the main window in WM_PAINT?<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2001-08-29 16:51:26 by Scronty</div>
   </div>
   <div class="post" id="post-5372">
    <div class="subject"><a href="#post-5372">Pulldown menu does appear</a></div>
    <div class="body">Hello Scronty,<br /><br />I use the frame window's WM_PANIT message to resize and reposition the MDIClient window. This has to be done everytime the window is shown or repainted, otherwise the frame window gives all its its client area to the MDIClient window (or MDIClient windows claimes it!?). Other than that I do not do any painting, so to speak (i.e. BeginPaint, Endpaint). But now that you mentioned it, I am going to put the same code in other message handlers of the frame window. I think I tried couple of them and I don't remember that solving the problem. I am going to try some more messages. I will post the result.<br />I am also going to try to use other widows message handlers for the resizing and repositioning. Maybe that will work.</div>
    <div class="meta">Posted on 2001-08-30 06:28:59 by Rob</div>
   </div>
   <div class="post" id="post-5422">
    <div class="subject"><a href="#post-5422">Pulldown menu does appear</a></div>
    <div class="body">Bingo.<br /><br />I moved the code out of WM_PAINT and now everything seems to be OK. <br /><br />Thanks.</div>
    <div class="meta">Posted on 2001-08-30 16:26:46 by Rob</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>decimal to binary and display in 16 bits... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29313" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29313">decimal to binary and display in 16 bits...</a></p>
   <div class="post" id="post-207007">
    <div class="subject"><a href="#post-207007">decimal to binary and display in 16 bits...</a></div>
    <div class="body">Hi everyone! I&#039;m new here and I&#039;m very new at this language so here it goes:<br /><br />I am writing a little program that converts a decimal input to a 16 bit binary number, and it will keep asking for input until the user types in zero. I have already written a good portion of this, but I am not sure how to handle the case if the input is a negative number and I am also not sure how to output it in 16 bits...I think it has something to do with shifting??? If anyone could help it would be greatly appreciated. Thanks in advance....I am using PEP/8 to do this as well:<br /><br />begin:&nbsp; stro prompt, d <br />&nbsp; &nbsp; &nbsp; &nbsp; deci num, d	<br />&nbsp; 	lda num, d	<br />	sta num, d<br />getBin: lda num, d&nbsp; &nbsp; &nbsp; &nbsp; <br />	cpa 0, i&nbsp; &nbsp; &nbsp; &nbsp; <br />	breq stop	<br />	anda 1, i	<br />	sta bin, d	<br />	deco bin, d	<br />	lda num, d	<br />	asra	<br />	sta num, d	<br />	lda num, d	<br />	cpa 0, i	<br />	br getBin<br />stop: STOP<br />bin: .block 2<br />num: .block 2<br />num2:.block 2<br />prompt: .ascii &quot; Please enter a decimal number:\x00&quot;<br />.end</div>
    <div class="meta">Posted on 2009-03-08 13:27:30 by guitarlady3000</div>
   </div>
   <div class="post" id="post-207021">
    <div class="subject"><a href="#post-207021">Re: decimal to binary and display in 16 bits...</a></div>
    <div class="body">I am not familiar with the instructionset you are using here, so I cannot give any comments on the code itself.<br />I can explain how a negative number is handled though:<br />You check if the first character is a &#039;-&#039;, and remember this for later.<br />Then you parse the rest of the characters as if it was a positive number.<br />When you&#039;re done parsing, you now negate the parsed number (two&#039;s complement). This can be done either by using a &#039;neg&#039; instruction, or by subtracting from 0.<br /><br />So in pseudocode:<br />if (firstchar == &#039;-&#039;)<br />&nbsp; negative = true;<br /><br />x = Parse(input);<br /><br />if (negative)<br />&nbsp; x = -x;</div>
    <div class="meta">Posted on 2009-03-10 07:06:28 by Scali</div>
   </div>
  </div>
 </body>
</html>
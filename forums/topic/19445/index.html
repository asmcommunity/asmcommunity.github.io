<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>OPATTR and TYPE operators problems - MASM bug? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19445" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19445">OPATTR and TYPE operators problems - MASM bug?</a></p>
   <div class="post" id="post-149884">
    <div class="subject"><a href="#post-149884">OPATTR and TYPE operators problems - MASM bug?</a></div>
    <div class="body">Hi,<br />I'm playing more and more with mentioned operators. It seems that there are some situations when they do not work correctly, but I can't specify it more yet.<br />While browsing this board, I found some info. The following is cut and paste from some macros that I found:<br /><br />From BitRAKE's fpc macro, at the bottom:<br />http://www.asmcommunity.net/board/viewtopic.php?t=13863<br /><br /><pre><code>    IF &#40;OPATTR&#40;w&#41;&#41; EQ 0 ;; not defined <br />   dummy EQU $   ;; MASM error fix</code></pre><br /><br />From Four-F's $IsByte macro, at the bottom:<br />http://www.asmcommunity.net/board/viewtopic.php?t=14450<br /><pre><code>IF &#40;TYPE Operand&#41; EQ 1 <br />        EXITM &lt;-1&gt; <br />    ELSE            ; dunno why, but &#40;TYPE al, bl..&#41; doesn't work </code></pre><br /><br />It seems I have similar problems. Is there any documentation about these bugs? It's pretty annoying to find the correct way of using them.<br /><br /><br />Heh, I just found some info at masmforum.com, by gfalen:<br />http://www.masmforum.com/viewtopic.php?t=816<br /><div class="quote">2- The opattr comand fails on 8 bit registers <br />The opattr bug has been fixed in v7.00.9466 which comes with the XP DDK. The conversion bug is still present.</div><br /></div>
    <div class="meta">Posted on 2004-09-16 18:06:52 by MazeGen</div>
   </div>
   <div class="post" id="post-149886">
    <div class="subject"><a href="#post-149886">OPATTR and TYPE operators problems - MASM bug?</a></div>
    <div class="body">...not as annoying as finding the bugs. :D<br /><br />There was a thread in the heap on MASM bugs.  I can't find it ATM.  There is an error with multi-dimensional STRUCTs and only the first item in UNION can be initiatlized, and some other stuff...<br /><br />...I'll see if I can find it.</div>
    <div class="meta">Posted on 2004-09-16 18:41:12 by bitRAKE</div>
   </div>
   <div class="post" id="post-149887">
    <div class="subject"><a href="#post-149887">OPATTR and TYPE operators problems - MASM bug?</a></div>
    <div class="body"><div class="quote">...not as annoying as finding the bugs. :D</div><br /> :-D<br /><br />Please, do you more about the &quot;dummy EQU $ MASM error fix&quot; while using OPATTR? That seems to be important to me...<br /><div class="quote">...I'll see if I can find it.</div><br />I very appreciate your help, bitRAKE.<br /><br />I think it'd be very useful having such &quot;MASM-bugs-list thread&quot; in FAQ, wouldn't it?</div>
    <div class="meta">Posted on 2004-09-16 19:01:44 by MazeGen</div>
   </div>
   <div class="post" id="post-149892">
    <div class="subject"><a href="#post-149892">OPATTR and TYPE operators problems - MASM bug?</a></div>
    <div class="body">The &quot;dummy EQU $&quot; is only useful for segment switches within a macro, iirc.  <strong>Maelstrom</strong>, was the source of the refined solution.  Please, read the following thread for a greater understanding of it's use:<br /><br />http://www.asmcommunity.net/board/viewtopic.php?t=7797&amp;highlight=dummy+equ<br /><br />I've have put some effort into looking for the other thread and I can't find it.</div>
    <div class="meta">Posted on 2004-09-16 21:40:05 by bitRAKE</div>
   </div>
   <div class="post" id="post-149903">
    <div class="subject"><a href="#post-149903">OPATTR and TYPE operators problems - MASM bug?</a></div>
    <div class="body">Thanks for the thread, it's clear now. Now I know more so I can proceed with coding. :)</div>
    <div class="meta">Posted on 2004-09-17 03:26:46 by MazeGen</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>black box - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29972" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=29972">black box</a></p>
   <div class="post" id="post-211591">
    <div class="subject"><a href="#post-211591">black box</a></div>
    <div class="body">Hello,<br /><br />I always thought about asm community as the best forum. Now, though a question i ask is not directly connected with assembly or indeed computers in general, i still hope that readers, being in possesion of a keen brain, would provide as much help as they can.<br /><br />I was reading a book on mathematical puzzles recently, and there was one which i couldn&#039;t solve, mostly because i am not a very clever guy. Perhaps you will have some ideas?<br /><br />The area of the puzzle is non -linear algebra and number theory. <br /><br />The author talks about a following situation. We have a machine, which can accept input (an integer) , and produce an output (also an integer) depending on the input.<br />We know, that calculations inside the machine are following:<br /><br />F(x) = ( a0 + a1*x<sup>1</sup> + ... + a7*x<sup>7 </sup> ) MOD M<br /><br />But we don&#039;t know modulo or coefficients. However, M, ai, x must be between [0, 65535]<br /><br />the goal is to find out all ai coefficients and modulo M;<br /><br />We can calculate F function arbitrary number of times for any argument we want .<br /><br />---------------------------------------------------------------------------------------------<br />Now, my ideas so far were:<br />1) We can build a system of linear equaions (8 of them), for x between 0 to 7, and solve it with Gaussian reduction, or with Kramer rule. This would give us all coefficients easily. <br />For instance (slightly shorter example)<br /><br />let the inner state of the machine be: F(x) = a0 + a1x + a2x<sup>2</sup><br /><br />a0 = 3<br />a1 = 7<br />a2 = 2<br /><br />then F(1) = 12, F(2) = 25, F(3) = 42 and the system of equations is:<br /><br />a0 + a1 + a2 = 12<br />a0 + 2a1 + 4a2 = 25<br />a0 + 3a1 +9a2 = 42<br /><br />and by applying the Kramer rule we get the correct values of coefficients, 3, 7 and 2.<br /><br />But we have a problem - modulo M. <br /><br />Now if M is a prime (13 for simplicity) : the system changes - <br /><br />a0 + a1 + a2 = 12<br />a0 + 2a1 + 4a2 = 12<br />a0 + 3a1 +9a2 = 3<br /><br />And the results would be 3, 13.5 and -4.5<br />Result is in the same class modulo M as the original coefficients, and we can obtain original:<br /><br />13.5 = 27/2 (mod 13) = (27 + 13) / 2 = 40/2 = 20 (mod 13) = 7<br /><br />in the same way:<br /><br />-4.5 = -9/2 ( mod 13) = (-9 + 13) /2 = 4/2 =2<br /><br />And we can find inside state of function F. This however, needs the modulo to be known. <br /><br />But if the modulo M is not prime (say 14), for the system above results would be:<br />3, 14, -5 or after doing the modulo operation : 3, 0, 9<br /><br />Now, the answer is not correct (the inside state of F function are different).<br /><br />So, i am having trouble with this bit.<br /><br />I understand, that if we calculate all possible results for all 60 + thousand inputs, we will have a table with which we can recreate the F function.<br /><br />But the author states that there is a more brilliant solution, which requires lesser amount of computations. <br /><br />Do you find it interesting? Perhaps you would also like to know the answer? The author calls this puzzle a &quot;black box&quot;<br /><br />Lets try solving it together!<br /><br /></div>
    <div class="meta">Posted on 2010-05-06 14:16:13 by Turnip</div>
   </div>
   <div class="post" id="post-211835">
    <div class="subject"><a href="#post-211835">Re: black box</a></div>
    <div class="body">Hello, some comments from me. <br /><br />You are right that the question is trivial when M is a prime as it forms a field of characteristic M and so for every element in M (except the 0 element) there is an inverse element (which can be calculated using fermat&#039;s littler theorem or euclid&#039;s algorithm). Hence, we can perform Guassian Elimination and solve the thing (I&#039;ve solved such a problem before and coded it out).<br /><br />Now the main thing is when M is not a prime. I&#039;m not too sure how to continue from there. Will think about it more when I have time.</div>
    <div class="meta">Posted on 2010-05-26 18:53:18 by roticv</div>
   </div>
   <div class="post" id="post-211871">
    <div class="subject"><a href="#post-211871">Re: black box</a></div>
    <div class="body">Hello<br />great somebody showed interest at last. I&#039;ve asked around concerning non-prime modulo and usually people mentioned that theory concerning such equations is too complex and not very advanced yet.<br /><br />still i don&#039;t know much about whether its so.<br /><br /></div>
    <div class="meta">Posted on 2010-05-30 08:14:48 by Turnip</div>
   </div>
  </div>
 </body>
</html>
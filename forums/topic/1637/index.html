<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Cards game - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1637" />
    <link rel="next" href="../?id=1637&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1637">Cards game</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=1637&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=1637&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="1637" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=1637&amp;page=2">&gt;</a><a href="../?id=1637&amp;page=3">&raquo;</a></form>   <div class="post" id="post-10460">
    <div class="subject"><a href="#post-10460">Cards game</a></div>
    <div class="body">Hi guys,<br />         I am writing a card games (pinochle to be specific) that allows the user to play against the computer. Actually, I know how to program the simple IA that it is going to have, or how to keep the score. But, i have (and had always) problems with images. The problem is:<br />     - I do not know how to give an image to a card, how can i program this? Do I need to have all the images in a bmp file? And then?<br />     I dont know how to continue (or begin) cos i dont know even how to put a 1 in a card. I mean, i dont know how to create a card.<br /><br /><br />Thanks by any answer and i appreciate a lot that you have read this thread. I am sorry for my poor english.<br /><br />Thank you again</div>
    <div class="meta">Posted on 2001-10-28 08:54:08 by CodeLover</div>
   </div>
   <div class="post" id="post-10466">
    <div class="subject"><a href="#post-10466">Cards game</a></div>
    <div class="body">Hi CodeLover<br /><br />The way I would do it is to create a few small bmp's and build the card using code. One bmp for each card or one bmp for all cards would take up a lot of space.<br /><br />KetilO</div>
    <div class="meta">Posted on 2001-10-28 09:46:55 by KetilO</div>
   </div>
   <div class="post" id="post-10470">
    <div class="subject"><a href="#post-10470">Cards game</a></div>
    <div class="body">This might help. Theres a dll that comes with windows that has the card pictures in the dll so you dont have to create your own. Im sorry i dont know which dll.</div>
    <div class="meta">Posted on 2001-10-28 10:50:27 by ChimpFace9000</div>
   </div>
   <div class="post" id="post-10473">
    <div class="subject"><a href="#post-10473">Cards game</a></div>
    <div class="body">Yes, the DLL is cards.dll, used by microsoft's card games.<br />Here are an old article about this subject from MIND:<br /><a target="_blank" href="http://www.microsoft.com/mind/default1.asp?page=/mind/0396/games.htm">http://www.microsoft.com/mind/default1.asp?page=/mind/0396/games.htm</a><br />and a tutorial about cards.dll<br /><a target="_blank" href="http://freespace.virgin.net/james.brown7/tutorials/cardtut.htm">http://freespace.virgin.net/james.brown7/tutorials/cardtut.htm</a><br />I hope it helps.</div>
    <div class="meta">Posted on 2001-10-28 10:59:47 by LuHa</div>
   </div>
   <div class="post" id="post-10478">
    <div class="subject"><a href="#post-10478">Cards game</a></div>
    <div class="body">Hi all<br /><br />Why does'nt this work? :confused: <br /><br />KetilO</div>
    <div class="meta">Posted on 2001-10-28 11:58:45 by KetilO</div>
   </div>
   <div class="post" id="post-10479">
    <div class="subject"><a href="#post-10479">Cards game</a></div>
    <div class="body">hoi,<br />to much wine,<br />but,<br />one way is to create STATIC windows on WM_CREATE<br />with an image style (API 'CreateWindowEx').<br />This are the cards !<br />Load an image via  API 'LoadIcon' or via<br />API 'LoadBitmap'<br />Images are defined inside resource.<br />If you wonna load them from a file you can use<br />API 'LoadImage'. On win2j I think you can also<br />load metafiles.<br />Assign an image via API 'SendMessage' STM_SETIMAGE.<br />You use API 'ShowWindow' to SW_HIDE or SW_SHOWNORMAL the spec. window.<br />But this is not the best way ...<br /><br />fin<br /><br />TD</div>
    <div class="meta">Posted on 2001-10-28 12:09:17 by Test Department</div>
   </div>
   <div class="post" id="post-10483">
    <div class="subject"><a href="#post-10483">Cards game</a></div>
    <div class="body">KetilO, what do you mean it doesn't work? Looks fine to me...</div>
    <div class="meta">Posted on 2001-10-28 13:16:10 by Qweerdy</div>
   </div>
   <div class="post" id="post-10486">
    <div class="subject"><a href="#post-10486">Cards game</a></div>
    <div class="body">Hi Qweerdy<br /><br />The cards should be 2,3,4 :grin: <br /><br />Got it working.<br /><br />KetilO</div>
    <div class="meta">Posted on 2001-10-28 13:43:01 by KetilO</div>
   </div>
   <div class="post" id="post-10561">
    <div class="subject"><a href="#post-10561">Cards game</a></div>
    <div class="body">That works good for me (I can see 2,3,4,2).<br /><br />I you want, I can help you for your project.<br />I started a few months ago, to make a game (I don't remember the name and the aim of this game) but I use a dll (where there are all the cards) and I managed to do randomize the distribution for 2 players.<br /><br />download it and say if you're interested in it.<br />Sorry, there is only the exe file. coz I couldn't find the source on my HDD. I will hava a look at it.</div>
    <div class="meta">Posted on 2001-10-29 05:29:31 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-10572">
    <div class="subject"><a href="#post-10572">Cards game</a></div>
    <div class="body">Hi Vom-bonjour:-()<br /><br />Cards.dll missing. :grin: <br /><br />KetilO</div>
    <div class="meta">Posted on 2001-10-29 05:49:52 by KetilO</div>
   </div>
   <div class="post" id="post-10576">
    <div class="subject"><a href="#post-10576">Cards game</a></div>
    <div class="body">Thanks, now it does not look so complicated. I will post my source code in a few days.</div>
    <div class="meta">Posted on 2001-10-29 05:58:35 by CodeLover</div>
   </div>
   <div class="post" id="post-10590">
    <div class="subject"><a href="#post-10590">Cards game</a></div>
    <div class="body">Sorry, I forgot it<br />Here is the new package with the dll. In fact, I used the Windows DLL (cards.dll) but I extracted all the bmps and I re-made a new dll with only the cards I needed. (because the Windows cards dll is used by many games, so there are cards I don't need).<br /><br />Can someone say me if it's legal to do that, I mean extract resources from a dll and use these resources ?<br /><br />If you want, you can go here : <a target="_blank" href="http://www.vombonjour.fr.fm">www.vombonjour.fr.fm</a> <br />or at <a target="_blank" href="http://www.chez.com/vombonjour">www.chez.com/vombonjour</a>  if the first link doesn't work.<br /><br />It's a chat where you can speak with me if you've got problem.</div>
    <div class="meta">Posted on 2001-10-29 06:56:00 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-10614">
    <div class="subject"><a href="#post-10614">Cards game</a></div>
    <div class="body">Good question Vom-bonjour:-(), i do not know if extracting resources from a DLL is not legal, but: is it legal to use the cards.dll in a commercial game?</div>
    <div class="meta">Posted on 2001-10-29 14:08:34 by CodeLover</div>
   </div>
   <div class="post" id="post-10683">
    <div class="subject"><a href="#post-10683">Cards game</a></div>
    <div class="body">Afternoon, All.<br /><br />I had a look at the links provided by LuHa.<br /><br />It seems that it's OK to use cards.dll/cards32.dll in your games, as the author at the MSDN site (<a target="_blank" href="http://www.microsoft.com/mind/default1.asp?page=/mind/0396/games.htm">Here</a> ) mentions that:<br /><div class="quote"><br />If you write a 32-bit game, you will need to install CARDS32.DLL on the user's machine.</div><br />Now, I'm quite sure that MS wouldn't encourage piracy on its own site ;).<br /><br />Using the info at these sites, I've come up with Win32ASM code for using the card32.dll.<br /><br />I still wouldn't have a clue how to go about *thunking* to the 16-bit cards.dll. It seems more effort than its worth, unless someone's already come up with the solution.<br /><br />I've attached the proggy, with associated files.<br /><br />Have fun. Use it as you please.<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2001-10-30 05:56:00 by Scronty</div>
   </div>
   <div class="post" id="post-10705">
    <div class="subject"><a href="#post-10705">Cards game</a></div>
    <div class="body">Scronty - That's what I was doing yesterday! I like your use of <br /><br />cdtDraw Proto C :VARARG<br /><br />I need to investigate that more. I used GetProcAddress to get the 5 functions, and Call to use them..oh well, it worked (hahaha). Thanks for posting that!<br /><br />I've been unable to find any .asm on shuffling a deck of cards. Anyone have anything?<br /><br />BTW: Here's what I ended up with:</div>
    <div class="meta">Posted on 2001-10-30 09:07:28 by gscundiff</div>
   </div>
   <div class="post" id="post-10708">
    <div class="subject"><a href="#post-10708">Cards game</a></div>
    <div class="body">Sorry, I'm French,<br />and I don't understand what you mean with &quot;<strong>shuffling a deck of cards</strong>&quot; ??<br /><br />Thanks</div>
    <div class="meta">Posted on 2001-10-30 10:01:05 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-10718">
    <div class="subject"><a href="#post-10718">Cards game</a></div>
    <div class="body">Hi Vom-bonjour:-()<br /><br />I was looking at your program (cresus.zip) and noticed that you -shuffled the cards- or -you managed to do randomize the distribution-.<br /><br />I have seen some C:<br /><br />Randomize <br />For i = 1 to 100 ' or any other large integer <br />r1 = int(rnd * 52) + 1 'First card <br />r2 = int(rnd * 52) + 1 ' Second card <br />tmp = CardArray(r1) <br />CardArray(r1) = CardArray(r2) ' Swap operation <br />CardArray(r2) = tmp <br />Next i <br /><br />and also read some ideas:<br /><br />Let's say the we need 10 unique random numbers. We initialize a 10 element array<br />with 1 through 10 (in order). We then pick a random number from 1 to 10, let's say<br />we get 3. We swap element 3 with element 10. Then we pick a random number<br />from 1 to 9; say we get 5. We swap element 5 with element 9. And so on, until we<br />run out of elements. <br /><br />I was just wondering what would be the best way to randomize (shuffle) a deck of 52 cards in .asm ??</div>
    <div class="meta">Posted on 2001-10-30 11:40:03 by gscundiff</div>
   </div>
   <div class="post" id="post-10722">
    <div class="subject"><a href="#post-10722">Cards game</a></div>
    <div class="body">I have never made a C prog. so I can't really help you about syntax in C.<br />But the 2nd idea looks pretty good.<br />In my prog, I didn't do that, I made two 26 bytes array. (2*26=52 for a 52 cards game).<br /><br />I use a random number (obtained with GetTickCount function), the number must be between 1 and 52.<br />Then I put the card number in the 1st array.<br />then I display the card loaded from the dll resource.<br />I do the same thing again (after having incremented the pointer to the array), but I check everytime if the card number haven't been already used in the array.<br /><br />Now the 26 cards (for example for the 1st player) are displayed.<br /><br />Then I do again for the 2nd array.<br /><br />So at the end I've got no &quot;same cards&quot;, I mean every cards are different.<br /><br />If you want, I can send you the source code, but I'm sorry that there are no comments, and there must be many French words that are not very important to understand.<br /><br />Hope this would help a bit.</div>
    <div class="meta">Posted on 2001-10-30 12:04:28 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-10729">
    <div class="subject"><a href="#post-10729">Cards game</a></div>
    <div class="body">Thank you for the explanation. I've read somewhere that someone was trying to do something similar to what you described, but were skeptical that the last few randomizations might take a long time to complete. But it seems to work fine in your program!<br /><br />Yes, please, I would like to see your source.:) <br /><br /><a href="mailto:gscundiff@home.com">gscundiff@home.com</a></div>
    <div class="meta">Posted on 2001-10-30 12:55:03 by gscundiff</div>
   </div>
   <div class="post" id="post-10762">
    <div class="subject"><a href="#post-10762">Cards game</a></div>
    <div class="body">1. Get random numbers into an array<br />2. Copy array of random numbers<br />3. Sort second array<br />4. Replace number in first array with index of number in second array<br />5. Shuffled cards are first array!</div>
    <div class="meta">Posted on 2001-10-30 18:53:20 by bitRAKE</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=1637&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=1637&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="1637" /><input type="number" name="page" min="1" max="3" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=1637&amp;page=2">&gt;</a><a href="../?id=1637&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ToolBar paint Version 1 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15482" />
  <link rel="prev" href="../?id=15482&amp;page=1" />  <link rel="next" href="../?id=15482&amp;page=3" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=24">IDE usage &amp; development</a> &raquo; <a href="../?id=15482">ToolBar paint Version 1</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=15482&amp;page=1" style="">&laquo;</a><a href="../?id=15482&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="15482" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=15482&amp;page=3">&gt;</a><a href="../?id=15482&amp;page=3">&raquo;</a></form>   <div class="post" id="post-120881">
    <div class="subject"><a href="#post-120881">ToolBar paint Version 1</a></div>
    <div class="body">Ok... :) I look forward to that! ;) ...I'll let you know if I find it out myself... Keep up the good work! Thanks for this program!<br /><br />Regards,<br />Tommy</div>
    <div class="meta">Posted on 2003-10-09 12:52:10 by Tommy</div>
   </div>
   <div class="post" id="post-120976">
    <div class="subject"><a href="#post-120976">ToolBar paint Version 1</a></div>
    <div class="body">Hi Tommy,<br /><br />Check the site, I have added a save as icon plug in.</div>
    <div class="meta">Posted on 2003-10-10 05:08:00 by donkey</div>
   </div>
   <div class="post" id="post-121001">
    <div class="subject"><a href="#post-121001">ToolBar paint Version 1</a></div>
    <div class="body">Cool! :cool: I'll take a look! ;)</div>
    <div class="meta">Posted on 2003-10-10 10:57:31 by Tommy</div>
   </div>
   <div class="post" id="post-121003">
    <div class="subject"><a href="#post-121003">ToolBar paint Version 1</a></div>
    <div class="body">Good work! :alright: What about saving multiple formats in one icon (example: one 16x16, one 32x32 and one 48x48)?<br />Take your time, and only if you want to... If you're not doing it, maybe I get the time to fix it.... (or: probably not, school takes all my time :() Well, although, excellent work! ;)<br /><br />Thanks! So long!<br />Tommy</div>
    <div class="meta">Posted on 2003-10-10 11:10:30 by Tommy</div>
   </div>
   <div class="post" id="post-121004">
    <div class="subject"><a href="#post-121004">ToolBar paint Version 1</a></div>
    <div class="body"><div class="quote"><br />Good work! :alright: What about saving multiple formats in one icon (example: one 16x16, one 32x32 and one 48x48)?<br />Take your time, and only if you want to... If you're not doing it, maybe I get the time to fix it.... (or: probably not, school takes all my time :() Well, although, excellent work! ;)<br /><br />Thanks! So long!<br />Tommy </div><br />Thanks Tommy,<br /><br />The problem with multiple size formats is where is the data coming from ? You could stretchblt the contents but LoadImage will do that for you when you load the icon anyway, the shell will also stretchblt if one is not available. I may write a dedicated icon editor that can save multiple icon formats but TBPaint is not really adaptable in any meaningful way to multiple size formats. What might be useful is the ability to save at multiple color depths but the current algoritm is not really set up to allow good color reduction, it would require a bit of work with the color DIB section, I may tackle that some time soon.<br /><br />I think a good application for a new icon plug in would be to save the complete toolbar or a range of buttons as an ani icon, that may be my next icon project. For now though I am a bit fed up with the icon file format to tackle the project for a few days and the trip to color reduction hell is not something I am looking forward to ;)</div>
    <div class="meta">Posted on 2003-10-10 11:34:58 by donkey</div>
   </div>
   <div class="post" id="post-121007">
    <div class="subject"><a href="#post-121007">ToolBar paint Version 1</a></div>
    <div class="body">Yes, I see.... I was actually thinking about the same... :) I agree with you: an icon-editor should be a separate application.</div>
    <div class="meta">Posted on 2003-10-10 12:12:54 by Tommy</div>
   </div>
   <div class="post" id="post-121017">
    <div class="subject"><a href="#post-121017">ToolBar paint Version 1</a></div>
    <div class="body">Just thought I'd mention it, Toolbar paint has received the top rating at WebAttack.com, that gives it a top rating at 3 different freeware sites.<br /><br /><a target="_blank" href="http://www.webattack.com/get/toolbarpaint.html">http://www.webattack.com/get/toolbarpaint.html</a></div>
    <div class="meta">Posted on 2003-10-10 14:07:22 by donkey</div>
   </div>
   <div class="post" id="post-121021">
    <div class="subject"><a href="#post-121021">ToolBar paint Version 1</a></div>
    <div class="body">Wow! Congratulations! :alright:</div>
    <div class="meta">Posted on 2003-10-10 14:57:14 by Delight</div>
   </div>
   <div class="post" id="post-121042">
    <div class="subject"><a href="#post-121042">ToolBar paint Version 1</a></div>
    <div class="body">donkey,<br /><br />Just used Toolbar paint yesterday and today to recreate the toolbar that Ewayne's ASMEdit helped me create a year ago.  (His step-by-step build a program generator was just what I needed when I didn't know anything about toolbars)<br /><br />I also used Toolbar paint to create 3 spare button as separate .bmp files and then I use ImageList_Replace to change my fifth button, based on the status of a business condition.  It has become my color coded alert system!<br /><br />I've tried other .bmp tools but I found Toolbar paint exactly what I needed!  Thanks!<br /><br />You da' equine!<br /><br />farrier</div>
    <div class="meta">Posted on 2003-10-10 21:07:13 by farrier</div>
   </div>
   <div class="post" id="post-121044">
    <div class="subject"><a href="#post-121044">ToolBar paint Version 1</a></div>
    <div class="body">Thanks farrier,<br /><br />Good to hear that it's being put to work, for me it came out of frustration with trying to draw toolbar graphics in MSPaint and replacing graphics with copy and paste. It always seemed to take 2 or 3 tries to get the image exactly aligned especially in large toolbars, I decided there had to be a better way. Funny thing is that there is absolutely nothing else I can find that does this, I had originally searched the web without finding anything and decided that the only way I was going to get a tool for it was to write it myself.</div>
    <div class="meta">Posted on 2003-10-10 21:23:26 by donkey</div>
   </div>
   <div class="post" id="post-121487">
    <div class="subject"><a href="#post-121487">ToolBar paint Version 1</a></div>
    <div class="body">Lim Chee Aun at Phoenity has redone the toolbar paint toolbar in Phoenity style and I personally really like it. It also gets rid of those nasty buttons I harvested from other applications :grin: , I have uploaded a new Toolbar paint with it's new toolbar look. Tell me what you think...<br /><br />PS I guess I should add that you must enable Phoenity buttons on the options menu then restart the program to see the new buttons.</div>
    <div class="meta">Posted on 2003-10-16 11:47:10 by donkey</div>
   </div>
   <div class="post" id="post-121581">
    <div class="subject"><a href="#post-121581">ToolBar paint Version 1</a></div>
    <div class="body">There was a critical buffer overrun in TBPaint's tbx handler, it has been fixed and a new download is available at my website.</div>
    <div class="meta">Posted on 2003-10-17 15:05:12 by donkey</div>
   </div>
   <div class="post" id="post-121942">
    <div class="subject"><a href="#post-121942">ToolBar paint Version 1</a></div>
    <div class="body">Uploaded version 1.2.0.2041 to my website:<br /><br /><strong>New in version 1.2.0 Build 2041</strong><br />Fixed most recently used menu bug -Thanks to Roberto for spotting it<br />Added Save position - Will save the window positions on close<br /><br /><strong>New in version 1.2.0 Build 2040</strong><br />Added Load last file option, it will auto-load the last file saved if checked<br />Load last file remembers the last button index<br />Grid on/off setting is now remembered<br />New program icon by Lim Chee Aun</div>
    <div class="meta">Posted on 2003-10-21 05:13:35 by donkey</div>
   </div>
   <div class="post" id="post-124292">
    <div class="subject"><a href="#post-124292">ToolBar paint Version 1</a></div>
    <div class="body">Uploaded version 1.2.0.2042 o my website, it includes faster graphics rendering through direct to bitmap writes, bypassing the GDI as well a fix for the TBP_KILLSELECTION tbx message. BTW I checked in at WebAttack, one of the freeware sites listing TBPaint and it is #1 in the Graphics editors category based on current download statistics:<br /><br /><img src="http://www.nt.net/donkey/images/tbpaint.gif" /></div>
    <div class="meta">Posted on 2003-11-13 17:50:50 by donkey</div>
   </div>
   <div class="post" id="post-124315">
    <div class="subject"><a href="#post-124315">ToolBar paint Version 1</a></div>
    <div class="body">Hi Donkey,<br /><br />I downloaded 2042 and I must say it is even worse in handling the selection than 2041. I created a dummy plugin for testing, please have a look at it. Test it with a &quot;normal&quot; selection and with a floating one (pasted). Maybe I'm doing something wrong in the plugin code...<br /><br />Some bugs with selection in 2042 (done on Win98, WinNT4 SP6a)<br /><br />1. Copy and paste a selection<br />2. Goto another image<br /><br />Pasted selection does not disappear<br /><br />3. Copy selection (the one that did not disappear)<br />4. Goto another image<br /><br />Selection gets merged with the background, but the change flag is not set (you're not asked to update the image)<br /><br />5. Paste the selection<br /><br />The selction is merged with the background, but it should be floating<br /><br /><br /><br />And two more things concerning TbxInstall procedure:<br />1. The parameters are switched (you pass hTbxID as hTbxMenu and vice versa - I checked it in OllyDbg)<br />2. There's something wrong with your routine that handles extra menu IDs passed in ecx (storing procedure addresses in an array. The pseudocode is:<br /><pre><code>  GetProcAddress&#40;hPlugin,&quot;TbxInstall&quot;&#41;;<br />  &#91;i&#93;if NULL goto next plugin&#91;/i&#93;<br />  &#91;i&#93;store this address in two memory locations &#40;local variable and array of pointers&#41;&#91;/i&#93;<br /><br />  GetProcAddress&#40;hPlugin,&quot;TbxInvoke&quot;&#41;;<br />  &#91;i&#93;store this address in two memory locations &#40;local variable and array of pointers&#41;&#91;/i&#93;<br /><br />  Plugin&#58;&#58;TbxInstall&#40;&#41;<br /><br />  &#91;i&#93;if ecx is not 0 then&#91;/i&#93;<br />    &#91;b&#93;inc edi&#91;/b&#93; &#91;COLOR=red&#93;;this is the source of the error, because you should increase edi by 8 &#40;two addresses&#41;&#91;/COLOR&#93;<br />    &#91;i&#93;store TbxInstall and TbxInvoke in the array&#91;/i&#93;<br />    &#91;i&#93;loop until ecx is 0&#91;/i&#93;</code></pre></div>
    <div class="meta">Posted on 2003-11-14 02:12:59 by Morris</div>
   </div>
   <div class="post" id="post-124327">
    <div class="subject"><a href="#post-124327">ToolBar paint Version 1</a></div>
    <div class="body">Hi morris,<br /><br />You're right, that procedure is not supposed to be in there. It is the test version is supposed to be excluded by a conditional assembly and only present in the debug version (_debug=TRUE). I will take care of it.</div>
    <div class="meta">Posted on 2003-11-14 07:23:18 by donkey</div>
   </div>
   <div class="post" id="post-124329">
    <div class="subject"><a href="#post-124329">ToolBar paint Version 1</a></div>
    <div class="body"><div class="quote"><em>Originally posted by donkey </em><br />TBPaint and it is #1 in the Graphics editors category</div><br /><br />Donkey, congratulations!. You are doing a very good product!:alright:</div>
    <div class="meta">Posted on 2003-11-14 07:53:48 by pelaillo</div>
   </div>
   <div class="post" id="post-124331">
    <div class="subject"><a href="#post-124331">ToolBar paint Version 1</a></div>
    <div class="body">Thanks pelaillo,<br /><br />morris,<br /><br />The weird thing is that the section of code with edi was add edi,SIZEOF FILTERPROCS in my version here. But when I went to reupload it I noticed that the zip file for TBPaint was still in the dev folder. It should have been moved automatically so I geuss I uploaded a test version (basically the nightly build). Pretty much incredibly stupid on my part, sorry. Uploaded build 2043, changing buttons during a paste operatiion will now cancel the operation.<br /><br />Damn, it did it again. I think that I am copying the file before the disk cache is flushed or something because I make a change and it is sent to upx but the wrong version appears every once in a while. I am going back to manually doing it.</div>
    <div class="meta">Posted on 2003-11-14 08:09:33 by donkey</div>
   </div>
   <div class="post" id="post-124764">
    <div class="subject"><a href="#post-124764">ToolBar paint Version 1</a></div>
    <div class="body">Hi all,<br /><br />I have uploaded build 2045 to the website. It includes a completely rewritten plugin loader, the loader is 100% compatible with the old version but now handles multiple menu items much better. You can also pass the a number in ECX from the TbxInstall proc that will reserve menu IDs. The menu srting that is returned from TbxInstall is now versioned, so far there is only one version plus the default old style:<br /><br />RetString db &quot;#1,MenuLabel,Item1,Item2,Item3&quot;,0<br /><br />#1 = Version 1 (excluding this number will revert to the old single item version)<br />MenuLabel = Submenu name (this version creates a sub menu in the PlugIns menu)<br />Item1...= menu items<br /><br />The menu items will be numbered sequentially beginning at the nTbxId value passed to the TbxInstall procedure from TBPaint. You return a pointer to this string in EAX to build the menu. If you wish to add your own menu items the Plug Ins menu handle is passed in the hTbxMenu parameter, you must reserve menu ID numbers, this is done by passing the total number of IDs your plug in requires in ECX (including at least one created by the string). If you add menu items the MENUITEMINFO structure *must* have a pointer to it's TbxInvoke procedure in the dwItemData member or it will be ignored, you can use this to have multiple TbxInvoke type procedures in a single plug in. The artificially imposed limit of 32 characters for a menu string has necessarily been lifted. A few other messages have been added, see the tbx.inc file for details.</div>
    <div class="meta">Posted on 2003-11-19 03:26:23 by donkey</div>
   </div>
   <div class="post" id="post-124909">
    <div class="subject"><a href="#post-124909">ToolBar paint Version 1</a></div>
    <div class="body">Hi donkey,<br /><br />May i ask, will we use &quot;Small Fonts&quot; in &quot;tbpaint&quot; ?</div>
    <div class="meta">Posted on 2003-11-20 14:06:09 by cakmak</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=15482&amp;page=1" style="">&laquo;</a><a href="../?id=15482&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="15482" /><input type="number" name="page" min="1" max="3" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=15482&amp;page=3">&gt;</a><a href="../?id=15482&amp;page=3">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>RadASM, should be only have one instance - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3742" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=42">RadASM</a> &raquo; <a href="../?id=3742">RadASM, should be only have one instance</a></p>
   <div class="post" id="post-25155">
    <div class="subject"><a href="#post-25155">RadASM, should be only have one instance</a></div>
    <div class="body">Hi! KetilO<br />    I've resolved the problem about toggling toolbar, thanks you very very much!<br /><br />    I found  problem when use RadASM, I associated asm, rc file with RadASM, when I open a asm file in RadASM,  thu dblclicking a asm file, after it, i dblclicking another asm file, RadASM will create a new instance, I consider it a mistake, As MDI application, when open one more file,  it should be open a MDI child window, KetilO, you should add some code to check if have a instance is running.<br /><br />    In addition, I cannot completely accepted ur explanation about API CreateDialogParam, close find or replace dialog use ENDDIALOG, but in MSDN, close it use DestroyWindow function, can U give me more  detailed explanation<br /><br /><div class="quote">The message loop serves the main window and also the find / replace dialog. It is not neccessary to create a new message loop to serv the find / replace dialog. </div></div>
    <div class="meta">Posted on 2002-02-20 08:27:31 by dREAMtHEATER</div>
   </div>
   <div class="post" id="post-25174">
    <div class="subject"><a href="#post-25174">RadASM, should be have only one instance</a></div>
    <div class="body">Hi  dREAMtHEATER<br /><br />I think a lot of RasASM users, including me, disagree with you on single instance. I often open more than one project to copy / paste code. I don't want to loose this.<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-02-20 11:47:20 by KetilO</div>
   </div>
   <div class="post" id="post-25178">
    <div class="subject"><a href="#post-25178">RadASM, should be have only one instance</a></div>
    <div class="body">Hi KetilO<br />    My meaning is that I can open files in the MDI child window of  single instance of RadASM , the MDI child window can create as many as what I want, in case, i can change MDI window use  &quot;tab select&quot;, it's more convenient. at least, u can give me a chance to set this option.<br /><br />   In addition,  this project updates so quickly, every time I must change your default option in the RasASM.ini and masm.ini when I install new version, it's so boring, I advice you save these option in the registry and make a installer check if previous version have been installed, so change only it should do.<br />   <br />   Maybe I am stupid, I hope you give me more about CreateDialogParam</div>
    <div class="meta">Posted on 2002-02-20 12:23:00 by dREAMtHEATER</div>
   </div>
   <div class="post" id="post-25179">
    <div class="subject"><a href="#post-25179">RadASM, should be have only one instance</a></div>
    <div class="body">Couldn't you create a shell program that you use to execute RadASM that only allows one?  It would be a handy tool.</div>
    <div class="meta">Posted on 2002-02-20 12:31:45 by bitRAKE</div>
   </div>
   <div class="post" id="post-25187">
    <div class="subject"><a href="#post-25187">RadASM, should be have only one instance</a></div>
    <div class="body">Hi  dREAMtHEATER &amp; bitRAKE<br /><br />To my knowledge EndDialog calls DestroyWindow. Maybe I misunderstand your question, but I think I alredy have explained the best way I can. Like you English is not my native language.<br /><br />A way to open multiple files in the MDI already exist (Open File). Is another way really needed?<br /><br />Starting from the release of the 1.1.0 version, RadASM will maintain the ini files (I hope).<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-02-20 13:20:53 by KetilO</div>
   </div>
   <div class="post" id="post-25190">
    <div class="subject"><a href="#post-25190">RadASM, should be have only one instance</a></div>
    <div class="body">Hi KetilO <br /><br />Opening file thu &quot;open file&quot; menu is just one way, I can ssociated asm, rc file with RadASM,  in this way, if already one instance exists, when i dblclick an asm file in the explorer, it will open another instance, it's so boring, i hope open this file in another new MDI, not in new instance, so you must add code to meet this way<br /><br />  EndDialog can close find dialog, why need DestroyWindow again? u don't like me, I think English and Norwegian come from the same root, but I say east language, it's another world.<br /><br />the previous version of 1.1.0 don't crash again, I think it is the best IDE I ever used, give U the bigger support</div>
    <div class="meta">Posted on 2002-02-20 13:53:16 by dREAMtHEATER</div>
   </div>
   <div class="post" id="post-25204">
    <div class="subject"><a href="#post-25204">RadASM, should be have only one instance</a></div>
    <div class="body">Hi  dREAMtHEATER<br /><br /><pre><code>Opening file thu &quot;open file&quot; menu is just one way, I can ssociated asm, rc file with RadASM, in this way, if already one instance exists, when i dblclick an asm file in the explorer, it will open another instance, it's so boring, i hope open this file in another new MDI, not in new instance, so you must add code to meet this way</code></pre> <br />I do understand what you want, I am just trying to aviod writeing a lot of code to solve a problem that there already is a solution.<br /><br /><pre><code>EndDialog can close find dialog, why need DestroyWindow again?</code></pre> <br />Now I am confused. Can you show in code what you mean.<br /><br /><pre><code> u don't like me</code></pre> <br />If you are saying that you believe that I have any reason to dislike you, then it is not true. Disagree / dislike very different thing.<br /><br /><pre><code>I think English and Norwegian come from the same root, but I say east language, it's another world.</code></pre> <br />True, but still very different languages. In fact a lot of elderly Norwegians don't understand a single word of English.<br /><br /><pre><code>the previous version of 1.1.0 don't crash again, I think it is the best IDE I ever used, give U the bigger support</code></pre> <br />Thanks for your kind words. I need to hear such words from time to time as I am putting a lot of workinghours into this project.<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-02-20 16:58:47 by KetilO</div>
   </div>
   <div class="post" id="post-25244">
    <div class="subject"><a href="#post-25244">RadASM, should be have only one instance</a></div>
    <div class="body">Hi KetilO<br />     <br />       In ur richedit sample, find or replace is modeless dialog, u destory it use EndDialog, in MSDN wrote:<br /><br /> <div class="quote">The EndDialog function destroys a modal dialog box, causing the system to end any processing for the dialog box. <br /><br />Dialog boxes created by the DialogBox, DialogBoxParam, DialogBoxIndirect, and DialogBoxIndirectParam functions must be destroyed using the EndDialog function. An application calls EndDialog from within the dialog box procedure; the function must not be used for any other purpose.<br /></div> <br /><br />    I cannot understand how the main window message loop serv also the find/replace dialog, I wanna know how the message queue execute when find/replace dialog was destoryed, it maybe first call EndDialog of find/replace message proc---&gt;transfer control to  main window message loop -----&gt;call DestroyWindow to destory find/replace dialog, it is my guess, can u give me the correct answer<br /><br />    The explanation in MSDN and the way in ur sample are conflicting each other, can u understand completely what I expressed, I hate my bad bad English.</div>
    <div class="meta">Posted on 2002-02-20 22:17:58 by dREAMtHEATER</div>
   </div>
   <div class="post" id="post-25271">
    <div class="subject"><a href="#post-25271">RadASM, should be have only one instance</a></div>
    <div class="body">Hi<br /><br /><pre><code>MSG structure<br />typedef struct tagMSG &#123;     // msg  <br />    HWND   hwnd;	 <br />    UINT   message; <br />    WPARAM wParam; <br />    LPARAM lParam; <br />    DWORD  time; <br />    POINT  pt; <br />&#125; MSG; </code></pre> <br /><br /><pre><code>A typical messageloop<br />.while TRUE<br />  invoke GetMessage,addr msg,NULL,0,0<br />   .break .if !eax<br />    invoke IsDialogMessage,hFind,addr msg<br />   .if !eax<br />        invoke TranslateMessage,addr msg<br />        invoke DispatchMessage,addr msg<br />    .endif<br />.endw</code></pre> <br />As you can see the MSG struct contains a hwnd item. This way windows knows what window (modless dialogbox that has focus, subclassed child window or main window) proc to send the message to (DispatchMessage). The API IsDialogMessage translates commands such as Tab in a modless dialogbox. Like MSDN say you must not destroy a window that is not a dialogbox with EndDialog. You can however destroy a modless dialogbox with DestroyWindow if you ever should want to do that.<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-02-21 03:07:33 by KetilO</div>
   </div>
   <div class="post" id="post-25280">
    <div class="subject"><a href="#post-25280">RadASM, should be have only one instance</a></div>
    <div class="body">Hi KetilO<br />    Thanks you for sharing ur knowledge with me, u are great!<br /><br />     The last question about CreateDialogparam I want ask is who is the ture killer when destory the modeless dialog, for instance, in you find/replace dialog proc, is EndDialog or main proc, or with other way?<br /><br />    now I have another question about richedit, I am writing my own richeditor, as u konw, richedit can paste rtf format text, but I just wanna extract the pure text from the clipboard that maybe include rtf format text, then paste it into my richedit control, in this way, I must set the pasted text into the same font style as the other text in the richedit , how do it?<br /><br />   when will the  RadASM v1.1.0 come? I am waiting ur news.</div>
    <div class="meta">Posted on 2002-02-21 04:43:07 by dREAMtHEATER</div>
   </div>
   <div class="post" id="post-25283">
    <div class="subject"><a href="#post-25283">RadASM, should be have only one instance</a></div>
    <div class="body">Hi dREAMtHEATER<br /><br />In the RichEditEditor example it is EndDialog that destroys the find dialog. MSDN says you should use DestroyWindow, but I have not seen any example that does this with a modless dialogbox, so I assume it is perfectly safe to use EndDialog.<br /><br />I am not an API guru. You should probably ask this question on the Main forum. What I do in RadASM is to trap the WM_PASTE and paste the text to a hidden edit control and then cut and paste from this to the RichEdit. This was the only way I could find that could paste any text. There probably are better ways to do this. On Win98 the text to paste ar limitted to 64K. If you find a better way, let me know.<br /><br />When 1.1.0 is ready to be released, I don't know. I am very busy with my real life just now.<br /> <br />KetilO</div>
    <div class="meta">Posted on 2002-02-21 05:38:05 by KetilO</div>
   </div>
   <div class="post" id="post-25536">
    <div class="subject"><a href="#post-25536">RadASM, should be have only one instance</a></div>
    <div class="body"><div class="quote">Thanks for your kind words. I need to hear such words from time to time as I am putting a lot of workinghours into this project. </div> <br />I frankly think that you are doing work that usually done by team of pros.<br />And I frankly think that the job have a very good chance to seriously change programming world.<br />That's why I may be haven't said lots of kind words but wish to<br />say with all my heart - don't stop Ketil, don't relax, the all general<br />things is found and done, 98% is over, you need last affort to<br />finalize things, but without this 2% 98 weights lightly than they<br />should.<br />You are about to finish very serious thing. Don't let little details<br />to spoil greate result you are about to achive.<br />I'll say it again - it is about to become a very big thing, noticable<br />not only by asm programmers.</div>
    <div class="meta">Posted on 2002-02-22 20:57:42 by The Svin</div>
   </div>
   <div class="post" id="post-25556">
    <div class="subject"><a href="#post-25556">RadASM, should be have only one instance</a></div>
    <div class="body">Thanks The Svin<br /><br />Coming from someone like you gives the words weight. I have not come to the optimizing stage yet. I need a little more speed in my search engine and will have to have a close look at the inner loops. Stability is the most important part and only bug testers can help me here. That it works on my computers does not mean it works on others. It's just the way the M$ world is.<br /><br />KetilO</div>
    <div class="meta">Posted on 2002-02-23 02:43:39 by KetilO</div>
   </div>
  </div>
 </body>
</html>
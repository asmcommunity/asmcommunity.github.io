<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>iam doing my own disk doctor prog - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2641" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2641">iam doing my own disk doctor prog</a></p>
   <div class="post" id="post-16786">
    <div class="subject"><a href="#post-16786">iam doing my own disk doctor prog</a></div>
    <div class="body">I am trying to program my own disk doctor what do i need to do? What code do i use?:alright:</div>
    <div class="meta">Posted on 2001-12-30 08:02:42 by gene</div>
   </div>
   <div class="post" id="post-16833">
    <div class="subject"><a href="#post-16833">iam doing my own disk doctor prog</a></div>
    <div class="body">You know who you might want to talk to, the guy who did one of the first, he is an avid assembler freak. probubly some know who I mean, his name is in a LOT of links, he is doing a project, but hay he may have a shi* load of data on drives. I wish I could remember his name, been on his site MANY times, a brillient coder<br /><br />Anunitu<br /><br />Be right back</div>
    <div class="meta">Posted on 2001-12-30 16:18:40 by Anunitu</div>
   </div>
   <div class="post" id="post-16837">
    <div class="subject"><a href="#post-16837">iam doing my own disk doctor prog</a></div>
    <div class="body">Gene, I sent an E-mail to Steve Gibson, do you know who he is?<br />I asked hism if he has any data on disk structurs. I don't know if he will answer me, or help, but it was worth a try, even hit him with the guilt thing, did he remember someone taking time to give him some advice? I know for a fact someone did..I knew the person who took time out of a busy life to talk to a young coder.<br /><br />He may not know this handle, but he will remember that time for sure. At least I hope he will, or he isn't the coder I remember<br /><br />Anunitu</div>
    <div class="meta">Posted on 2001-12-30 16:39:10 by Anunitu</div>
   </div>
   <div class="post" id="post-16844">
    <div class="subject"><a href="#post-16844">iam doing my own disk doctor prog</a></div>
    <div class="body">Try this URL :<br /><a target="_blank" href="http://www.nondot.org/sabre/os/articles/">http://www.nondot.org/sabre/os/articles/</a></div>
    <div class="meta">Posted on 2001-12-30 17:16:31 by Dr. Manhattan</div>
   </div>
   <div class="post" id="post-16852">
    <div class="subject"><a href="#post-16852">iam doing my own disk doctor prog</a></div>
    <div class="body">Damn steves office clones sent a recomindation on how to search the web, I told them to tell steve hello from the Hobbit.<br /><br />That should trip out his day.<br /><br />Anunitu<br /><br />Its a name he hasen't heard in over 30 years</div>
    <div class="meta">Posted on 2001-12-30 17:57:17 by Anunitu</div>
   </div>
   <div class="post" id="post-16891">
    <div class="subject"><a href="#post-16891">iam doing my own disk doctor prog</a></div>
    <div class="body">Damn you manhattan, I was going to post that link :-D.<br />Gibson knows some stuff, but he's namedropping a lot, and sometimes<br />I get the impression he's all words and no action. He likes CAPS<br />and <strong>bold</strong> a lot, and he's a media whore... but behind all the<br />glitter, there's some sound opinions and at least *some* knowledge :).<br /><br />If you don't even know where to start when building a disk<br />doctor thingy, perhaps you should mess with other stuff for a few<br />years...</div>
    <div class="meta">Posted on 2001-12-30 22:44:34 by f0dder</div>
   </div>
   <div class="post" id="post-16954">
    <div class="subject"><a href="#post-16954">heres another.....</a></div>
    <div class="body">yo! tanx for the boost man.. Ive been workin about 48 hrs now researching stuff now i have lot of stuff covered.. but how about this.. could i use bios interrupts like int 13 in win32 assembly.. <br /><br />:cool:</div>
    <div class="meta">Posted on 2001-12-31 06:23:06 by gene</div>
   </div>
   <div class="post" id="post-17032">
    <div class="subject"><a href="#post-17032">iam doing my own disk doctor prog</a></div>
    <div class="body">That'd be cool if you could :grin: You will probably have to write  vxd in order to access the hard disk raw like that..</div>
    <div class="meta">Posted on 2001-12-31 17:22:00 by Eagle17</div>
   </div>
   <div class="post" id="post-21255">
    <div class="subject"><a href="#post-21255">i am also writing that program</a></div>
    <div class="body">For that  u need to get in to VxD's my friend i am writing on with the help of the source code u can get that  at sysinternals.com it's name is &quot;filemon&quot;..ok  &amp; other.exe (help for Vxd) on microsoft DDk page <br /><br />i  do have a problem related to this stuff while writing VxD <br />so if any one can help me!<br /><br />need to pass some parameter's to the procedure  <br />(i.e sam ),whose paramter's r filled by the system on entrying the call, normally we do <br /><br />BeginProc sam <br /><br />EndProc  sam <br /><br />but, if i have to pass the paramter's what's the syntax to pass the paramter's &amp; how to define that parameter's<br /><br />help me! thank's</div>
    <div class="meta">Posted on 2002-01-26 06:47:04 by pt_sniffer</div>
   </div>
   <div class="post" id="post-21275">
    <div class="subject"><a href="#post-21275">iam doing my own disk doctor prog</a></div>
    <div class="body">pt_sniffer, you want to know, how to pass parameters?<br /><br />MASM:<br /><br /><pre><code><br />Sam PROC Parameter1&#58;DWORD, Parameter2&#58;WORD, Parameter3&#58;BYTE<br /><br />    mov eax, Parameter1<br />    mov ax, Parameter2 <br />    mov al, Paramater3<br />    mov ah, Paramater3<br /><br />    ret<br /><br />Sam ENDP<br /></code></pre><br /><br />If there are parameters in your procedures and the code for that procedure lies after the start/main label, you need to have a prototype.<br /><br /><pre><code><br />Sam PROTO stdcall &#58;DWORD, &#58;WORD, &#58;BYTE<br /></code></pre><br /><br />if you don't have any parameters, then you don't need a prototype, you can either <strong>call</strong> it or <strong>invoke</strong> it, doesn't matter.<br /><br />if you do have parameters, you can then <strong>invoke</strong> it by: invoke Sam, edx, dx, dl, it can be anything you want, could be an immediate value or a register or a pointer...it depends on what you are going to do about it.<br /><br />the masm assembler will flag an error if you made a mistake.<br /><br />If you want TASM style tell me, I'll post another one.<br /><br />:grin:</div>
    <div class="meta">Posted on 2002-01-26 09:27:59 by stryker</div>
   </div>
   <div class="post" id="post-21409">
    <div class="subject"><a href="#post-21409">i am writing a VxD ok not a .exe..ok</a></div>
    <div class="body">umberg6007: thank's for that but u plz notice that i am wiriting a procedure in Vxd ..ok<br /><br />i know that..ok umberg6007<br /><br />ok i thought of writing the problem in detail...ok<br />here it comes <br />#####################<br />The Problem is--&gt;<br /><br />I am calling a Service(i.e XYZ) which requires only the address of the Procedure(i.e Sam),&amp; when system call's this procedure later it pass some Parameter's to the procedure,hence I need to collect those passed parameter's to the procedure(i.e sam ) by the system, on entrying the Procedure, normally we do define Procedure as follow's<br /><br /><br />BeginProc Sam <br /><br />EndProc  Sam <br /><br />but, if i have to pass the paramter's what's the syntax to pass the paramter's i think this can be done with ccall &amp; Argvar ..as follows<br /><br />BeginProc Sam, CCALL<br /><br />ArgVar Param1, DWORD<br />ArgVar Param2, WORD  ;--&gt; this can be a Int<br />ArgVar Param3, 12    ;--&gt; third parameter can be a 12-byte structure, <br />                     ;    passed by value<br /><br />LocalVar Local1, DWORD<br />LocalVar Local2, &lt;size FOO&gt;<br /><br />EnterProc<br />SaveReg &lt;ebx, esi&gt;<br />  .........<br />   ...........<br /> .......<br />  ...........<br />RestoreReg &lt;esi, ebx&gt;<br />LeaveProc<br />Return<br />EndProc MyProc<br /> <br />i Think that this is right way for collecting the parameter's from the system ..ok Plz correct me if i am wrong <br /><br />================VMMCALL====PROBLEM==================<br /><br />And yes I do have a problem with this VMMCALL ..ok which call a service (i.e XYZ) Think it should be done like this <br /><br />    mov esp,OFFSET Sam<br />    VMMCALL XYZ<br /><br />i thought i might have missed with that register calling &amp; stack calling convention but i tried both <br /><br />i get this error--&gt; when i go by above codes<br />          <br /> Assembling: firstvxd.asm<br />firstvxd.asm(41) : error A2054: forced error : value not equal to 0 : 63<br /> VMMCall(1): Macro Called From<br />  firstvxd.asm(41): Main Line Code<br />firstvxd.asm(57) : error A2054: forced error : value not equal to 0 : 63<br /> VMMCall(1): Macro Called From<br />  firstvxd.asm(57): Main Line Code<br /><br /><br /><br />so i peeped in the .INC file i got these lines for that <br />service(i.e XYZ)<br />**********<br />This procedure uses the C6 386 _cdecl calling sequence   <br /><br />Entry TOS = Address of function that is to be called<br /><br />Exit  EAX = Pointer to variable containing the address of the previous<br />               function in this chain.<br />uses C registers<br />************<br />Plz do tell me what's that C6 386 _cdel calling sequence<br /><br />so Plz help! or mail me ur suggestion's ( <a href="mailto:gj007_in@yahoo.com">gj007_in@yahoo.com</a> )<br />Thank's in Advance....  <br />#####################</div>
    <div class="meta">Posted on 2002-01-27 08:04:31 by pt_sniffer</div>
   </div>
  </div>
 </body>
</html>
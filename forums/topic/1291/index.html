<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CopyMemory API - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1291" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1291">CopyMemory API</a></p>
   <div class="post" id="post-8343">
    <div class="subject"><a href="#post-8343">CopyMemory API</a></div>
    <div class="body">i cant use CopyMemory function,<br /><br />ML.EXE tell me CopyMemory is undefined simbol,<br /><br />RtlCopyMemory ,too<br /><br />how can i use it ?</div>
    <div class="meta">Posted on 2001-09-30 20:37:56 by c][obo</div>
   </div>
   <div class="post" id="post-8351">
    <div class="subject"><a href="#post-8351">CopyMemory API</a></div>
    <div class="body">i also had this problem,<br /><br />i used rtlMoveMemory.<br />Also made a copymemory routine by myself.<br /><br />bye</div>
    <div class="meta">Posted on 2001-10-01 00:56:21 by Bit7</div>
   </div>
   <div class="post" id="post-8355">
    <div class="subject"><a href="#post-8355">CopyMemory API</a></div>
    <div class="body">Hehe, nice... in my win32api.inc file for powerbasic, CopyMemory is declared as follows:<br /><br /><pre><code><br />SUB CopyMemory &#40;BYVAL pDestination AS DWORD, BYVAL pSource AS DWORD, BYVAL cbLength AS LONG&#41;<br />    MoveMemory BYVAL pDestination, BYVAL pSource, cbLength<br />END SUB<br /></code></pre><br /><br />And in VB it's:<br /><br /><pre><code><br />Public Declare Sub CopyMemory Lib &quot;kernel32&quot; Alias &quot;RtlMoveMemory&quot; &#40;Destination As Any, Source As Any, ByVal Length As Long&#41;<br /></code></pre><br /><br />You see, both time it uses RtlMoveMemory :)<br /><br />P.S.: You should use a custom copymemory proc, because the API's are so sloooow...</div>
    <div class="meta">Posted on 2001-10-01 02:19:48 by bazik</div>
   </div>
   <div class="post" id="post-8368">
    <div class="subject"><a href="#post-8368">CopyMemory API</a></div>
    <div class="body">Hi, <br /><br />extrn	RtlMoveMemory:PROC<br /><br />	push	dwSize<br />	push	lpDest<br />	push	lpSource<br />	call	RtlMoveMemory<br /><br />thats it. Your problem might be your kernel32.lib file. If this is the case try to create it directly from kernel32.dll.<br /><br />It works and the performance is not as bad some guys might think.<br /><br />Bye Miracle</div>
    <div class="meta">Posted on 2001-10-01 04:21:02 by miracle</div>
   </div>
   <div class="post" id="post-8370">
    <div class="subject"><a href="#post-8370">CopyMemory API</a></div>
    <div class="body">I'm using a custom copymemory function, which copies<br />with a simple dword loop over eax.<br /><br />The kernel32 function is about 2 times faster :( <br />Maybe windows uses a MMX optimization if present.</div>
    <div class="meta">Posted on 2001-10-01 04:35:23 by beaster</div>
   </div>
   <div class="post" id="post-8389">
    <div class="subject"><a href="#post-8389">CopyMemory API</a></div>
    <div class="body">beaster,<br /><br />Funny enough a REP MOVSD loop is faster than an indexed DWORD copy using registers. There is a normal one in MASM32 library. To go faster, you will need an MMX version something like the one that Ricky Bower wrote of you machine will handle the SIMD code that he uses in some parts.<br /><br />Regards,<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-10-01 07:11:34 by hutch--</div>
   </div>
  </div>
 </body>
</html>
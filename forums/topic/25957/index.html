<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need a Fast Byte Sorting Method - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25957" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25957">Need a Fast Byte Sorting Method</a></p>
   <div class="post" id="post-189180">
    <div class="subject"><a href="#post-189180">Need a Fast Byte Sorting Method</a></div>
    <div class="body">I have 7 bytes whose values are used to form a vector in a lookup table. They must be sorted low-high or high-low. Each byte contains a value from 0-12. I need to sort these quickly because this function is performed millions of times per second. I think that MMX or other extended instruction sets can process it faster, but I don&#39;t have much experience with them. What technique might I use to quickly sort these byte values?<br /><br />Currently the code is:<br /><br />		mov ecx, 7;<br />		mov edi, ;<br /><br />		// input: ecx = number of array elements (dword array)<br />		//&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; edi = array pointer<br /><br />		sort:<br />		&nbsp; &nbsp; lea ebx,<br />		&nbsp; &nbsp; mov eax,<br />		cmploop:<br />		&nbsp; &nbsp; sub ebx, 4;<br />		&nbsp; &nbsp; lea ebx,<br />		&nbsp; &nbsp; cmp eax,<br />		&nbsp; &nbsp; jle notyet<br />		&nbsp; &nbsp; xchg eax,<br />		notyet:<br />		&nbsp; &nbsp; cmp ebx,edi<br />		&nbsp; &nbsp; jnz cmploop<br />		&nbsp; &nbsp; stosd<br />		&nbsp; &nbsp; loop sort</div>
    <div class="meta">Posted on 2007-05-11 15:06:27 by BinaryMan</div>
   </div>
   <div class="post" id="post-189182">
    <div class="subject"><a href="#post-189182">Re: Need a Fast Byte Sorting Method</a></div>
    <div class="body">First, you should decide which algorithm to use. Wrong algorithm (even if written with MMX/SSE) will execute slower than a decent one. For such small arrays I suggest <a target="_blank" href="http://en.wikipedia.org/wiki/Insertion_sort">Insertion Sort</a> or bubble sort, or pancake sort.</div>
    <div class="meta">Posted on 2007-05-11 15:21:47 by ti_mo_n</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Link /RELEASE Option - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9856" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=9856">Link /RELEASE Option</a></p>
   <div class="post" id="post-73403">
    <div class="subject"><a href="#post-73403">Link /RELEASE Option</a></div>
    <div class="body">I'm trying to build a project as a 'Release' version i.e. without Remarks, unreference procedure, debug info etc etc, and I not too sure of the command line options used for masm and the linker that automatically strip away the above things to build a release version. Looking through the link docs which came with HUTCH's package i came across the /RELEASE option.<br /><br /><br />Now.. not really knowing what it meant .. assuming it did as I wanted.. i used it.. and my .exe reduced from a 330k to 78k.. seems as though it had done it.<br /><br />But when looking on MSDN for further details about LINK options, this is what it says for /RELEASE :<br /><br /><em>This option sets the checksum in the header of an .EXE file.<br /><br />The operating system requires the checksum for certain files, such as device drivers. It is recommended that you set the checksum for release versions of your programs to ensure compatibility with future operating systems.<br /><br />The /RELEASE option is set by default when the /SUBSYSTEM:NATIVE option is specified</em><br /><br />Ok.. I admit.. I don't have a clue what that means.. but that switch seemed to have the desired result. <br /><br />Can anyone tell me if I am doing the wrong thing to build a 'release' version ?<br /><br />CodeBug</div>
    <div class="meta">Posted on 2002-12-30 06:45:16 by CodeBug</div>
   </div>
   <div class="post" id="post-73421">
    <div class="subject"><a href="#post-73421">Link /RELEASE Option</a></div>
    <div class="body">To build a release version just don't build a debug version :grin:. As long as you don't use /Zi /Zd and the like with masm and /debug &amp; /debugtype with link no debug stuff will be included. I don't think the /release switch really does much except for setting the checksum. <br /><br />I usually use this for debugging:<br /><pre><code>ml /c /coff /Zi /Zd &#123;files&#125;<br />link /subsystem&#58;windows /debug /debugtype&#58;cv &#123;files&#125;</code></pre><br />And this for release:<br /><pre><code>ml /c /coff &#123;files&#125;<br />link /subsystem&#58;windows &#123;files&#125;</code></pre><br /><br />Thomas</div>
    <div class="meta">Posted on 2002-12-30 08:04:26 by Thomas</div>
   </div>
   <div class="post" id="post-73431">
    <div class="subject"><a href="#post-73431">Link /RELEASE Option</a></div>
    <div class="body">Thanks Thomas,<br /><br />But do those options strip all the 'remark' statements i have put in my source code ?</div>
    <div class="meta">Posted on 2002-12-30 08:58:01 by CodeBug</div>
   </div>
   <div class="post" id="post-73437">
    <div class="subject"><a href="#post-73437">Link /RELEASE Option</a></div>
    <div class="body"><div class="quote"><em>Originally posted by CodeBug </em><br />But do those options strip all the 'remark' statements i have put in my source code ? </div><br />You mean like:<br />mov eax,  ; these remarks?<br />They're never included and just ignored by the assembler.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-12-30 09:39:45 by Thomas</div>
   </div>
   <div class="post" id="post-73451">
    <div class="subject"><a href="#post-73451">Link /RELEASE Option</a></div>
    <div class="body">Yep, thats the remarks I mean.<br /><br />I always thought that remarks were included as park of the .obj file unles you instructed otherwise . doesn't the old MASM for DOS do this ?</div>
    <div class="meta">Posted on 2002-12-30 10:45:36 by CodeBug</div>
   </div>
   <div class="post" id="post-73766">
    <div class="subject"><a href="#post-73766">Link /RELEASE Option</a></div>
    <div class="body">As far as I know remarks have never been included in the .OBJ file. :)</div>
    <div class="meta">Posted on 2002-12-31 19:14:35 by S/390</div>
   </div>
  </div>
 </body>
</html>
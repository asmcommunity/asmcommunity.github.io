<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>NAGOA.INC update NASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11257" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=24">IDE usage &amp; development</a> &raquo; <a href="../?id=11257">NAGOA.INC update NASM</a></p>
   <div class="post" id="post-84872">
    <div class="subject"><a href="#post-84872">NAGOA.INC update NASM</a></div>
    <div class="body">get the last nagoa.inc update for nasm<br /><br /><a target="_blank" href="http://visual-assembler.pt.vu">http://visual-assembler.pt.vu</a><br />or<br /><a target="_blank" href="http://194.65.3.199/win32asm/">http://194.65.3.199/win32asm/</a><br /><br />thanks hgb  for this new macros !!!<br />==========================<br />here an example of iczelion 5 tutorial<br />==========================<br /><br />%include '\lab\vasm\inc\nagoa.inc'<br /><br /> <br /><br /><br />;declaring here the function we made<br />;------------------------------------<br /><br />def WinMain<br />def WndProc<br /><br />..start:<br /> call GetModuleHandle, NULL<br /> var Instance, 4<br /> mov dword, eax<br /> call WinMain, , NULL, NULL, SW_SHOWDEFAULT<br /> call ExitProcess, eax<br /> <br /><br />; the funct parameters and locals (stack) used are preceded by a ;point <br /> <br />funct WinMain, hInstanceARG, hPrevInstance, lpCmdLine, nCmdShow<br />        <br />       sizef 32  ; &lt;---- leave this value empty <br />                            ; nasm will give a message with <br />                            ; the name of the function and                                                                    <br />                            ; the right size value !<br />         <br />       local hwnd, 4,msg,MSG     ; var?s using the stack<br />       var wc, WNDCLASSEX       ; data declared var<br /> <br /> <br /> mov dword, WNDCLASSEX_size<br /> mov dword, CS_VREDRAW | CS_HREDRAW<br /> mov dword,WinProc<br /> mov dword, NULL<br /> mov dword, NULL<br /> m2m dword,[.hInstanceARG]<br /> mov dword,COLOR_WINDOW+1<br /> mov dword, NULL<br /> var ClassName , &quot;Nagoa window&quot;,source         ;-----&gt; string data declared <br /> mov dword, ClassName<br /> call LoadIconA, NULL, IDI_APPLICATION<br /> mov dword, eax<br /> mov dword, eax<br /> call LoadCursor, NULL, IDC_ARROW<br /> mov dword, eax<br /> call RegisterClassEx, wc<br /><br /> call CreateWindowEx, NULL,ClassName, &quot;Aplication&quot;, WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL,, NULL<br /><br /> mov dword[.hwnd], eax<br /> call ShowWindow, [.hwnd], [.nCmdShow]<br /> call UpdateWindow, [.hwnd]<br /><br />.Messageloop<br />       lea eax,[.msg]  ; get the effective adress<br />       call GetMessageA,eax, NULL, 0, 0<br />       test eax, eax<br /> je .Fim<br />       cmp eax, -1<br /> je .erro<br />       lea eax,[.msg]<br />       call TranslateMessage,eax<br />       lea eax,[.msg]<br /> call DispatchMessageA,eax<br />       jmp .Messageloop<br /><br />.Fim<br /> mov eax, [.msg+MSG.wParam]<br />       return<br />.erro<br />endfunct<br /><br />funct WinProc, hWnd, uMsg, wParam, lParam<br /><br />sizef 72<br />local hdc, 4<br />local ps, PAINTSTRUCT<br />local hfont, 4<br /><br />;=============================================<br /> mov eax, dword[.uMsg]<br /> cmp eax, WM_PAINT<br /> JE .WM_PAINT<br /> cmp eax, WM_DESTROY<br /> je .WM_DESTROY<br />;==========================================<br /> call DefWindowProc, [.hWnd], [.uMsg], [.wParam],[.lParam]<br /> return<br />;==========================================<br /> .WM_DESTROY:<br /> call PostQuitMessage, 0<br /> return<br />;==========================================<br /> .WM_PAINT:<br /> lea eax, [.ps]<br /> call BeginPaint, [.hWnd], eax<br /> mov dword[.hdc], eax<br /> call CreateFont, 24,16,0,0,400,0,0,0,OEM_CHARSET, OUT_DEFAULT_PRECIS, CLIP_DEFAULT_PRECIS, DEFAULT_QUALITY, DEFAULT_PITCH | FF_SCRIPT,&quot;script&quot;<br /> call SelectObject, [.hdc], eax<br /> mov dword[.hfont], eax<br /> RGB 200, 200, 60<br /> call SetBkColor, [.hdc],eax<br /> RGB 0, 10, 200<br /> call SetTextColor, eax<br /> call TextOut, [.hdc],0,0,&quot;Nasm Rocks&quot;, 11<br /> call SelectObject, [.hdc], [.hfont]<br /> lea eax, [.ps]<br /> call EndPaint, [.hWnd], eax<br /> return<br />;========================================<br />endfunct</div>
    <div class="meta">Posted on 2003-03-03 21:19:21 by Nguga</div>
   </div>
  </div>
 </body>
</html>
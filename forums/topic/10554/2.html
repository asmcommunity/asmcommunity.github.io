<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Opcode #7 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10554" />
  <link rel="prev" href="../?id=10554&amp;page=1" />  <link rel="next" href="../?id=10554&amp;page=3" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=10554">Opcode #7</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=10554&amp;page=1" style="">&laquo;</a><a href="../?id=10554&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="10554" /><input type="number" name="page" min="1" max="8" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=10554&amp;page=3">&gt;</a><a href="../?id=10554&amp;page=8">&raquo;</a></form>   <div class="post" id="post-80733">
    <div class="subject"><a href="#post-80733">Opcode #7</a></div>
    <div class="body">Summory about size of addressing part of opcode.<br /><br />Usually to calculate full size of opcode <br />(that uses memory and reg operands) you need<br />to know 2 things: size of code block and <br />size of address part.<br />Size of code for &quot;old&quot; general instructions<br />(such as mov, push\pop,inc\dec, add,sub,and,xor, etc.)<br />is 1 byte. Or 1 byte and extention in modr/m byte<br />wich we can ignore, 'cause we count it calculating<br />address part.<br />Size of &quot;new&quot; instructions usually preceeded with byte<br />0F and there for takes two bytes.<br /><br />First thing to say about address part is:<br />size of addr part with one  operand,<br />and 2 operands where one is  and other reg<br />are the same.<br />for example:<br /> push [12]<br /> mov  ecx,[12]<br />are opcode of the same size and their address parts are<br />also of the same size.<br /><br />Before structurizing address formats and their size let's<br />refresh in memory that there are 5 instruction that<br />can use the single full reg operand included with code<br />block in one single byte with format 5:3 (5 bits for code and 3 for reg)<br />They are: inc\dec,push\pop, xchg.<br />We remember them as exeption and also say that<br />if those instructions uses some other operands than full regs,<br />their size can be calculated with general rules cod+address part.<br /><br />Now let's enumurate all addr formats and their size along with<br />encoding format.<br /><pre><code><br />operands&#58;	size of addr. format<br />reg		1 byte        modr/m=11 cod reg<br />------------------------------------------------------<br />&#91;reg&#93; <br />where reg !=<br />esp or ebp	1 byte	      modr/m=00 cod reg<br />------------------------------------------------------<br />&#91;esp&#93;		2 bytes	      modr/m=00 cod 100<br />			      +  sib = 00 100 100<br />------------------------------------------------------<br />&#91;ebp&#93;		2 bytes	      modr/m=01 cod 101<br />			      +  1 byte displacement 0<br />------------------------------------------------------<br />reg,reg		1 byte	      modr/m=11 reg1 reg2<br />------------------------------------------------------<br />reg,&#91;reg&#93;<br />where reg<br />pointer !=ebp,esp ..........<br /></code></pre><br /><br />Are you able to continue this table ;)</div>
    <div class="meta">Posted on 2003-02-09 16:16:18 by The Svin</div>
   </div>
   <div class="post" id="post-80754">
    <div class="subject"><a href="#post-80754">Opcode #7</a></div>
    <div class="body">OK, I see nobody cares to finish my table, so<br />I have to finish it :)<br /><pre><code><br />operands&#58;	size of addr. format<br />reg		1 byte        modr/m=11 cod reg<br />------------------------------------------------------<br />&#91;reg&#93; <br />where reg !=<br />esp or ebp	1 byte	      modr/m=00 cod reg<br />------------------------------------------------------<br />&#91;esp&#93;		2 bytes	      modr/m=00 cod 100<br />			      +  sib = 00 100 100<br />------------------------------------------------------<br />&#91;ebp&#93;		2 bytes	      modr/m=01 cod 101<br />			      +  1 byte displacement 0<br />------------------------------------------------------<br />reg,reg		1 byte	      modr/m=11 reg1 reg2<br />------------------------------------------------------<br />&#91;reg&#93;,reg<br />reg,&#91;reg&#93;       1 byte	      modr/m= 00 reg &#91;reg&#93;<br />where reg<br />pointer !=ebp,esp <br />------------------------------------------------------<br />reg,&#91;ebp&#93;	2 bytes	      modr/m= 01 reg 101<br />&#91;ebp&#93;,reg                     + byte=0 as 1 byte displacement<br />-------------------------------------------------------<br />reg,&#91;esp&#93;	2 bytes	      modr/m= 00 reg 100<br />&#91;esp&#93;,reg		      sib = 00 100 100<br />-------------------------------------------------------<br />reg,&#91;imm32&#93;	 5 bytes      modr/m = 00 reg 101<br />&#91;imm32&#93;,reg                   4 bytes imm32<br />-------------------------------------------------------<br />reg,&#91;reg&#93;&#91;imm8&#93; 2 bytes	      modr/m = 01 reg &#91;reg&#93; <br />&#91;reg&#93;&#91;imm8&#93;,reg               1 byte imm8<br />where reg pointer<br />!= esp<br />-------------------------------------------------------<br />reg,&#91;esp&#93;&#91;imm8&#93; 3 bytes	      modr/m = 01 reg 100<br />&#91;esp&#93;&#91;imm8&#93;,reg               sib = 00 100 100<br />			      1 byte imm8<br />-------------------------------------------------------<br />reg,&#91;reg&#93;&#91;imm32&#93; 5 bytes      modr/m = 10 reg &#91;reg&#93;<br />&#91;reg&#93;&#91;imm32&#93;,reg	      4 bytes imm32<br />where &#91;reg&#93;!=&#91;esp&#93;<br />-------------------------------------------------------<br />reg,&#91;esp&#93;&#91;imm32&#93; 6 bytes      modr/m = 10 reg 100<br />&#91;esp&#93;&#91;imm32&#93;,reg	      sib = 00 100 100<br />			      4 bytes imm32<br />-------------------------------------------------------<br />esp can not be   2 bytes      modr/m = 00 reg 100<br />index!!!		      sib = ss iii bbb<br />		<br />reg,&#91;indexreg*scale&#93;&#91;basereg&#93;<br />&#91;indexreg*scale&#93;&#91;basereg&#93;,reg<br />if base != &#91;ebp&#93;<br />-------------------------------------------------------<br />		3 bytes	     modr/m = 01 reg 100<br />reg,&#91;indexreg*scale&#93;&#91;ebp&#93;    sib = ss iii 101<br />&#91;indexreg*scale&#93;&#91;ebp&#93;,reg    byte = 0 as 1 byte displacement<br />--------------------------------------------------------<br />		6 bytes!     modr/m = 00 reg 100<br />reg,&#91;indexreg*scale&#93;         sib = ss iii 101<br />&#91;indexreg*scale&#93;,reg	     4 zero bytes as dword displacement<br />---------------------------------------------------------<br />		3 bytes<br />reg,&#91;indexreg*scale&#93;&#91;basereg&#93;&#91;imm8&#93; modr/m = 01 reg 100<br />&#91;indexreg*scale&#93;&#91;basereg&#93;&#91;imm8&#93;,reg sib = ss iii bbb<br />				    byte for imm8 displacement<br />-----------------------------------------------------------<br />		6 bytes<br />reg,&#91;indexreg*scale&#93;&#91;basereg&#93;&#91;imm32&#93; modr/m = 10 reg 100<br />&#91;indexreg*scale&#93;&#91;basereg&#93;&#91;imm32&#93;,reg sib = ss iii bbb<br />				     4 bytes for imm32 displacement<br />------------------------------------------------------------<br /></code></pre><br />Address part size for not mentioned 1  operand,<br />will be the same as for reg, where  is<br />constructed as it was in one of the above two operands formats.</div>
    <div class="meta">Posted on 2003-02-09 19:27:00 by The Svin</div>
   </div>
   <div class="post" id="post-82401">
    <div class="subject"><a href="#post-82401">Opcode length!</a></div>
    <div class="body">Heya,<br /><br />Very good explanation! :-)<br />You talked about opcode length calculation, i had written some code to do that here it is. I tryed to optmize it for size, and it's kinda small, no code mixed with data and only 406 bytes(support general x86/fpu/mmx/cmov etc instructions)<br /><br />So that may help, if somebody needs to understand how opcode length can be calculated.<br /><br />uNdErX</div>
    <div class="meta">Posted on 2003-02-18 01:34:54 by uNdErX</div>
   </div>
   <div class="post" id="post-83018">
    <div class="subject"><a href="#post-83018">Question ...</a></div>
    <div class="body">Would you mind if I copy and paste this as a text file? That way I can study it when the kids and the hubby are asleep and I might have a shot in hell of comprehending it.</div>
    <div class="meta">Posted on 2003-02-21 18:32:56 by Kydwyn</div>
   </div>
   <div class="post" id="post-83064">
    <div class="subject"><a href="#post-83064">Cool..., Why dont you tell me before</a></div>
    <div class="body">Im searching on it all the Day, Looks like I have to change my Program Completely. Can I ask you a Favour? Would you mind to send all of this topic to myMail?<br /><a target="_blank" href="http://city.boleh.com/~vampire_strikes/DownLoad/Img.bmp">http://city.boleh.com/~vampire_strikes/DownLoad/Img.bmp</a>   (warning 600+k image)<br /><br />edit: don't place such big images as image, place them as link. That way people on slow connections can decide wether or not to look at them.<br />Or better yet, take a free program such as irfanview and transform it to a compressed image format like gif or png before putting it on the web ;)</div>
    <div class="meta">Posted on 2003-02-22 02:22:02 by realvampire</div>
   </div>
   <div class="post" id="post-83333">
    <div class="subject"><a href="#post-83333">Opcode #7</a></div>
    <div class="body">Kydwyn, of course I don't mind.<br />realvampire, <br />I'm sorry I don't have what I posted in &quot;Opcode&quot; topics as separate docs. It's kinda impovisation here in real time.<br />To test some material.<br />But I'll do it in the future, after all major parts of opcode system explained in <br />this &quot;primal sketch&quot;, refined and supplyed with more exersizes and training programms.<br />I'm sure that to do &quot;copy\paste&quot; you can as seccesfull as me :)</div>
    <div class="meta">Posted on 2003-02-23 14:41:15 by The Svin</div>
   </div>
   <div class="post" id="post-83379">
    <div class="subject"><a href="#post-83379">Idiot war Story: Part 2</a></div>
    <div class="body">General alpha, Private Reporting. I have found the formula.  good use it, our second World war must start as soon as Posible, our High-Level language War been succesfull. Okay general. Here is the formula &quot;A-C-D-B&quot;.<br /><br /><pre><code><br />MOV EAX,EAX|8BC0|<br />MOV EAX,ECX|8BC1|<br />MOV EAX,EDX|8BC2|<br />MOV EAX,EBX|8BC3|<br />MOV EAX,ESP|8BC4|<br />MOV EAX,EBP|8BC5|<br />MOV EAX,ESI|8BC6|<br />MOV EAX,EDI|8BC7|<br />MOV ECX,EAX|8BC8|<br />MOV ECX,EDX|8BC9|<br />MOV ECX,ECX|8BCA|<br />MOV ECX,EBX|8BCB|<br />MOV ECX,ESP|8BCC|<br />MOV ECX,EBP|8BCD|<br />MOV ECX,ESI|8BCE|<br />MOV ECX,EDI|8BCF|<br />MOV EDX,EAX|8BD0|<br />MOV EDX,ECX|8BD1|<br />MOV EDX,EDX|8BD2|<br />MOV EDX,EBX|8BD3|<br />MOV EDX,ESP|8BD4|<br />MOV EDX,EBP|8BD5|<br />MOV EDX,ESI|8BD6|<br />MOV EDX,EDI|8BD7|<br />MOV EBX,EAX|8BD8|<br />MOV EBX,ECX|8BD9|<br />MOV EBX,EDX|8BDA|<br />MOV EBX,EBX|8BDB|<br />MOV EBX,ESP|8BDC|<br />MOV EBX,EBP|8BDD|<br />MOV EBX,EDI|8BDE|<br />MOV EBX,ESI|8BDF|<br />MOV ESP,EAX|8BD0|<br />MOV ESP,ECX|8BD1|<br />MOV ESP,EDX|8BD2|<br />MOV ESP,EDX|8BD3|<br />MOV ESP,ESP|8BD4|<br />MOV ESP,EBP|8BD5|<br />MOV ESP,ESI|8BD6|<br />MOV ESP,EDI|8BD7|<br />MOV EBP,EAX|8BE8|<br />MOV EBP,ECX|8BE9|<br />MOV EBP,EDX|8BEA|<br />MOV EBP,EDX|8BEB|<br />MOV EBP,ESP|8BEC|<br />MOV EBP,EBP|8BED|<br />MOV EBP,ESI|8BEE|<br />MOV EBP,EDI|8BEF|<br />MOV ESI,EAX|8BF0|<br />MOV ESI,ECX|8BF1|<br />MOV ESI,EDX|8BF2|<br />MOV ESI,EBX|8BF3|<br />MOV ESI,ESP|8BF4|<br />MOV ESI,EBP|8BF5|<br />MOV ESI,EDI|8BF6|<br />MOV ESI,EDI|8BF7|<br />MOV EDI,EAX|8BF8|<br />MOV EDI,ECX|8BF9|<br />MOV EDI,EDX|8BFA|<br />MOV EDI,EBX|8BFB|<br />MOV EDI,ESP|8BFC|<br />MOV EDI,EBP|8BFD|<br />MOV EDI,ESI|8BFE|<br />MOV EDI,EDI|8BFF|<br />MOV EAX,&#91;EAX&#93;|8B00|<br />MOV EAX,&#91;ECX&#93;|8B01|<br />MOV EAX,&#91;EDX&#93;|8B02|<br />MOV EAX,&#91;EBX&#93;|8B03|<br />MOV EAX,&#91;ESP&#93;|8B04|<br />MOV EAX,&#91;EBP&#93;|8B05|<br />MOV EAX,&#91;ESI&#93;|8B06|<br />MOV EAX,&#91;EDI&#93;|8B07|<br />MOV ECX,&#91;EAX&#93;|8B08|<br />MOV ECX,&#91;ECX&#93;|8B09|<br />MOV ECX,&#91;EDX&#93;|8B0A|<br />MOV ECX,&#91;EBX&#93;|8B0B|<br />MOV ECX,&#91;ESP&#93;|8B0C|<br />MOV ECX,&#91;EBP&#93;|8B0D|<br />MOV ECX,&#91;ESI&#93;|8B0E|<br />MOV EAX,&#91;EDI&#93;|8B0F|<br />MOV EDX,&#91;EBX&#93;|8B13|<br /></code></pre><br /><br />I will conquer Australia with this.</div>
    <div class="meta">Posted on 2003-02-23 21:04:19 by realvampire</div>
   </div>
   <div class="post" id="post-84156">
    <div class="subject"><a href="#post-84156">Opcode #7</a></div>
    <div class="body">Here is the second educational demo\training application,<br />that comes along with the &quot;Opcode&quot; tutorials.<br />Purpose and aim of such software were declared at start of<br />the tutorials - along with plain text explonations, some exersizes<br />and other demonstartion matirial may have even greater effect<br />that simple staring at documentation text.<br /><br />The app is much simular to the previous app.<br />This time (abstructing from complex variaty of possible opcode<br />constructions) it focuses on the following opcode issues:<br />1. Meaning and use of bit &quot;W&quot; in code field. That specifys operand size.<br />2. Usage two possible reg sets coded in the same field<br />    - full registers set<br />    - partial registers set<br />3. Usage of byte modr/m with<br />    mod = 11<br />    code or reg field used for &quot;code extention&quot;<br />    mem or reg field used for register either full or parial.<br /><br />First tab is used as refference - you can<br />change instructions and operands looking how bitfields are change according<br />to specifyed by the buttons pressed mnemonics.<br />To change partial\full registers sets - click on letter &quot;W&quot; that refer to W bit of code field<br />it will compliment the bit and changes texts on &quot;registers - buttons&quot; according<br />to value of the bit W set (W=0 - partial registers set; W=1 - full registers set)<br /><br />Next two tabs- dialogs are served to test your understanding:<br />&quot;Tell me  mnemonic&quot; tab asks you to set buttons both for instruction and operand.<br />When buttons of both groups pressed the programme assumes that you are done<br />with the task and checks if you are right.<br />If you are - you can see it in message text and the programm offers you next opcode to<br />decode, otherwise you can see text that you are incorrect.<br />The programm also displays results of your test incrimenting numbers reffering to statistics<br />of right and wrong answers.<br />To change full\partial registers set - click on button on the bottom of the dlg.<br /><br />&quot;Tell me opcode&quot; tab asks you to encode displayed mnemonic both in bynary and hex.<br />Set bynary bottons and type opcode in hex (2 bytes without space), after that - press &quot;test&quot; button.<br />If you are right - you can see text about it, right answers statistic incremented,<br />bit buttons reset, hex text cleared and new mnemonic for you to encode in bynary<br />and hex.<br />Otherwise - you can see text that you are incorrect, and wrong answers statistic incremented.<br />You can also press space while in hex edit widow to go for test.<br />(Pressing space in the window generates the same message  as test button )<br /><br />If you have ideas on your own about exersizes to help understand opcode construction,<br />or might offer your own educational programms that relates to the discussed in the &quot;Opcode&quot;<br />material - please, share it here submitting you work.<br /><br />I hope this next simple little app will be of some additinal help for those who carefully read<br />this thread and studying i32 opcode construction.</div>
    <div class="meta">Posted on 2003-02-28 11:00:06 by The Svin</div>
   </div>
   <div class="post" id="post-84319">
    <div class="subject"><a href="#post-84319">Cool,</a></div>
    <div class="body">I have change my System. Choose TheCompiler Button, get there. You'll see two button upper left corner, the first button used to modify the source code. Click Activate to Activate this feature.<br /><br />How to use:<br />First see 2 Button above the Compiler. First Button used to execute notepad. Click it. Modify the code, you can see the Binner and its Opcode.<br /><br />Hope this is UnderstandAble. I change the Attachment.</div>
    <div class="meta">Posted on 2003-03-01 07:37:17 by realvampire</div>
   </div>
   <div class="post" id="post-84327">
    <div class="subject"><a href="#post-84327">Opcode #7</a></div>
    <div class="body">realvampire,<br />I tried to understand your &quot;Game&quot; twice, but failed.<br />Could, you please explain - what is it about and how one could use it?</div>
    <div class="meta">Posted on 2003-03-01 09:18:03 by The Svin</div>
   </div>
   <div class="post" id="post-84504">
    <div class="subject"><a href="#post-84504">Opcode #7</a></div>
    <div class="body">I clicked all buttons I found and none lanched notepad.<br />After clicking the button you mentioned - code just disappeared and some decimal (19\37) appears and nothing more.</div>
    <div class="meta">Posted on 2003-03-02 10:31:39 by The Svin</div>
   </div>
   <div class="post" id="post-84584">
    <div class="subject"><a href="#post-84584">huh?</a></div>
    <div class="body">:eek:  so it cannot work? owww...., I dont know. NotePad used for  editing the source. Yes it will disappears, bcause notepad are not always on top. I'll repair it as soon as possible. Thanks for telling me.<br />any suggestion ?</div>
    <div class="meta">Posted on 2003-03-02 20:34:52 by realvampire</div>
   </div>
   <div class="post" id="post-85285">
    <div class="subject"><a href="#post-85285">Opcode #7</a></div>
    <div class="body">I wrote next part of &quot;opcodes&quot; in text OEM font file.<br />It uses some psuedo gfx so view it in consol txt editor<br />or in notepad with Terminal OEM font.</div>
    <div class="meta">Posted on 2003-03-05 18:13:23 by The Svin</div>
   </div>
   <div class="post" id="post-85291">
    <div class="subject"><a href="#post-85291">Great Tutorial.</a></div>
    <div class="body">I'll added it on my website. Is that Okay ?<br /><br />For everyone who understand how to use my program, pls check its mnemonic and Opcode, is there any wrong with it?</div>
    <div class="meta">Posted on 2003-03-05 18:41:19 by realvampire</div>
   </div>
   <div class="post" id="post-85297">
    <div class="subject"><a href="#post-85297">Opcode #7</a></div>
    <div class="body"><div class="quote">I'll added it on my website. Is that Okay </div> <br />It's OK, though I think it has sence only with previous tuts together.<br />Many things could be unclear without previous material.<br />You could also add both training apps to your site if you wish.</div>
    <div class="meta">Posted on 2003-03-05 19:49:08 by The Svin</div>
   </div>
   <div class="post" id="post-85464">
    <div class="subject"><a href="#post-85464">Opcode #7</a></div>
    <div class="body">Here are some first simple question to test if you<br />understand what was discussed in the thread.<br />Let's see who's the bravest man here to answer them :)<br />Test questions:<br /><br />1. Let reg1 - is any of general purpose registers<br />and reg2 is any of general purpose registers exept for<br />ebp and esp.<br />Why opcode<br />instr reg1,<br />is one byte shorter than<br />instr reg1, or instr reg1,<br /><br />2. Let x is some value that -128 &gt;= x &lt;=127<br />Is there difference in size of opcodes<br />instr reg,<br />and<br />instr reg,<br />Why?<br /><br />3. Let x is one of 1,2,4 or 8<br />Is there difference in size of opcodes:<br />instr reg,<br />and<br />instr reg,<br />Why?<br /><br />4. You look at opcodes of two instructions.<br />byte[0] and byte[2] of both instructions are identical<br />byte[1] differs in the instructions.<br />Could you tell wich instruction is longer if you know<br />-That byte[1] in both instructions is byte modr/m<br />-First (most significant) hex digit <br /> in the first instruction (x) 4 &lt;= x &lt; 8<br /> in the second instruction (y) 8 &lt;= y &lt; C</div>
    <div class="meta">Posted on 2003-03-06 14:19:29 by The Svin</div>
   </div>
   <div class="post" id="post-85493">
    <div class="subject"><a href="#post-85493">.... My,oh my</a></div>
    <div class="body">:stupid:  I'll try it. Dion could you translate the question above  please?.<br /><br /><pre><code><br /> 1. instr reg , &#91;reg2&#93; =     000000.<br />     instr reg,  &#91;esp&#93;   = 66000000.<br />   <br />  It is 1 byte more long<br /> <br />  2. Yes because it's need an Imm value to hold adddress or value for it.<br />  instr reg, &#91;ebp&#93;&#91;x&#93; is more long.<br /><br />  3. Instr reg,&#91;esp&#93; &lt;=&gt;  66 67 00 04.<br />      Instr reg,&#91;esp&#93;&#91;esp*reg&#93; &lt;=&gt; unknown.<br />  <br />  4. Byte&#91;0&#93; at 66 67 00 04 is 04 and byte&#91;2&#93; is 67. Yes it is identical because <br />instruction byte is at byte&#91;1&#93;. <br />     Instruction with 2 operand have a same format at Bit 0-5. And memory is<br />at bit 6-7. if it was a memory refference &#40;using '&#91;' and '&#93;'&#41; the bit at 6-7 would<br />be zero. <br />  Ex&#58;<br />  instr reg,reg    &lt;=&gt; 0000-0000-11-000-000<br />  instr reg,&#91;reg&#93; &lt;=&gt; 0000-0000-00-000-000<br /><br /></code></pre><br /><br />   :confused:  Am I right ? :stupid: (I have to studied more. Nice you give us some test)</div>
    <div class="meta">Posted on 2003-03-06 18:39:19 by realvampire</div>
   </div>
   <div class="post" id="post-85497">
    <div class="subject"><a href="#post-85497">Opcode #7</a></div>
    <div class="body"><div class="quote">Am I right ?</div> <br />No.<br />Please, carefully read questions, and all the thread.<br /><br />Anyone else could give a try?</div>
    <div class="meta">Posted on 2003-03-06 19:15:24 by The Svin</div>
   </div>
   <div class="post" id="post-85521">
    <div class="subject"><a href="#post-85521">Opcode #7</a></div>
    <div class="body">Ok, I'll give it a quick try before heading of to the physics test at school, so I'llbe a bit short of words.<br />1. Since the reg code for esp an ebp has a special meaning.<br />If mod field = 00 and r/m is 101 = ebp then there is no regiser used to calculate the address, instead an immediate value follows the modR/M byte.<br />If mod filed = 00 and r/m is 100 = esp then a SIB (scale index base) byte follows the modR/M byte.<br /><br />2. Yes, since inst reg,  would require thre bytes (if the instruction is one byte), instruction byte,modr/m byte, SIB byte.<br />when intr reg,  would require an immediate value after the SIB byte (instruction byte, modR/M byte, SIB byte, immediate displacement byte).<br /><br />3 No, since both would use a modR/M and a SIB byte. Encoding  is shoter to encode then , since in the first case you don't have the 0 displacement.<br /><br />4. XX ab XX<br />(4&lt;=x&lt;8) &lt;=&gt; (0100&lt;=x&lt;1000)<br />(8&lt;=y&lt;C) &lt;=&gt; (1000&lt;=y&lt;1100)<br />x is modR/M =&gt; mod is 01 ==&gt; a one byte displacement<br />y is modR/M =&gt; mod is 10 ==&gt; a dowrd displace ment follows<br />The instruciton wiht the modR/M y is longer then the instruction with x.<br /><br />(I hope I got it right, any I'll have to go to the bus now so I can make the physics test at school, I hope I'll survive the test... :))</div>
    <div class="meta">Posted on 2003-03-06 23:49:12 by scientica</div>
   </div>
   <div class="post" id="post-85542">
    <div class="subject"><a href="#post-85542">Im the only one Stupid here.</a></div>
    <div class="body"><div class="quote">x is modR/M =&gt; mod is 01 ==&gt; a one byte displacement</div> <br />:stupid: :confused: <br /><br />mod is bit 6-7 is it?.  (00)-000-000. So you mean 01-000-000 is a one byte displacement and 10-000-000 is dword byte displacement.</div>
    <div class="meta">Posted on 2003-03-07 01:53:47 by realvampire</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=10554&amp;page=1" style="">&laquo;</a><a href="../?id=10554&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="10554" /><input type="number" name="page" min="1" max="8" step="1" value="2" onchange="this.form.submit();" /><a href="../?id=10554&amp;page=3">&gt;</a><a href="../?id=10554&amp;page=8">&raquo;</a></form>  </div>
 </body>
</html>
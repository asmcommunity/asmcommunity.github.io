<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11407" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=11407">help</a></p>
   <div class="post" id="post-86234">
    <div class="subject"><a href="#post-86234">help</a></div>
    <div class="body">i have done option 1 and have attempted option 2 but am stuck on it as well as 3 and 4<br />the tasks are below and i have attached the program file<br />&gt;<br />&gt;<br /><br /><br />Produce a menu such as the one below, <br />&gt;<br />&gt;<br />&gt;ASSIGNMENT MENU<br />&gt;<br />&gt;<br />&gt;1 Menu Option One<br />&gt;<br />&gt;<br />&gt;2 Menu Option Two<br />&gt;<br />&gt;<br />&gt;3 Menu Option Three<br />&gt;<br />&gt;<br />&gt;4 Menu Option Four<br />&gt;<br />&gt;<br />&gt;5 Menu Option Five<br />&gt;<br />&gt;<br />&gt;6 Menu Option Six<br />&gt;<br />&gt;<br />&gt;9 Quit<br />&gt;<br />&gt;<br />&gt;Please Choose an Option:<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br />&gt;The first item on your assignment menu will be to allow the user to<br />&gt;enter a<br />&gt;<br />&gt;<br />&gt;string. So change 1 Menu Option One to 1 Enter a new string in your<br />&gt;<br />&gt;<br />&gt;assignment program. The maximum length of the string will be 25<br />&gt;characters.<br />&gt;<br />&gt;<br />&gt;The second item on your assignment menu is to print out the string<br />&gt;the<br />&gt;<br />&gt;<br />&gt;user entered. So change 2 Menu Option Two to 2 Print out the string<br />&gt;<br />&gt;<br />&gt;in your assignment menu.<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br />&gt;Option 3 on the menu should print out the string entered by the user<br />&gt;in<br />&gt;<br />&gt;<br />&gt;reverse. For example, ?Hello World? is printed out as ?dlroW olleH?.<br />&gt;<br />&gt;<br />&gt;Assignment Task Four<br />&gt;<br />&gt;<br />&gt;Option 4 on the menu requires you to print out the string the user<br />&gt;entered<br />&gt;<br />&gt;<br />&gt;excluding spaces and excluding the vowels (a , e , i , o and u ).<br />&gt;For example,<br />&gt;<br />&gt;<br />&gt;the word &quot;hello&quot; would be printed as &quot;hll&quot;. &quot;andrew williams&quot; would<br />&gt;<br />&gt;<br />&gt;2<br />&gt;<br />&gt;<br />&gt;be printed as &quot;ndrwwllms&quot;. You may assume that the string contains<br />&gt;<br />&gt;<br />&gt;only letters and spaces.<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br />&gt;<br /><br />&gt;<br />&gt;<br />&gt;<br />&gt;may god bless you and watch over you for any help you give</div>
    <div class="meta">Posted on 2003-03-10 07:35:15 by evilz35</div>
   </div>
   <div class="post" id="post-86235">
    <div class="subject"><a href="#post-86235">help</a></div>
    <div class="body">Again, we won't do your homework. If you tell us what you've tried or what you don't understand maybe we can help you, but this post is nearly the same as your previous one. <br /><br />Thomas</div>
    <div class="meta">Posted on 2003-03-10 07:44:56 by Thomas</div>
   </div>
   <div class="post" id="post-86241">
    <div class="subject"><a href="#post-86241">help</a></div>
    <div class="body">evilz35 take a deep breath<br /><br />now go look up an ASCII table.<br /><br />understand that a string is a buffer that ends with 0<br />your questions involve almost nothing more than looping and maybe create a secondary stringbuffer.<br /><br />if it's in DOS look up the interrupt tables so you can find out which one you need to print stuff. (I assure you it's not hard)<br />in windows there are a variety of functions you can use.<br /><br /><br />don't forget a ASCIIZ string is just   <br />just move data from and to the location(s) and compare them to what you wish or don't wish.<br /><br />If you get stuck, visualize it. Draw a couple of boxes that represent the data in memory, draw the string in there and go through the steps on paper to see what you'd need to do to get the desired end result. <br /><br />e.g.<br /><br />from<br />  2[0] <br /><br />[<strong>H</strong>,e,l,l,o, ,W,o,r,l,d,0] <br />is &quot;a, e, o, u, i&quot;? <br />no, copy to second buffer <br />2<br /><br />e</strong>,l,l,o, ,W,o,r,l,d,0] <br />is &quot;a, e, o, u, i&quot;? <br />yes, do nothing on second buffer<br />2<br /><br />to<br />2 <br /><br />don't forget: breathe out, it relaxes. :)</div>
    <div class="meta">Posted on 2003-03-10 07:55:52 by Hiroshimator</div>
   </div>
   <div class="post" id="post-86284">
    <div class="subject"><a href="#post-86284">help</a></div>
    <div class="body">thanks mate, can n e 1 give me some tips with option 3</div>
    <div class="meta">Posted on 2003-03-10 12:57:25 by evilz35</div>
   </div>
   <div class="post" id="post-86292">
    <div class="subject"><a href="#post-86292">help</a></div>
    <div class="body">Scan the input buffer backwards, copying one charachter at a time to a second buffer in normal order. At the end of the string, the second buffer contains the string in reverse order.<br /><br />Btw do you have any experience in other program languages? If yes, try to write the programs in that language first to get the algorihm right and translate it to asm then. If not, then asm might not be the best language to start with :)<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-03-10 13:19:24 by Thomas</div>
   </div>
   <div class="post" id="post-86308">
    <div class="subject"><a href="#post-86308">help</a></div>
    <div class="body">i am cery god at java programming and think that i could easily create this program in java, but how would i translate it to asm?</div>
    <div class="meta">Posted on 2003-03-10 15:37:02 by evilz35</div>
   </div>
   <div class="post" id="post-86314">
    <div class="subject"><a href="#post-86314">help</a></div>
    <div class="body">You'll have to translate it yourself but it often helps to see it in another language. For example, option 3: Imagine you have a character array in java (don't use String as that's too high level, think low level):<br /><br /><pre><code><br />char&#91;&#93; inputBuffer;<br />char&#91;&#93; outputBuffer;<br /></code></pre><br /><br />InputBuffer contains the characters you've read in, now how do you get the string in reverse in outputBuffer? Write it out in java first:<br /><pre><code><br />int lenInput; // length of input, assume this var is set<br />int j = 0;<br />for &#40;int i=&#40;lenInput-1&#41;;i&gt;=0;i--&#41;<br />&#123;<br />    outputBuffer&#91;j&#93; = inputBuffer&#91;i&#93;;<br />    j++;<br />&#125;</code></pre><br />Now think about converting this to asm, in little steps. Use registers as variables, the char arrays can be represented as pointers to the buffers (also in a register, preferably bx, si or di on a 8086), think about how to implement the for loop, using conditional jumps and a counter register. <br /><br />Btw how did you read the string in? Could you post your code for option 1?<br /><br />Thomas<br /><br /><strong>edit: P.S. The solution to option 2 is already given, look at the code that prints the options, just change it to print the buffer you read the string in. The string then has to be $-terminated though, I don't know in what format you've read your string in (0-terminated, not terminated at all?), that's why I asked for your code.</strong></div>
    <div class="meta">Posted on 2003-03-10 15:48:29 by Thomas</div>
   </div>
   <div class="post" id="post-86327">
    <div class="subject"><a href="#post-86327">help</a></div>
    <div class="body">thanks 4 that. the code is attached to the first message iwrote at the top of this page. it's a bit messy but see what you think. do you program much in 8086?</div>
    <div class="meta">Posted on 2003-03-10 16:27:57 by evilz35</div>
   </div>
   <div class="post" id="post-86342">
    <div class="subject"><a href="#post-86342">help</a></div>
    <div class="body"><div class="quote">thanks 4 that. the code is attached to the first message iwrote at the top of this page. it's a bit messy but see what you think. </div><br />But that doesn't include the code for option1, does it? You said you finished that one already. If you could post your code for reading in user input I can see what the format of the buffer is so I can help you further.<br /><br /><div class="quote">do you program much in 8086?</div><br />No, almost never. I had to program it for a study course though but that was quite easy with 3 years of win32asm experience. It's annoying when you're used to 32-bit registers and the full pentium instructions set to program in the restricted instruction set of the 8086 (have to use bx/si/di as base register, no shl reg, 4 etc.)</div>
    <div class="meta">Posted on 2003-03-10 17:20:32 by Thomas</div>
   </div>
   <div class="post" id="post-86345">
    <div class="subject"><a href="#post-86345">help</a></div>
    <div class="body">Some hints:<br /><strong>Accessing an element in a byte array</strong><br /><pre><code>bx = pointer to start of array<br />di = 0-based index in array&#58;<br />mov al, &#91;bx&#93;&#91;di&#93;   ; al = array&#91;di&#93;</code></pre><br /><br />Alternatively, you could have a direct pointer to an element, like a C style char *. For example, you can initialize the pointer to the base of an array:<br /><pre><code><br />.data?<br />array db 25 dup &#40;?&#41;<br />.code<br />mov bx, array ; bx points to array now<br /></code></pre><br /><br />And then access the elements:<br /><pre><code><br />mov al, &#91;bx&#93;&#91;0&#93; ; al = first byte in array &#40;index 0&#41;<br />mov al, &#91;bx&#93;&#91;1&#93; ; al = second byte in array &#40;index 1&#41;<br />mov al, &#91;bx&#93;&#91;5&#93; ; al = sixth byte in array &#40;index 5&#41;<br /></code></pre><br /><br />Or move the pointer to the next element:<br /><pre><code><br />mov bx, array ; bx points to first element in array<br />inc bx ; bx++, bx points to second element in array<br />add bx, 5 ; bx+=5, bx points to element with index 6 &#40;array&#91;1+5&#93;&#41;<br /></code></pre><br /><br /><strong>Format of a basic for-loop &quot;for (X;Y;Z)&quot;</strong><br /><pre><code>_start_for&#58;<br />  ; do &#91;b&#93;X&#91;/b&#93;<br />_for_loop&#58;<br />  ; check for condition &#91;b&#93;Y&#91;/b&#93;<br />  ; if false, jump to _end_for. if true, do nothing and fall through<br />  <br />  do stuff inside for loop<br /><br />  ; do &#91;b&#93;Z&#91;/b&#93;<br />  jmp _for_loop<br />_end_for&#58;</code></pre></div>
    <div class="meta">Posted on 2003-03-10 17:30:41 by Thomas</div>
   </div>
   <div class="post" id="post-86446">
    <div class="subject"><a href="#post-86446">help</a></div>
    <div class="body">Afternoon, evilz35.<br /><br />I was mucking about with Vortexs' Fasm example on using the Masm32.lib file and decided to see if I could implement something similar to what you're doing.<br /><br />Attached are the files (BAT, ASM, EXE, include) for &quot;Scrontsofts Next-Big-Software-Thingy(tm)&quot;.<br /><br />I doubt that it would help you very much in coding something similar in 8086 code, however it may give you a few ideas.<br /><br />Cheers,<br />Scronty</div>
    <div class="meta">Posted on 2003-03-11 03:58:01 by Scronty</div>
   </div>
   <div class="post" id="post-86449">
    <div class="subject"><a href="#post-86449">help</a></div>
    <div class="body">here is the file for the work i have actually produced, the first one i posted was a old one<br />mainmenu:<br />	mov ah, 0<br />	mov al, 7<br />	int 16<br />	mov  ah, 9<br />	lea DX, menu<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu1<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu2<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu3<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu4<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu5<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, menu6<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, quit<br />	int 33<br />	mov  ah, 9<br />	lea DX, crlf<br />	int 33<br />	mov  ah, 9<br />	lea DX, message<br />	int 33<br />	jmp keywait<br /><br /><br />keywait:<br />	mov ah,7  <br />	cmp al,'1'<br />	je option1<br />	cmp al,'2'<br />	je option2<br />        <br />	jmp keywait   <br />	int 33<br /><br />option1:	<br />	<br />	mov ah, 0<br />	mov al, 7<br />	int 16<br />	mov  ah, 9<br />	lea DX, opt1<br />	int 33<br />	mov AH, 63<br />	mov CX, 20<br />	lea DX, text<br />	mov BX, 0<br />	int 33<br />	sub AX, 2<br />	mov lenght, AX<br />	jmp mainmenu<br /><br />option2:<br />	<br />	mov ah, 0<br />	mov al, 7<br />	int 16<br />	mov AH, 9<br />	lea DX, text<br />	int 33	<br />	<br />	<br />	<br />hlt<br />menu db 'assignment-menu$'<br />menu1 db '1.enter a string$'<br />menu2 db '2.print out the string$'<br />menu3 db '3.print out string in reverse$'<br />menu4 db '4.menu optin four$'<br />menu5 db '5.menu optin five$'<br />menu6 db '6.menu optin six$'<br />quit db '7.quit$'<br />message db 'select an option$'<br />text DB '1234567890123456789012345'<br />crlf db 13, 10, 36<br />lenght DW '0'<br />choice DW '1234567890123456789012345'<br />opt1 DB 'Enter a string $'</div>
    <div class="meta">Posted on 2003-03-11 04:14:00 by evilz35</div>
   </div>
   <div class="post" id="post-86455">
    <div class="subject"><a href="#post-86455">help</a></div>
    <div class="body">Your code didn't work on my PC, here's a shorter and working versin of what you already had:<br /><pre><code>    mov ah, 0<br />    mov al, 7<br />    int 10h<br />mainmenu&#58;<br />    mov ah, 9<br />    mov dx, menu<br />    int 21h<br /><br />keywait&#58;<br />        mov ah, 0<br />        int 16h<br />    <br />        cmp al, '1'<br />        je  option1<br />        cmp al, '2'<br />        je  option2<br />        cmp al, '7'<br />        je  option7<br />    jmp keywait <br /><br />option1&#58; <br />    mov     ah, 9<br />    mov     dx, opt1<br />    int     21h<br />    mov     ah, 0Ah<br />    mov     dx, textBuffer<br />    int     21h<br />    mov     ah, 9<br />    mov     dx, crlf<br />    int     21h<br />jmp mainmenu<br /><br />option2&#58;<br />    xor     ch, ch<br />    mov     cl, &#91;readBytes&#93;<br />    test    cl, cl<br />    jz      endPrint<br />    mov     si, textData<br />    mov     ah, 6<br /> printLoop&#58;<br />    mov     dl, &#91;si&#93;<br />    inc     si<br />    int     21h     <br />    loop    printLoop<br /> endPrint&#58;<br />    mov     ah, 9<br />    mov     dx, crlf<br />    int     21h<br />jmp mainmenu<br /><br /><br />option7&#58;<br />    ret<br />    <br />menu        db 'assignment-menu', 0Dh,0Ah<br />            db '1.enter a string', 0Dh,0Ah<br />            db '2.print out the string', 0Dh,0Ah<br />            db '3.print out string in reverse', 0Dh,0Ah<br />            db '4.menu optin four', 0Dh,0Ah<br />            db '5.menu optin five', 0Dh,0Ah<br />            db '6.menu optin six', 0Dh,0Ah<br />            db '7.quit', 0Dh,0Ah<br />            db 'select an option', 0Dh,0Ah, '$'<br />crlf        db 0Dh,0Ah,'$'  <br />opt1        db 'Enter a string&#58; $'<br />            <br /><br />textBuffer&#58;     <br />    maxLen&#58;     db 25           ; number of bytes in buffer &#40;equals textBuffer&#91;0&#93;&#41;<br />    readBytes&#58;  db 0            ; number of bytes read &#40;uninitialized&#41; &#40;equals textBuffer&#91;1&#93;&#41;<br />    textData&#58;   db 25 dup&#40;?&#41;    ; the buffer itself &#40;equals textBuffer&#91;2&#93;+&#41;<br /></code></pre><br /><br /><br />Tip: have a look here: <a target="_blank" href="http://www.geocities.com/codeteacher/x86asm/asml1008.html">http://www.geocities.com/codeteacher/x86asm/asml1008.html</a>.<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-03-11 04:45:13 by Thomas</div>
   </div>
   <div class="post" id="post-86484">
    <div class="subject"><a href="#post-86484">help</a></div>
    <div class="body">the program i use to do all this kind of work in is sims 8086 and the corrected program you have given me does not work in there. i have sent u the program try it for yourself. why does it not work?</div>
    <div class="meta">Posted on 2003-03-11 07:31:27 by evilz35</div>
   </div>
  </div>
 </body>
</html>
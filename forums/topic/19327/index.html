<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Structures - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19327" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19327">Structures</a></p>
   <div class="post" id="post-149189">
    <div class="subject"><a href="#post-149189">Structures</a></div>
    <div class="body">Why can't I inicialize fields of structures with OFFSET ? For example:<br /><br /><pre><code><br />&#40;...&#41;<br /><br />.DATA<br /><br />WNDCLASSEX	STRUC<br />cbSize          DD	?<br />style           DD	?<br />lpfnWndProc     DD	OFFSET WNDPROC<br />cbClsExtra      DD	?<br />cbWndExtra      DD	?<br />hInstance       DD	?<br />hIcon           DD	?<br />hCursor         DD	?<br />hbrBackground   DD	?<br />lpszMenuName    DD	?<br />lpszClassName   DD	?<br />hIconSm         DD	?<br />WNDCLASSEX	ENDS<br /><br />.CODE<br /><br />&#40;...&#41;<br /></code></pre><br /><br />TASM shows the message &quot;Illegal forward reference&quot; before compiling. Is there any way to make it be accepted ? Thanks</div>
    <div class="meta">Posted on 2004-09-05 19:53:27 by Marginais</div>
   </div>
   <div class="post" id="post-149195">
    <div class="subject"><a href="#post-149195">Structures</a></div>
    <div class="body">it's not a declaration or anything, it's an asm directive, you gotta do it after you define some variable as WNDCLASSEX</div>
    <div class="meta">Posted on 2004-09-05 22:52:39 by Drocon</div>
   </div>
   <div class="post" id="post-149199">
    <div class="subject"><a href="#post-149199">Structures</a></div>
    <div class="body">create a prototype of the wndproc above the struc definition</div>
    <div class="meta">Posted on 2004-09-05 23:31:20 by wizzra</div>
   </div>
   <div class="post" id="post-149204">
    <div class="subject"><a href="#post-149204">Structures</a></div>
    <div class="body">I am with wizzra on this 1. Prototype the Window Procedure. But OFFSET works according to unique name and not a TYPE WNDPROC, unless you are calling your widow procedure WNDPROC.</div>
    <div class="meta">Posted on 2004-09-06 00:59:44 by Black iCE</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>win9x to NT ,any tips - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3953" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3953">win9x to NT ,any tips</a></p>
   <div class="post" id="post-26880">
    <div class="subject"><a href="#post-26880">win9x to NT ,any tips</a></div>
    <div class="body">hossa,<br /><br />i like to ask i you can tell me what problems you know or had when you port code from win9x to NT ?<br /><br />i dont like to find all mistakes and problems again other readers possible might know about.<br /><br />so if you like to write down the different settings you know i would much happy and im shure this helps more then one :-)<br /><br />you dont need to post code ,fine when you do it ,but more from interrest is on what should i take a look ,whats other then on win9x.<br /><br />as example:<br />system shutdown is different on win9x and nt<br /><br />are there problems with dialogs ,button or any other thing you know about ,memory ,working with regkeys ?<br /><br />i also browse google for it and post here what i might found ,im not as lazy as i might look :-)<br /><br />possible this thread end like a helpfull paper for all who like to port code from win9x to nt and need to know what code or function call can make problems.<br /><br />thanks !</div>
    <div class="meta">Posted on 2002-03-03 02:25:37 by Max</div>
   </div>
   <div class="post" id="post-26882">
    <div class="subject"><a href="#post-26882">let's see</a></div>
    <div class="body">When we ported HE from Win9x to NT:<br /><br />well normal win32 code should work ok, NT has Unicode strings but you did not used that on 9x did you?<br /><br />DirectX8 is not available only version DirectX3 and with some limitations (in directplay), looks like you can not get available video RAM and refresh rate with normal DX calls but there are some keys in registry<br /><br />You can NOT use out, in, cli and other priviledged instructions<br /><br />You must save registers used by windows in callback procedures or else you get a crash where 9x will eventually survive<br /><br />Some functions requre security attributes to be ok/initialized or else they will fail even if they worked with NULL in Win9x :)<br /><br />screen coordinates can be much greater (as opposed to max 32768 in Win9x) looks like DX surfaces  also<br /><br />Any VXD will not work you will have to write a Kernel mode driver<br /><br />Toolhelp (process walker) procedures will not work on NT you should use PSAPI.dll (but they will work on Win2K and XP)<br /><br />some functions are diffrent ... <br /><br />etc etc</div>
    <div class="meta">Posted on 2002-03-03 03:02:22 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-26895">
    <div class="subject"><a href="#post-26895">win9x to NT ,any tips</a></div>
    <div class="body">append to BogdanOntanu:<br /><br />never unalign the stack (DWORD align) by pushing WORD data or add / sub non-alined values on esp<br />- this will work on Win9x, but leads to wired errors on WinNT.</div>
    <div class="meta">Posted on 2002-03-03 06:34:23 by beaster</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>opcode RDTSC - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14252" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14252">opcode RDTSC</a></p>
   <div class="post" id="post-110252">
    <div class="subject"><a href="#post-110252">opcode RDTSC</a></div>
    <div class="body"><pre><code><br />invoke ticcount<br />invoke wsprintf, ADDR buftime, ADDR szformat, eax<br />invoke MessageBox,0,ADDR buftime, ADDR mytitle,MB_OK<br />invoke ExitProcess, 0<br /></code></pre><br /><br />I ran across this RDSTC opcode would it be better to use it instead of the above &amp;<br />which would save processor  time.  Want to use it for timing the speed of graphics movements from start to finish.  Or is there a faster way to time it<br /><br />your thoughts are greatly appriecated thanks in advance:alright:</div>
    <div class="meta">Posted on 2003-07-12 22:16:43 by Tweak</div>
   </div>
   <div class="post" id="post-110265">
    <div class="subject"><a href="#post-110265">opcode RDTSC</a></div>
    <div class="body">I think RDTSC can be used only in ring0</div>
    <div class="meta">Posted on 2003-07-13 02:26:50 by greenant</div>
   </div>
   <div class="post" id="post-110270">
    <div class="subject"><a href="#post-110270">opcode RDTSC</a></div>
    <div class="body">that's not true. i wrote an app using rdtsc causing no faults.<br /><br />save processor time with a messagebox?<br /><br />use it like this:<br /><pre><code><br />rdtsc<br />mov &#91;tmpval&#93;,eax<br /><br />;your code to test<br /><br />rdtsc<br />sub eax,&#91;tmpval&#93;<br /><br />;print the value eax somewhere<br /></code></pre></div>
    <div class="meta">Posted on 2003-07-13 03:41:04 by hartyl</div>
   </div>
   <div class="post" id="post-110282">
    <div class="subject"><a href="#post-110282">opcode RDTSC</a></div>
    <div class="body">You are right. The old msdos with emm386 created problem but win2k is ok</div>
    <div class="meta">Posted on 2003-07-13 07:11:36 by greenant</div>
   </div>
   <div class="post" id="post-110287">
    <div class="subject"><a href="#post-110287">opcode RDTSC</a></div>
    <div class="body">Tweak,<br /><br />Check this link first.  Ratch<br /><br /><a target="_blank" href="http://cedar.intel.com/software/idap/media/pdf/rdtscpm1.pdf">http://cedar.intel.com/software/idap/media/pdf/rdtscpm1.pdf</a></div>
    <div class="meta">Posted on 2003-07-13 09:07:58 by Ratch</div>
   </div>
   <div class="post" id="post-110292">
    <div class="subject"><a href="#post-110292">opcode RDTSC</a></div>
    <div class="body">Check this link for informations, if is possible to use RDTSC without generating #UD (undefined opcode) under all of Windows:<br /><br /><a target="_blank" href="http://spasm.servehttp.com/SpAsm/viewtopic.php?t=480">http://spasm.servehttp.com/SpAsm/viewtopic.php?t=480</a><br /><br />In a short cut, resume is there is possible to use RDTSC without problems. The best would be set up your own SEH for trap fault #UD.</div>
    <div class="meta">Posted on 2003-07-13 11:21:07 by MazeGen</div>
   </div>
  </div>
 </body>
</html>
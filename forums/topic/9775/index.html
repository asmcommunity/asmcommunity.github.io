<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Bloody He... Virtualalloc Problem! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9775" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9775">Bloody He... Virtualalloc Problem!</a></p>
   <div class="post" id="post-72659">
    <div class="subject"><a href="#post-72659">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">help<br />i <br />invoke VirtualAlloc,66F00000h,0FFFFh,MEM_COMMIT,PAGE_READWRITE<br />invoke GetLastError<br />the error it returns is <br />487 Attempt to access invalid address. ERROR_INVALID_ADDRESS <br />ive tried tons of addresses and it keeps returning that ! why, help! i just want to allocate memory at a specific address!</div>
    <div class="meta">Posted on 2002-12-25 12:39:20 by Qages</div>
   </div>
   <div class="post" id="post-72663">
    <div class="subject"><a href="#post-72663">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">Shouldn,t   PAGE_READ  be PAGE_READONLY ?<br /><br />Maybe thats your problem.<br /><br />Also try NULL for your address.</div>
    <div class="meta">Posted on 2002-12-25 14:01:00 by IwasTitan</div>
   </div>
   <div class="post" id="post-72665">
    <div class="subject"><a href="#post-72665">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">its PAGE_READWRITE, some how that got appended to the next line.</div>
    <div class="meta">Posted on 2002-12-25 14:06:28 by Qages</div>
   </div>
   <div class="post" id="post-72680">
    <div class="subject"><a href="#post-72680">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">You might have given a too large value  as address....or the page you are trying to alloc already exists</div>
    <div class="meta">Posted on 2002-12-25 16:50:07 by DZA</div>
   </div>
   <div class="post" id="post-72696">
    <div class="subject"><a href="#post-72696">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">1. windows allows memory allocation from 0 to 7FFFFFFF. 2 <br />MEM_COMMIT	Allocates physical storage in memory or in the paging file on disk for the specified region of pages.<br />An attempt to commit an already committed page will not cause the function to fail. This means that a range of committed or decommitted pages can be committed without having to worry about a failure.</div>
    <div class="meta">Posted on 2002-12-25 17:59:07 by Qages</div>
   </div>
   <div class="post" id="post-72702">
    <div class="subject"><a href="#post-72702">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">Yes, one or more of the pages may be committed already and that doesnt have to be an error. But that doesnt mean that you can alloc addess space that is already allocated. So use a memory tool to view memory at that address or use VirtualQuery to determine that address space is really free.<br /><br />Japheth</div>
    <div class="meta">Posted on 2002-12-25 18:14:31 by japheth</div>
   </div>
   <div class="post" id="post-72712">
    <div class="subject"><a href="#post-72712">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">Committed memory must also be reserved.<br />I'm not sure, but you may be able to both RESERVE and COMMIT memory in the same call to VirtualAlloc. So you may want to try combining them (MEM_RESERVE or MEM_COMMIT).</div>
    <div class="meta">Posted on 2002-12-25 18:45:17 by tenkey</div>
   </div>
   <div class="post" id="post-72727">
    <div class="subject"><a href="#post-72727">Bloody He... Virtualalloc Problem!</a></div>
    <div class="body">i know that the memory isnt already allocated becuse i get a memory read/write error when i try to read and put memory at the place i want allocated, i cant have it use heapalloc etc that has diff addresses it allocs at as i dont have any where at the time to store its address, thats why im allocating memory at a specific address.</div>
    <div class="meta">Posted on 2002-12-25 20:20:05 by Qages</div>
   </div>
  </div>
 </body>
</html>
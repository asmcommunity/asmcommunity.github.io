<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Mp3 playing in assembly - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26822" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26822">Mp3 playing in assembly</a></p>
   <div class="post" id="post-193147">
    <div class="subject"><a href="#post-193147">Mp3 playing in assembly</a></div>
    <div class="body">Does anyone know how to code an mp3 player in win32asm (or C as I could just convert it)?  I understand that writing a decoder is too large a project.  I thought about using Windows Media Player which I know can be used by other applications to play mp3s.  I think Visual Basic does this but I wouldn't want to use that for what I have in mind.  I've looked through the Microsoft developers website but the only information I can find on this is with VB and Java.  If anyone has had any experience with this then I would be extremely grateful for any help!</div>
    <div class="meta">Posted on 2001-02-09 17:23:00 by Lord Rhesus</div>
   </div>
   <div class="post" id="post-193148">
    <div class="subject"><a href="#post-193148">Mp3 playing in assembly</a></div>
    <div class="body">If you just want playing ability > Multimedia Player, with sources (plays anything your computer can with MCI):


(TD_Win32Asm_222):

http://www.geocities.com/Paris/Cafe/8444/_index/start.htm


(Playmm):

http://www.rbthomas.freeserve.co.uk/


(RonFiles):

http://betov.free.fr/SpAsm.html


betov.</div>
    <div class="meta">Posted on 2001-02-10 08:07:00 by Betov</div>
   </div>
   <div class="post" id="post-193149">
    <div class="subject"><a href="#post-193149">Mp3 playing in assembly</a></div>
    <div class="body">Thanks for your help betov.  I had downloaded Ron Thomas's example before but mp3's wouldn't play on it and I would get the error message:

;--------------
MCI Error

MMSYSTEM296 The file cannot be played on the specified MCI device.  The file may be corrupt, or not in the correct format.
;--------------

In one of the other examples I downloaded it said that "if windows already had registered *.mpg files in system.ini  you could play mpg files, if not, it seems, you can not."  I'm not sure entirely what this means!  I think this is the reason why I can't play mp3 files and I would be grateful (again) if anyone could tell me how to set this up so I could.</div>
    <div class="meta">Posted on 2001-02-10 10:25:00 by Lord Rhesus</div>
   </div>
   <div class="post" id="post-193150">
    <div class="subject"><a href="#post-193150">Mp3 playing in assembly</a></div>
    <div class="body">Yes, i remember there is a problem if this have never been inititalized,
but don't remember if it is in win.ini or in system.ini (i think the second one).

Here are mines as there are for MCI; if you can't point out, ask Ron Thomas.
He is the one of the three who solved the problem.


My Win.ini says:


mid=Sequencer
rmi=Sequencer
wav=waveaudio
avi=AVIVideo
mpeg=MPEGVideo
mpe=MPEGVideo
mpg=MPEGVideo
mpa=MPEGVideo
enc=MPEGVideo
dat=MPEGVideo
m1v=MPEGVideo
mp2=MPEGVideo
mov=MPEGVideo
qt=MPEGVideo
au=MPEGVideo
snd=MPEGVideo
aif=MPEGVideo
aiff=MPEGVideo
aifc=MPEGVideo
midi=Sequencer
asf=MPEGVideo2
asx=MPEGVideo2
ivf=MPEGVideo2
lsf=MPEGVideo2
lsx=MPEGVideo2
m3u=MPEGVideo
mp3=MPEGVideo
mpv2=MPEGVideo
mp2v=MPEGVideo
wax=MPEGVideo2
wvx=MPEGVideo2
wm=MPEGVideo2
wma=MPEGVideo2
wmv=MPEGVideo2
ra=MPEGVideo2
ram=MPEGVideo2
rm=MPEGVideo2
rmm=MPEGVideo2



My System.ini says:


cdaudio=mcicda.drv
sequencer=mciseq.drv
waveaudio=mciwave.drv
avivideo=mciavi.drv
MPEGVideo=mciqtz.drv
videodisc=mcipionr.drv
vcr=mcivisca.drv
MPEGVideo2=mciqtz.drv
cdaudio1=mcicda.drv  1

Think too of simply runing a free side player...

good luck. betov.</div>
    <div class="meta">Posted on 2001-02-10 11:44:00 by Betov</div>
   </div>
   <div class="post" id="post-193151">
    <div class="subject"><a href="#post-193151">Mp3 playing in assembly</a></div>
    <div class="body">Yes!!!  Thanks for your help.  The problem was in the system.ini file under  one of the lines said:

MPEGVideo=mcivmpeg.drv

where as in your system.ini file the line read:

MPEGVideo=mciqtz.drv

I did a search of the windows directory and the file mciqtz.drv was present in the system directory so I have no idea why it wasn't used.  All I did was replace my line above with your line it everything works.  I wondered why the example by Ron Thomas didn't work before.  I thought that perhaps he had made a mistake but I guess not.  Once again thank you very much for taking the time out to help me.</div>
    <div class="meta">Posted on 2001-02-10 15:15:00 by Lord Rhesus</div>
   </div>
  </div>
 </body>
</html>
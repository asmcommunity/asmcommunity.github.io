<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CTL_CODE macro - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27729" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27729">CTL_CODE macro</a></p>
   <div class="post" id="post-197719">
    <div class="subject"><a href="#post-197719">CTL_CODE macro</a></div>
    <div class="body">hi,
i need to define the FSCTL_LOCK_VOLUME value.
This value seems to be defined by a CTL_CODE macro.

I've try to find this macro on internet but i couldn't find it at all. It seems to be included in some .h microsoft files :(

May anyone indicate me where to find the macro, or better an asm traduced equal macro ?

manythanks</div>
    <div class="meta">Posted on 2001-04-21 05:18:00 by angelo</div>
   </div>
   <div class="post" id="post-197720">
    <div class="subject"><a href="#post-197720">CTL_CODE macro</a></div>
    <div class="body">FSCTL_LOCK_VOLUME is defined in the Microsoft WinIoCtl.h file

below is what it looked like in the file:

#Define FSCTL_LOCK_VOLUME   CTL_CODE(FILE_DEVICE_FILE_SYSTEM,  6, METHOD_BUFFERED, FILE_ANY_ACCESS)

by the way WinIoCtl.inc isnt included with the masm32 package. appears that you may have to make your own.

smurf</div>
    <div class="meta">Posted on 2001-04-21 06:51:00 by smurf</div>
   </div>
   <div class="post" id="post-197721">
    <div class="subject"><a href="#post-197721">CTL_CODE macro</a></div>
    <div class="body">ok.

but the problem is that i don't find nowhere WinIoCtl.h.

Could you mail me a copy of it ? Or just the macro CTL_CODE that's inside ?</div>
    <div class="meta">Posted on 2001-04-21 06:59:00 by angelo</div>
   </div>
   <div class="post" id="post-197722">
    <div class="subject"><a href="#post-197722">CTL_CODE macro</a></div>
    <div class="body">sure check your mail.

smurf</div>
    <div class="meta">Posted on 2001-04-21 07:51:00 by smurf</div>
   </div>
   <div class="post" id="post-197723">
    <div class="subject"><a href="#post-197723">CTL_CODE macro</a></div>
    <div class="body">smurf,

many thanks for the file ! I've received it.

Ok now i've understand ! The macro i was looking for is just an 'or' of 4 parameters that i define.

Thanks a lot !!</div>
    <div class="meta">Posted on 2001-04-21 08:52:00 by angelo</div>
   </div>
  </div>
 </body>
</html>
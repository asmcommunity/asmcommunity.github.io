<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Center Form created with DialogBoxParamA - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26850" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26850">Center Form created with DialogBoxParamA</a></p>
   <div class="post" id="post-193285">
    <div class="subject"><a href="#post-193285">Center Form created with DialogBoxParamA</a></div>
    <div class="body">Does anyone know a simple way to center a dialog on screen which is created using by DialogBoxParamA.
I am new to win32asm and I hope you can help me out a bit

sign CyBerian</div>
    <div class="meta">Posted on 2001-02-11 12:20:00 by CyBerian</div>
   </div>
   <div class="post" id="post-193286">
    <div class="subject"><a href="#post-193286">Center Form created with DialogBoxParamA</a></div>
    <div class="body">Hellau,

Yep.. I "borrowed" this proc from Iczelion's Splash Screen tut once. Just call the procedure at 
WM_INITDIALOG with invoke CenterWindow,hWnd

<pre><code>
CenterWindow proc hWnd:HWND

     LOCAL DlgHeight:DWORD
     LOCAL DlgWidth:DWORD
     LOCAL DlgRect:RECT
     LOCAL DesktopRect:RECT
     
          invoke GetWindowRect,hWnd,ADDR DlgRect
          invoke GetDesktopWindow
          mov ecx,eax
          invoke GetWindowRect,ecx,addr DesktopRect
          push 0
          mov eax,DlgRect.bottom
          sub eax,DlgRect.top
          mov DlgHeight,eax
          push eax
          mov eax,DlgRect.right
          sub eax,DlgRect.left
          mov DlgWidth,eax
          push eax
          mov eax,DesktopRect.bottom
          sub eax,DlgHeight
          shr eax,1
          push eax
          mov eax,DesktopRect.right
          sub eax,DlgWidth
          shr eax,1
          push eax
          push hWnd
          call MoveWindow
	  ret
CenterWindow endp
</code></pre></div>
    <div class="meta">Posted on 2001-02-11 12:28:00 by JimmyClif</div>
   </div>
   <div class="post" id="post-193287">
    <div class="subject"><a href="#post-193287">Center Form created with DialogBoxParamA</a></div>
    <div class="body">thx. a lot :) exactly what I searched for.
I should probably read the complete set of Iczelion's tuts 

sign CyB</div>
    <div class="meta">Posted on 2001-02-11 14:50:00 by CyBerian</div>
   </div>
   <div class="post" id="post-193288">
    <div class="subject"><a href="#post-193288">Center Form created with DialogBoxParamA</a></div>
    <div class="body">Hi,
There is another way easier than the one (better I don't know, but easier & shorter):
In the rc file, as style for the dialog, just simply add:
DS_CENTER
and your dialog will be centered.

hope this will help you.
Vom-bonjour:-()</div>
    <div class="meta">Posted on 2001-02-11 17:13:00 by Vom-bonjour:-()</div>
   </div>
   <div class="post" id="post-193289">
    <div class="subject"><a href="#post-193289">Center Form created with DialogBoxParamA</a></div>
    <div class="body">Hey thx. nice to know that :)</div>
    <div class="meta">Posted on 2001-02-12 05:17:00 by CyBerian</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Probably a really simple Question but.. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30497" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30497">Probably a really simple Question but..</a></p>
   <div class="post" id="post-214146">
    <div class="subject"><a href="#post-214146">Probably a really simple Question but..</a></div>
    <div class="body">I&#039;ve been learning the basics of assembly for a couple weeks now and one of the exercises I&#039;ve found wants me to use a bubblesort to sort an array.<br /><br />What I have doesn&#039;t sort the array though.&nbsp; Am I doing something wrong here?&nbsp; <br /><br /><pre><code><br /><br />bubbleSort Proc<br /><br />mov eax, 000000h<br />mov cx, NUMS_LENGTH-1<br />xor di, di<br /><br />l1:<br />		mov ax, NUMS<br />		cmp ax, NUMS<br />		jl l2<br />		xchg NUMS, ax<br />		mov NUMS, ax<br /><br />l2:<br />		inc di<br />		cmp di, cx<br />		jl l1<br />		dec cx<br />		jnz l1<br /><br />bubbleSort endp<br /></code></pre><br /><br /><br />(Working in v c++)&nbsp; Any advice or insight would be greatly appreciated.&nbsp; =)</div>
    <div class="meta">Posted on 2011-03-06 08:34:59 by Fran71</div>
   </div>
   <div class="post" id="post-214147">
    <div class="subject"><a href="#post-214147">Re: Probably a really simple Question but..</a></div>
    <div class="body">You simply forgot to get back to the start of the array after each pass.<br /><br />Put a label <strong>L0:</strong> before the <strong>xor di,di</strong><br />Then <strong>jnz L0</strong> after the <strong>dec cx</strong></div>
    <div class="meta">Posted on 2011-03-06 19:54:44 by Raymond</div>
   </div>
   <div class="post" id="post-214159">
    <div class="subject"><a href="#post-214159">Re: Probably a really simple Question but..</a></div>
    <div class="body">Are you sorting an array of bytes or words? If it&#039;s bytes, you need to switch to an 8-bit register - al, not ax. If it&#039;s words, increment di by two between words. Mix-and-match won&#039;t work.<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-03-09 14:02:41 by fbkotler</div>
   </div>
  </div>
 </body>
</html>
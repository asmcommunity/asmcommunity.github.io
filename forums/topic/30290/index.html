<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>check if it's a substring - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30290" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30290">check if it's a substring</a></p>
   <div class="post" id="post-213431">
    <div class="subject"><a href="#post-213431">check if it's a substring</a></div>
    <div class="body">Hi all,<br />it is required from me to write a program in assembly which inputs 2 strings and outputs &#039;Found&#039; if the second string is a substring of the first one, and &#039;Not Found&#039; if it&#039;s not.<br /><br />this my code <br /><br />please try to test it and tell me if any thing is wrong<br /><br />you just to copy the following code and paste it in <em>C:\Windows\System32\debug.exe</em><br /><br /><pre><code><br /><br />A 100<br />DB &#039;Found$&#039;<br />DB &#039;Not Found$&#039;<br />MOV DX,0<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV DX,20<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV BX,0<br />MOV BP,20<br />INC BX<br />INC BP<br />MOV CL,<br />MOV CH,<br />MOV [400],CH<br />INC BX<br />INC BP<br />mov ah,0<br />CMP CL,CH<br />JB 18f<br />; JUMP TO PRINT NOT FOUND<br />;<br />MOV AL,<br />CMP AL,<br />JNE 166<br />CMP CH,1<br />JE 186<br />MOV AH,1<br />INC BP<br />INC BX<br />DEC CL<br />CMP CL,0<br />JE 18f<br />DEC CH<br />MOV [450],CL<br />MOV [480],BX<br />;JUMP TO FOUND<br />JMP 143<br />;JUMP TO LOOP<br />CMP CL,1<br />JE 18f<br />INC BX<br />DEC CL<br />MOV CH,[400]<br />MOV BP,22<br />CMP AH,1<br />JNE 184 <br />MOV AH,0<br />MOV CL,[450]<br />MOV BX,[480]<br />JMP 143<br />; FOUND<br />MOV AH,9<br />MOV DX,100<br />INT 21<br />JMP 196<br />MOV AH,9<br />MOV DX,106<br />INT 21<br />INT 3<br /><br /></code></pre><br /><br />then enter the first string and press enter and enter the second one.<br /><br />waiting for your notices.<br /><br />--<br />Mina Fouad<br />3<sup>rd</sup>year CSED<br />Alexandria University.<br />http://csedawy.blogspot.com</div>
    <div class="meta">Posted on 2010-11-05 16:09:06 by Mina Fouad</div>
   </div>
   <div class="post" id="post-213434">
    <div class="subject"><a href="#post-213434">Re: check if it's a substring</a></div>
    <div class="body"><strong>Mina Fouad</strong>,<br /><br />Ahh, debug script! Was that a requirement, or you did it this way just for kicks?<br /><br />O.K., I&#039;m getting serious. It wouldn&#039;t work, anyone could tell you that.<br /><br />&quot;Found$Not Found$&quot; shouldn&#039;t be executed, it&#039;s data.<br /><br />PSP is a valuable resource in DOS land, you shouldn&#039;t tamper it.</div>
    <div class="meta">Posted on 2010-11-06 03:43:07 by baldr</div>
   </div>
   <div class="post" id="post-213437">
    <div class="subject"><a href="#post-213437">Re: check if it's a substring</a></div>
    <div class="body">It&#039;s required to write a debug script :).<br />you should run it starting address 110 <br /><pre><code>g=110</code></pre><br />you will find some errors in case overlapped strings I handled it with this new version I know my code may be better and optimized and this what I will do before delivering it.<br /><pre><code><br />A 100<br />DB &#039;Found$&#039;<br />DB &#039;Not Found$&#039;<br />MOV DX,0<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV DX,20<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV BX,0<br />MOV BP,20<br />INC BX<br />INC BP<br />MOV CL,<br />MOV CH,<br />MOV [400],CH<br />INC BX<br />INC BP<br />mov ah,0<br />CMP CL,CH<br />JB 19C<br />; JUMP TO PRINT NOT FOUND<br />;<br />MOV AL,<br />CMP AL,<br />JNE 166<br />CMP CH,1<br />JE 193<br />MOV AH,1<br />INC BP<br />INC BX<br />DEC CL<br />CMP CL,0<br />JE 19C<br />DEC CH<br />MOV [450],CL<br />MOV [480],BX<br />;JUMP TO FOUND<br />JMP 143<br />;JUMP TO LOOP<br />CMP CL,1<br />JE 19C<br />INC BX<br />DEC CL<br />MOV CH,[400]<br />CMP AH,1<br />JNE 18E <br />MOV AH,0<br />MOV CL,[450]<br />MOV BX,[480]<br />SUB BP,23<br />MOV [500],BP<br />ADD CL,[500]<br />SUB&nbsp; BX,BP<br />MOV BP,22<br />JMP 143<br />; FOUND<br />MOV AH,9<br />MOV DX,100<br />INT 21<br />JMP 1A3<br />MOV AH,9<br />MOV DX,106<br />INT 21<br />INT 3<br /><br /></code></pre><br />don&#039;t forget run it starting 110 ;)<br />any way thanks for your post.</div>
    <div class="meta">Posted on 2010-11-06 09:50:51 by Mina Fouad</div>
   </div>
   <div class="post" id="post-213443">
    <div class="subject"><a href="#post-213443">Re: check if it's a substring</a></div>
    <div class="body">here is the final version<br /><pre><code><br />A 100<br />DB &#039;Found$&#039;<br />DB &#039;Not Found$&#039;<br />MOV DX,0<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV DX,20<br />MOV AH,0A<br />INT 21<br />mov ah,2<br />mov dl,0a<br />int 21<br />MOV BX,2<br />MOV BP,22<br />MOV CL,[1]<br />MOV CH,[21]<br />cmp ch,0<br />je 18f<br />inc cl<br />add ch,21<br />mov ah,0<br />mov dl,[21]<br />CMP [1],dl<br />JB 196<br />MOV AL,<br />CMP AL,<br />JNE 16f<br />mov [400],bp<br />CMP CH,[400]<br />JE 18f<br />MOV AH,1<br />INC BP<br />INC BX<br />mov [480],bx<br />CMP [480],cl<br />Ja 196<br />JMP 144<br />mov [440],bx<br />CMP [440],cl<br />JE 196<br />INC BX<br />CMP AH,1<br />JNE 18d <br />MOV AH,0<br />MOV BX,[480]<br />SUB BP,23<br />SUB&nbsp; BX,BP<br />MOV BP,22<br />JMP 144<br />MOV AH,9<br />MOV DX,100<br />JMP 19b<br />MOV AH,9<br />MOV DX,106<br />INT 21<br />INT 3<br /><br /></code></pre></div>
    <div class="meta">Posted on 2010-11-06 17:22:21 by Mina Fouad</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>getting a thread handle? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5127" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5127">getting a thread handle?</a></p>
   <div class="post" id="post-36081">
    <div class="subject"><a href="#post-36081">getting a thread handle?</a></div>
    <div class="body">Hi.<br />Is there a way to get a thread handle if i got the tid of the thread? i mean something like OpenProcess for theads?</div>
    <div class="meta">Posted on 2002-05-02 07:17:56 by darester</div>
   </div>
   <div class="post" id="post-36082">
    <div class="subject"><a href="#post-36082">getting a thread handle?</a></div>
    <div class="body">There's a function called <strong>OpenThread</strong> but it's available only in winME+ and win2K+<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-05-02 07:20:21 by Thomas</div>
   </div>
   <div class="post" id="post-36117">
    <div class="subject"><a href="#post-36117">getting a thread handle?</a></div>
    <div class="body">so what about win9x? :p</div>
    <div class="meta">Posted on 2002-05-02 09:41:27 by darester</div>
   </div>
   <div class="post" id="post-36118">
    <div class="subject"><a href="#post-36118">getting a thread handle?</a></div>
    <div class="body">IIRC it's nearly impossible in win9x, with good reasons according to microsoft:<br /><div class="quote"><br /><strong>applies only to older windows versions:</strong><br />The Win32 API does not provide a way to get the thread handle from the <br />  thread identifier. If the handles were made available this way, the <br />  owning process could fail because another process unexpectedly <br />  performed an operation on one of its threads, such as suspending it, <br />  resuming it, adjusting its priority, or terminating it. Instead, you <br />  must request the handle from the thread creator or the thread itself. <br /></div><br /><br />Thomas</div>
    <div class="meta">Posted on 2002-05-02 09:49:09 by Thomas</div>
   </div>
   <div class="post" id="post-36139">
    <div class="subject"><a href="#post-36139">getting a thread handle?</a></div>
    <div class="body">Thomas may indeed be right.  My reference does not mention for what platforms each of these functions are scoped for but this does look promising...<br /><br /><div class="quote"><br />A snapshot that includes the Win32 thread list contains information about each thread of each currently executing Win32 process. You can retrieve information for the first thread in the list by using the Thread32First function. After retrieving the first thread in the list, you can retrieve information for subsequent threads by using the Thread32Next function. Thread32First and Thread32Next fill a THREADENTRY32 structure with information about individual threads in the snapshot.<br /><br />You can enumerate the threads of a specific process by taking a snapshot that includes the threads and then by traversing the thread list, keeping information about the threads that have the same process identifier as the specified process.<br />You can retrieve an extended error status code for Thread32First and Thread32Next by using the GetLastError function. For more information about GetLastError, see the documentation included in the Win32 SDK.<br /></div><br /><br />I am assuming that with a ThreadID that you can get its handle and compair it to the one you are looking for...</div>
    <div class="meta">Posted on 2002-05-02 11:57:15 by Graebel</div>
   </div>
  </div>
 </body>
</html>
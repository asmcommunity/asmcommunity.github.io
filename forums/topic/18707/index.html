<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Button Text - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18707" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18707">Button Text</a></p>
   <div class="post" id="post-144894">
    <div class="subject"><a href="#post-144894">Button Text</a></div>
    <div class="body">Is it possible to change the text color and the background color of a button or write them trough TextOut and DrawText?<br /><br />Thanks</div>
    <div class="meta">Posted on 2004-06-26 15:49:08 by Marginais</div>
   </div>
   <div class="post" id="post-144932">
    <div class="subject"><a href="#post-144932">Button Text</a></div>
    <div class="body">Hello,<br /><br />maybe you can do it with a windows message - but I don't know how.<br /><br />But you could subclass the button (surely you have already done it for the WM_COMMAND) and check for the WM_PAINT message.<br /><br />Then, you can draw the whole button on your own and don't forward the message.<br /><br />Regards,<br />Claus</div>
    <div class="meta">Posted on 2004-06-27 07:18:22 by ndn4u</div>
   </div>
   <div class="post" id="post-144934">
    <div class="subject"><a href="#post-144934">Button Text</a></div>
    <div class="body">You would have to do an owner draw button. Standard buttons are very difficult to color. I have an example of owner drawn buttons on my website, just press the www button at the bottom of this post and go to the GoAsm projects page, it's there somewhere.</div>
    <div class="meta">Posted on 2004-06-27 07:26:52 by donkey</div>
   </div>
   <div class="post" id="post-144935">
    <div class="subject"><a href="#post-144935">Button Text</a></div>
    <div class="body">I wouldn't know about that for the moment, but try the following:<br /><br /><pre><code><br />A bunch of misinformation &#58;/<br /></code></pre><br /><br />It's not tested, but give it a try :)<br /><br />JimmyClif</div>
    <div class="meta">Posted on 2004-06-27 07:28:04 by JimmyClif</div>
   </div>
   <div class="post" id="post-144936">
    <div class="subject"><a href="#post-144936">Button Text</a></div>
    <div class="body">Btw: I always found it easier just to use Bitmaps with Buttons when something like special background or fonts were needed.<br /><br />Check out this link : <a target="_blank" href="http://spiff.tripnet.se/~iczelion/files/Buttons.zip">http://spiff.tripnet.se/~iczelion/files/Buttons.zip</a> It's a demo on about using Bitmaps for Buttons.</div>
    <div class="meta">Posted on 2004-06-27 07:38:53 by JimmyClif</div>
   </div>
   <div class="post" id="post-144938">
    <div class="subject"><a href="#post-144938">Button Text</a></div>
    <div class="body">Hi Jimmy,<br /><br />WM_CTLCOLORBTN only works with owner draw buttons.<br /><br />You can set the font of a normal button with WM_SETFONT however.</div>
    <div class="meta">Posted on 2004-06-27 07:59:13 by donkey</div>
   </div>
   <div class="post" id="post-144939">
    <div class="subject"><a href="#post-144939">Button Text</a></div>
    <div class="body">Uh... Maybe I should really start reading winhlp before opening my trap :/</div>
    <div class="meta">Posted on 2004-06-27 08:53:38 by JimmyClif</div>
   </div>
   <div class="post" id="post-144951">
    <div class="subject"><a href="#post-144951">Button Text</a></div>
    <div class="body"><div class="quote"><br />Uh... Maybe I should really start reading winhlp before opening my trap :/ </div><br /><br />Hi Jimmy,<br /><br />You are certainly not the first to get caught by that message and defintitely will not be the last. The WM_CTLCOLOR messages are bizarre to say the least. WM_CTLCOLORSTATIC changes the color of checkbox buttons :confused:</div>
    <div class="meta">Posted on 2004-06-27 13:45:08 by donkey</div>
   </div>
   <div class="post" id="post-144954">
    <div class="subject"><a href="#post-144954">Button Text</a></div>
    <div class="body">Woop. At least I changed my signature to the current one before I posted.</div>
    <div class="meta">Posted on 2004-06-27 14:55:31 by JimmyClif</div>
   </div>
   <div class="post" id="post-144959">
    <div class="subject"><a href="#post-144959">Button Text</a></div>
    <div class="body">But how do I use WM_CTLCOLORBTN? I didn't get how to return the brush value to windows. Can you post an example?</div>
    <div class="meta">Posted on 2004-06-27 15:33:05 by Marginais</div>
   </div>
   <div class="post" id="post-144960">
    <div class="subject"><a href="#post-144960">Button Text</a></div>
    <div class="body">Hi Marginais,<br /><br />To return any value to Windows just put in EAX when your WndProc returns. As I said, WM_CTLCOLORBTN will probably not be what you are looking for but JimmyClif has posted an example above.</div>
    <div class="meta">Posted on 2004-06-27 15:39:20 by donkey</div>
   </div>
  </div>
 </body>
</html>
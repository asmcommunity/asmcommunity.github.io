<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Help with Masm and link syntax - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6929" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6929">Help with Masm and link syntax</a></p>
   <div class="post" id="post-50036">
    <div class="subject"><a href="#post-50036">Help with Masm and link syntax</a></div>
    <div class="body">I am used to using Tasm and tlink, and am learning to use masm. How do I use a makefile to make a executable. I looked at the help provided with ml/h and and link/help but am still confused. Thanks.</div>
    <div class="meta">Posted on 2002-07-25 08:07:02 by skywalker</div>
   </div>
   <div class="post" id="post-50039">
    <div class="subject"><a href="#post-50039">Help with Masm and link syntax</a></div>
    <div class="body">Take a look in the *.bat files in the masm32/bin directory.</div>
    <div class="meta">Posted on 2002-07-25 08:10:56 by bazik</div>
   </div>
   <div class="post" id="post-50044">
    <div class="subject"><a href="#post-50044">Help with Masm and link syntax</a></div>
    <div class="body">andrew,<br /><br />The command line options can be obtained from running either ML.EXE or LINK.EXE for the actual commands.<br /><br /><br />drv:\path\rc.exe /v yourres.rc<br /><br />drv:\path\ml.exe /c /coff yourfile.asm<br /><br />drv:\path\link.exe /SUBSYSTEM:WINDOWS yourfile.obj<br /><br />These are the three basic command lines you need to build a source file into an EXE file.<br /><br />With LINK.EXE, you can build the resources in a couple of different ways, RC will compile the resources into a RES file that you can either convert to OBJ format using CVTRES.EXE or you can add it to the end of the LINK command line so that link does it during the link stage.<br /><br />drv:\path\link.exe /SUBSYSTEM:WINDOWS yourfile.obj yourres.res<br /><br />The batch files in MASM32 already do this but its worth you understanding how it all works.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-07-25 08:23:19 by hutch--</div>
   </div>
   <div class="post" id="post-50060">
    <div class="subject"><a href="#post-50060">Help with Masm and link syntax</a></div>
    <div class="body">I read every bat file in the bin directory. Makefile is not mentioned in any of them.</div>
    <div class="meta">Posted on 2002-07-25 08:59:02 by skywalker</div>
   </div>
   <div class="post" id="post-50199">
    <div class="subject"><a href="#post-50199">Help with Masm and link syntax</a></div>
    <div class="body">Andrew,<br /><br />If you desperately want to use a make file, look around the Microsoft site or Iczelions site for the last version of NMAKE.EXE that was released then try and find some reference material old enough to make sense of it and you are there. I have the documentation for the version of NMAKE that came with masm611 and I doubt that the syntax has changed much.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-07-26 05:48:09 by hutch--</div>
   </div>
   <div class="post" id="post-50334">
    <div class="subject"><a href="#post-50334">Help with Masm and link syntax</a></div>
    <div class="body">The basic syntax for make files is<br /><br /><pre><code># '#' starts a comment<br /><br />targetfile&#58; buildcomponentfile ...<br />        build command line 1<br />        build command line 2<br /><br /></code></pre>A targetfile may be listed as the buildcomponentfile of another targetfile. Each buildcomponentfile may also be a build control file.<br /><br />The first targetfile listed is, by default, the ultimate file you will build. The list of buildcomponentfile's are separated with spaces only. A blank line will end a list of command lines. Notice that the command lines are indented.  The targetfile line is not indented.<br /><br />A production quality MAKE, such as TMAKE or NMAKE, also has macros and suffix-based options which provide shorthand notation.</div>
    <div class="meta">Posted on 2002-07-26 19:31:54 by tenkey</div>
   </div>
  </div>
 </body>
</html>
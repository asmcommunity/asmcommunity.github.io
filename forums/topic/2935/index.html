<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Transparent - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2935" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2935">Transparent</a></p>
   <div class="post" id="post-18990">
    <div class="subject"><a href="#post-18990">Transparent</a></div>
    <div class="body">Hi!<br />I want to make a transparent window,to<br />put bitmap that seems flying on the screen<br />But The WS_EX_TRANSPARENT property with <br />CreateWindowEx doesn't work:<br />-Using WM_CREATE to create child static to draw my bitmap work doesn't work (in fact the bitmaps don't appear)<br /><br />So i had to use WM_MOUSE to draw my bitmap<br />(i use a var to draw it Once)<br />But the problem is that when you go to another<br />window and then re-activate my application,the window isn't transparent at all and my bitmap<br />disappeared!!<br />I try WM_ACTIVATE,and WM_ACTIVATEAPP but.....no success<br /><br />If someone could help me,or if someone know where<br />i can find source code of similar app to see how<br />i can do....<br />Thanks!<br />Farad77</div>
    <div class="meta">Posted on 2002-01-13 15:12:37 by Farad77</div>
   </div>
   <div class="post" id="post-19005">
    <div class="subject"><a href="#post-19005">Transparent</a></div>
    <div class="body">iczelion has a tutorial on his site about layered windows. it wasnt written by him but still is a very good tutorial. this will get you on your way.<br /><br /><a target="_blank" href="http://spiff.tripnet.se/~iczelion/files/laywin.zip">http://spiff.tripnet.se/~iczelion/files/laywin.zip</a></div>
    <div class="meta">Posted on 2002-01-13 18:06:32 by smurf</div>
   </div>
   <div class="post" id="post-19022">
    <div class="subject"><a href="#post-19022">Re: Transparent</a></div>
    <div class="body"><div class="quote"><em>-Using WM_CREATE to create child static to draw my bitmap work doesn't work (in fact the bitmaps don't appear)</em></div> Did you specify the SS_BITMAP style when you created the STATIC window? Or another option is to make it owner-drawn, and respond to the WM_DRAWITEM message to bitblt the bmp into it.</div>
    <div class="meta">Posted on 2002-01-13 21:03:56 by sluggy</div>
   </div>
   <div class="post" id="post-19044">
    <div class="subject"><a href="#post-19044">Transparent</a></div>
    <div class="body">Farad77,<br /><br />Is this any help to you?<br /><br /><a target="_blank" href="http://www.fhills.starway.net.au/~forge/forge.zip">transparent</a></div>
    <div class="meta">Posted on 2002-01-14 05:12:31 by forge</div>
   </div>
   <div class="post" id="post-19064">
    <div class="subject"><a href="#post-19064">Re: Transparent</a></div>
    <div class="body">Hi<br /><br />As far as I know you have to draw the Bitmap by yourself when you choose the WS_EX_TRANSPARENT Style.<br />It only means that all other windows are drawn before your one has to be draw. And you have to draw the window by your own. Elsewhere the background is moving with your window.<br />Take a look at <a target="_blank" href="http://support.microsoft.com/default.aspx?scid=kb;EN-US;q92526">http://support.microsoft.com/default.aspx?scid=kb;EN-US;q92526</a> to see that Transparent windows aren't really supported.<br />If your are only wanne support Win 2k or greater then you cane use layered windows (<a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnwui/html/layerwin.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnwui/html/layerwin.asp</a>).<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-14 06:53:47 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-19128">
    <div class="subject"><a href="#post-19128">Transparent</a></div>
    <div class="body">I think you need to use Window Regions or something like that ;)<br /><br />I attached a C source which shows how to make those regions and shows a bitmap whit transparent background.<br /><br />Sami</div>
    <div class="meta">Posted on 2002-01-14 13:04:12 by SamiP</div>
   </div>
   <div class="post" id="post-19129">
    <div class="subject"><a href="#post-19129">Transparent</a></div>
    <div class="body">Please warn when the executable shows this kind of things... some people are at office or at school when browsing this forum... :mad: <br />Thanks !<br /><br />For those who are wondering what I'm talking about : the executable in the zip displays a... &quot;n..ked woman&quot;. (hey all... don't rush on it ! :rolleyes: )</div>
    <div class="meta">Posted on 2002-01-14 13:14:41 by JCP</div>
   </div>
   <div class="post" id="post-19132">
    <div class="subject"><a href="#post-19132">Transparent</a></div>
    <div class="body">Well, she have pants... only tits are shown ;)<br /><br />Most of the time I'm in the office too when browsing this forum... but in Finland most of the offices have either a somekind play girl or play dude calendars on the walls. So I thought this wouldn't be too much sexy content for everybody.<br /><br />BTW. The word Typy means in Finish a sexy girl</div>
    <div class="meta">Posted on 2002-01-14 13:28:37 by SamiP</div>
   </div>
   <div class="post" id="post-19138">
    <div class="subject"><a href="#post-19138">another option</a></div>
    <div class="body">if you would like to make a bitmap &quot;fly&quot; over the desktop, why don't you paint it directly on the screen?<br /><br />1)-save region where to paint it<br />2)draw it on there<br />-restore the region<br />-choose new position<br />-jmp 1)<br /><br />2) could look like this:<br /><br />invoke GetDesktopWindow<br />mov deskDC,eax<br />invoke Rectangle,deskDC,10,10,100,100<br /><br /><br />for example.......<br /><br />hope that helps......<br /><br />nop</div>
    <div class="meta">Posted on 2002-01-14 14:32:58 by NOP-erator</div>
   </div>
   <div class="post" id="post-19852">
    <div class="subject"><a href="#post-19852">Thanks</a></div>
    <div class="body">Forge,your program is really what i want to do !!Do you have the asm source?<br />Or could you explain me the main Idea?<br /><br />My computer is down :( ,but i'll try the WM_DRAWITEM (i already specify SS_BITMAP with the static) as soon as it'll work!<br /><br />Thank you  your precious answers</div>
    <div class="meta">Posted on 2002-01-18 10:53:29 by Farad77</div>
   </div>
   <div class="post" id="post-19927">
    <div class="subject"><a href="#post-19927">Transparent</a></div>
    <div class="body">Farad77,<br /><br />You should have email by now.</div>
    <div class="meta">Posted on 2002-01-19 01:27:07 by forge</div>
   </div>
   <div class="post" id="post-140750">
    <div class="subject"><a href="#post-140750">Transparent</a></div>
    <div class="body">forge, may i see the source as well?</div>
    <div class="meta">Posted on 2004-05-03 01:27:04 by coconut</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need experts' help !!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18262" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18262">Need experts' help !!!</a></p>
   <div class="post" id="post-141243">
    <div class="subject"><a href="#post-141243">Need experts' help !!!</a></div>
    <div class="body">Hi Win32ASM Community people!<br /><br />I'm new on assembler, I made a code once about a year ago, but now I need to insert an assembler function on a C code (I'm using Visual C++ 6.0). <br />What I need is to read lines from a file and return it to a C language variable,  the max number of characters on the line is 1000.<br /><br />This community seems to be a gathering of very effective developers, so I need your help!<br /><br />Thanks!</div>
    <div class="meta">Posted on 2004-05-16 08:52:55 by Rapidd</div>
   </div>
   <div class="post" id="post-141250">
    <div class="subject"><a href="#post-141250">Need experts' help !!!</a></div>
    <div class="body">You can not insert the asm code directly in the C or C++ code.<br /><br />You can inline asm code in your c code depending on the assembler that your compiler uses, in this case because VC++, it should be masm sintaxis.<br /><br />If you have a separate asm file, and it compiles, then is generated a objet file, you can link it to your VC project, in the project options of the linker type the name of the libs (and objects) that you whant link to.<br /><br />For call the asm function in your C++ code, you should use:<br /><br />extern &quot;C&quot;<br />{<br />    int  atoi( char *string );<br />    typeReturn name(arguments_coma_separated );<br />}<br /><br />or<br /><br />extern &quot;C&quot; int  atoi( char *string );<br />extern &quot;C&quot;  typeReturn name(arguments_coma_separated );<br /><br />and you can call it in your C++ code.<br /><br /><br /><br />Have a nice day or night.</div>
    <div class="meta">Posted on 2004-05-16 10:18:59 by rea</div>
   </div>
   <div class="post" id="post-141257">
    <div class="subject"><a href="#post-141257">Need experts' help !!!</a></div>
    <div class="body">you can also do something like<br /><br /><pre><code><br />__declspec&#40;naked&#41; int __stdcall add&#40;int a, int b&#41;<br />&#123;<br />	__asm &#123;<br />	mov eax,&#91;esp+4&#93;<br />	add eax,&#91;esp+8&#93;<br />	ret 8<br />	&#125;<br />&#125;<br /></code></pre><br /><br />or whatever.</div>
    <div class="meta">Posted on 2004-05-16 11:20:06 by stormix</div>
   </div>
  </div>
 </body>
</html>
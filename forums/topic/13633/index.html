<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>need help!!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13633" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=13633">need help!!!</a></p>
   <div class="post" id="post-105651">
    <div class="subject"><a href="#post-105651">need help!!!</a></div>
    <div class="body">I now come to a small problem in asm.The code is as follows:<br />data segment 'DATA'<br />	a    dw     13<br />	b    dw     2<br />data ends<br />code segment 'CODE'<br />main proc far<br />	assume cs:code,ds:data<br />start:<br />	push	ds<br />	sub	ax,ax<br />	push	ax<br /><br />	mov	ax,data<br />	mov	ds,ax<br />	<br />	<br /><br />	mov	ax,4<br />	add	ax,11<br />	;add	ax,30h<br />	mov     bx,ax<br />	mov	cl,12<br />rotate:<br />	push	bx			;save BX<br />	ror	bx,cl			;left digit to right<br />	mov 	al,bl			;mov to al<br />	and	al,0fh			;mask off left digit<br />	add	al,30h			;convert hex to ASCII<br />	cmp 	al,39h			;is is &gt;9?<br />	jl	printit			;jump if digit=0 to 9<br />	add	al,7h			;digit is A to F<br />printit:<br />	;mov 	bx,15<br />	pop	bx			;make BX come<br />	mov	dl,al			;put ASCII char in DL<br />	mov 	ah,2			;display output <br />	int 	21h			;call DOS	<br />	dec	ch			;done 4 digits?<br />	sub 	cl,4<br />	jns	rotate			;not yet<br />	ret				;return to DOS<br />;************************<br />	;mov	dx,ax<br />	;mov	ah,2<br />	;int 	21h<br />	;ret<br />	;mov	ah,4ch<br />	;int     21h<br />main 	endp<br />code 	ends<br />end<br />and I don't know where is wrong?Please help me!</div>
    <div class="meta">Posted on 2003-06-01 11:36:53 by herowc</div>
   </div>
  </div>
 </body>
</html>
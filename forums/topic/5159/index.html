<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>anim icons - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5159" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5159">anim icons</a></p>
   <div class="post" id="post-36394">
    <div class="subject"><a href="#post-36394">anim icons</a></div>
    <div class="body">I want to do an animation with icons in the dialog titlebar (4 icons)<br />but i have this odd problem that title bar caption goes sometimes<br />over the icon...<br />Here is how I do it:<br /><br />DlgProc proc hDlg:HWND, uMsg:UINT, wParam:WPARAM, lParam:LPARAM<br /><br />Invoke    SetTimer, hDlg, 10h, 80h, 0h <br /><br />....<br /><br /><br />.ELSEIF uMsg == WM_TIMER  <br />cmp dword ptr , 0<br />jz RestoreOriginalIcon<br />cmp dword ptr , 5000<br />jnz IncreaseCounter<br />mov dword ptr , 0<br />jmp QuitSimpleGfxStuff<br />IncreaseCounter:<br />Invoke SetWindowTextA, hDlg, offset new_caption<br />add dword ptr , 1000   ; the 4 icons are 1000/2000/3000/4000<br />Invoke LoadIcon, hInst, counter<br />Invoke SendMessage, hDlg, WM_SETICON, TRUE, eax<br />jmp EndSimpleAnimIcon<br />RestoreOriginalIcon:<br />Invoke LoadIcon, hInst, 900<br />Invoke SendMessage, hDlg, WM_SETICON, TRUE, eax<br />Invoke SetWindowTextA, hDlg, offset old_caption<br />EndSimpleAnimIcon:<br /><br />pls someone help me do this stuff properly, coz im sure there is somethin wrong in here=/<br />I really suck at coding win32gui</div>
    <div class="meta">Posted on 2002-05-03 14:29:07 by DZA</div>
   </div>
   <div class="post" id="post-36398">
    <div class="subject"><a href="#post-36398">anim icons</a></div>
    <div class="body">Thats funny, my docs say<br /><br /><div class="quote"><br />WM_SETICON <br />wParam = (WPARAM) (BOOL) fType;    // icon size (large or small) <br />lParam = (LPARAM) (HICON) hicon;   // handle of icon <br /><br />An application sends the WM_SETICON message to associate a new big or small icon with a window. Windows draws the big icon when the window is minimized, and the small icon in the window's title bar.<br /><br />fType<br /><br />Value of wParam. Specifies the icon being set. If TRUE, the message sets the big icon. If FALSE, the message sets the small icon.<br /><br />hicon<br /><br />Value of lParam. Identifies the new big or small icon. If this parameter is NULL, the icon indicated by fType is removed.</div><br /><br />And I see you are setting the value to true which means your setting the large icon...</div>
    <div class="meta">Posted on 2002-05-03 14:47:20 by Graebel</div>
   </div>
   <div class="post" id="post-36533">
    <div class="subject"><a href="#post-36533">anim icons</a></div>
    <div class="body">Example in RadAsm project:</div>
    <div class="meta">Posted on 2002-05-04 16:00:39 by The Svin</div>
   </div>
   <div class="post" id="post-36540">
    <div class="subject"><a href="#post-36540">thanks</a></div>
    <div class="body">thanks the svin, that's just what I needed:)</div>
    <div class="meta">Posted on 2002-05-04 16:37:13 by DZA</div>
   </div>
   <div class="post" id="post-36546">
    <div class="subject"><a href="#post-36546">anim icons</a></div>
    <div class="body">You are wellcome :)</div>
    <div class="meta">Posted on 2002-05-04 17:02:57 by The Svin</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Stack - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12932" />
  <link rel="prev" href="../?id=12932&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12932">Stack</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=12932&amp;page=1" style="">&laquo;</a><a href="../?id=12932&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12932" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-102166">
    <div class="subject"><a href="#post-102166">Stack</a></div>
    <div class="body">It'll half work, and only if you've set up a stack frame, as well as disabled the epilogue.<br /><br />It should really be<br /><pre><code><br />...<br />mov esp, ebp<br />pop ebp<br />ret<br /></code></pre><br /><br />But why you'd want to is a mystery! By winding back the value of esp, you've effectively removed the values of eax and ecx from the stack. Although the values are still present immediately after the ret, they could be overwritten in the future, and any reliance on their being constant is probably foolish (unless you are specifically doing this).<br /><br />Mirno</div>
    <div class="meta">Posted on 2003-05-09 13:07:02 by Mirno</div>
   </div>
   <div class="post" id="post-102256">
    <div class="subject"><a href="#post-102256">Yup</a></div>
    <div class="body">we just want the ret value. So let ecx and eax there for a while.</div>
    <div class="meta">Posted on 2003-05-10 05:08:04 by realvampire</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=12932&amp;page=1" style="">&laquo;</a><a href="../?id=12932&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12932" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
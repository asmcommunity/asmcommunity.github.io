<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Music Pitches - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11145" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11145">Music Pitches</a></p>
   <div class="post" id="post-84047">
    <div class="subject"><a href="#post-84047">Music Pitches</a></div>
    <div class="body">I am not trying to write a game.<br /><br />Are there any API's that give the pitches in music such as:<br />    c c# d d# e f etc.??<br /><br />I have investigated PlaySound, IDirectMusicPerformance and<br />snaplaysound and they DON'T fill the bill.<br /><br />I don't think MIDI is what I want either.<br />Looked in Petzolds book and found nothing.<br />Maybe there is a wav. file somewhere???<br /><br />Thanks,<br />JPS</div>
    <div class="meta">Posted on 2003-02-27 18:28:00 by shankle</div>
   </div>
   <div class="post" id="post-84061">
    <div class="subject"><a href="#post-84061">Music Pitches</a></div>
    <div class="body">By pitch, do you mean frequency?<br /><br />One octave difference is a doubling of frequency. Since there are 12 notes in an octave (counting all the sharps and flats, ie, counting every key on a piano) leads to a formula of:<br /><br />F(n) = Fo * 2 ^ (n/12)   ; where Fo is some standard frequency, <br />                                      ; and n is the number of notes away from Fo (negative is OK)<br /><br />Concert scale middle C is 440 Hz.</div>
    <div class="meta">Posted on 2003-02-27 21:07:36 by Ernie</div>
   </div>
   <div class="post" id="post-84068">
    <div class="subject"><a href="#post-84068">Music Pitches</a></div>
    <div class="body">Pitch &quot; is &quot; the frequency.<br /><br />Don't know anything about making sound on a computer though.<br /><br />What is the format of the data that you might send to a speaker through a port?<br /><br />Does a double word represent a frequency and you just kepp sending that packet for your duration time?<br /><br />:confused:</div>
    <div class="meta">Posted on 2003-02-27 21:30:42 by IwasTitan</div>
   </div>
   <div class="post" id="post-84073">
    <div class="subject"><a href="#post-84073">Music Pitches</a></div>
    <div class="body">I'm not doubting that your math  calc will work but that does not<br />help me keep in the windows API rut to conform with the rest of<br />windows. I think I should be using some API to handle the job.<br /><br />In other words it doesn't seem right to write 90% of a program<br />conforming to windows specs and 10% in some low level code.<br /><br />I am referring to the sound that hitting Middle C on the piano<br />would make. <br /><br />Thanks,<br />JPS</div>
    <div class="meta">Posted on 2003-02-27 22:14:27 by shankle</div>
   </div>
   <div class="post" id="post-84074">
    <div class="subject"><a href="#post-84074">Music Pitches</a></div>
    <div class="body">I'm interested in this one too. Last time i played with sound was on an Apple II back in the mid 80's, all you had to do was beep the speaker, you achieved pitch by having the right length delay loop between beeps. And the C64 was easy too, you just had (IIRC) to nominate the pitch, then the attack/decay/sustain/ release for that note.<br /><br />Nowdays, i have no freakin' idea how to generate music from scratch.</div>
    <div class="meta">Posted on 2003-02-27 22:21:42 by sluggy</div>
   </div>
   <div class="post" id="post-84076">
    <div class="subject"><a href="#post-84076">Music Pitches</a></div>
    <div class="body">well, the way it used to be accomplished outside of Windows on an PC was by pulsing the speaker in and out after replacing one of the interrupts (don't remember which one, but it was the one which was called by the computer to update the clock).<br /><br />back with DOS's GW-BASIC (and even /w QB), you could use the &quot;SOUND&quot; statement to generate a note  from the speaker.  <strong>SOUND <em>frequency</em>, <em>length</em></strong> (in milliseconds).  but QB (and maybe basica?) also had the &quot;play&quot; statement, greatly simplifying sound production.  and then there was, of course, the beep statement, which played a fixed note for a fixed time interval.  still exists in VB for Win (VB for DOS had it, i think), but sound and play have been removed.  Perhaps there *is* no Windows API for it, except through MIDI.</div>
    <div class="meta">Posted on 2003-02-27 22:49:43 by jademtech</div>
   </div>
   <div class="post" id="post-84078">
    <div class="subject"><a href="#post-84078">Music Pitches</a></div>
    <div class="body">Hi<br /><br />Something I remember seeing you might look at..<br /><br /><a target="_blank" href="http://www.stormpages.com/bojanjurca/CSamples.htm">http://www.stormpages.com/bojanjurca/CSamples.htm</a><br /><br />Producing PC speaker sounds under Windows 9.x just as well as under Windows NT and 2000<br /><br />Speaker.dll exports Sound function that produces a sound of a desired frequency and duration similar to Beep function under Windows NT but with one exception. The Sound function works under Windows 9.x as well.<br /><br />Download Speaker.zip (6 KB) containing  C source and compiled .dll file.<br /><br />Kayaker</div>
    <div class="meta">Posted on 2003-02-27 23:46:03 by Kayaker</div>
   </div>
   <div class="post" id="post-84082">
    <div class="subject"><a href="#post-84082">Music Pitches</a></div>
    <div class="body">You could just generate the sound (using sin or whatever you want) and then use the Windows API sound functions to play it.</div>
    <div class="meta">Posted on 2003-02-28 00:26:55 by gliptic</div>
   </div>
   <div class="post" id="post-84084">
    <div class="subject"><a href="#post-84084">Music Pitches</a></div>
    <div class="body">You might want to search for:<br /><br />FM (Frequency Modulation) Synthesis<br />WaveTable Synthesis<br /><br />but I can't be sure since I don't study on this area. :)</div>
    <div class="meta">Posted on 2003-02-28 01:07:23 by arkane</div>
   </div>
   <div class="post" id="post-84091">
    <div class="subject"><a href="#post-84091">Music Pitches</a></div>
    <div class="body"><div class="quote"><br />By pitch, do you mean frequency?<br /><br />One octave difference is a doubling of frequency. Since there are 12 notes in an octave (counting all the sharps and flats, ie, counting every key on a piano) leads to a formula of:<br /><br />F(n) = Fo * 2 ^ (n/12)   ; where Fo is some standard frequency, <br />                                      ; and n is the number of notes away from Fo (negative is OK)<br /><br />Concert scale middle C is 440 Hz. </div>middle A, not middle C. :)<br /><br />C is about 261.6 Hz (or 523.2 Hz the octave higher).</div>
    <div class="meta">Posted on 2003-02-28 03:04:13 by Maverick</div>
   </div>
   <div class="post" id="post-84128">
    <div class="subject"><a href="#post-84128">Music Pitches</a></div>
    <div class="body">It appears that  I my ONLY choice is to use interrupts and play with <br />the speaker. Since I am using Windows 98 2nd ed what will happen<br />if I take the program to windows XP? Most likely it will bomb. <br /><br />Middle C is 261.63 hz and the A above it is 440hz. I found a list of all<br />the frequencies called equal-tempered at <a target="_blank" href="www.phy.mtu.edu/~suits/">www.phy.mtu.edu/~suits/</a><br />notefreqs.html <br /><br />Thanks for all the input,<br />JPS</div>
    <div class="meta">Posted on 2003-02-28 08:20:20 by shankle</div>
   </div>
   <div class="post" id="post-84155">
    <div class="subject"><a href="#post-84155">Music Pitches</a></div>
    <div class="body">You could use the api beep instead of interrupt!  :)<br /><br />BOOL Beep(<br /><br />    DWORD dwFreq,	// sound frequency, in hertz <br />    DWORD dwDuration 	// sound duration, in milliseconds <br />   );:<br /><br />It will work on winXP too if I recall correctly.</div>
    <div class="meta">Posted on 2003-02-28 10:57:58 by david</div>
   </div>
   <div class="post" id="post-84484">
    <div class="subject"><a href="#post-84484">Music Pitches</a></div>
    <div class="body">I have included code that partially solves the problem of generating sound<br />in MASM32. I don't like what I hear and don't know if it's my crummy<br />speaker or something else.<br /><br />Here is the code in BASIC that I used to create the MASM32 code:<br /><br />  10 count = 1193280! / 3000     ; 3000 is the desired frequency<br />  20 lo.count = count mod 256    ; calculate low-order byte value<br />  30 hi.count = count / 256         ; calculate high-order byte value<br />  40 out &amp;h43, &amp;hb6                   ; get timer ready<br />  50 out &amp;h42, lo.count               ; load low-order byte<br />  60 out &amp;h42, hi.count               ; load high-order byte<br /><br />  The bytes of this code have to be turned off to stop the sound.<br /><br />The code I have included  in MASM32 does not include the calculation<br />of the remainder of the frequency as I don't know how to do it.<br />Maybe that's why the sound is so bad.<br />What is the equivalent of &quot;MOD&quot; in MASM32??</div>
    <div class="meta">Posted on 2003-03-02 08:38:53 by shankle</div>
   </div>
   <div class="post" id="post-84491">
    <div class="subject"><a href="#post-84491">Music Pitches</a></div>
    <div class="body">My guess is you would need to make a wav engine, and feed this directly to the MAPI.  You'd need to set up callbacks to generate the next note 'wav' in memory, and queue it befor the first finished playing. (Basically double buffering).<br /><br />Somewhere a long time ago i did some wave stuff with this.  <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=5322&amp;highlight=double+buffering">Try here</a> <br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-03-02 09:39:11 by NaN</div>
   </div>
   <div class="post" id="post-84800">
    <div class="subject"><a href="#post-84800">Music Pitches</a></div>
    <div class="body">.</div>
    <div class="meta">Posted on 2003-03-03 16:44:13 by comrade</div>
   </div>
   <div class="post" id="post-84889">
    <div class="subject"><a href="#post-84889">Music Pitches</a></div>
    <div class="body">Havent looked at your source, but its not working correctly on Win98SE.  The tone starts, and then turns into a very dull rumble (longer than the specified duration).  I have a CreativeLive sound card that never gives me any fuss about anything.<br /><br />:NaN:</div>
    <div class="meta">Posted on 2003-03-04 00:20:55 by NaN</div>
   </div>
  </div>
 </body>
</html>
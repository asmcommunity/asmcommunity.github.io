<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Impossible? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3868" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3868">Impossible?</a></p>
   <div class="post" id="post-26252">
    <div class="subject"><a href="#post-26252">Impossible?</a></div>
    <div class="body">Umm, I don't know where to start talking but I have a question on how to add/modify a windows API function? For example the function GetDlgItemText retrieves a text from an edit box. Now, I was looking for function that retrieves float values from an edit box. Of course this is possible by converting a string to float, but I want something direct. Yes this is possible through a macro but is there another way to do it? Something like your own API that handles directly with the edit control? :)</div>
    <div class="meta">Posted on 2002-02-27 16:40:43 by stryker</div>
   </div>
   <div class="post" id="post-26259">
    <div class="subject"><a href="#post-26259">Impossible?</a></div>
    <div class="body">Why not,<br />or create dll with all aditionall functions you need.<br />or create additional proc in m32lib for static version (this way you<br />don't need to dist. dll)<br />GetDlgItemFloat s very easy to do.<br />in the proc<br />-hctrl=(GetDlgItem,hDlg,ItemID)<br />-buffer=(GetWindowText,hctrl,addr buffer)<br />-StrToFloat in m32lib<br />that's all</div>
    <div class="meta">Posted on 2002-02-27 17:08:38 by The Svin</div>
   </div>
   <div class="post" id="post-26262">
    <div class="subject"><a href="#post-26262">Impossible?</a></div>
    <div class="body">Umm that is one thing but, is there a way to interact directly with an edit control. I mean without using any of the current windows API function? More like how, GetDlgItemText works? Something like you're changing the code of the GetDlgItemText function. Anyway, I already have a macro going on, but would like to know more of the source code on how MS got the text from an edit box...I know this is something that only MS knows, but does anyone have any idea?</div>
    <div class="meta">Posted on 2002-02-27 17:15:14 by stryker</div>
   </div>
   <div class="post" id="post-26265">
    <div class="subject"><a href="#post-26265">Impossible?</a></div>
    <div class="body">I think that when you call GetDlgItemText it sends a message to the edit controle's window proc wich fills the buffer you suplied. So an edit controle is always going to return a string if you want a float I can think of two things either processing the string once you have it or creating your own edit control.</div>
    <div class="meta">Posted on 2002-02-27 17:21:54 by Quantum</div>
   </div>
   <div class="post" id="post-26268">
    <div class="subject"><a href="#post-26268">Impossible?</a></div>
    <div class="body">umberg6007,<br /><br />It may be possible to do what you are after but I doubt that it will work over a number of windows versions.<br /><br />The problem will be how the float value is placed in the edit control in the first place. It obviously must be converted to display it as a string and once this is done, you probably can only get the string and convert it back.<br /><br />If its your own code you just grab the float value before it is converted to string but if its an OS function, there is no reason to assume that it will be done the same way across different versions and is probably an undocumented method of providing a documented interface.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-27 17:27:57 by hutch--</div>
   </div>
   <div class="post" id="post-26269">
    <div class="subject"><a href="#post-26269">Impossible?</a></div>
    <div class="body">This is possible through string to float but I would like to know how MS retrieves the text, what are the routines behind GetDlgItemText. If we knew how to interact directly with the edit control or any controls on windows we could change or optimized the whole windows API. :) Then again, this is impossible, only MS has the source codes for the win32 API functions :( . Would be great if MS could release some :)<br /><br />Thanks for the thoughts!!!</div>
    <div class="meta">Posted on 2002-02-27 17:29:23 by stryker</div>
   </div>
   <div class="post" id="post-26280">
    <div class="subject"><a href="#post-26280">Impossible?</a></div>
    <div class="body">Do you think any of APIs do low level access to controls :)<br />Nooooooooooo.<br />Mostly the same code as for example in M32lib Apis call Apis:)<br />Trace apis - I found it usefull (ooh - is it reverse ingeniring prohibited here? Then I'd better shut up :))<br /><br />Any way in the particualar code you might get handle to inner buffer of edit to perform some things faster.<br />But only native Win32(aka NT) will allow it - in 9x you'll get GPF<br />if try to read\write from the handle.</div>
    <div class="meta">Posted on 2002-02-27 17:52:44 by The Svin</div>
   </div>
   <div class="post" id="post-26283">
    <div class="subject"><a href="#post-26283">Impossible?</a></div>
    <div class="body">Svin,<br /><br />something like that but for a much more better reason. :) speed. :) I was trying to avoid that word &quot;RE&quot; and was looking for other alternatives, but found none :( Anyway I'm happy with the windows API, I just want to add some nice funtionality. :) Should we call MS and ask them if they could add this function? :grin:</div>
    <div class="meta">Posted on 2002-02-27 17:57:40 by stryker</div>
   </div>
   <div class="post" id="post-26287">
    <div class="subject"><a href="#post-26287">Impossible?</a></div>
    <div class="body">We can do it without their akward help,<br />they already wrote to much headake for me.<br />Last thing they proud of - is that Win2000 has 40 000 000 lines<br />of code now instead of 27 000 000 lines in NT 4.<br />Well I'm usually proud if I did something by fewer lines,<br />we have absolutly different opinions of what is createrea for good programming and good OS.</div>
    <div class="meta">Posted on 2002-02-27 18:12:04 by The Svin</div>
   </div>
   <div class="post" id="post-26351">
    <div class="subject"><a href="#post-26351">Impossible?</a></div>
    <div class="body">At the risk of bringing down the omnipotence of Microsoft down on my head, as far as I know, tracing through a system DLL or doing an assembler dump on it is not illegal as you are not modifying it or cracking it or using it for any illegal purpose whatsoever.<br /><br />With the standard of Microsoft documentation, there are times when working out what an API does is not an easy task so tracing it in assembler or in your MSVC debugger is a necessity. As long as you don't hack it and then try and sell it, you are probably OK there.<br /><br />Just remember that Microsoft was prosecuted for reverse engineering the Stacker software from STAC electronics and subsequently sold it for profit in DOS version 6.0.<br /><br />In no sense would I advocate any person doing what Microsoft did and got caught for doing it. We must respect other people's software and intellectual property.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-27 23:40:42 by hutch--</div>
   </div>
   <div class="post" id="post-26370">
    <div class="subject"><a href="#post-26370">Impossible?</a></div>
    <div class="body">I would assume even M$ would not do something as stupid as having undocumented functions to get the text from an edit control. <br /><br />For something so basic, GetDlgItemText would only be a wrap to GetDlgItem and GetWindowsText (which is only a wrap to WM_GETTEXT). <br /><br />Really there is nothing to optimize. Considering that processing of a message through a message proc is the major bottleneck.</div>
    <div class="meta">Posted on 2002-02-28 02:43:45 by huh</div>
   </div>
   <div class="post" id="post-26442">
    <div class="subject"><a href="#post-26442">Impossible?</a></div>
    <div class="body">api hook can do it.<br />there're two ways to do, first one is find proc address,write &quot;jmp xxx&quot; to your new proc address, pushad, do you want,popad,jmp to original address.<br />but diff cpu ,diff code,and it's dangerous,we can not ensure syn while writting memory.<br /><br />2nd is modify module import table. search all module in process,change getdlgitemtext proc address to your own,jeffrey has told us all.</div>
    <div class="meta">Posted on 2002-02-28 12:25:31 by xqterry</div>
   </div>
  </div>
 </body>
</html>
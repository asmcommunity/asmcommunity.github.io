<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Label at endm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21744" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21744">Label at endm</a></p>
   <div class="post" id="post-164066">
    <div class="subject"><a href="#post-164066">Label at endm</a></div>
    <div class="body">I&#39;ve found this macro in a project:<br /><br />pusho&nbsp;  macro lbl<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  local __tmp<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  call __tmp<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  jmp lbl<br />__tmp&nbsp; &nbsp; endm<br /><br />Someone have an idea of what it does and how???Thanks</div>
    <div class="meta">Posted on 2005-09-02 03:29:53 by china</div>
   </div>
   <div class="post" id="post-164070">
    <div class="subject"><a href="#post-164070">Re: Label at endm</a></div>
    <div class="body">pusho&nbsp;  macro lbl<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  local __tmp<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  call __tmp<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  jmp lbl<br />__tmp&nbsp; &nbsp; endm<br /><br />local _tmp???<br />call _tmp...<br />jmp to label<br /><br />lol thats all I know</div>
    <div class="meta">Posted on 2005-09-02 07:58:04 by shism2</div>
   </div>
   <div class="post" id="post-164075">
    <div class="subject"><a href="#post-164075">Re: Label at endm</a></div>
    <div class="body">for example, in a prg with macro view over:<br /><br />...<br />pusho xxx<br />....<br /><br />will expands in:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ....<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  pusho xxx&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  call ??0000<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  jmp xxx<br />??0000&nbsp; ....<br /><br />I&#39; think.... but i&#39;m not sure where label ??0000 is put. this macro would return offset of a function, but i don&#39;t understand how. the key of this problem, for me, is in the call, that put in the stack the rva at the next instruction (jmp), instead for work it must put the offset xxx. someone know if call before a jmp do it?</div>
    <div class="meta">Posted on 2005-09-02 09:40:25 by china</div>
   </div>
   <div class="post" id="post-164238">
    <div class="subject"><a href="#post-164238">Re: Label at endm</a></div>
    <div class="body">What assembler are you using? When I try to call pusho, MASM says &quot;unmatched macro nesting&quot;. It seems the macro doesn&#39;t use MASM syntax.</div>
    <div class="meta">Posted on 2005-09-05 13:25:35 by MazeGen</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>accessing file from dll - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15996" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15996">accessing file from dll</a></p>
   <div class="post" id="post-123989">
    <div class="subject"><a href="#post-123989">accessing file from dll</a></div>
    <div class="body">I am trying to create a dll that writes to a file, the file must remain open as long as a process has the dll loaded. The problem is I want any process that has the dll loaded to be able to write to the file, this won't work because if the handle is in shared memory it only has meaning to the process wich created the file. How can this be done?</div>
    <div class="meta">Posted on 2003-11-10 22:33:39 by ENF</div>
   </div>
   <div class="post" id="post-124007">
    <div class="subject"><a href="#post-124007">accessing file from dll</a></div>
    <div class="body">Make a shared segment on your dll containing the file handle. This will be shared among all processes that call the library but use a method to prevent data from corruption (CreateMutex or equivalent).<br /><br />Link section with option rws (read write share)</div>
    <div class="meta">Posted on 2003-11-11 03:31:59 by pelaillo</div>
   </div>
   <div class="post" id="post-124020">
    <div class="subject"><a href="#post-124020">accessing file from dll</a></div>
    <div class="body">You could also use a service to control access to the file, or just use a database.</div>
    <div class="meta">Posted on 2003-11-11 06:44:54 by sluggy</div>
   </div>
   <div class="post" id="post-124059">
    <div class="subject"><a href="#post-124059">accessing file from dll</a></div>
    <div class="body">Are you sure that putting the handle in shared data will work because I think that the handle is only valid to the process that created it. I'm going to look into the database option.</div>
    <div class="meta">Posted on 2003-11-11 13:21:25 by ENF</div>
   </div>
  </div>
 </body>
</html>
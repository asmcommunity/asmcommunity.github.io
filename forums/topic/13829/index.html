<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Return any API values both in EAX and EDX? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13829" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13829">Return any API values both in EAX and EDX?</a></p>
   <div class="post" id="post-106964">
    <div class="subject"><a href="#post-106964">Return any API values both in EAX and EDX?</a></div>
    <div class="body">Hi,<br />Is there any Win32 API which return the return values both in EAX and EDX? Or twice DWORD return values are always returned in memory operand(s)? I've asked in C/C++ forum but I haven't got satisfactory answer.<br /><br />Thanks.</div>
    <div class="meta">Posted on 2003-06-13 08:22:17 by MazeGen</div>
   </div>
   <div class="post" id="post-106967">
    <div class="subject"><a href="#post-106967">Return any API values both in EAX and EDX?</a></div>
    <div class="body">EAX is the only register used by Win32 APIs for returning information, either data or error codes. Any data larger than 32 bits would need to be returned to a memory location generally specified by the user.<br /><br />However, ECX and EDX are free to be trashed by any of the APIs. If their content needs to be used after the API call, that data must be preserved before the call and restored as needed.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-06-13 08:53:38 by Raymond</div>
   </div>
   <div class="post" id="post-106968">
    <div class="subject"><a href="#post-106968">Return any API values both in EAX and EDX?</a></div>
    <div class="body">In win32 you always get eax as return value. If you have quadword values you are asked for a pointer</div>
    <div class="meta">Posted on 2003-06-13 08:54:44 by greenant</div>
   </div>
   <div class="post" id="post-107011">
    <div class="subject"><a href="#post-107011">Return any API values both in EAX and EDX?</a></div>
    <div class="body">I don't know of any API functions that return QWORDs or REAL8s.<br /><br />Any API function would follow VC++ conventions.<br />A disassembly of some simple VC++ functions shows the following:<br /><br />REAL8 is returned on the FP stack.<br /><br />QWORD is returned with low DWORD in EAX and high DWORD in EDX.</div>
    <div class="meta">Posted on 2003-06-13 15:46:44 by tenkey</div>
   </div>
   <div class="post" id="post-107022">
    <div class="subject"><a href="#post-107022">Return any API values both in EAX and EDX?</a></div>
    <div class="body">GetFileSize returns the low DWORD in EAX and the high DWORD in the memory pointed to by lpFileSizeHigh.<br /><br />For others, search the PSDK for &quot;LONGLONG&quot; or &quot;LARGE_INTEGER&quot;, there are a bunch of them.</div>
    <div class="meta">Posted on 2003-06-13 17:01:41 by iblis</div>
   </div>
   <div class="post" id="post-107067">
    <div class="subject"><a href="#post-107067">Return any API values both in EAX and EDX?</a></div>
    <div class="body">I think M$, intended not to make a API functions to return __int64 values because many compilers don't support __int64. VB, as an example, cannot support integer values of 8 bytes (it's their product).<br /><br />I found just 1 function that returns __int64 and its name is <strong>GetFrameTimeStamp</strong>.</div>
    <div class="meta">Posted on 2003-06-14 03:56:53 by rxbagain</div>
   </div>
  </div>
 </body>
</html>
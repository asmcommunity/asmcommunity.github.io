<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>FPU Stack Overflow - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1483" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1483">FPU Stack Overflow</a></p>
   <div class="post" id="post-9571">
    <div class="subject"><a href="#post-9571">FPU Stack Overflow</a></div>
    <div class="body">What happens when I push more than 8 values into the FPU stack?<br />Ex: I push 8 values into the stack, filling this way all ST(x) spaces. When I push one more value into ST(0), what happens to ST(7)? Will it simply be overwritten by ST(6)?</div>
    <div class="meta">Posted on 2001-10-16 21:45:40 by eeprom</div>
   </div>
   <div class="post" id="post-9613">
    <div class="subject"><a href="#post-9613">FPU Stack Overflow</a></div>
    <div class="body">Yes, more or less. If you push 9 values then the 9th - 2nd pushed are stores from st(0) - st(7). <br /><br />The very first value pushed is lost, I believe its actually overwritten by st(0)</div>
    <div class="meta">Posted on 2001-10-17 12:59:20 by EÃ³in</div>
   </div>
   <div class="post" id="post-9628">
    <div class="subject"><a href="#post-9628">FPU Stack Overflow</a></div>
    <div class="body">Hi eeprom, e?in is right, the values will be overwritten. it is a kind of readdressing the 8 fpu-registers with changing each index to ((index + 1) modulo 8). This is done if a value is pushed onto the fpu-stack. If you pop the content of st0 then the turning will go the other way ...<br /><br />In normal cpu-state the fpu doesn't care about this overrun, but due to some exception-behavior-flags in the cpu-state-registers it is possible to turn the fpu in a mode in which it will cause an exception if there is any overrun of fpu-regs (this means if the content of st7 is lost by pushing a new value onto the fpu-stack).<br /><br />So take care of this if your asm-code is running within a hll-project which turns this feature on ...<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2001-10-17 18:53:00 by Caleb</div>
   </div>
  </div>
 </body>
</html>
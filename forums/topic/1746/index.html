<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>kernel mode - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1746" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1746">kernel mode</a></p>
   <div class="post" id="post-11157">
    <div class="subject"><a href="#post-11157">kernel mode</a></div>
    <div class="body">Hello I am begginer in assembly, I program in C++ and VFP6.0. I want to know how do I to switch in kernel mode (ring0) in W2k. Because I need write to the parallel port without develop a device driver. Thank You</div>
    <div class="meta">Posted on 2001-11-04 20:53:20 by ax23</div>
   </div>
   <div class="post" id="post-11202">
    <div class="subject"><a href="#post-11202">kernel mode</a></div>
    <div class="body">This is off the top of my head, but should be fairly accurate:<br /><br />you could write a service, but this runs at ring 3, unless you make a call to one of the many system-functions in the kernel, in which case you will be running at ring 0 while in that function, then you will swap back to ring 3 when you get control back.<br /><br />you could write a kernel-mode driver (which is different to a hardware driver), these run always at ring 0.<br /><br />AFAIK, the only real difference between a service and a kernel-mode driver is a couple of registry entries, internally they are just the same. The registry entries just control how the prog is handled by windows at startup, and how it is handled by the SCM.<br /><br /><br />sluggy</div>
    <div class="meta">Posted on 2001-11-05 15:49:12 by sluggy</div>
   </div>
   <div class="post" id="post-11337">
    <div class="subject"><a href="#post-11337">kernel mode</a></div>
    <div class="body"><div class="quote"><br />you could write a kernel-mode driver (which is different to a hardware driver), these run always at ring 0. <br /></div><br />They aren't different, really. A hardware driver is just a subset of kernel-mode drivers.<br /><br />A KMD is just a regular PE file, which does imports from &quot;specific<br />DLLs&quot;, and are loaded &quot;in a special way&quot;. You're limited to &quot;a few&quot;<br />DLLs (the ones with .sys extension :P), and ntoskrnl.exe is probably<br />the one you'll see most.<br /><br />As for going ring0 in any other way... forget it. Ring0 access is considered<br />a security hole (with good reason), and will probably be patched<br />my m$ as soon as they find it.<br /><br />As for port access... I dunno if it's possible without vxd/kmd. This<br />shouldn't be too much of a problem though. If you don't want to<br />write one yourself, search the net. I've come across at least a few<br />port-access libraries. Even ones that are both 9x and nt/2k compatible.</div>
    <div class="meta">Posted on 2001-11-07 04:10:22 by f0dder</div>
   </div>
   <div class="post" id="post-11346">
    <div class="subject"><a href="#post-11346">kernel mode</a></div>
    <div class="body">AsmIO at <a target="_blank" href="http://exagone.cjb.net">my site</a> gives you port access in both win9x and NT/2k.<br /><br />Thomas</div>
    <div class="meta">Posted on 2001-11-07 05:32:01 by Thomas</div>
   </div>
   <div class="post" id="post-11393">
    <div class="subject"><a href="#post-11393">kernel mode</a></div>
    <div class="body">Thank you<br /><br />I have bringed(?) the libraries.<br /><br />ax23<br /><br />** Don't sit down to look it that you have maked, you follow working for that which you don't make **:)</div>
    <div class="meta">Posted on 2001-11-07 18:53:47 by ax23</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SoftWire Linear Optimizations Article - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19869" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=35">Toolchain Development</a> &raquo; <a href="../?id=19869">SoftWire Linear Optimizations Article</a></p>
   <div class="post" id="post-152597">
    <div class="subject"><a href="#post-152597">SoftWire Linear Optimizations Article</a></div>
    <div class="body">Hi,<br /><br />I've written an article about the optimizations used in SoftWire, my open-source x86 code generator: http://sw-shader.sourceforge.net/optimization.html . Any comments about the article would be much appreciated. Especially if you have difficulties understanding certain parts, or have suggestions how to improve it.<br /><br />Thanks!</div>
    <div class="meta">Posted on 2004-11-09 07:48:17 by C0D1F1ED</div>
   </div>
   <div class="post" id="post-152814">
    <div class="subject"><a href="#post-152814">SoftWire Linear Optimizations Article</a></div>
    <div class="body">hi nick,<br /><br />your link is bad, you'll need to remove the period from it.<br /><br /><br />Thanks,<br />_Shawn</div>
    <div class="meta">Posted on 2004-11-13 00:53:25 by _Shawn</div>
   </div>
   <div class="post" id="post-152926">
    <div class="subject"><a href="#post-152926">SoftWire Linear Optimizations Article</a></div>
    <div class="body">Thanks for notifying me!</div>
    <div class="meta">Posted on 2004-11-14 17:12:41 by C0D1F1ED</div>
   </div>
   <div class="post" id="post-152928">
    <div class="subject"><a href="#post-152928">SoftWire Linear Optimizations Article</a></div>
    <div class="body">Hello C0D1F1ED<br /><br />A marvelous article! The explanations were both interesting and precise, and I especially liked the Load Elimination section, as it provided a simple explanation for a principle that makes understanding the following sections easier.<br /><br />I have some little remarks, and a question.<br /><br /><div class="quote">The right r32() gets called first, then the left one, and then the run-time intrinsic.</div><br />The calling order is unspecified by the C++ standard.<br /><br /><div class="quote">Two more C++ operators had to be implemented to make this work. First of a copy constructor was needed. The implementation is very simple, using a mov run-time intrinsic just like emitAssign() . The other operator is the destructor.</div><br />Constructors and destructors are not operators. They are special member functions.<br /><br />The question is: How do you treat instruction mnemonics that clash with C++ keywords and alternative tokens?<br /><br />I assume 'int' doesn't pose much of a problem, since it's not used much in algorithms and application code. What about 'and', 'or', 'not' and 'xor'? The standard defines these as alternative representations for certain operators, and treating them differently yields an ill-formed program.</div>
    <div class="meta">Posted on 2004-11-14 18:46:15 by death</div>
   </div>
   <div class="post" id="post-153038">
    <div class="subject"><a href="#post-153038">SoftWire Linear Optimizations Article</a></div>
    <div class="body"><div class="quote">A marvelous article! The explanations were both interesting and precise, and I especially liked the Load Elimination section, as it provided a simple explanation for a principle that makes understanding the following sections easier.</div><br />Thanks! Much appreciated.<br /><div class="quote">The calling order is unspecified by the C++ standard.</div><br />Ah, I didn't know this. I just determined it experimentally and thought it was the standard. Either way it's not in any way critical, it was just to explain how C++ calls the functions sequentially and this generates exactly the code we want.<br /><div class="quote">Constructors and destructors are not operators. They are special member functions.</div><br />That's true, thanks for notifying this. I'll look for an alternative way to write what I'm trying to say...<br /><div class="quote">The question is: How do you treat instruction mnemonics that clash with C++ keywords and alternative tokens?<br /><br />I assume 'int' doesn't pose much of a problem, since it's not used much in algorithms and application code. What about 'and', 'or', 'not' and 'xor'? The standard defines these as alternative representations for certain operators, and treating them differently yields an ill-formed program.</div><br />Frankly, treating these words as keywords is C++-rapism in my opinion. It's a programming language, not a poetry contest. It serves no purpose whatsoever to define them. Luckily Visual C++ disables them by default. I'm quite sure they caused more trouble at their introduction then they solved. It doesn't seem unlikely that these names have been used a lot as variable names in the past.<br /><br />When I first found out SoftWire doesn't compile on GCC because of this, I asked the same question on several forums. The general answer was that these keywords have been added for no important reason and slipped through the qualification process.</div>
    <div class="meta">Posted on 2004-11-15 18:35:07 by C0D1F1ED</div>
   </div>
  </div>
 </body>
</html>
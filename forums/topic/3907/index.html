<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>program relocation - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3907" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3907">program relocation</a></p>
   <div class="post" id="post-26599">
    <div class="subject"><a href="#post-26599">program relocation</a></div>
    <div class="body">during writing a post to the thread &quot;LoadLibrary emulation&quot; I asked myself this question:<br /><br />On (good old ...) AMIGA it was possible to write 100% relative object-code, which must not be relocated after loading. On 680x0 CPU there was read access to the instruction point register and you had the chance to address all things relative to this register.<br />I wonder if this could be done also on Intel - if I dont use global data, do only relative jump commands and call all functions as ?<br /><br />(on AMIGA resulting in:<br />- faster load process (no relocation needed)<br />- shorter + faster program, since smaller address modes<br />dont know if useful on Intel architecture)</div>
    <div class="meta">Posted on 2002-03-01 08:21:56 by beaster</div>
   </div>
   <div class="post" id="post-26602">
    <div class="subject"><a href="#post-26602">program relocation</a></div>
    <div class="body"><div class="quote">I wonder if this could be done also on Intel - if I dont use global data, do only relative jump commands and call all functions as ?</div><br />quite possible. as you can't access the instruction pointer directly, you'd have to do something like<br /><pre><code><br />    call    @label<br />@label&#58;<br />    pop    eax<br />    sub    eax,offset @label<br /></code></pre></div>
    <div class="meta">Posted on 2002-03-01 08:43:47 by Tola</div>
   </div>
  </div>
 </body>
</html>
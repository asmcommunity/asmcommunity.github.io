<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Case insensitive string compare - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1427" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=1427">Case insensitive string compare</a></p>
   <div class="post" id="post-9177">
    <div class="subject"><a href="#post-9177">Case insensitive string compare</a></div>
    <div class="body">Rafe posed an interesting problem with this style of string comparison so in &quot;brain idling&quot; mode I have put together a procedure that should be able to be tailored to what rafe was after.<br /><br />It uses a table with XLATB which is a reasonable performer, does the comparison on the 2 retrieved bytes and returns with the 1 based count in EAX of the mismatch if any. A match has the same value as the length returned in EAX.<br /><br />Depending on what is needed, the calculation at the end can return more or less whatever you need.<br /><br />Hope its useful.<br /><br />Regards,<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-10-11 06:18:58 by hutch--</div>
   </div>
   <div class="post" id="post-9179">
    <div class="subject"><a href="#post-9179">Case insensitive string compare</a></div>
    <div class="body">Why is the bit at the end (sorting out eax) like that?<br />Can't you just use:<br /><pre><code><br />  mov eax, esi<br />  sub eax, src<br /></code></pre><br />Instead of:<br /><pre><code><br />  sub esi, ecx<br />  mov eax, esi<br />  neg eax<br />  sub ln, eax<br />  mov eax, ln<br /></code></pre><br />?<br /><br />And also just a little code shuffle to keep the decoder fed,<br />mov the <strong>inc edi</strong> to after the second <strong>xlatb</strong>. It keeps a nicer 2,1,1 u-op pattern!<br /><br />Mirno</div>
    <div class="meta">Posted on 2001-10-11 07:09:57 by Mirno</div>
   </div>
   <div class="post" id="post-9183">
    <div class="subject"><a href="#post-9183">Case insensitive string compare</a></div>
    <div class="body">Mirno, :tongue:<br /><br />They tend to come hot of the press in brain idle mode in more or less this form. I was not sure what form rafe wanted the end so I did not do much work on it. When I am a bit less brain dead I will have a play and benchmark it but I doubt there is much speed difference in fiddling it.<br /><br />Regards &amp; thanks for tidying it up.<br /><br /><a href="mailto:hutch@pbq.com.au">hutch@pbq.com.au</a></div>
    <div class="meta">Posted on 2001-10-11 07:33:18 by hutch--</div>
   </div>
   <div class="post" id="post-9198">
    <div class="subject"><a href="#post-9198">Case insensitive string compare</a></div>
    <div class="body">Ignore my reply to the other thread... this is good stuff: new instruction (to me) debate about instruction order... This is definitely getting tweeked &amp; plunked into my code.  I don't want to work today I want to play with this stuff.... dr-mrs-wifee-poo is about to become a widow again... ahh the little things that make us happy:grin: :grin: :grin:</div>
    <div class="meta">Posted on 2001-10-11 10:29:57 by rafe</div>
   </div>
  </div>
 </body>
</html>
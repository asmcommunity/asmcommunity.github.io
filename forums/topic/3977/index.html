<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Simple custom button control for Sudeer - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3977" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=3977">Simple custom button control for Sudeer</a></p>
   <div class="post" id="post-27114">
    <div class="subject"><a href="#post-27114">Simple custom button control for Sudeer</a></div>
    <div class="body">Sudeer had asked about button colours and in one of my posts I said that I preferred a custom control to do that task.<br /><br />Here is a very simple custom control that gives seperate UP and DOWN colour control.<br /><br />The control is really in its beta stage but it seems to be working OK. It has a simplified logic that shows when you hold the mouse button down, the button stays down, even when the mouse is not within the button's rectangle.<br /><br />As I get time, I will add font selection to it via WM_SETFONT message and perhaps text colour control as well.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-04 04:52:49 by hutch--</div>
   </div>
   <div class="post" id="post-27621">
    <div class="subject"><a href="#post-27621">Simple custom button control for Sudeer</a></div>
    <div class="body">Thank you for the effort, but the question is, how do you change the button color by using WM_CTLCOLORBTN when i have three buttons in a dialog box.<br />thanks a lot<br /><a href="mailto:sudeer@37.com">sudeer@37.com</a></div>
    <div class="meta">Posted on 2002-03-07 03:14:58 by sudeer</div>
   </div>
   <div class="post" id="post-27643">
    <div class="subject"><a href="#post-27643">Simple custom button control for Sudeer</a></div>
    <div class="body">Sudeer,<br /><br />With this control rather than the standard one, you change the colour by using the following code.<br /><pre><code><br />    invoke SetWindowLong,hButn,0,hBrush1      ; butn up colour<br />    invoke SetWindowLong,hButn,4,hBrush2      ; butn down colour<br /></code></pre><br />The handle is the one you get from the control's return value, the next number is the offset and the last is the brush which you must create.<br /><br />Basically you change either or both brushes then use InvalidateRect() to force the repaint.<br /><br />When I get a bit more time I will make this control a bit more user friendly in term of programming it. At the moment it will do the job if you understand how the code works.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-03-07 08:07:26 by hutch--</div>
   </div>
   <div class="post" id="post-27783">
    <div class="subject"><a href="#post-27783">Simple custom button control for Sudeer</a></div>
    <div class="body">let us try an example as you said, it is going to be much...much better<br />Thanks again<br /><a href="mailto:sudeer@37.com">sudeer@37.com</a></div>
    <div class="meta">Posted on 2002-03-08 01:11:12 by sudeer</div>
   </div>
  </div>
 </body>
</html>
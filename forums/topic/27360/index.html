<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to ... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27360" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27360">How to ...</a></p>
   <div class="post" id="post-195847">
    <div class="subject"><a href="#post-195847">How to ...</a></div>
    <div class="body">Hello to everybody! 8)
I have some questions, which I suppose can be answered just by 
the proficient people (it means I can't)

1) How to obtain a list of all opened sockets (UDP/TCP) on a 
local machine? I tried some function form iphlpapi.dll but
it posesses just TCP ports.

2) How to trace the socket usage by other progs? I tried some technique 
of substituting the winsock.dll with my own, but it can be easily
overcome by the debugger.

3) How to obtain the IP's and DNS names of users, connected to the machine?
(like NBTSTAT -A <NAME> does)

4) How to get a descriptor of already opened socket (not by my program)?

Sorry for *SUCH* list of questions... 

Best regards,

MAESTRO</div>
    <div class="meta">Posted on 2001-03-23 23:35:00 by MAESTRO</div>
   </div>
   <div class="post" id="post-195848">
    <div class="subject"><a href="#post-195848">How to ...</a></div>
    <div class="body">I don't know if this will help you or not.

TCPView v1.0 

See all open TCP and UDP endpoints. Full source to the command-line version of this tool, netstatp, is included. 

http://www.sysinternals.com/ntw2k/source.shtml</div>
    <div class="meta">Posted on 2001-03-23 23:59:00 by SFinegan</div>
   </div>
  </div>
 </body>
</html>
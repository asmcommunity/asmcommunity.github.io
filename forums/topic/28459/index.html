<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Local array - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28459" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28459">Local array</a></p>
   <div class="post" id="post-201281">
    <div class="subject"><a href="#post-201281">Local array</a></div>
    <div class="body">Hi,
  How do create a local byte array...

like this

void func()
{
  char szBuf[10];
}

Clark</div>
    <div class="meta">Posted on 2001-06-19 05:46:00 by Superman_San</div>
   </div>
   <div class="post" id="post-201282">
    <div class="subject"><a href="#post-201282">Local array</a></div>
    <div class="body"><div class="quote">Syntax:   LOCAL name [][:qualifiedtype] [, name []
            [:qualifiedtype]]...
 
  Description:
 
     Generates code to create one or more stack (automatic) variables,
     which can be accessed only within the current procedure. The
     assembler uses the same method used by high-level languages to
     create local variables.
 
     The <name> parameter is the name of the variable, and <count> is
     an optional expression (which must appear in square brackets)

     indicating the number of elements to allocate. The <qualifiedtype>
     parameter is any qualified type appropriate to <name>. The default
     <qualifiedtype> is WORD in a 16-bit segment and DWORD in a 32-bit
     segment.
 
     Once declared in a LOCAL statement, local variables can be
     referred to by name. The assembler translates references to these
     variables into references to their actual location on the stack
     using the BP indirect addressing mode.

 
     The assembler will generate an error if you have already defined
     <name> as a label.
 
  Example:
 
     LOCAL     array[20]:BYTE
</div>

If in doubt read the manual :P

<pre><code>
func proc
  LOCAL szBuf[10]:BYTE

  ret
func endp
</code></pre>
Is the litteral translation for your code. A stupid function though, as it creates space on the stack, then removes it. But hey are examples meant to be complex?

Mirno</div>
    <div class="meta">Posted on 2001-06-19 06:18:00 by Mirno</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need  Help! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5425" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5425">Need  Help!</a></p>
   <div class="post" id="post-38562">
    <div class="subject"><a href="#post-38562">Need  Help!</a></div>
    <div class="body">Hi,<br /><br />I need a routine that will temporarily drive the<br />available physical memory to zero.<br /><br />Thanks,<br /><br />Ewayne</div>
    <div class="meta">Posted on 2002-05-16 07:55:23 by Ewayne</div>
   </div>
   <div class="post" id="post-38564">
    <div class="subject"><a href="#post-38564">Need  Help!</a></div>
    <div class="body">I believe there is such a tool in the PSDK,<br />but I have never used it.  It's in the tools<br />directory, iirc.</div>
    <div class="meta">Posted on 2002-05-16 08:00:41 by bitRAKE</div>
   </div>
   <div class="post" id="post-38569">
    <div class="subject"><a href="#post-38569">Need  Help!</a></div>
    <div class="body">How about calling VirtualAlloc(NULL, 0x1000, MEM_COMMIT, PAGE_READWRITE) in a loop until it fails?<br /><br /><br />aweX &lt;-</div>
    <div class="meta">Posted on 2002-05-16 08:23:48 by aweX</div>
   </div>
   <div class="post" id="post-38699">
    <div class="subject"><a href="#post-38699">Need  Help!</a></div>
    <div class="body">Thanks bitRAKE and aweX.<br /><br />To aweX,<br /><br />VirtualAlloc doesn't seem to work, but HeapAlloc<br />then HeapReAlloc works.<br /><br />But it has some nasty side effects when the<br />physical memory reaches zero it takes Windows a<br />couple of seconds to recover and then after doing<br />it a few times my swap file fills up.<br /><br />If you could look at my post on the IDE forum<br />under CreateProcess Help! you will see what I'm<br />trying to accomplish.<br /><br /><br />Ewayne</div>
    <div class="meta">Posted on 2002-05-17 09:00:02 by Ewayne</div>
   </div>
   <div class="post" id="post-38703">
    <div class="subject"><a href="#post-38703">Need  Help!</a></div>
    <div class="body">Ewayne,<br /><br />There is an old SDK tool called STRESS that works in win95 but I don't know if it works in NT/2k/XP.<br /><br />It is designed to do what you are after.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-05-17 09:26:26 by hutch--</div>
   </div>
   <div class="post" id="post-38708">
    <div class="subject"><a href="#post-38708">Need  Help!</a></div>
    <div class="body">Thanks Hutch,<br /><br />All I need it for is Win98x and maybe XP Hone,<br />there is not a problem with NT, Win2k, or XP Pro.<br /><br />I will try to find it.<br /><br />Did you look at my post on the IDE's forum under<br />CreateProcess Help! you will see what I'm <br />trying to accomplish.<br /><br />Maybe there is a better way.<br /><br />Thanks,<br /><br />Ewayne</div>
    <div class="meta">Posted on 2002-05-17 09:44:37 by Ewayne</div>
   </div>
   <div class="post" id="post-38773">
    <div class="subject"><a href="#post-38773">Need  Help!</a></div>
    <div class="body">To reduce free physical memory to 0 it should suffice to enlarge size of locked memory to (almost) the size of physical memory. In theory VirtualLock should do that lock job, but it doesn't do that at least in Win9x (proved simply by locking a memory region larger than physical memory size, which should always fail but doesnt in Win9x). But DPMI functions (0x602) work with all win9x versions.</div>
    <div class="meta">Posted on 2002-05-18 01:23:57 by japheth</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>DIV problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8623" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8623">DIV problem</a></p>
   <div class="post" id="post-63313">
    <div class="subject"><a href="#post-63313">DIV problem</a></div>
    <div class="body">ok I have used div before without errors and I looked around and seen examples of it being useed, Its not exactly rocket science; I thought.  <br /><br />div ecx<br /><br />My app is crashing, i traced it to that command<br />it takes me to NT's exception dispatcher.<br /><br />mov ebx,pMemory<br />mov ecx,FileSizeU<br />@@:<br />cmp BYTE PTR ,0<br />jnz NO0<br />    inc eax<br />NO0:<br />inc ebx<br />dec ecx<br />jnz @b<br />mov ecx,00000003h<br />div ecx<br />mov Total,eax<br /><br />why oh why oh why<br /><br />HELP!!!!!!!!!!!!!:confused: :confused: <br /><br />i tried div (ram var)<br />div cl<br />div cx<br /><br />all same problem<br /><br />idiv == same issue</div>
    <div class="meta">Posted on 2002-10-24 18:53:24 by dionysus</div>
   </div>
   <div class="post" id="post-63321">
    <div class="subject"><a href="#post-63321">DIV problem</a></div>
    <div class="body">Looks to me like you forgot to clear EDX before the DIV. Remember, when you divide by a 32 bit number, the dividend is the 64 bit number in EDX:EAX.<br /><br />:)</div>
    <div class="meta">Posted on 2002-10-24 20:14:55 by S/390</div>
   </div>
   <div class="post" id="post-63363">
    <div class="subject"><a href="#post-63363">DIV problem</a></div>
    <div class="body">Maybe it's not div, but some memory protection fault. Check pMemory...</div>
    <div class="meta">Posted on 2002-10-25 01:52:46 by Vaxon</div>
   </div>
   <div class="post" id="post-63459">
    <div class="subject"><a href="#post-63459">DIV problem</a></div>
    <div class="body"><div class="quote"><br />Looks to me like you forgot to clear EDX before the DIV. Remember, when you divide by a 32 bit number, the dividend is the 64 bit number in EDX:EAX.<br /><br />:) </div><br /><br />I had the same problem before, XOR out EDX before you attempt to execute the divide instruction or else you will get an integer overflow.</div>
    <div class="meta">Posted on 2002-10-25 16:40:45 by x86asm</div>
   </div>
   <div class="post" id="post-63462">
    <div class="subject"><a href="#post-63462">DIV problem</a></div>
    <div class="body"><strong>cdq</strong> for idiv</div>
    <div class="meta">Posted on 2002-10-25 16:55:10 by stryker</div>
   </div>
  </div>
 </body>
</html>
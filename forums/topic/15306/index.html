<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Question about WM_CLOSE &amp; WM_DESTROY - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15306" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15306">Question about WM_CLOSE &amp; WM_DESTROY</a></p>
   <div class="post" id="post-118899">
    <div class="subject"><a href="#post-118899">Question about WM_CLOSE &amp; WM_DESTROY</a></div>
    <div class="body">Hello,<br />  Though I have consulted MSDN and Win32 Programmer's Reference,I am not still very clear about the<br />difference between the two messages:WM_CLOSE &amp; WM_DESTROY.In code I have read,some use WM_CLOSE<br />as a signal of terminating a dialog and some else use WM_DESTROY.<br />  So would someone tell me the difference between the two messages and the exact usage of them,thanks!</div>
    <div class="meta">Posted on 2003-09-21 21:06:59 by allegretto</div>
   </div>
   <div class="post" id="post-118900">
    <div class="subject"><a href="#post-118900">Question about WM_CLOSE &amp; WM_DESTROY</a></div>
    <div class="body">Hi  allegretto,<br />I believe WM_CLOSE is sent to the window procedure before the window is removed from the screen. WM_DESTROY is sent to the window procedure after the window has been removed from the screen.</div>
    <div class="meta">Posted on 2003-09-21 21:41:35 by bgong68</div>
   </div>
   <div class="post" id="post-118908">
    <div class="subject"><a href="#post-118908">Question about WM_CLOSE &amp; WM_DESTROY</a></div>
    <div class="body">Hello allegretto,<br /><br />This is from the SDK:<br /><br /><div class="quote">You can use the DestroyWindow function to destroy a window. Typically, an application sends the WM_CLOSE message before destroying a window, giving the window the opportunity to prompt the user for confirmation before the window is destroyed. A window that includes a window menu automatically receives the WM_CLOSE message when the user clicks Close from the window menu. If the user confirms that the window should be destroyed, the application calls DestroyWindow. The system sends the WM_DESTROY message to the window after removing it from the screen. In response to WM_DESTROY, the window saves its data and frees any resources it allocated. A main window concludes its processing of WM_DESTROY by calling the PostQuitMessage function to quit the application.</div> <br /><br />hope you find this helpful, best regards,<br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-09-21 23:12:55 by czDrillard</div>
   </div>
   <div class="post" id="post-118959">
    <div class="subject"><a href="#post-118959">Oh,I see</a></div>
    <div class="body">Thanks!</div>
    <div class="meta">Posted on 2003-09-22 08:11:03 by allegretto</div>
   </div>
  </div>
 </body>
</html>
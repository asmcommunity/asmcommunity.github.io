<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>(Probably) A Frequently Asked Question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22400" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=34">OS Development</a> &raquo; <a href="../?id=22400">(Probably) A Frequently Asked Question</a></p>
   <div class="post" id="post-168104">
    <div class="subject"><a href="#post-168104">(Probably) A Frequently Asked Question</a></div>
    <div class="body">I couldn&#39;t find any FAQ for this subforum (like the one on the networking subforum), so I had to ask.<br /><br />-&gt; Where should I start? Let&#39;s say I want to make a GUI OS for 32-bit x86 machines (or 64-bit ones). I want it mainly to write a network server for it (so it has to support TCP/IP). ... Well it doesn&#39;t necessarily have to be GUI even, but that would be nice :) . And let&#39;s say that I have infinite patience and infinite amount of time :mrgreen: The OS must be possibly most stable and most secure. It must support multithreading (support for Intel&#39;s HyperThreading technology would be cool), and possibly more than 1 CPU.<br /><br />-&gt; What about the drivers? How do you get/make the drivers for your own OS? Is it possible to make some other OS&#39;s drivers to work on your system? (like making your OS &#39;compatible&#39; with an existing one?)<br /><br />So put this simply: I&#39;d like to know how to make a full-blown OS even if I&#39;ll never have to write one.<br /><br />Sorry if these are dumb questions - I&#39;ve never played with anything OS-related and I&#39;d like to make first step ;) Windows programming is starting to be boring :P and I think that unix/linux programming wouldn&#39;t help either :)<br /><br />BTW: I like the idea to write in ASM as much OS as possible, so any help there would be appreciated.</div>
    <div class="meta">Posted on 2005-11-21 20:13:58 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168105">
    <div class="subject"><a href="#post-168105">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">I&#39;ve was working on an OS Development Guide, but I have yielded work on that to my own OS Development stuff.<br /><br />I think the best source for any OS information is probably all centralized at the <a target="_blank" href="http://www.mega-tokyo.com/forum/index.php?board=1">OS Development &amp; Design Forum @ MegaTokyo.com</a>.</div>
    <div class="meta">Posted on 2005-11-21 21:22:41 by SpooK</div>
   </div>
   <div class="post" id="post-168109">
    <div class="subject"><a href="#post-168109">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Hey ti_mo_n, your project sounds interesting. Do let me know if you need help.</div>
    <div class="meta">Posted on 2005-11-22 01:14:18 by roticv</div>
   </div>
   <div class="post" id="post-168130">
    <div class="subject"><a href="#post-168130">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Thank you Spook for the link. It led me to these places:<br /><br />http://www.mega-tokyo.com/osfaq2/<br />http://www.nondot.org/sabre/os/articles<br /><br />Both of them rock. :)<br /><br /><br />Thank you roticv for your interest. I&#39;ll definitely need a hand on this project, so you&#39;re welcome with any ideas/suggestions/beer/etc. :P ;) And of course I&#39;ll need the help when it&#39;ll come to actually &#39;write&#39; the OS, procedure after procedure.<br /><br />First I have to learn a bit about it (I&#39;m in the middle of the mentioned &quot;OSFAQ&quot; right now). Then I&#39;ll try to make a simple bootloader. I don&#39;t want to use anything widely available, because I want this project to be a valuable experience.<br /><br />This OSFAQ is great. I&#39;ve already risen my knowledge by 10&#39;000 % :P<br /><br />From what I&#39;ve learned it seems that the OS will need the following:<br /><br />-&gt; bootloader<br />-&gt; kernel<br />-&gt; commandline / GUI shell<br /><br />Bootloader won&#39;t be very difficult as it&#39;s only a proc which loads some stuff. Knowledge about RealMode addressing and BIOS interrupts is required (and I already have that knowledge since &#39;the old times&#39; ;) ).<br /><br />The kernel is going to be a tough one. I must read about Task(CPU time)/Memory allocation, some advanced concepts of protected mode, and learn those intructions and registers which you never use in win32 programming :P So I&#39;ll have to read Intel&#39;s manuals again (very thouroughly this time) and of course finish reading this OSFAQ.<br /><br />From what I see, it&#39;s a project for 2-3 years of manwork. Because of that, I think that making it for 64-bit CPUs would be more clever (32-bit CPUs may get outdated until then). What do you think? And what about compatibility? Are those 64-bit CPUs downwards-compatible with 32-bit ones?<br /><br />I propose to make it as Windows&#39;ish as possible. Support for PE exes is a must. Making it able to run PE exes / DLLs will ease the programming for it (you&#39;ll be able to work on Windows OS without any special tools - just the standard ones). Ideally it will have the things like &quot;kernel32.dll&quot; and &quot;user32.dll&quot; but that&#39;s of course a long journey. I don&#39;t want it to be ideal Windows clone, because that&#39;s near to impossible to achieve. I just want to follow some standards - I believe that will ease the development process a lot.<br /><br />Finally the OS will be able to run a TCP/IP server (HTTP/FTP with PHP/SQL) (it will need to support some other protocols too, like DHCP).<br /><br />That&#39;s of course just a starting concept. I&#39;m open for any suggestions/ideas/oher help :)<br /><br />As for the work itself: I&#39;m going to learn a lot through November and December (and January if needs be). The main reason is that I must finish an app. I have a deadline set on January and my publisher will get mad if I won&#39;t finish it :P Right after it&#39;s finished, I&#39;ll switch to the OS development project. Until then, I&#39;ll (only) be reading about the topic in any free time.</div>
    <div class="meta">Posted on 2005-11-22 14:27:42 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168139">
    <div class="subject"><a href="#post-168139">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Dark Fiber&#39;s OS FAQ is OK, but it still limits the freedom of your though, since those techniques are not the only way to do things. Just steer clear of Tim Robinson&#39;s ASM-bashing rants and you will be ok.</div>
    <div class="meta">Posted on 2005-11-22 18:17:43 by SpooK</div>
   </div>
   <div class="post" id="post-168142">
    <div class="subject"><a href="#post-168142">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Yeah - I always get the basic idea first, next learn different ways, and then write something mine ;) following somebody&#39;s way of thinking is not educational, IMO ;)</div>
    <div class="meta">Posted on 2005-11-22 19:26:24 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168147">
    <div class="subject"><a href="#post-168147">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Try this q&amp;a. http://roticv.rantx.com/iota/qna.txt<br /><br />I found it while I had time to try to code an OS some years back. I gave up on the experimental OS after a while. Of course I wouldn&#39;t mind helping you with some coding, if I can squeeze out some time. <br /><br />I think the important is that you manage to get what you want on a piece of paper so that you have a clear direction on how you want. hehe make sure you know intel manual 3 by heart.<br /><br />Support php and sql sounds like a long long long long way to go.&nbsp; ;) But I think once you get a C compiler and maybe an assembler (I would propose fasm since it would not be too difficult to port it over) to work on your OS, things would be much easier.your OS to be like. Once you are done with that you can start building your os from scratch. <br /><br />Here&#39;s some questions from me:<br />Do you intend to code it for 64bit or 32bit? <br />Are you supporting TSS? <br />Are you gonna use segmentation? <br />Are you going to use paging?</div>
    <div class="meta">Posted on 2005-11-22 20:40:42 by roticv</div>
   </div>
   <div class="post" id="post-168252">
    <div class="subject"><a href="#post-168252">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">-&gt; I&#39;m thinking about 32-bit as for now, but considering the fact that OS development is a 3+ years project, I&#39;m slowly turning my head towards 64 bit<br />-&gt; TSS? You mean hardware context switching? First I have to know about the performance of both the software and hardware context switching methods.<br />-&gt; I see paging as a special case of segmentation after what I&#39;ve read (or am I wrong?). Yes, I want to use the paging.<br /><br />edit:<br /><br />IA64 seems like a hell :| I doubt writing an OS for it. I&#39;ll stick with IA32 then, or maybe AMD&#39;s x64, but definitely not IA64. (I&#39;ll leave IA64 programming for .NET :P)</div>
    <div class="meta">Posted on 2005-11-25 22:08:25 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168253">
    <div class="subject"><a href="#post-168253">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Don&#39;t worry there&#39;s still AMD64&nbsp; ;)</div>
    <div class="meta">Posted on 2005-11-25 22:14:35 by roticv</div>
   </div>
   <div class="post" id="post-168284">
    <div class="subject"><a href="#post-168284">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body"><div class="quote"><br />-&gt; I&#39;m thinking about 32-bit as for now, but considering the fact that OS development is a 3+ years project, I&#39;m slowly turning my head towards 64 bit<br />-&gt; TSS? You mean hardware context switching? First I have to know about the performance of both the software and hardware context switching methods.<br />-&gt; I see paging as a special case of segmentation after what I&#39;ve read (or am I wrong?). Yes, I want to use the paging.<br /><br />edit:<br /><br />IA64 seems like a hell :| I doubt writing an OS for it. I&#39;ll stick with IA32 then, or maybe AMD&#39;s x64, but definitely not IA64. (I&#39;ll leave IA64 programming for .NET :P)<br /></div><br /><br />Intel EMT64 is suppose to be the equivalent of AMD&#39;s x64. IA-64 was merely an attempt at combining the functions of a server with that of a space heater.</div>
    <div class="meta">Posted on 2005-11-26 20:16:02 by SpooK</div>
   </div>
   <div class="post" id="post-168287">
    <div class="subject"><a href="#post-168287">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Wow thanx! I didn&#39;t know about it. I thought the only Intel&#39;s 64-bit response to AMD was the IA64. Now I can start &quot;turning my head&quot; a little bit faster :P</div>
    <div class="meta">Posted on 2005-11-26 21:06:15 by ti_mo_n</div>
   </div>
   <div class="post" id="post-168303">
    <div class="subject"><a href="#post-168303">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body"><div class="quote"><br />Wow thanx! I didn&#39;t know about it. I thought the only Intel&#39;s 64-bit response to AMD was the IA64. Now I can start &quot;turning my head&quot; a little bit faster :P<br /></div><br /><br />IA64 (Itanium/Itanium2) was out way before AMD64 became mainstream, it was targeted mainly for servers. I used to be an &quot;Intel&quot; only, but after how I saw how poorly the new Pentium IV&#39;s were being designed, I decided to try out AMD64. No regrets, especially running Windows XP x64 :)</div>
    <div class="meta">Posted on 2005-11-27 13:36:56 by SpooK</div>
   </div>
   <div class="post" id="post-168370">
    <div class="subject"><a href="#post-168370">Re: (Probably) A Frequently Asked Question</a></div>
    <div class="body">Thank you for the explaination. So EM64T is like another &quot;operating mode&quot; on IA32 architecture, which can be &#39;enabled&#39; using a flag or something? Is it compatible with AMD&#39;s x86-64 (I hope it is :mrgreen: ) ?<br /><br />OK, I&#39;ve found the following:<br /><br /><div class="quote"><strong>Q9: Is it possible to write software that will run on Intel&#39;s processors with IntelÂ® EM64T, and AMD&#39;s 64-bit capable processors?</strong><br />A9: Yes, in most cases. Even though the hardware microarchitecture for each company&#39;s processor is different, the operating system and software ported to one processor will likely run on the other processor due to the close similarity of the instruction set architectures. However, Intel processors support additional features, like the SSE3 instructions and Hyper-Threading Technology, which are not supported on non-Intel platforms. As such, we believe developers will achieve maximum performance and stability by designing specifically for Intel architectures and by taking advantage of Intel&#39;s breadth of software tools and enabling services. </div></div>
    <div class="meta">Posted on 2005-11-29 23:22:48 by ti_mo_n</div>
   </div>
  </div>
 </body>
</html>
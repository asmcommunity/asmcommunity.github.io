<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>copy one text file in to another - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21056" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21056">copy one text file in to another</a></p>
   <div class="post" id="post-159548">
    <div class="subject"><a href="#post-159548">copy one text file in to another</a></div>
    <div class="body"><strong>HI all you</strong><br />At the beginig i would like to say that I&#39;m new here so by nice for me. I&#39;ve got one question. I must write progam witch will copy contains of one text &#39;*.txt&#39; file in to another. I have writeln something like that. Can you correct my program code. This program must copy all file, not only the pieces. Thanks&nbsp; :D<br /><pre><code><br />;to zaczyna dzia?a?<br /><br />.model tiny<br />.stack 100h<br />.data <br />	plik1	db	&#39;przemek.txt&#39;,0<br />	plik2	db	&#39;plik2.txt&#39;,0<br />	wynik	db	&#39;wynik.txt&#39;,0<br />	bufor	db	256	dup(0)<br />	ilosc	dw	?<br /><br />.code<br />	mov	ax,@data<br />	mov	ds,ax<br />	mov	ah,3dh<br />	mov	al,0<br />	mov	dx,offset plik1<br />	int	21h<br />	mov	bx,ax<br />czytaj:<br />	mov	ah,3fh<br />	mov	cx,256<br />	mov	dx,offset bufor<br />	int	21h<br />	mov&nbsp; &nbsp;  ilosc,ax<br />	mov 	cx,ax<br />	mov	ah,02h<br />	mov	di,offset bufor<br /><br />pisz:<br />	mov	dl,ds:<br />	int	21h<br />	inc di	<br /><br />&nbsp; &nbsp; loop pisz<br />	cmp	ilosc,256<br />	je	czytaj<br /><br />stworzenie_pliku_wynikowego:<br />	mov	ah,3ch<br />	mov	cx,0<br />	mov	dx,offset wynik<br />	int	21h<br /><br />otwarcie_pliku_wynikowego:<br />	<br />	mov	ah,3dh<br />	mov	al,1	<br />	mov	dx,offset wynik<br />	int	21h<br />	<br />zapis_pierwszego_pliku:<br /><br />	mov	bx,ax<br />	mov	cx,256<br />	mov	ah,40h	<br />	mov	dx,offset bufor<br />	int	21h<br /><br />	mov	ah,3eh<br />	int	21h<br />	mov	ah,4ch<br />	int	21h<br />end<br /><br /></code></pre><br /></div>
    <div class="meta">Posted on 2005-05-04 12:32:07 by szwagier</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Buffers - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28895" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28895">Buffers</a></p>
   <div class="post" id="post-204266">
    <div class="subject"><a href="#post-204266">Buffers</a></div>
    <div class="body">I want to remove the last char of a string that the user inputs because its a carriage return, here is what I use but NASM gives me and error, what am I doing wrong?<br /><br /><pre><code><br />mov data, 0<br /><br />...<br /><br />buffer:<br />max db 20<br />count db 0<br />data db 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0<br /></code></pre></div>
    <div class="meta">Posted on 2007-12-31 03:02:18 by ExtremeCoder</div>
   </div>
   <div class="post" id="post-204267">
    <div class="subject"><a href="#post-204267">Re: Buffers</a></div>
    <div class="body">its ok I have it now<br /><br /><pre><code><br />mov al, 0<br />mov bh, <br />mov bl, 0<br />mov , al<br /></code></pre></div>
    <div class="meta">Posted on 2007-12-31 03:25:59 by ExtremeCoder</div>
   </div>
   <div class="post" id="post-204278">
    <div class="subject"><a href="#post-204278">Re: Buffers</a></div>
    <div class="body"><div class="quote"><br />its ok I have it now<br /><br /><pre><code><br />mov al, 0<br />mov bh, <br />mov bl, 0<br />mov , al<br /></code></pre><br /></div><br /><br />Not sure if that did work, but it shouldn&#039;t.<br /><br />Here is something that will work, foregoing optimization.<br /><br /><pre><code><br />movzx bl,BYTE ;Copies  to BL, zeros-out BH, so that BX becomes the offset<br />add bx,data ;Offset + Base = Pointer<br />mov BYTE,0 ;Convert Carriage Return into Zero<br /></code></pre><br /></div>
    <div class="meta">Posted on 2007-12-31 13:15:27 by SpooK</div>
   </div>
   <div class="post" id="post-204280">
    <div class="subject"><a href="#post-204280">Re: Buffers</a></div>
    <div class="body">thank you, appreciate it, but my version did work....</div>
    <div class="meta">Posted on 2007-12-31 13:31:42 by ExtremeCoder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ChildWindowFromPoint question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5718" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5718">ChildWindowFromPoint question</a></p>
   <div class="post" id="post-40905">
    <div class="subject"><a href="#post-40905">ChildWindowFromPoint question</a></div>
    <div class="body">i need to get a static controls handle using the ChildWindowFromPoint function. using the WindowFromPoint doesnt work with static controls. anyways here's a snipet of what i got. im getting very strange point results.<br /><pre><code><br />        invoke GetCursorPos,addr curPos                   ;get cursor postion and place info in curPos&#40;POINT&#41; structure<br />        invoke WindowFromPoint,curPos.x,curPos.y          ;using the points get the handle to the parent window                 <br />        invoke ChildWindowFromPoint,eax,curPos.x,curPos.y ;then get the child window of parent at mouse position<br />        mov hSpot,eax</code></pre></div>
    <div class="meta">Posted on 2002-06-01 02:12:32 by smurf</div>
   </div>
   <div class="post" id="post-40909">
    <div class="subject"><a href="#post-40909">ChildWindowFromPoint question</a></div>
    <div class="body">There is not enought info given to see its fully context, but when i wrote my little 'topmost' tool i used:<br /><pre><code><br />          invoke ClientToScreen, hWnd, addr PT<br />          invoke WindowFromPoint, PT.x, PT.y<br /></code></pre><br />To translate the point to translate the Parent window' point event to screen co-ords.  (( I was also using Mouse Captures to recieve messages when off the parrent window as well ~ but this should not be an issue to your needs ))<br /><br />:NaN:</div>
    <div class="meta">Posted on 2002-06-01 03:07:17 by NaN</div>
   </div>
   <div class="post" id="post-40911">
    <div class="subject"><a href="#post-40911">ChildWindowFromPoint question</a></div>
    <div class="body">Yeah, in your code, Smurf, I think you need a ScreenToClient after WindowFromPoint (because ChildWindowFromPoint works on client coords)<br /><br />Regards<br />eGo</div>
    <div class="meta">Posted on 2002-06-01 03:38:56 by eGo</div>
   </div>
   <div class="post" id="post-40916">
    <div class="subject"><a href="#post-40916">ChildWindowFromPoint question</a></div>
    <div class="body">thanks guys. ScreenToClient was what i was looking for. i had given it a try already along with every other point convertion but i must have overlooked something.</div>
    <div class="meta">Posted on 2002-06-01 05:39:35 by smurf</div>
   </div>
  </div>
 </body>
</html>
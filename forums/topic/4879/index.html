<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Saving and loading - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4879" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4879">Saving and loading</a></p>
   <div class="post" id="post-34186">
    <div class="subject"><a href="#post-34186">Saving and loading</a></div>
    <div class="body">I have a dos program that needs to be edited so I can add some functions for saving an image to a path that the user enters and for loading a path that the user enters.  My asembly program is sort of like a very simple dos drawing program.  So the object is to be able to save the drawing to a file so that it can be loaded back in the future without having to start over.  So, can someone direct me on where I could find some sort of tutorial or instructions on saving and loading files that a beginner can understand?<br /><br />I forgot to mention that the program uses the ascii character set for drawing.</div>
    <div class="meta">Posted on 2002-04-20 18:18:43 by freedumb87</div>
   </div>
   <div class="post" id="post-34422">
    <div class="subject"><a href="#post-34422">Saving and loading</a></div>
    <div class="body">you need some kind of BIOS or MS-DOS file functions, which are used via interrupt.<br />Since this question is not very win32asm related, I wonder if you would like to make a Win32 version of your DOS program? Its much more fun and also somewhat easier to work in 32bit mode than in 8/16bit DOS.</div>
    <div class="meta">Posted on 2002-04-22 08:15:25 by beaster</div>
   </div>
   <div class="post" id="post-34423">
    <div class="subject"><a href="#post-34423">Saving and loading</a></div>
    <div class="body">If you *really* want to do dos, you should find Ralph Brown's interrupt<br />list, it is invaluable.</div>
    <div class="meta">Posted on 2002-04-22 08:17:23 by f0dder</div>
   </div>
   <div class="post" id="post-34524">
    <div class="subject"><a href="#post-34524">Saving and loading</a></div>
    <div class="body">file i/o in DOS is accomplished in a similar (not really, though) method to the Win32 paradigm...  it uses handles to files.  when you have d/led RBIL as recommended above, do a search for FCB (File Control Buffer)...</div>
    <div class="meta">Posted on 2002-04-22 17:18:15 by jademtech</div>
   </div>
   <div class="post" id="post-34525">
    <div class="subject"><a href="#post-34525">Saving and loading</a></div>
    <div class="body">Isn't FCB the old-style way of dealing with files in DOS?</div>
    <div class="meta">Posted on 2002-04-22 17:25:55 by f0dder</div>
   </div>
   <div class="post" id="post-34534">
    <div class="subject"><a href="#post-34534">Saving and loading</a></div>
    <div class="body">yes...  isn't freedumb87 looking for file handling stuff?</div>
    <div class="meta">Posted on 2002-04-22 17:56:50 by jademtech</div>
   </div>
   <div class="post" id="post-34541">
    <div class="subject"><a href="#post-34541">Saving and loading</a></div>
    <div class="body">Well, as far as I remember there's two sets of file handling APIs<br />in DOS... the handle-based ones and the FCB based ones. I could<br />be wrong, though...<br /><br />Anyway (off top of my head), for handle-based IO, you use<br />function 3Dh (ah=3D, al=mode, int 21) to open the file. 3Eh to<br />close the file. 42h to set file pointer. 3Fh to read. 40h to write.<br />I'm not totally sure about the numbers, but they should at least<br />serve as lookup points in ralph browns interrupt list.</div>
    <div class="meta">Posted on 2002-04-22 18:08:32 by f0dder</div>
   </div>
   <div class="post" id="post-34545">
    <div class="subject"><a href="#post-34545">Saving and loading</a></div>
    <div class="body">Thanks guys, I am going to check out the list.  That will get me started.  I think I can do it once I can find the proper functions.<br /><br />Thanks</div>
    <div class="meta">Posted on 2002-04-22 18:46:58 by freedumb87</div>
   </div>
   <div class="post" id="post-34579">
    <div class="subject"><a href="#post-34579">Saving and loading</a></div>
    <div class="body">According to my old MS-DOS Functions book, from MS press, f0dder's memory is pretty good. :)<br /><br />You could also look around for a program called HELPPC. It has a ton of detailed info on DOS interrupts, structs, etc.<br /><br />And yes, there are 2 ways of doing things with DOS interrupts. The really, really old FCB way (which you should avoid), and the newer handle method.<br /><br />But you really should give this stuff up, and learn the Win API. It does make life much easier, even if it doesn't look that way at first...<br /><br />:)</div>
    <div class="meta">Posted on 2002-04-22 23:22:37 by S/390</div>
   </div>
   <div class="post" id="post-34615">
    <div class="subject"><a href="#post-34615">How IS File access done in Win32?</a></div>
    <div class="body">How IS file access done in Win32?  I don't remember seeing anything about file access in Iczelion's tutorials... maybe someone should write one and send it to him?</div>
    <div class="meta">Posted on 2002-04-23 06:07:17 by AmkG</div>
   </div>
   <div class="post" id="post-34639">
    <div class="subject"><a href="#post-34639">Saving and loading</a></div>
    <div class="body">File access in win32 is easy. Look up &quot;base services -&gt; file storage -&gt; file I/O&quot;<br />in the PlatformSDK. CreateFile,CloseHandle,SetFilePointer,ReadFile,WriteFile.<br />That should get you started :).</div>
    <div class="meta">Posted on 2002-04-23 09:28:52 by f0dder</div>
   </div>
  </div>
 </body>
</html>
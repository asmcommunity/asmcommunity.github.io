<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>CreatePalette - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26745" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26745">CreatePalette</a></p>
   <div class="post" id="post-192853">
    <div class="subject"><a href="#post-192853">CreatePalette</a></div>
    <div class="body">i can't seem to figure out why this isn't working. anyone know?

LOCAL palent[3]:PALETTEENTRY
	
	mov palent[0].peRed, 255
	mov palent[0].peGreen, 255
	mov palent[0].peBlue, 255
	mov palent[0].peFlags, NULL
	
	mov palent[1].peRed, 0
	mov palent[1].peGreen, 0
	mov palent[1].peBlue, 0
	mov palent[1].peFlags, NULL
	
	mov palent[2].peRed, 0
	mov palent[2].peGreen, 0
	mov palent[2].peBlue, 128
	mov palent[2].peFlags, NULL
	
	mov logpal.palVersion, 4h
	mov logpal.palNumEntries, 3
	mov eax, palent
	mov logpal.palPalEntry, eax
	
	invoke CreatePalette, ADDR logpal
	.if eax==NULL
		invoke MessageBox, NULL, ADDR duh, ADDR duh, MB_OK
	.else
		mov hPalette, eax
	.endif</div>
    <div class="meta">Posted on 2001-02-02 14:32:00 by Sloat</div>
   </div>
   <div class="post" id="post-192854">
    <div class="subject"><a href="#post-192854">CreatePalette</a></div>
    <div class="body">well, it turns out if i set the palVersion member to 300h, it'll work, but i guess EM_SETPALETTE isn't working. it's kinda hard to tell when the message doesn't return a value</div>
    <div class="meta">Posted on 2001-02-03 14:12:00 by Sloat</div>
   </div>
  </div>
 </body>
</html>
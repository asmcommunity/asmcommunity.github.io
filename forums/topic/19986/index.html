<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>context stuff - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19986" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19986">context stuff</a></p>
   <div class="post" id="post-153306">
    <div class="subject"><a href="#post-153306">context stuff</a></div>
    <div class="body">heya.. I have a problem getting the context of a process which is *running* (so it was not started with CreateProcess) and it's debbugged by my application... the problem is that I don't know how to get it's thread handle :(<br />id appreciate any help or code snippet <br />thank you</div>
    <div class="meta">Posted on 2004-11-21 08:28:43 by DZA</div>
   </div>
   <div class="post" id="post-153309">
    <div class="subject"><a href="#post-153309">context stuff</a></div>
    <div class="body"><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/windowing/windows/windowreference/windowfunctions/getwindowthreadprocessid.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/windowing/windows/windowreference/windowfunctions/getwindowthreadprocessid.asp</a></div>
    <div class="meta">Posted on 2004-11-21 09:13:07 by ti_mo_n</div>
   </div>
   <div class="post" id="post-153310">
    <div class="subject"><a href="#post-153310">...</a></div>
    <div class="body">no you got it wrong, with that you will only retrieve de identifier of the process not the pseudohandle of the thread (msn: &quot;This handle has the maximum possible access to the thread object. For systems that support security descriptors, this is the maximum access allowed by the security descriptor for the calling process. For systems that do not support security descriptors, this is THREAD_ALL_ACCESS.&quot; )<br /><br />... you can find that by calling GetCurrentThread in the process but as far as I know there's no api function to retrieve that from the context of another process.. I could just inject some code which calls GetThreadHandle in that process and then just duplicate it to my process, but I was just wondering if there's a less complicated way around this problem.</div>
    <div class="meta">Posted on 2004-11-21 09:38:18 by DZA</div>
   </div>
  </div>
 </body>
</html>
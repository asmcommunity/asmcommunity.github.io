<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ListView custom draw &amp; subItems - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17616" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17616">ListView custom draw &amp; subItems</a></p>
   <div class="post" id="post-136234">
    <div class="subject"><a href="#post-136234">ListView custom draw &amp; subItems</a></div>
    <div class="body">I'm using a virtual list view with custom drow.<br />I can change the color of each row, when I get CDDS_ITEMPREPAINT draw stage.<br />Now I want to paint each column (subitem) differently.<br />When I get CDDS_PREPAINT I return CDRF_NOTIFYITEMDRAW<br />Then I get CDDS_ITEMPREPAINT and I return CDRF_NOTIFYSUBITEMDRAW<br />Then I should get (CDDS_SUBITEM | CDDS_PREPAINT) but I never receive this message.<br />Why????</div>
    <div class="meta">Posted on 2004-03-17 15:13:24 by greenant</div>
   </div>
   <div class="post" id="post-136260">
    <div class="subject"><a href="#post-136260">ListView custom draw &amp; subItems</a></div>
    <div class="body">After CDRF_NOTIFYSUBITEMDRAW you will get<br /><br />CDDS_ITEMPREPAINT | CDDS_SUBITEM</div>
    <div class="meta">Posted on 2004-03-18 00:04:48 by japheth</div>
   </div>
   <div class="post" id="post-136263">
    <div class="subject"><a href="#post-136263">ListView custom draw &amp; subItems</a></div>
    <div class="body">Ok. Now it works. There is an error in the msdn<br /><div class="quote"><br />If you returned CDRF_NOTIFYITEMDRAW in the previous step, you will then receive an NM_CUSTOMDRAW notification for each subitem with <br /><br />dwDrawStage set to CDDS_SUBITEM | CDDS_PREPAINT. To change the font or color for that subitem, specify a new font or color and return <br /><br />CDRF_NEWFONT. <br /></div></div>
    <div class="meta">Posted on 2004-03-18 00:54:41 by greenant</div>
   </div>
   <div class="post" id="post-137019">
    <div class="subject"><a href="#post-137019">ListView custom draw &amp; subItems</a></div>
    <div class="body">greenant:<br /><br />  I had some trouble in the NM_CUSTOMDRAW in the tree control as you had.<br /><br />  Will you post a little your list view code here?<br /><br />  Thanks!</div>
    <div class="meta">Posted on 2004-03-25 21:24:16 by seasea</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>wshook utility 1.0beta - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4057" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=4057">wshook utility 1.0beta</a></p>
   <div class="post" id="post-27692">
    <div class="subject"><a href="#post-27692">wshook utility 1.0beta</a></div>
    <div class="body">Hi all winsock programmers,<br /><br />I've coded a little utility, mainly for myself, to follow all send &amp; recv calls in your winsock programs. It will open your program as debugger and hooks several winsock APIs (both old winsock &amp; winsock 2). <br /><br />It will show a tablist with all the sockets your program created and allow you to display what data has been send and received on each socket (well at most the last 4KB of data, as it uses an internal buffer of 4KB).<br /><br />It is intended for use with applications that use a text-based protocol like HTTP/FTP etc., but binary data will not do any harm (it doesn't look well though :) ).<br /><br />I will release the code when I cleaned it (not asm (sorry :) ), but plain C so should be easy to convert if you want to use pieces of it).<br /><br />Thomas<br /><br /><strong>edit:</strong><em> fixed a bug in the 'close all' rightclick menu, if you downloaded please download again.</em><br /><br /><strong>edit2: You will need win2000 or higher to run this, win9x is not supported...</strong></div>
    <div class="meta">Posted on 2002-03-07 14:30:31 by Thomas</div>
   </div>
   <div class="post" id="post-27715">
    <div class="subject"><a href="#post-27715">wshook utility 1.0beta</a></div>
    <div class="body">Is there any possibility to convert it to win9x (without to many effort)?<br /><br />I ask because I use Win98 and don't know anything about the programming differences between Win2000 and Win9x.</div>
    <div class="meta">Posted on 2002-03-07 18:19:47 by TCT</div>
   </div>
   <div class="post" id="post-27796">
    <div class="subject"><a href="#post-27796">wshook utility 1.0beta</a></div>
    <div class="body"><div class="quote">Is there any possibility to convert it to win9x</div><br />Yes<br /><br /><div class="quote"> (without to many effort)? </div><br />No :)<br /><br />There is not much difference between *programming* in win9x or win2k (of course the OS is totally different), but win9x lacks some functions that made it quite easy to make API hooks. For example, there is no VirtuallAlloc<strong>Ex</strong> and no OpenThread in win9x.<br /><br />Without these functions I would need to rewrite the whole thing for win9x, using a shared DLL or something instead. I don't have time for this right now.. maybe someday but not soon.<br /><br />If you want to convert it feel free to do so... I will release the source soon.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-03-08 02:58:13 by Thomas</div>
   </div>
   <div class="post" id="post-27803">
    <div class="subject"><a href="#post-27803">wshook utility 1.0beta</a></div>
    <div class="body">Doesn't matter.:D<br /><br />But I think I have to learn *a bit* more before I can convert it.</div>
    <div class="meta">Posted on 2002-03-08 04:36:44 by TCT</div>
   </div>
   <div class="post" id="post-27928">
    <div class="subject"><a href="#post-27928">wshook utility 1.0beta</a></div>
    <div class="body">Very nice Thomas.  Thanks for sharing it.  I already know I can use it.</div>
    <div class="meta">Posted on 2002-03-08 18:33:07 by rdaneel</div>
   </div>
   <div class="post" id="post-32637">
    <div class="subject"><a href="#post-32637">wshook utility 1.0beta</a></div>
    <div class="body">Lovely piece of work, can't wait to see the source. What are the hex values in the tabs by the way? The socket handles?</div>
    <div class="meta">Posted on 2002-04-06 12:17:42 by endeavour</div>
   </div>
   <div class="post" id="post-32642">
    <div class="subject"><a href="#post-32642">wshook utility 1.0beta</a></div>
    <div class="body">Yes the hex values are the socket handles.. They can appear twice as the tabs aren't removed when the socket is closed (so you can view data even after it) and new sockets often have the same handles as old closed ones..<br />I'll put the source on my site soon.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-04-06 13:57:04 by Thomas</div>
   </div>
   <div class="post" id="post-32696">
    <div class="subject"><a href="#post-32696">wshook utility 1.0beta</a></div>
    <div class="body">The C source is available for download at my site now.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-04-07 05:28:13 by Thomas</div>
   </div>
   <div class="post" id="post-32700">
    <div class="subject"><a href="#post-32700">wshook utility 1.0beta</a></div>
    <div class="body">Exactly what I need ! :alright: <br /><br />A lot of thx ! :grin:</div>
    <div class="meta">Posted on 2002-04-07 05:50:25 by Djizeus</div>
   </div>
   <div class="post" id="post-32702">
    <div class="subject"><a href="#post-32702">wshook utility 1.0beta</a></div>
    <div class="body">Thanks a lot, I'll take a look later.</div>
    <div class="meta">Posted on 2002-04-07 06:33:34 by endeavour</div>
   </div>
   <div class="post" id="post-32827">
    <div class="subject"><a href="#post-32827">wshook utility 1.0beta</a></div>
    <div class="body">Thomas, I cant download anything off your site because of that anti-leech script.  You should get rid of it.</div>
    <div class="meta">Posted on 2002-04-08 18:56:00 by Stan</div>
   </div>
   <div class="post" id="post-32880">
    <div class="subject"><a href="#post-32880">wshook utility 1.0beta</a></div>
    <div class="body">If you are using Opera, try enabling the referrer logging. That should work.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-04-09 04:07:35 by Thomas</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>File Transfering help (lots of it) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6937" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=6937">File Transfering help (lots of it)</a></p>
   <div class="post" id="post-50090">
    <div class="subject"><a href="#post-50090">File Transfering help (lots of it)</a></div>
    <div class="body">Ok, um,   attached is my program, source and everything.  um, basically, it works and it doesnt work.<br />ok, this program is 'suppose' to be a VERY simple file uploader. :confused: <br /><br />__Files__<br />-----------------------<br />&lt;server.exe&gt; waits for an incoming connection on port 666 from the client.<br />once connected and it recieves the go ahead command, it sends the file, c:\pic.bmp.<br />(this file can obviously be changed in the source if needed)<br />once uploaded, it waits for another go ahead command to re-upload that file<br />again to the client..<br /><br />&lt;client.exe&gt; connects to the server, who's ip addy is currently set to my own,<br />but can be changed in the source code, and sends a bit of data to the server,<br />letting it know that the client is ready to recieve.  The server sends the file<br />THe client recieves it, and saves it to a file called &quot;c:\output.jpg&quot;.  After<br />it has obtained the file,  the client is *suppose to* send a bit back to the<br />server telling it is ready to receieve the same file again.<br /><br />*******************************<br />this 'program' is gonna be part of another program of mine, which is<br />a very simple webcam video uploader. <br />The server will wait for a connection, then take a picture from the webcam,compress it,<br />upload it to who is ever is connected, and repeat this process.<br />The client will 'reliably' recieve this image from the server, and save the <br />image to a file, updating the image on each download.  Aswell, it wouldnt<br />hurt for the client to display the image.<br />=-=-=-=-=-=-=-=-=<br />So far, the server is able to upload a file to the client, ONE TIME.<br />it does this because i dont know how the fuck to get the client<br />to know that the file has finished being sent.<br /><br />as well, the client, if closed using Crtl-alt-del, also closes the<br />server for some unknown-to-me reason.<br /><br />UGGHHHHHHHHHHHHHHHHHH!!!!!!!:confused: <br /><br />i am VERY new to ASM, so i dont know all the proper commands or shortcuts...<br />nor concept for that matter.<br /><br />PLEASE, . HELP ME!  <br />****HELP IN ANYWay is appreciated!!!!********<br /><br />this program has been giving me a headache for days now.  and may kill me in a couple more hours.</div>
    <div class="meta">Posted on 2002-07-25 12:19:58 by Xyster</div>
   </div>
   <div class="post" id="post-50306">
    <div class="subject"><a href="#post-50306">File Transfering help (lots of it)</a></div>
    <div class="body">If I were you ( that's a big if ) I would look at some RFC's to see/learn how HTTP/FTP/SMTP work.  I know RFC959 is ftp, I forgot which ones the other ones are.<br /><br />I would suggest something like once the Server knows to send the file to the client to send the file size, either by an int( binary ) or just as a string and to signal the end of the file size send a \n or \r  .... anything.<br /><br />I wrote a server that would send the file size as a string then \n  <br /><br />I haven't looked at you code but I will and let you know what I can find</div>
    <div class="meta">Posted on 2002-07-26 14:47:44 by gorshing</div>
   </div>
   <div class="post" id="post-50309">
    <div class="subject"><a href="#post-50309">File Transfering help (lots of it)</a></div>
    <div class="body">Look at RFC2900 for a list of protocols and their corresponding RFC.<br /><br /><a target="_blank" href="http://faqs.org/rfcs/rfc2900.html">http://faqs.org/rfcs/rfc2900.html</a></div>
    <div class="meta">Posted on 2002-07-26 15:06:21 by nyook</div>
   </div>
   <div class="post" id="post-50573">
    <div class="subject"><a href="#post-50573">File Transfering help (lots of it)</a></div>
    <div class="body"><a target="_blank" href="http://tangentsoft.net/wskfaq/">Winsock FAQ</a>, this is a good place to start learning about winsock.<br /><br />In your code you need to just look over it.  Some of your problems are simple, you are probably just too overwhelmed with a new topic.  I can paste your code up here, but I have totally redone everything.<br /><br /><br />Later,<br />gorshing</div>
    <div class="meta">Posted on 2002-07-28 14:36:35 by gorshing</div>
   </div>
   <div class="post" id="post-51723">
    <div class="subject"><a href="#post-51723">File Transfering help (lots of it)</a></div>
    <div class="body">why don't you just set up your own little command protocol...<br />for example bla.txt[4578954] would mean... a file named<br />&quot;bla.txt&quot; with 4578954 bytes will be transfered... you can even<br />include some sophiscated things like a checksum and such...<br />the part of you program that receives this information knows now<br />what to do...<br /><br />after a few tests add additional commands like:<br /> <br />[&lt;filename&gt;]<br />[&lt;filename&gt;][&lt;bytes_sent&gt;][&lt;crc&gt;]<br />[&lt;filename&gt;][&lt;bytes_sent&gt;][&lt;crc&gt;]<br />...</div>
    <div class="meta">Posted on 2002-08-05 09:31:51 by mob</div>
   </div>
  </div>
 </body>
</html>
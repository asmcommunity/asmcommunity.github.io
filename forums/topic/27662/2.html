<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Formatting Uptime - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27662" />
  <link rel="prev" href="../?id=27662&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27662">Formatting Uptime</a></p>
   <div class="post" id="post-197400">
    <div class="subject"><a href="#post-197400">Formatting Uptime</a></div>
    <div class="body">Thomas,
Your code is complitly readable and in good style.
I used your some idea and made 760 bytes. Though stub need to be changed also.
.386
.model flat, stdcall
option casemap:none
include C:\masm32\include\windows.inc
include C:\masm32\include\user32.inc
include C:\masm32\include\kernel32.inc
includelib C:\masm32\lib\user32.lib
includelib C:\masm32\lib\kernel32.lib
.code

ofdiv equ $
deviders dd 60
	 dd 3600
	 dd 86400
	 dd 1000
LText          db "%u Days %u Hours %u Minutes %u Seconds", 0
LCaption       db "System Uptime", 0

start:
    invoke GetTickCount
    mov ebx,ofdiv
    mov esi,3    
    cdq
    mov ecx, 
    div ecx
    dec esi
@@: cdq
    mov ecx,
    div ecx
    push eax
    mov eax,edx
    dec esi
    jns @B
    pop edx    
    pop ecx    
    pop edi   
    push eax 
    push edx
    push ecx
    push edi
    push offset LText
    push ebx
    call wsprintf
    invoke MessageBox, 0, ebx, addr LCaption, MB_OK+MB_ICONINFORMATION
    call ExitProcess
    end start</div>
    <div class="meta">Posted on 2001-04-20 09:03:00 by The Svin</div>
   </div>
  </div>
 </body>
</html>
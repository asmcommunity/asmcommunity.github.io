<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>First KMD, Thanks Four-F - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18999" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18999">First KMD, Thanks Four-F</a></p>
   <div class="post" id="post-146989">
    <div class="subject"><a href="#post-146989">First KMD, Thanks Four-F</a></div>
    <div class="body">Hi all,<br /><br />I just finished my first Kernel Mode Driver that does something useful (PsSetCreateProcessNotifyRoutine), using Four-F's KMDKIT package, and im stoked!<br /><br />Forgive my excitement , I just had to tell someone. :)<br /><br />Thanks Four-F for the tutorials and kit for masm, you the man!, or woman which ever the case may be.<br /><br /><br />packetvb</div>
    <div class="meta">Posted on 2004-07-28 02:19:59 by packetvb</div>
   </div>
   <div class="post" id="post-146998">
    <div class="subject"><a href="#post-146998">First KMD, Thanks Four-F</a></div>
    <div class="body">I'm sorry... but do you have a license to be excited? I sure don't see one in your signature.<br /><br />Damn loose cannons. :D<br /><br />Congratulations, anyhow.</div>
    <div class="meta">Posted on 2004-07-28 06:41:32 by The Beginner</div>
   </div>
   <div class="post" id="post-147009">
    <div class="subject"><a href="#post-147009">Re: First KMD, Thanks Four-F</a></div>
    <div class="body"><div class="quote"><strong>Originally posted by packetvb </strong><br /><em>Thanks Four-F for the tutorials and kit for masm, you the man!, or woman which ever the case may be.</em></div>A woman? No! I'm even not a girl ;)<br />Anyway, you are welcome!</div>
    <div class="meta">Posted on 2004-07-28 08:33:22 by Four-F</div>
   </div>
   <div class="post" id="post-147011">
    <div class="subject"><a href="#post-147011">First KMD, Thanks Four-F</a></div>
    <div class="body">packetvb, do you handle process create notification in the driver, or do you send on the notification to a usermode process? :)<br /><br />Anyway, it might be nice to see what you've come up with, post code :p</div>
    <div class="meta">Posted on 2004-07-28 08:37:57 by f0dder</div>
   </div>
   <div class="post" id="post-147038">
    <div class="subject"><a href="#post-147038">First KMD, Thanks Four-F</a></div>
    <div class="body">Hi,<br /><br />I must admit I was thinking of sending a thank you to Four-F recently as well... Not to embarass the poor guy or anything but.. :)<br /><br />I've been coding KMD's in Masm since the tuts came out, vxd's before that, but recently I switched to Visual C for driver programming. I have to admit to *much* preferring C/C++ over Masm for writing drivers, though I'd probably never code a gui in it.  <br /><br />It was while I was struggling with the C/C++ syntax, typecasting and compiler, pretty much my first experience with it, on top of developing a C driver skeleton, when I realized how thankful I was that Four-F's tuts had taught me the basics and more of driver programming in general. I'm grateful in that it made the transition to C driver writing surprisingly painless ;)<br /><br />Some may not know that Four-F has at least 12 KMD tutorials, in Russian except for the first 5, search and ye shall find. A translation isn't necessary, the code speaks volumes.  The information on using Lookaside Lists for allocating small blocks of memory is an especially useful driver programming technique to learn.<br /><br />Keep up the good work, and yes I too encourage the posting of interesting driver code...<br /><br />Regards,<br />Kayaker</div>
    <div class="meta">Posted on 2004-07-28 16:07:45 by Kayaker</div>
   </div>
   <div class="post" id="post-147044">
    <div class="subject"><a href="#post-147044">First KMD, Thanks Four-F</a></div>
    <div class="body">No need to search, the page that houses the English versions of the KMD (<a target="_blank" href="http://www.masmforum.com/website/tutorials/kmdtute/index.html">http://www.masmforum.com/website/tutorials/kmdtute/index.html</a>) contains a link to the Russian versions: <a target="_blank" href="http://wasm.ru/">http://wasm.ru/</a><br /><br />Maybe that'll save you some time.<br />Spara</div>
    <div class="meta">Posted on 2004-07-28 18:06:33 by SowWn</div>
   </div>
   <div class="post" id="post-147056">
    <div class="subject"><a href="#post-147056">First KMD, Thanks Four-F</a></div>
    <div class="body">WARNING: The following text may contain spelling and/or gramatical errors. I rely on spellcheck which this computer doesnt have. :grin: <br /><br /><div class="quote"><br />f0dder <br /><br />packetvb, do you handle process create notification in the driver, or do you send on the notification to a usermode process? <br /><br />Anyway, it might be nice to see what you've come up with, post code :p<br /></div><br /><br />Its handled in the driver and an event is set to notify usermode processes that data is ready.<br />I didnt think it was possible to use a proc in a usermode process for a callback in a driver. Am I mistaken?<br /><br />I looked alot at how ProcObsrv in C by Ivo Ivanov was done for doing this one. So I guess it could be considered partly a translation from C to masm. Definetly got a better understanding of drivers than I did by doing it.<br /><br />Also, Im having a problem with the executable. Im doing something wrong and I just cant seem to locate the bug. I currently have a B.S. messagebox before I do OpenProcess. If i remove this msgbox then the messagbox that shows the name of the process that started fails to show. Can anyone tell me what Im doing wrong here?<br /><br />My next project is a bit more challanging, I want to hook NTCreateProcess so I can block certain programs from executing. Anyone got pointers for this. Ive already read up on how to get NativeID from Api address and Descriptor table.<br /><br />Thanks<br /><br />Packetvb<br /><br />Oh yea, dont beat me up too bad on my coding as I still consider myself a novice. :)</div>
    <div class="meta">Posted on 2004-07-29 01:30:47 by packetvb</div>
   </div>
   <div class="post" id="post-147057">
    <div class="subject"><a href="#post-147057">First KMD, Thanks Four-F</a></div>
    <div class="body">Wopps forgot the source.<br /><br />packetvb</div>
    <div class="meta">Posted on 2004-07-29 01:33:00 by packetvb</div>
   </div>
   <div class="post" id="post-147072">
    <div class="subject"><a href="#post-147072">First KMD, Thanks Four-F</a></div>
    <div class="body">Keeping with my last post.<br /><br />I have been looking at invisibility driver source by yoda and I think im not understanding something correctly.<br />The native api ID is suppose to be an index into the function address chain of Service Descriptor Table.<br />So does this mean the address to overwrite is the address of the descriptor table + (nativeapiID * (16)).<br /><br />packetvb</div>
    <div class="meta">Posted on 2004-07-29 09:37:33 by packetvb</div>
   </div>
   <div class="post" id="post-147079">
    <div class="subject"><a href="#post-147079">First KMD, Thanks Four-F</a></div>
    <div class="body">I'm not quite sure, since I only have a brief look at your source, but... At the moment you are signalling event you are in the early stage of process creation. Your user mode thread may be awaken too early - the process creation is still may be incomplete. So EnumProcessModules may fail.<br /><br />Funny thing. Today I've finished 14'th article in which I do exactly the same - monitoring process creation/destruction. I hope it will be published on wasm.ru next week. I've attached it (without sources, sorry, wait the article release, please).</div>
    <div class="meta">Posted on 2004-07-29 11:35:37 by Four-F</div>
   </div>
   <div class="post" id="post-147088">
    <div class="subject"><a href="#post-147088">First KMD, Thanks Four-F</a></div>
    <div class="body">packetvb: i find the service descriptor table and such quite interesting too, do you know where to get documentation of it? i guess it won't be on msdn, but maybe in some article or (e)book?</div>
    <div class="meta">Posted on 2004-07-29 15:59:40 by Mbee</div>
   </div>
   <div class="post" id="post-147093">
    <div class="subject"><a href="#post-147093">First KMD, Thanks Four-F</a></div>
    <div class="body">Hi Four-F,<br /><br />Why do you write tutorials on Russian instead on English? <br />Many more people could benefit from it if they were written on english.</div>
    <div class="meta">Posted on 2004-07-29 17:51:39 by Mikky</div>
   </div>
   <div class="post" id="post-147112">
    <div class="subject"><a href="#post-147112">First KMD, Thanks Four-F</a></div>
    <div class="body"><em><br />Many more people could benefit from it if they were written on english </em><br />Four-F writes in both languages, IMHO in Russian first:<br />1. 'Cause it's easier to write for him since it's his native language.<br />2. Might be he cares firstly about Russians who <strong> can not </strong> benefit from it if it's written <strong>only</strong> in English.<br /><br />As to me I stopped writing about Opcodes, logic and math in English, after couple people here explicitly said that they didn't like my English. Get our point right way - I didn't get offencive, but in one hand there were lots of Russian who asked me why I didn't write it in Russian for they'd better have it in more comprehencive language for them, on other hand I anyway couldn't satisfy request for better English for English speakers, and thirdly it took lots more time for articles output and for the above it seemed to that the spending didn't worth outcome. It's IMHO, Four-F can speak for himself, yet knowing him I can say that he already is doing <strong>additionary</strong> work for making the articles out in English, so here is no reason to harry him up - his's already doing what he can.<br /><br /><strong>Four-F</strong><br />I doesn't work in NT 4.0.<br />GetLongPathNameA is absent in kernel32.dll in NT 4.0</div>
    <div class="meta">Posted on 2004-07-30 03:45:01 by The Svin</div>
   </div>
   <div class="post" id="post-147129">
    <div class="subject"><a href="#post-147129">First KMD, Thanks Four-F</a></div>
    <div class="body"><div class="quote"><strong>Originally posted by Mikky </strong><br /><em>Hi Four-F,<br />Why do you write tutorials on Russian instead on English? <br />Many more people could benefit from it if they were written on english. </em></div><br /><strong>Mikky</strong>, you know I'm Russian. So, my Russian is much more better than English :) Even considering that, writing the articles in my native language takes me very much time. And this is the only reason why I don't write in English. I've translated the first five articles and should say it was the hardest work I've ever done. 6'th and 7'th articles translated by <strong>masquer</strong>. 6'th can be found here: <a target="_blank" href="http://www.freewebs.com/four-f/index.htm">http://www.freewebs.com/four-f/index.htm</a> 7'th will be pablished soon. Unfortunately I promise nothing. I don't know who, when and how will translate the rest.<br /><br /><strong>The Svin</strong>, I know it doesn't work on NT4. The driver also can't be loaded because IoIsWdmVersionAvailable is absent on NT4, as far as I know. I've not planned to make it workable on this system. I'm sure it will be not so hard to port it to NT4. After reading the article, of course ;)</div>
    <div class="meta">Posted on 2004-07-30 09:08:53 by Four-F</div>
   </div>
   <div class="post" id="post-147156">
    <div class="subject"><a href="#post-147156">First KMD, Thanks Four-F</a></div>
    <div class="body">Hi Svin, <br />Well I don't agree with you.<br />First of all if everyone were writting on their native language we could never accomplish this current level of knowledge that we all have here. This board would have much less members and we all would have much less knowledge. What would have happend if Icezilion tutorials were written on his native language (assuming he is not native english speaker)? <br />Secondly, anyone who wants to understand computers, to be the part or to have career in the IT scene <strong>must</strong> learn english, that is the fact. Yea surly I would like that my language is the no#1 language in the world and in the IT, but it is not.<br />Finaly It's cool when someone writes tutorial and publish it for free, I appreciate and respect that effort esspecially when it really has quality and value like the 4F's tutorials, but the whole point of it is to share that knowledge with as many people as possible. <br /><br />I think that people, who said to you that your english sux, don't really care about your tutorial or knowledge in it. If they don't like it then they shouldn't read it, who cares about them anyway. My english is not perfect too but you do understand what I am writting here, dont you :). Probably we would understand each other in speaking english too, with no problem since our slavonic languages are alike and we have similiar accent :tongue: <br />I am not pushing anyone here esspecially not people like Four-F and other great benefiters from this board (including you) it was just a suggestion.<br /><br />Four-F, many thanks I'll check out 6th and 7th.</div>
    <div class="meta">Posted on 2004-07-30 16:54:49 by Mikky</div>
   </div>
   <div class="post" id="post-147170">
    <div class="subject"><a href="#post-147170">First KMD, Thanks Four-F</a></div>
    <div class="body"><div class="quote"><em>Originally posted by Mikky </em><br />Hi Svin, <br />Well I don't agree with you.<br />First of all if everyone were writting on their native language we could never accomplish this current level of knowledge that we all have here. This board would have much less members and we all would have much less knowledge. What would have happend if Icezilion tutorials were written on his native language (assuming he is not native english speaker)? </div>I believe someone would translate it into English. If the author don't want to write in English someone other should do translation. Writing in native language is much better as you can express everything you have to say much better (as a rule). If someone wants to make available it for English speaking public he should translate it from author's language to English. In this case it should be some English native speaker who knows Russian rather good to make more or less proper translation. <br /><div class="quote">Secondly, anyone who wants to understand computers, to be the part or to have career in the IT scene <strong>must</strong> learn english, that is the fact.</div>Well the reality is that a lot of russians working in IT knows English enough to read manuals, but nevertheless prefer Russian over English if there is a possibility. <br /><div class="quote">Finaly It's cool when someone writes tutorial and publish it for free, I appreciate and respect that effort esspecially when it really has quality and value like the 4F's tutorials, but the whole point of it is to share that knowledge with as many people as possible. </div>Writing articles is rather hard. Writing it in non-native languge is even more harder. To write you have to make much more efforts than to read. Personally I prefer to be more articles wrote by Four-F in Russian than less - in English :). But you have a point. Why don't you learn Russian (it is slavonic - it shouldnt be too hard for you) and translate to English? It is not as good as translation by native English speaker but it is better than nothing.</div>
    <div class="meta">Posted on 2004-07-31 03:34:19 by Aquila</div>
   </div>
   <div class="post" id="post-147171">
    <div class="subject"><a href="#post-147171">First KMD, Thanks Four-F</a></div>
    <div class="body">WARNING: The following text may contain spelling and/or gramatical errors. I rely on spellcheck which this computer doesnt have.  :)<br /><br />Hello Again.<br /><br />The Svin, it very rude that someone would bash you on your english. I think you speak it pretty well. :)<br />Please dont be discuraged by aholes.<br /><br />Four-F, appreciate the tranlations to english. I know its alot of work and you receive nothing in return besides praise and the appreciation from the members here. Again, you da man.<br /><br />xlifewirex,<br />Look at Invisibility by yoda. I think Iczelion's webpage has it. He gives enough info.<br /><br />As of now, im stoked x 2. I successfully hooked NtCreateProcess. :alright: <br /><br />Cheers all.<br /><br />Packetvb</div>
    <div class="meta">Posted on 2004-07-31 03:34:21 by packetvb</div>
   </div>
   <div class="post" id="post-147200">
    <div class="subject"><a href="#post-147200">First KMD, Thanks Four-F</a></div>
    <div class="body">astalavista babblefish translates your tutorials pretty damn well four-f, unfortunally wasm.ru is down for me :(.</div>
    <div class="meta">Posted on 2004-07-31 17:02:59 by archphase</div>
   </div>
   <div class="post" id="post-147227">
    <div class="subject"><a href="#post-147227">First KMD, Thanks Four-F</a></div>
    <div class="body"><div class="quote"><strong>Originally posted by archphase </strong><br /><em>astalavista babblefish translates your tutorials pretty damn well four-f</em></div>It's very good :)<br /><br /><div class="quote"><strong>Originally posted by archphase </strong><br /><em>unfortunally wasm.ru is down for me :(. </em></div>It's very bad :(</div>
    <div class="meta">Posted on 2004-08-01 10:26:21 by Four-F</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>TransmitFile - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4878" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=4878">TransmitFile</a></p>
   <div class="post" id="post-34185">
    <div class="subject"><a href="#post-34185">TransmitFile</a></div>
    <div class="body">This is interesting; it says that this api is better because it only has one kernel call.<br /><br />&quot;<br />TransmitFile and TransmitPackets <br />                          Winsock offers two functions for transmitting data that are optimized for file and memory transfers. The TransmitFile<br />                         API is present on both Windows NT 4.0 and Windows 2000, while TransmitPackets is a new Microsoft extension<br />                         function that is expected to be available in a future release of Windows. TransmitFile allows the contents of a file to be<br />                         transferred on a socket. Normally, if an application were to send the contents of a file over a socket, it would have to call<br />                         CreateFile to open the file and then loop on ReadFile and WSASend until the entire file was read. This is very inefficient<br />                         because each ReadFile and WSASend call requires a transition from user mode to kernel-mode. TransmitFile simply<br />                         requires an open handle to the file to transmit and the number of bytes to transfer. The overhead is incurred when opening<br />                         the file via CreateFile, followed by a single kernel-mode transition. If your app sends the contents of files over sockets,<br />                         this is the API to use.<br />&quot;<br /><br /><a target="_blank" href="http://msdn.microsoft.com/msdnmag/issues/1000/winsock/winsock.asp?frame=true">http://msdn.microsoft.com/msdnmag/issues/1000/winsock/winsock.asp?frame=true</a></div>
    <div class="meta">Posted on 2002-04-20 18:17:28 by bdjames</div>
   </div>
   <div class="post" id="post-34201">
    <div class="subject"><a href="#post-34201">TransmitFile</a></div>
    <div class="body">How nice of them:<br /><br />Remarks<br />The Windows NT Server/Windows 2000 Server optimizes the TransmitFile function for high performance. The Windows NT Workstation/Windows 2000 Professional optimizes the function for minimum memory and resource utilization. Expect better performance results when using TransmitFile on Windows NT Server/Windows 2000 Server.</div>
    <div class="meta">Posted on 2002-04-20 20:19:26 by bdjames</div>
   </div>
   <div class="post" id="post-34285">
    <div class="subject"><a href="#post-34285">TransmitFile</a></div>
    <div class="body">Well, would you expect them to not handicap their workstation<br />versions of the OS? :). Also, I probably wouldn't use TransmitFile<br />generically... you lose a bit control (even though the function looks<br />pretty flexible). It looks like it could be good for a webserver (lots<br />of small files to send, possibly a lot of clients hammering you).</div>
    <div class="meta">Posted on 2002-04-21 11:19:42 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to comment codes of a library - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25999" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25999">How to comment codes of a library</a></p>
   <div class="post" id="post-189460">
    <div class="subject"><a href="#post-189460">How to comment codes of a library</a></div>
    <div class="body">I have written an ATA-7 IDE library and I didn&#39;t think it was going to get too big but now I have over ~5000 lines of codes and documentation for the code. I always comment every single line of my Assembly Codes but commenting ~3000 lines of code is easier said than done. I just wanted to ask for ideas how people prefer to read the comments? Should every single line of the code be commented? Should a block of code have comments or ...?</div>
    <div class="meta">Posted on 2007-06-02 04:33:17 by XCHG</div>
   </div>
   <div class="post" id="post-189461">
    <div class="subject"><a href="#post-189461">Re: How to comment codes of a library</a></div>
    <div class="body">surely not every single line.<br /><br />I preferer commenting &quot;blocks&quot; of code, and commenting instruction whenever needed. Something like this:<br /><pre><code><br />;eax = 8*x + y<br />mov eax, <br />shl eax, 3&nbsp; &nbsp; &nbsp; &nbsp; ;*8<br />add eax, </code></pre><br /><br />commenting things like &quot;mov eax,&quot; is usually completelly useless and makes reading of code even harder sometimes :)</div>
    <div class="meta">Posted on 2007-06-02 04:45:17 by vid</div>
   </div>
   <div class="post" id="post-189463">
    <div class="subject"><a href="#post-189463">Re: How to comment codes of a library</a></div>
    <div class="body">Additionally:<br /><br />1. add a (global) header to each file explaininhg what happens and list all procs like an index and if necessary all libs/incs/macs etc that your libs depends on.<br /><br />2. add a (local) header to each proc or macro which list all required input (on stack, in registers,..) and what values are returned and where one can find them (again stack, registers,...), especially with macros you might want to add a list of registers which content is destroyed after the macro has been used.</div>
    <div class="meta">Posted on 2007-06-02 06:46:12 by atcl</div>
   </div>
   <div class="post" id="post-189464">
    <div class="subject"><a href="#post-189464">Re: How to comment codes of a library</a></div>
    <div class="body">I agree with vid: comment <strong>blocks</strong> of code - and for functions, describe what input/output it takes and what it does, perhaps which algorithms it uses, etc.<br /><br />Per-line commenting is silly, unless you&#39;re doing tricky optimizations.<br /></div>
    <div class="meta">Posted on 2007-06-02 06:46:55 by f0dder</div>
   </div>
   <div class="post" id="post-189468">
    <div class="subject"><a href="#post-189468">Re: How to comment codes of a library</a></div>
    <div class="body">Yeah I thought so, too. I normally comments blocks of codes for myself so that when I return to it later I will remember what I have done and why. About documentations for procedures/functions, I document them like &quot;holy potatoes&quot; (TM). For instance, attached to this thread is the documentation that I have written for my [__IDEReadFromPortsLBA28] function that reads sectors in PIO from an IDE drive.<br /><br />Alrighty then I think I am going to stick to commenting blocks of codes rather than each line. Thank you guys.</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2369" target="_blank">Documentation.txt</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2007-06-02 08:34:21 by XCHG</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>[API WIN32 ] the state of a key - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9607" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9607">[API WIN32 ] the state of a key</a></p>
   <div class="post" id="post-71206">
    <div class="subject"><a href="#post-71206">[API WIN32 ] the state of a key</a></div>
    <div class="body">hello all<br /><br />I m making a program that print the screen when the key printscreen is down .<br /><br />But i don't know if there is an API to know the state of a key .I have tried GetAsyncKeyState but it's not the good function.<br />I don't want to make a hook but if i can't do within tell me ;)<br /><br />Thx<br /><br />Escuse me for my poor english i'm french :)</div>
    <div class="meta">Posted on 2002-12-16 05:56:00 by krusaf</div>
   </div>
   <div class="post" id="post-71213">
    <div class="subject"><a href="#post-71213">[API WIN32 ] the state of a key</a></div>
    <div class="body">What about a global hook? AFAIK there is no message sent to your applications window by the print screen key.</div>
    <div class="meta">Posted on 2002-12-16 07:25:58 by bazik</div>
   </div>
   <div class="post" id="post-71215">
    <div class="subject"><a href="#post-71215">[API WIN32 ] the state of a key</a></div>
    <div class="body">I once did a program that saved the captured image every time print screen was pressed. I used the <strong>WM_DRAWCLIPBOARD</strong> message and then checked if the clipboard content was a bitmap. Also check out the <strong>SetClipBoardViewer</strong> API.<br /><br />You can also try to use a print screen hotkey.</div>
    <div class="meta">Posted on 2002-12-16 07:37:50 by Delight</div>
   </div>
   <div class="post" id="post-71217">
    <div class="subject"><a href="#post-71217">[API WIN32 ] the state of a key</a></div>
    <div class="body">Why not GetAsyncKeyState? If the LSB of the return value is set then the key was pressed since the last call.<br /><br /><pre><code><br />keyloop&#58;<br />invoke Sleep,whatever<br />invoke GetAsyncKeyState,VK_SNAPSHOT<br />test eax,1<br />jz keyloop<br />&lt;... code to take snapshot ...&gt;<br /></code></pre><br /><br />or you could use SetTimer etc.<br /><br />-stormix</div>
    <div class="meta">Posted on 2002-12-16 07:50:07 by stormix</div>
   </div>
   <div class="post" id="post-71221">
    <div class="subject"><a href="#post-71221">[API WIN32 ] the state of a key</a></div>
    <div class="body"><strong></strong><br />Why not DirectInput?</div>
    <div class="meta">Posted on 2002-12-16 08:24:57 by Maverick</div>
   </div>
   <div class="post" id="post-71234">
    <div class="subject"><a href="#post-71234">[API WIN32 ] the state of a key</a></div>
    <div class="body">i hope this is a joke :grin:</div>
    <div class="meta">Posted on 2002-12-16 08:59:04 by mob</div>
   </div>
  </div>
 </body>
</html>
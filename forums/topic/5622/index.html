<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Some various questions...(some sane, some not) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5622" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5622">Some various questions...(some sane, some not)</a></p>
   <div class="post" id="post-40042">
    <div class="subject"><a href="#post-40042">Some various questions...(some sane, some not)</a></div>
    <div class="body">First is using lea for math ops.  I get it, but dont really know how to'use' it yet. ie:<br /><br /><pre><code>	lea	eax, &#91;ecx + edx - 4&#93;</code></pre><br /><br />I will try to parse this. Please tell me if I'm right.<br /><br />i=eax = final value<br /><br />x=ecx<br />y=edx<br /><br />i=x+y-4 right?<br /><br /><pre><code>	lea	eax, &#91;ecx + edx *4&#93;</code></pre><br /><br />i=(x+y)*4 or i=x+(y*4)?<br /><br />Next where can I find a MASM marco tutorial?<br />I've done the Google search&quot;MASM MACRO tutorial&quot; and get lots of:<br /><br />&quot;Microsoft MASM MACRO assembler tutorial&quot;<br /><br />With no mention of macros.<br /><br />Next, has anyone written a program using jump to labels, not PROCS?  Don't need prototypes huh? But it I guess it is a bad idea. Why?<br /><br />Next is nevermind.  Found the old post I was lloking for.<br /><br />Thanks.</div>
    <div class="meta">Posted on 2002-05-26 07:08:45 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-40046">
    <div class="subject"><a href="#post-40046">Some various questions...(some sane, some not)</a></div>
    <div class="body"><div class="quote">lea	eax, <br /><br />i=x+y-4 right?<br /></div><br />yes.<br /><br /><div class="quote">lea	eax, <br /><br />i=(x+y)*4 or i=x+(y*4)? <br /></div><br />the latter. this is due to how addressing works on x86 cpus, you might want to check the intel instruction set reference for more info.</div>
    <div class="meta">Posted on 2002-05-26 08:22:07 by Tola</div>
   </div>
   <div class="post" id="post-40052">
    <div class="subject"><a href="#post-40052">Some various questions...(some sane, some not)</a></div>
    <div class="body">Thanks for the confirmation Tola.  I got it now.<br /><br />Now anyone know where to find a macro tutorial?</div>
    <div class="meta">Posted on 2002-05-26 09:21:54 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-40054">
    <div class="subject"><a href="#post-40054">Some various questions...(some sane, some not)</a></div>
    <div class="body">The masm documentation contains quite some good info on macros. There's an online version available somewhere, <strong>bitRAKE</strong> once posted the link to it (search for 'masm reference online' or something like that).<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-05-26 09:39:26 by Thomas</div>
   </div>
   <div class="post" id="post-40056">
    <div class="subject"><a href="#post-40056">Some various questions...(some sane, some not)</a></div>
    <div class="body">Bookmarked.<br /><br />Thanks  Thomas</div>
    <div class="meta">Posted on 2002-05-26 09:46:38 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-40087">
    <div class="subject"><a href="#post-40087">Some various questions...(some sane, some not)</a></div>
    <div class="body">QUOTE: &quot;...the latter. this is due to how addressing works on x86 cpus...&quot;<br /><br />Sure that's how the addressing works, because that's following the IEEE formula standard, which you may remember as the &quot;BODMAS&quot; or &quot;BOMDAS&quot; Rule from your early school days.<br /><br />Simply put, the multiplication is performed before the addition.</div>
    <div class="meta">Posted on 2002-05-26 15:10:43 by Homer</div>
   </div>
   <div class="post" id="post-40094">
    <div class="subject"><a href="#post-40094">Some various questions...(some sane, some not)</a></div>
    <div class="body"><strong>EvilHomer2k</strong>, BODMAS is not the reason here - look at the instruction encoding.  Why doesn't 'lea eax, ' or 'lea eax, ' work - it is because of the instruction encoding.  The SIB byte allows one indexing register to be multiplied by 1, 2, 4, or 8 - it is Table 2-3 in the manual.</div>
    <div class="meta">Posted on 2002-05-26 15:44:05 by bitRAKE</div>
   </div>
   <div class="post" id="post-40141">
    <div class="subject"><a href="#post-40141">Some various questions...(some sane, some not)</a></div>
    <div class="body">BOPDMAS?<br /><br />Not sure were all talking about the same school days...<br /><br />B=Brackets<br />P=Parathesis<br />E=Exponents<br />M=Multiplication<br />D=Division<br />A=Addition<br />S=Substraction<br /><br />BPEMDAS or B. PEMDAS (as in a name of sorts)<br /><br />What's with the &quot;O&quot; in BODMAS<br /><br />Sliver<br /><br />ps. I slept through many a math class lets see if I've slept through this one too :)<br /><br />Sliver</div>
    <div class="meta">Posted on 2002-05-27 00:12:27 by Sliver</div>
   </div>
   <div class="post" id="post-40146">
    <div class="subject"><a href="#post-40146">Re: Some various questions...(some sane, some not)</a></div>
    <div class="body"><div class="quote"><br /><br />Next, has anyone written a program using jump to labels, not PROCS?  Don't need prototypes huh? But it I guess it is a bad idea. Why?<br /> </div><br /><br />You mean using jmp/jmp instead of Call or Invoke /ret?  Well... if it's called rarely enough that you can use jmp/jmp, why don't you just cut-and-paste the procedure where it should be executed directly?<br /><br />Or if you mean Call a label: or label:: type label... well it's fine, really, but the source code's gonna look kinda nasty... depends on your style too though... besides you don't REALLY need to PROTO a proc that doesn't use any HLL-type arguments anyway... if you pass arguments by register for instance...</div>
    <div class="meta">Posted on 2002-05-27 01:02:27 by AmkG</div>
   </div>
   <div class="post" id="post-40188">
    <div class="subject"><a href="#post-40188">Some various questions...(some sane, some not)</a></div>
    <div class="body">Yeah you could just have:<br /><br /><pre><code><br />jmp proc1&#58;<br />return1&#58;<br /><br />proc1&#58;<br />...<br />jmp return1<br /></code></pre><br /><br />but that's a lot messier than having an automatic mechanism like call/retn.  It eliminates the need to track return addresses and come up with meaningful labels.  It's also a lot cleaner to explicitly mark code that is used frequently.<br /><br />Jumps on the other hand are mostly used for branching.<br /><pre><code><br />cmp eax, &#91;value&#93;<br />jnz label1<br />...<br />jmp label 2<br /><br />label1&#58;<br />...<br />label2&#58;<br />...<br /></code></pre></div>
    <div class="meta">Posted on 2002-05-27 07:41:21 by grv575</div>
   </div>
  </div>
 </body>
</html>
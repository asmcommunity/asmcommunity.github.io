<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>gethostbyname causing GPF - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28350" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28350">gethostbyname causing GPF</a></p>
   <div class="post" id="post-200688">
    <div class="subject"><a href="#post-200688">gethostbyname causing GPF</a></div>
    <div class="body">I have a console process that continually loops  issuing the gethostbyname function. If another process tries to restart Windows by using:
 invoke ExitWindowsEx, EWX_REBOOT+EWX_FORCE, NULL

an error box is shown stating the first process caused an error

If I remove EWX_FORCE, everything goes fine and Windows is restarted. Anyone knows why this happens and how it can be fixed? The EWX_FORCE is needed because if there is a DOS app running, it will shut it down without asking which is what I want. TIA</div>
    <div class="meta">Posted on 2001-06-10 03:03:00 by test1</div>
   </div>
   <div class="post" id="post-200689">
    <div class="subject"><a href="#post-200689">gethostbyname causing GPF</a></div>
    <div class="body">You've got to process messages sent to your app, so it can shut itself down when windows wants it to. (I'm talking about messages sent to the process, not a window)</div>
    <div class="meta">Posted on 2001-06-10 07:44:00 by Qweerdy</div>
   </div>
   <div class="post" id="post-200690">
    <div class="subject"><a href="#post-200690">gethostbyname causing GPF</a></div>
    <div class="body">Yeah, I sort of figured this is what's happenning, but how can it be overcome? How come this doesn't happen when I shut down Windows from the Start button?</div>
    <div class="meta">Posted on 2001-06-10 12:14:00 by test1</div>
   </div>
  </div>
 </body>
</html>
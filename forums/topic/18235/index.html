<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Debugging code... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18235" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18235">Debugging code...</a></p>
   <div class="post" id="post-141048">
    <div class="subject"><a href="#post-141048">Debugging code...</a></div>
    <div class="body">Hi assembly gurus :)<br /><br />I'm new to this board, this is my first post. I've lurking around here since February though, but now I finally had to ask a question. I'm just learning assembly, I'm still stuck in the basics but I feel I'm doing well, I'm very familiar with JavaScript and Perl. I've tried some C++ too. I understand pretty well how all basic functions work, like a window. That you need to register a window class, then create the window, and enter a loop that gets messages from the OS whenever something is done to the window. Assembly feels like a good language for me.<br /><br />Anyway, I'm still a complete newbie and I would like to ask about debugging my code. I made a program that simply just opens a window, but the program didn't work. I didn't get any error message when assembling it, not even one of those cryptic error messages from Windows when running it. I compared my code to the code from a tutorial, and was lost... finally, I found what was wrong. I was missing a <strong>ret</strong> from the WndProc.<br /><br />I would like to know, is there any program for helping me find such errors? I once saw a screenshot from some program where the assembly code was at left, and a status window to right. The status window showed whenever a register was updated and stuff, I think such a program would help me find my stupid errors. So what would you recommend?<br /><br />Cheers!</div>
    <div class="meta">Posted on 2004-05-13 11:36:09 by Justin Case</div>
   </div>
   <div class="post" id="post-141052">
    <div class="subject"><a href="#post-141052">Debugging code...</a></div>
    <div class="body">Get familiar with a debugger. Learn how to set break points and inspect the registers and memory when the code breaks at the breakpoint learn the single step so that that you can watch the registers and memory values change as you step into the code.<br /><br />Debugging is an art, one that requires patience and experience.]<br /><br />A debugger that I would recommend is ollydbg. Some prefer softice, but it is too expensive for me.</div>
    <div class="meta">Posted on 2004-05-13 11:57:40 by roticv</div>
   </div>
   <div class="post" id="post-141054">
    <div class="subject"><a href="#post-141054">Debugging code...</a></div>
    <div class="body">I guess each and everyone of us already had the missing ret problem. :) Once you scratched your head for half an hour before finding it - it hardly ever happens again. <br /><br />Also, for the missing ret problem, may I suggest Ketil's RadAsm which inserts a ret automatically in each proc when you define a proc, that's a way to keep it from happening. <br /><br />Also, this won't happen as you start programming more and get into the habit of compiling after each proc. A quick launch every once in a while (after every finished proc) tells you if stuff is working or not. Pretty easy to locate a missing ret then.</div>
    <div class="meta">Posted on 2004-05-13 11:59:06 by JimmyClif</div>
   </div>
   <div class="post" id="post-141056">
    <div class="subject"><a href="#post-141056">Debugging code...</a></div>
    <div class="body">Thanks for your replies! :)<br />Yes, I realize that I need to get more into the coding, I'm very new to assembly. &lt;boast&gt;I tend to find typical and even more complicated JavaScript errors easily.&lt;/boast&gt; :D<br /><br />I just downloaded ollydbg and will try it, I'll tell you later on how I liked it.<br /><br />/added: I'll also download RadAsm at some point :)</div>
    <div class="meta">Posted on 2004-05-13 12:10:43 by Justin Case</div>
   </div>
   <div class="post" id="post-141064">
    <div class="subject"><a href="#post-141064">Debugging code...</a></div>
    <div class="body">Justin Case,<br /><br />Ollydbg is a free debugging tool available from:<br /><br /><a target="_blank" href="http://home.t-online.de/home/Ollydbg/">http://home.t-online.de/home/Ollydbg/</a></div>
    <div class="meta">Posted on 2004-05-13 12:54:29 by Vortex</div>
   </div>
   <div class="post" id="post-141065">
    <div class="subject"><a href="#post-141065">Debugging code...</a></div>
    <div class="body">yes... I found it on google already... I just said in my previous post that I downloaded it :)<br /><br />It looks a bit confusing to me... but I will study it. While I'm at it, may I ask another question? In a part of the window code, I see this:<br /><pre><code>xor eax, eax</code></pre><br />What exactly does that do?</div>
    <div class="meta">Posted on 2004-05-13 13:09:34 by Justin Case</div>
   </div>
   <div class="post" id="post-141067">
    <div class="subject"><a href="#post-141067">Debugging code...</a></div>
    <div class="body">It zero's out eax.. it's equal to mov eax, 0</div>
    <div class="meta">Posted on 2004-05-13 13:15:28 by JimmyClif</div>
   </div>
   <div class="post" id="post-141068">
    <div class="subject"><a href="#post-141068">Debugging code...</a></div>
    <div class="body">Hi Justin Case,<br /><br />xor stands for eXclusive OR which means that if two arguments are TRUE / FALSE, the result is FALSE , otherwise the result is TRUE.<br /><br />The classical OR operator does:<br /><br />1 or 1 = 1<br />1 or 0 = 1<br />0 or 0 = 0<br /><br />xor:<br /><br />1 xor 1 = 0<br />1 xor 0 = 1<br />0 xor 0 = 0<br /><br />So, eax XORed with eax<br /><pre><code><br />xor eax,eax<br /></code></pre><br />gives 0. <br /><br />This is the optimized way of setting eax to 0.</div>
    <div class="meta">Posted on 2004-05-13 13:20:39 by Vortex</div>
   </div>
   <div class="post" id="post-141071">
    <div class="subject"><a href="#post-141071">Debugging code...</a></div>
    <div class="body">Ok, thanks for the information, Vortex and JimmyClif. But why do you have to use the <strong>xor</strong> then, what does &quot;optimized way&quot; mean? Why not the <strong>mov eax, 0</strong>?</div>
    <div class="meta">Posted on 2004-05-13 13:43:10 by Justin Case</div>
   </div>
   <div class="post" id="post-141075">
    <div class="subject"><a href="#post-141075">Debugging code...</a></div>
    <div class="body">Because it's 2 bytes as opposed to 5 bytes.</div>
    <div class="meta">Posted on 2004-05-13 14:28:25 by Sephiroth3</div>
   </div>
   <div class="post" id="post-141082">
    <div class="subject"><a href="#post-141082">Debugging code...</a></div>
    <div class="body">a-ha!<br /><br />Thanks, I see now!</div>
    <div class="meta">Posted on 2004-05-13 15:26:38 by Justin Case</div>
   </div>
   <div class="post" id="post-141102">
    <div class="subject"><a href="#post-141102">Debugging code...</a></div>
    <div class="body">One important detail on using <strong>XOR reg</strong> for zeroing a register. It does affect several of the flags in the flag register. You may even want to use that simply to set the Z(ero) flag for whatever reason if you don't need that register. However, if you ever have to zero a register before making a conditional jump (or using some of the flags for any other purpose), you must then use the <strong>MOV reg,0</strong> instruction which does not affect any of the flags in the flag register.<br /><br />Raymond</div>
    <div class="meta">Posted on 2004-05-13 22:41:39 by Raymond</div>
   </div>
   <div class="post" id="post-141114">
    <div class="subject"><a href="#post-141114">Debugging code...</a></div>
    <div class="body">It breaks dependency IIRC</div>
    <div class="meta">Posted on 2004-05-14 05:00:39 by roticv</div>
   </div>
   <div class="post" id="post-141154">
    <div class="subject"><a href="#post-141154">Debugging code...</a></div>
    <div class="body">This is off topic... but nice to see other finnish people here!</div>
    <div class="meta">Posted on 2004-05-14 16:18:07 by SamiP</div>
   </div>
   <div class="post" id="post-141155">
    <div class="subject"><a href="#post-141155">Debugging code...</a></div>
    <div class="body">Moi Sami :)<br /><br />I know how it feels like, there are some large forums where I'm the only (active) Finnish member, when I meet another Finn it feels like finding an ice cream bar in the middle of a desert :grin:</div>
    <div class="meta">Posted on 2004-05-14 16:39:09 by Justin Case</div>
   </div>
   <div class="post" id="post-141157">
    <div class="subject"><a href="#post-141157">Debugging code...</a></div>
    <div class="body"><div class="quote"><br />&lt;boast&gt;I tend to find typical and even more complicated JavaScript errors easily.&lt;/boast&gt; :D</div>With practice you will be able to do the same with x86.  IMHO, we all have to bump our heads to get sore enough to remember. :)  I'll write a complex algorithm without any debugging and then debug the whole thing in one go -- bouncing back and forth from RadASM and OllyDbg correcting all the errors as I see them.  When I get really tired I'll spend a long time on a silly error -- writing code to narrow down the possiblities (including the bug in that code too, of course!) and tracing thorugh the code several dozen times until I am certain of liquid mush in my skull and drift off to sleep...<br /><br />:)</div>
    <div class="meta">Posted on 2004-05-14 16:58:09 by bitRAKE</div>
   </div>
   <div class="post" id="post-141158">
    <div class="subject"><a href="#post-141158">Debugging code...</a></div>
    <div class="body">hehehe.. occasionally I thought it was easier just to rewrite the part that was buggy all over again :)</div>
    <div class="meta">Posted on 2004-05-14 17:38:50 by JimmyClif</div>
   </div>
  </div>
 </body>
</html>
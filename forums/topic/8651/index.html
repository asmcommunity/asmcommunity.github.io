<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Is DirectX so slow? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8651" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=8651">Is DirectX so slow?</a></p>
   <div class="post" id="post-63564">
    <div class="subject"><a href="#post-63564">Is DirectX so slow?</a></div>
    <div class="body">I've recently been reading the Chris Hobbs' win32asm game writing articles' serie. Well, I haven't finished it yet, but I have already tested the binary. Can you imagine how astonished I was when this game(tetris) turned out<br />to be damn slow. Well, I agree I have a bit outdated computer(PPlain 90, 40MB Ram,Win95 OSR2), but StarCraft was running absolutely smoothly on it. How does it turn to be, that DirectX(I have DirectX 8.0 SDK installed), precisely <br />DirectDraw, is so slow? <br /><br />I just can't believe it ;(((<br /><br />Any ideas???<br /><br />P.S. If yes, then I will have to think about DOS graphics programming(Graphic Programming Black Book and Zen of Graphic programming rule!).</div>
    <div class="meta">Posted on 2002-10-26 09:20:17 by Zedr0n</div>
   </div>
   <div class="post" id="post-63572">
    <div class="subject"><a href="#post-63572">Is DirectX so slow?</a></div>
    <div class="body">Well, Starcraft is a piece of art (IMHO has many many maybe ASM optimizations inside)<br />First it uses 8 bit GFX and that is damn fast, alpha blending is done by table lookup and that is again damn fast and possible for only 256 colors...<br />Besides it uses 640x480 resolution...<br /><br />As you can see a lot of time saveiours<br /><br />Besides there is the issue of monitor refresh rate when using -&gt;Flip() method ... if you syncro the final drawing to the verstical refresh rate you can only have 60 up to 120 max fps no matter how fast you draw.<br /><br />IMHO Starcraft is not using this syncro because you ca easyly see some tear off when fast scrolling over a lot o selected PILONS on a slow PC<br /><br />DirectDraw is pretty fast IMHO but curent video board technology and sometimes DX itself are careless for 2D performance, they only concentrate on 3D performance. On 2D you are on your own with your CPU power...<br /><br />Video to video - 2D hardware  blitting is very fast but unfortunately it has no support for alpha blending(???) and you can not make games without explosions and such ... also it is pretty hard to keep all sprites inside video memory as support for custom compression algorithms is inexistent...<br /><br />We do pretty well on HE however ;)<br /><br />Because of curent 3D limitations (triangles and stuff) 3D rendering is extreemly fast but quite limiting IMHO on what you can really do... just small variations on the same themes no real new stuff (like ray traceing) <br /><br />This also creates an false impresion on the speed of current CPU witch is much more lower then usually expected...<br /><br />For example a AMD k6/2 at 400Mhz with a fast 3D video board is very capable of playing a little old 3D games but fails miserably on 2D strategic games because on low CPU computation power (but Starcraft work)<br /><br />I guess i can stall with complex 2D operations even some new P4s :)<br />because of this we have droped 32 bit and curently using 16 bits pixel formats on HE<br /><br />Please fell free to ask for directions on any 2D stuff</div>
    <div class="meta">Posted on 2002-10-26 11:20:09 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-63658">
    <div class="subject"><a href="#post-63658">Is DirectX so slow?</a></div>
    <div class="body">the notion of raytracing being &quot;new&quot; brought a smile to my dial...<br /><br />I've been involved in coding 2d and 3d fx ever since the single color vector demos of the Apple 2 era, and I've seen a lot of changes over this time.<br />I witnessed the introduction of matrix math and was coding 8 bit 3d using trig-based rotation via a sine lookup table at the time. Raytracing has been with us since shortly before the introduction of matrices in 3d math. It's always been somewhat out of reach in the past due to it ultimately being about per-pixel calculations, but then again, today that's become normal, with pixel shaders being the perfect example. That's exactly why there's no need for DirectX to enshrine raytracing as a rending method... it's available through pixel shading.<br />Portal-based raytracing likewise can be performed via drawing subsets using your own pixelshader ray renderer.<br /><br />Nothing much is new huh, it just gets applied in new ways...</div>
    <div class="meta">Posted on 2002-10-27 00:38:58 by Homer</div>
   </div>
   <div class="post" id="post-63688">
    <div class="subject"><a href="#post-63688">Is DirectX so slow?</a></div>
    <div class="body">Hehe EvilHomer2k<br /><br />I do not mean emulating raytracing via pixelshaders, i mean the ability to use your own algorithms in creating the 3D final image, this is something you just can not do... today. I agree pixel shaders add a level of custom design to current triangle scanline algorithms but that is it... just a touch of... pathetic IMHO after all ANY software triangle renderer coul easyly add procedural pixel shaders to any texture it wanted at any time and WITHOUT use of a strange new assembly language :) ... as you can see i agree it is a plus but...no new algorithm<br /><br />Why not doing fuul real raytracing in video boards? i do not mean Portal based raytracing i mean per pixel ral raytracing like in POv RAY...this is the future IMHO and curernt 3D algorithms are just much to optimized ...<br /><br />sorry have to go i will contimue later .... cya</div>
    <div class="meta">Posted on 2002-10-27 07:31:55 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-63701">
    <div class="subject"><a href="#post-63701">Is DirectX so slow?</a></div>
    <div class="body">I see that day coming very soon, right now remember that only a small percent of video cards out there support pixelshaders in hardware.<br />Yes I know, the ugly ugly coprocessor instructions ...<br />well, I can't see them going anywhere for a while, what I can see happening is that we will be more and more loading code to the video memory and executing it from there in hardware, which is very much akin to the days of the commodore64 where all devices had their own cpu and memory and operated asynchronously to the main cpu and memory, which served them through hw interrupts.<br />The simple fact is that any api which purported to be performing these functions in hardware is really just going to be compiling the code for the hardware shader on the fly. The alternative would be the api precompiling the entire pixelshader code before rending begins, which is not at all flexible.<br />I feel your pain! Alas, we never get an even break. There's always going to be subsystems where hardware acceleration is involved, and we'll always have to code in some fancy shmancy opcode set. I guess that doesn't bother me since I've coded on so many cpu's at the opcode level that a new instruction set isn't frightening anymore. Anyway, we're off topic, the original question asked whether the code in DirectX is at fault in slowing down carefully coded binaries, and I agree that although some of DX has been optimized and DX is generally quite decent, it is indeed slow, and could be improved through further optimization. I must disagree that the 3D side is fast in comparison to the 2D side, because ultimately the thing which slows D3D down is its matrix math functions, which quite frankly, suck. The light at the end of the tunnel is that because DX is a library, you decide what functions to use and what functions you will replace yourself in your code since they suck so badly. How can D3D be faster than the 2D functions since D3D inherits its 2D functionality from DirectDraw, and since then it has a bunch more code on the top? Oh, the lighting equations also suck (badly), and now I've berated the entire T/L pipeline u may wish to consider the fact that most ppl don't love DX for its speed or grace but simply because it allows them more or less transparent access to the graphics card's higher functions, and will work for the gamut of cards out there (would you like to code a driver interface for every single card likely to be in a box running ur warez? I didn't think so !!)</div>
    <div class="meta">Posted on 2002-10-27 10:00:43 by Homer</div>
   </div>
   <div class="post" id="post-63716">
    <div class="subject"><a href="#post-63716">Is DirectX so slow?</a></div>
    <div class="body">Hi i am back,<br /><br />Well my pain is not because of stupid instructions of eithrt the coprocesor or the video board GPU. I  have also codeD for may CPUs and hardware one more stranger than the other. My problem is vith video board architecture and concepts that it is IMHO very wrong those days. .. limiting to one single algorithm for generateing 3D images is simply PATHETIC...<br /><br />Yes the addition of pixel shaders is a big steep forward BUT in the wrong direction because it is only affecting textures not the geometry or the algorithms used to generate 3D objects... I also do not sympathise with the hardware oriented approach for the sake of speed in one direction only... this LIMITS creativity and basically limits our way of thinking and evolving as programmers. I prefer software solutions or hardware that is capable to accomodate as many algorithms as possible. <br /><br />The current line of video board developement is purely comercialist... i did not say that reaytraceing as an algorithm is new, it is just new to use it on video boards (actually never happend besides some emulation via triangles tests), and since at the current CPU power it becomes quite possible to use it and it looks 10x better than curent scanline algorithms... why not start useing it? Because the video board industry will loose a lot of money / research... they over invested in this line of products ... that is why... <br /><br />So instead they will push this line further and further until every drop of money was taken out of the market... even if they know this i wrong. one part of this push is to hide 2D optimised functions from the programmer.<br /><br />Yes i think it is pathetic that 2D exposed fuctions are slower that 3D since i agree with you that 3D has to use 2D to fill tirangles (with current algorithms). Manufaturers just choosed not to expose the fast 2D functions to the public :( in order to gain an 1-2% extra speed for the 3D rendering...<br /><br />I think i have answered the original question also:<br /><br />NO DX is not slow.<br /><br />Actually it is the fastest API available, you can only use HAL drivers if you want to be even faster and that is very hard...(PS. OpenGL is extreemly slow ;) ESP on 2D ). <br /><br />However DX is not so programmer friendly as OpenGL but it is becomeing (and slowing down also of course with DX8)<br /><br />For 2D speed take care at:<br />-never read from video memory<br />-make your own routines to gain some speed and take advantage of particular resolutions/pixelformats<br />-avoid syncro with monitor refresh rate if possible and if gaining something<br />-avoid multithreading<br />-do not over estimate CPU/GPU power at high resolutions and pixelformats just because 3D game &quot;X&quot; works. 3D games &quot;cheat&quot; by using video board to fill huge areas on screen.<br />-did you know that compiled sprites are 2x up to 5x faster on modern CPUs ? (but also eat huge RAM so it is not a thing for RTS games rather for arcade)</div>
    <div class="meta">Posted on 2002-10-27 13:47:23 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-63807">
    <div class="subject"><a href="#post-63807">Is DirectX so slow?</a></div>
    <div class="body">First of all, thanks for all the answers.<br /><br />Can you direct me at some good DirectX programming <br />tutes,  especially win32asm? <br /><br />And one more question? Can anything good looking be<br />developed at PPlain90 with 1MB video ram? With a lot of <br />assembly optimization? I believe it can, for 'There ain't such thing as fastest code', and, well, Michael Abrash did code Quake ;) I have another computer at home(a much more <br />powerful one(Athlon 1.5 Ghz, Geforce 32 MB)), but I would <br />really like to try to squeeze as much perfomance as I can<br />from my old P90. Is that possible?<br /><br />Once again, thanks for answers...</div>
    <div class="meta">Posted on 2002-10-28 12:06:19 by Zedr0n</div>
   </div>
   <div class="post" id="post-63839">
    <div class="subject"><a href="#post-63839">Is DirectX so slow?</a></div>
    <div class="body">There's lots of D3D tutorials around but most are written for C coders.<br />Scronty has some cool example sources and imho the most bugfree masm includes for dx8 and 8.1 at his site, <a target="_blank" href="http://scrontsoft.com">scrontsoft</a> <br />They aint tutorials, but I recommend u grab them, and then study them while reading the tutorials available at say <a target="_blank" href="http://gamedev.net">gamedev</a> <br />This will teach you to teach yourself :alright: and then you will be able to reach for the stars.</div>
    <div class="meta">Posted on 2002-10-28 23:13:25 by Homer</div>
   </div>
   <div class="post" id="post-213854">
    <div class="subject"><a href="#post-213854">Re: Is DirectX so slow?</a></div>
    <div class="body"><div class="quote"><br />the notion of raytracing being &quot;new&quot; brought a smile to my dial...<br /><br />I&#039;ve been involved in coding 2d and 3d fx ever since the single color vector demos of the Apple 2 era, and I&#039;ve seen a lot of changes over this time.<br />I witnessed the introduction of matrix math and was coding 8 bit 3d using trig-based rotation via a sine lookup table at the time. Raytracing has been with us since shortly before the introduction of matrices in 3d math. It&#039;s always been somewhat out of reach in the past due to it ultimately being about per-pixel calculations, but then again, today that&#039;s become normal, with pixel shaders being the perfect example. That&#039;s exactly why there&#039;s no need for DirectX to enshrine raytracing as a rending method... it&#039;s available through pixel shading.<br />Portal-based raytracing likewise can be performed via drawing subsets using your own pixelshader ray renderer.<br /><br />Nothing much is new huh, it just gets applied in new ways...<br /></div><br /><br />Well, I happened to stumble upon this ancient thread, and I thought this was interesting enough to respond to.<br />Yes, raytracing is one of the oldest means of rendering on a computer, if not THE oldest. You can find papers on raytracing dating back to the 1960s.<br />It is older than the concept of triangle rasterizing.<br />As for matrices... they are a mathematical concept, and were conceived hundreds of years before the first computers arrived. Geometric calculations using matrices predate computers altogether.<br /><br />And to get back to the original question: DirectX is very fast, when used properly. I was an &#039;early adopter&#039; of DirectDraw, starting to use DirectDraw 1.0 on a 486DX2-66 on Windows 95. The performance difference with DOS was negligible, even back then. These days Windows is the fastest common OS for graphics on x86-based PCs, with Direct3D being the fastest API on Windows. And while OpenGL is slower than Direct3D on Windows, Windows is still faster at OpenGL than alternatives such as linux and OS X.</div>
    <div class="meta">Posted on 2011-01-10 04:33:33 by Scali</div>
   </div>
   <div class="post" id="post-213855">
    <div class="subject"><a href="#post-213855">Re: Is DirectX so slow?</a></div>
    <div class="body">That takes me back a long way :D<br />Bogdan was such a nice fellow, it&#039;s a pity I was not more interested in game development back then, I could have learned something from him.<br />Now it has become my life, and there seems somehow to be less to learn :(<br />IGDA Melbourne<br /></div>
    <div class="meta">Posted on 2011-01-10 05:32:41 by Homer</div>
   </div>
   <div class="post" id="post-213856">
    <div class="subject"><a href="#post-213856">Re: Is DirectX so slow?</a></div>
    <div class="body">I suppose Bogdan crossed over to the Dark Side?</div>
    <div class="meta">Posted on 2011-01-10 06:33:05 by Scali</div>
   </div>
   <div class="post" id="post-213863">
    <div class="subject"><a href="#post-213863">Re: Is DirectX so slow?</a></div>
    <div class="body">Nah, I am beyond Light or Dark Sides... I am still watching you :D but granted I do prefer the MASM32 forums to this one ;)<br /><br />And reviving such an old thread is &quot;priceless&quot; <br /><br />But yes I do agree that DirectX is the fastest GFX API even today. <br /><br />I do &quot;detect&quot; a tendency of DirectX to become more &quot;user friendly&quot; and more &quot;like OpenGL&quot; and &nbsp;slower &nbsp;with every new release :D However since CPU and GPU&#039;s become more powerful and have more features this tendency is partly compensated by hardware.<br /><br /><br /></div>
    <div class="meta">Posted on 2011-01-10 12:24:23 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-213864">
    <div class="subject"><a href="#post-213864">Re: Is DirectX so slow?</a></div>
    <div class="body">I&#039;d say that Direct3D has become more difficult since DirectX 10.<br />They completely cut out the state machine and the fixed-function shading.<br />This means that when you want to get anything on screen at all, you need to write vertex and pixelshaders, and also devise your own pipeline for matrix handling and related tasks (texture states, alphablending, that sort of thing).<br />In Direct3D 9 and earlier, you could get things on screen with a lot less work, much like OpenGL.<br /><br />In theory, some of the changes to the API and driver model introduced in DirectX 10 should make it more efficient, but in practice I&#039;ve not seen too much of it.<br />On my nVidia card, performance from fastest to slowest is something like this:<br />1) Direct3D 9<br />2) Direct3D 10<br />3) Direct3D 11<br />4) OpenGL<br /><br />Direct3D 10/11 have come a lot closer to Direct3D 9 with some driver updates though, so perhaps it&#039;s only a matter of time.</div>
    <div class="meta">Posted on 2011-01-10 14:17:03 by Scali</div>
   </div>
  </div>
 </body>
</html>
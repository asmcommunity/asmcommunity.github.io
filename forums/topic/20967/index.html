<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Serialize Memory Access (looking for Special instruction in Pentium processor) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20967" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=20967">Serialize Memory Access (looking for Special instruction in Pentium processor)</a></p>
   <div class="post" id="post-159037">
    <div class="subject"><a href="#post-159037">Serialize Memory Access (looking for Special instruction in Pentium processor)</a></div>
    <div class="body">Experts, please help..<br /><br />I&#39;m trying to calculate some memory latency.<br /><br />basically I&#39;m looking for ways to serialize memory access in a loop.<br /><br />char storage;<br />int dummy;<br />for (i=0; i&lt;max; i++)<br />{<br />dummy = storage<em>;<br />}<br /><br />Say in one iteration that storage<em> missed in processor cache, the processor could start fetching storage<em>. Is there a way I can stall the processor when there is a cache miss? so the processor would not create another memory access for the next iterations. I only want one memory access at a time.<br /><br />Is there any special instruction asm I can use to stall the processor like that? This program is running on Xeon IA32 system.<br /><br />Any clue?</div>
    <div class="meta">Posted on 2005-04-15 01:53:56 by Chanus</div>
   </div>
   <div class="post" id="post-159038">
    <div class="subject"><a href="#post-159038">Re: Serialize Memory Access (looking for Special instruction in Pentium processo</a></div>
    <div class="body">If you are stuck with a compiler&#39;s output you are probably in trouble but if you can get the code into an assembler format, you could try controlling the block size you need to work on and try the various &quot;prefetch&quot; strategies that are available in PIV hardware.<br /><br />If you know your way around SSE(2) instructions, you can distinguish between temporal and non-temporal read and writes to memory to avoid cache pollution but its going to have a lot to do with what you want to do with the code.</div>
    <div class="meta">Posted on 2005-04-15 02:24:15 by hutch--</div>
   </div>
  </div>
 </body>
</html>
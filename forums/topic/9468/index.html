<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>AE when calling wsprintf - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9468" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=9468">AE when calling wsprintf</a></p>
   <div class="post" id="post-70035">
    <div class="subject"><a href="#post-70035">AE when calling wsprintf</a></div>
    <div class="body">Every time i call wsprintf i get an Aplication error.  <br />Debuger shows that call user32.wsprintfA jumps somewere in user32.dll but not in the begining of wsprintf.<br /><br />I'm using fasm 1.42 on win2k. <br />Any ideas?</div>
    <div class="meta">Posted on 2002-12-09 07:59:20 by rdo</div>
   </div>
   <div class="post" id="post-70043">
    <div class="subject"><a href="#post-70043">AE when calling wsprintf</a></div>
    <div class="body">Hi,<br />one of errors in ccall macro:<br /><br />macro ccall proc,<br />  {<br />    COMMON  ;! <br />    param_num = 0<br />    reverse<br />      push arg<br />      param_num = param_num + 4<br />    common<br />      call proc<br />      add esp, param_num<br />  }<br /><br />Macro with variable number of parameters started from &quot;forward&quot; (by default) .<br />Thanks.</div>
    <div class="meta">Posted on 2002-12-09 09:13:52 by tserk</div>
   </div>
   <div class="post" id="post-70047">
    <div class="subject"><a href="#post-70047">AE when calling wsprintf</a></div>
    <div class="body">Thanks for correction, i didn't know that.<br /><br />But the problem still exists.</div>
    <div class="meta">Posted on 2002-12-09 09:26:54 by rdo</div>
   </div>
   <div class="post" id="post-70055">
    <div class="subject"><a href="#post-70055">AE when calling wsprintf</a></div>
    <div class="body">if you use <strong>invoke</strong> instead of <strong>call</strong> it works :) <br />but of course without stack clearing<br /><br />the problem is in the macro, you must use <div class="quote">call </div></div>
    <div class="meta">Posted on 2002-12-09 09:57:49 by TBD</div>
   </div>
   <div class="post" id="post-70060">
    <div class="subject"><a href="#post-70060">AE when calling wsprintf</a></div>
    <div class="body">Now is ok, thanks a lot.<br /><br />I got this macro from the teeth sample and i've thought it should be working.<br />Now i've learn my lesson :))</div>
    <div class="meta">Posted on 2002-12-09 10:24:29 by rdo</div>
   </div>
   <div class="post" id="post-70156">
    <div class="subject"><a href="#post-70156">AE when calling wsprintf</a></div>
    <div class="body">Macro works ok at me:<br /><br /><pre><code><br />buf rb 16<br />...<br />ccall &#91;wsprintf&#93;, buf, &quot;Value = %d&quot;, 5<br /></code></pre><br /><br />The problem is that you didn't know how to use it, not in macro.</div>
    <div class="meta">Posted on 2002-12-10 00:35:24 by wanderer</div>
   </div>
   <div class="post" id="post-70192">
    <div class="subject"><a href="#post-70192">AE when calling wsprintf</a></div>
    <div class="body">I didn't wanted to say that the author of macro is wrong, but that i was using something that i don't quite understand and i should clear that at first.<br />By the way the teeth program is the perfect sample because it contains almost everything a man can see in a windows application.</div>
    <div class="meta">Posted on 2002-12-10 06:40:01 by rdo</div>
   </div>
   <div class="post" id="post-70479">
    <div class="subject"><a href="#post-70479">AE when calling wsprintf</a></div>
    <div class="body">Thanks for compliment ;)</div>
    <div class="meta">Posted on 2002-12-11 13:03:26 by wanderer</div>
   </div>
  </div>
 </body>
</html>
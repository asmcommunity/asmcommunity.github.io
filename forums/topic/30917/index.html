<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?   - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30917" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=30917">Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></p>
   <div class="post" id="post-216211">
    <div class="subject"><a href="#post-216211">Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">Hi all - I&#039;m a first-timer here.... :)&nbsp; <br /> I&#039;m learning NASM (on Linux). I don&#039;t have too many problems with most of the simple commands (mov, add, and so on) but I do have two questions - <br />a) What do the commands &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do?&nbsp; <br />b) Can someone give a simple example (for each) - an example of when these commands would be useful?&nbsp; <br /> Many thanks in advance - bye for now - <br />- obsidian&nbsp; &nbsp;  </div>
    <div class="meta">Posted on 2012-09-04 00:32:32 by obsidian</div>
   </div>
   <div class="post" id="post-216213">
    <div class="subject"><a href="#post-216213">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">They are &#039;binary number operators&#039;... just more math operators, but they do something different, they are specifically for playing with the binary representation of numbers, not the integer, hex,&nbsp; or other representation.<br />In asm, we often use &#039;bit flags&#039;, where we can store 8 flags in a single byte.<br />So try to think in those terms instead of thinking about the number values...<br /><br />Let&#039;s assume we have two input numbers A and B, and we want to perform a binary operation on them..<br /><br />OR is easiest to explain - each BIT in the result, will be 1, if the corresponding bit in A is 1, OR, if the corresponding BIT in B is 1 ... the only way to make an output bit to be zero, is if BOTH the inputs are zero. So this operator typically &#039;turns on&#039; bits, because it likes to make a 1 in the results.<br /><br />&nbsp; &nbsp; &nbsp;  11100010<br />OR&nbsp;  10101100<br />=&nbsp; &nbsp;  11101110<br /><br />AND is similar, the result will be zero, unless A is 1 AND B is 1 - they have to both be 1, to make a 1 in the result. So this guy turns OFF bits, because it likes to make a zero in the result.<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;  10110011<br />AND&nbsp;  10001000<br />=&nbsp; &nbsp; &nbsp;  10000000<br /><br />XOR is also known as EXCLUSIVE OR.<br />This one is a bit weird, but very useful<br />If A and B are the same, the result will be 0, if they are different the result will be 1. So this guy likes to FLIPS bits, useful for cheap encryption - if we said that encrypted value C = A XOR B, then we can also say that decrypted value A = B XOR C, and also, decrypted value B = A XOR C :)<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; 10001000&nbsp; &nbsp; A<br />XOR&nbsp; 10011001&nbsp; &nbsp; B<br />=&nbsp; &nbsp; &nbsp; 00010001&nbsp; &nbsp; C<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;  00010001&nbsp;  C<br />XOR&nbsp;  10011001&nbsp;  B<br />=&nbsp; &nbsp; &nbsp;  10001000&nbsp;  A<br /><br />Please also look up the term &#039;Truth Table&#039;, which will show you even more binary operators, some don&#039;t exist in the computing world, such as NOR and NAND.<br /><br /><br /></div>
    <div class="meta">Posted on 2012-09-04 02:17:26 by Homer</div>
   </div>
   <div class="post" id="post-216214">
    <div class="subject"><a href="#post-216214">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">Hi Homer - thanks very much for that, that&#039;s very helpful!&nbsp; <br /><br />Ok - now the only thing I am wondering about is trying to think of simple examples when these would be useful. In other words - <br />*&nbsp; &quot;if you want to do &quot;x&quot;, then &quot;and&quot; is useful.&quot; <br />*&nbsp; &quot;if you want to do &quot;y&quot;, then &quot;or&quot; is useful.&quot;&nbsp;  <br />Many thanks!&nbsp; <br />- obsidian&nbsp; <br /></div>
    <div class="meta">Posted on 2012-09-04 02:52:59 by obsidian</div>
   </div>
   <div class="post" id="post-216215">
    <div class="subject"><a href="#post-216215">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">You could use this to make a lights display using your parallel port, some leds, and some 330 ohm resistors, one each<br /></div>
    <div class="meta">Posted on 2012-09-04 04:47:14 by Homer</div>
   </div>
   <div class="post" id="post-216216">
    <div class="subject"><a href="#post-216216">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body"><div class="quote"><br />You could use this to make a lights display using your parallel port, some leds, and some 330 ohm resistors, one each<br /></div> <br />Ahh.&nbsp; Okay then.... Thanks very much for that......&nbsp; :)&nbsp; <br />At the risk of prompting another &quot;Home Improvement&quot;-style reply..... ;)&nbsp; <br />What I was meaning was more like - why would you want to apply the &quot;or&quot; operation to a number? What kind of simple &quot;use case&quot; does it help with?&nbsp; <br />As a dopey newbie, I can&#039;t think of *any* practical, useful reason for &quot;and&quot; (or the other two operators that I mentioned). <br />All three of them seem like &quot;solutions in search of a problem&quot;, as it were..... <br />- obsidian </div>
    <div class="meta">Posted on 2012-09-04 05:05:34 by obsidian</div>
   </div>
   <div class="post" id="post-216221">
    <div class="subject"><a href="#post-216221">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">If we define some BIT FLAGS (who mean something, for our work at hand)<br /><br />NOFLAGS equ 0<br /><br />FLAG1 equ 1<br />FLAG2 equ 2<br />FLAG3 equ 4<br />FLAG4 equ 8<br />FLAG5 equ 16<br />FLAG6 equ 32<br />FLAG7 equ 64<br />FLAG8 equ 128<br /><br />Imagine we wanted to store eight BOOLEAN states - true or false.<br />We can store any or all of the above possible FLAGS in a single byte, by using the OR operator to combine them (which is quite similar to ADD you will notice).<br /><br />The AND operator can be used to check if one or more flags are turned on.<br /><br />The following example 32bit code could handle 32 boolean flags at once.<br /><br />What if we called them something useful? ;)<br /><br /><pre><code><br />mov eax, flags<br />mov edx, FLAG8 <br />or edx, FLAG6<br />and eax, edx<br />jz TheyAreNotBothEnabled;<br /></code></pre><br /><br />or in c speak<br />if( flags &amp; (FLAG8 | FLAG6) ==0)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ^and&nbsp; &nbsp; &nbsp; &nbsp; ^ or</div>
    <div class="meta">Posted on 2012-09-05 03:14:28 by Homer</div>
   </div>
   <div class="post" id="post-216222">
    <div class="subject"><a href="#post-216222">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body"><div class="quote"><br />mov eax, flags<br />mov edx, FLAG8 <br />or edx, FLAG6<br />and eax, edx<br />jz TheyAreNotBothEnabled;<br /></div><br /><br />Nah... These flags are constants, so you want to or them into a single immediate operand, like this:<br />mov eax, flags<br />and eax, (FLAG8 or FLAG6)<br />jz TheyAreNotBothEnabled;<br /><br />Or even:<br />test flags, (FLAG8 or FLAG6)<br />jz TheyAreNotBothEnabled;<br /><br />Test performs an and operation and updates the flags, but it does not store the result (much like how cmp performs a sub without storing the result). This means that generally you want to use test instead of and for this sort of code, as the result of the operation is not important, only the flags.<br />In this case we can use the &#039;flags&#039; variable directly from memory, since the test instruction will not modify the contents.</div>
    <div class="meta">Posted on 2012-09-05 03:18:30 by Scali</div>
   </div>
   <div class="post" id="post-216223">
    <div class="subject"><a href="#post-216223">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">ok so imagine this example<br /><br />if (the player is not dead)<br />and <br />(the player has a gun)<br />or<br />(the player has a sharp stick)<br />or<br />(the player has a guitar string)<br />and<br />(there is a zombie nearby)<br />and <br />(the player is facing the right way)<br />then (target the zombie)<br /><br />We can eliminate most of this code using a well-crafted single test with boolean flags. One operation, many questions answered.<br />But only if they are &#039;yes or no&#039; questions.<br /><br />There you go.<br /></div>
    <div class="meta">Posted on 2012-09-05 03:27:16 by Homer</div>
   </div>
   <div class="post" id="post-216224">
    <div class="subject"><a href="#post-216224">Re: Hi - what do &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; do in assembly?  </a></div>
    <div class="body">Hi again all - thanks for your replies! <br /> Good stuff!&nbsp; This now gives me a much better idea of when &quot;and&quot;, &quot;or&quot; and &quot;xor&quot; could be useful. Many thanks!&nbsp; <br />Bye for now - <br />- obsidian&nbsp; <br /> </div>
    <div class="meta">Posted on 2012-09-05 03:33:46 by obsidian</div>
   </div>
  </div>
 </body>
</html>
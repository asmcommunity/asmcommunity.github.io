<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Writing to shareing-protected files - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5625" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5625">Writing to shareing-protected files</a></p>
   <div class="post" id="post-40065">
    <div class="subject"><a href="#post-40065">Writing to shareing-protected files</a></div>
    <div class="body">Some files, that are executed/or currently opened are prohibited even to read (like Windows SWAP file). I know, that it is a business of file system driver. How to disable (temporary/forever) that limitation and to read/write opened/executed files?</div>
    <div class="meta">Posted on 2002-05-26 11:34:09 by Maestro</div>
   </div>
   <div class="post" id="post-40084">
    <div class="subject"><a href="#post-40084">Writing to shareing-protected files</a></div>
    <div class="body">Operating Systems take things like Permissions very seriously.<br />About the only way that springs to mind of overriding the Operating System File Permissions is to get your hands dirty and go lowlevel, whether that be using INT13 BIOS calls to perform lowlevel sector-based read and writes to your target device (meaning emulating the FileSystem as well) or possibly by going to Ring Zero and calling 16-bit &quot;lowlevel api functions&quot; by hand<br />(...&quot;Most 32-bit Windows API functions thunk down to 16-bit code&quot;...)<br />I haven't had to perform many &quot;hacks&quot; on Win boxes, but when I wanted rawsocks on win98, I achieved it by using a VXD to talk directly to the NDIS layer of my network interface card.<br />I am assuming that File Permissions are not a &quot;core&quot; function of the Operating System, which could be flawed too.</div>
    <div class="meta">Posted on 2002-05-26 15:04:41 by Homer</div>
   </div>
   <div class="post" id="post-40176">
    <div class="subject"><a href="#post-40176">Anyway</a></div>
    <div class="body">Anyway, what WIn32 is responsible for file/disk writing? Or it is a BIOS?</div>
    <div class="meta">Posted on 2002-05-27 05:38:35 by Maestro</div>
   </div>
   <div class="post" id="post-40178">
    <div class="subject"><a href="#post-40178">Writing to shareing-protected files</a></div>
    <div class="body"><strong>Maestro</strong>: File protection is there for a reason. There won't be any clean way to break this protection. There might be a way to do this using device drivers or other dirty tricks, although I don't know one. <br />Why do you want to read such files?<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-05-27 05:59:31 by Thomas</div>
   </div>
   <div class="post" id="post-40202">
    <div class="subject"><a href="#post-40202">Why</a></div>
    <div class="body">That is my little secret :). Frankly, I need to add a portion to some DLL that is always protected by NT. So that is possible to do just under other OS than NT.<br /><br />Can somebody tell me what should I concern about while searching for a way to break that protection? What driver does a file management under NT/2000 systems?</div>
    <div class="meta">Posted on 2002-05-27 09:13:36 by Maestro</div>
   </div>
   <div class="post" id="post-40203">
    <div class="subject"><a href="#post-40203">Writing to shareing-protected files</a></div>
    <div class="body">I know of only a few ways to do this... and I sure hope you have<br />legitimate reasons for doing this (like fixing the debugging &quot;local-root&quot;<br />NT exploit). One way would be booting either to dos mode (in case<br />you run FAT32), or the ERD system commander (in case you run NTFS),<br />to be able to overwrite system files with your patch.<br /><br />Another solution would be writing a KMD to do the patch runtime<br />(IMO a lot safer), but this will be tricky if there's not enough space<br />in the executable/driver (I don't know how to allocate globally visible<br />shared memory, but I've been told that it's not entirely straightforward).</div>
    <div class="meta">Posted on 2002-05-27 09:19:11 by f0dder</div>
   </div>
   <div class="post" id="post-40236">
    <div class="subject"><a href="#post-40236">Writing to shareing-protected files</a></div>
    <div class="body">maestro,<br /><br />why you dont copy the DLL, modify it, and set the system to update it in the next reboot?<br /><br />ancev</div>
    <div class="meta">Posted on 2002-05-27 15:33:04 by ancev</div>
   </div>
  </div>
 </body>
</html>
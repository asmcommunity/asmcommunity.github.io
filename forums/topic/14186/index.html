<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>two new bugs - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14186" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=14186">two new bugs</a></p>
   <div class="post" id="post-109653">
    <div class="subject"><a href="#post-109653">two new bugs</a></div>
    <div class="body">Hello, Randy.<br /><br />1st bug is in hlalib/misc/args.hla, quotes are not processed correctly (poiter is not increased after closing quote), see attached file for fix<br />2nd bug is somewhat related (I think so) to previosly fixed @CDECL bug, I've no time for now to locate it, so leaving it for you:<span style="font-size:9px><pre><code>    &#91;B&#93;if&#91;/B&#93;&#40; arg.c&#40;&#41; != &#91;COLOR=blue&#93;2&#91;/COLOR&#93; &#41; &#91;B&#93;then&#91;/B&#93;<br />        stdout.put&#40; &#91;COLOR=darkred&#93;&quot;Usage&#58; unpackn filename.n01&quot;&#91;/COLOR&#93; nl &#41;;<br />        &#91;B&#93;exit&#91;/B&#93; unpackn;<br />    &#91;B&#93;endif&#91;/B&#93;;</code></pre></span>generates:<span style="font-size:9px><pre><code>call	arg_c	; c<br />cmp	eax, 02h	;/* 2 */<br />je	L273_be__hla_<br />push	offset32 L287_str__hla_<br />call	stdio_puts	; puts<br />xor	eax, eax<br />;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; IMHO push eax should be here<br />call	dword ptr &#91;__imp__ExitProcess@4&#93;</code></pre></span>Windows ignores it, and program exits successfully, but launched from bash(cygwin) it makes bash to behave wierdly<br /><br />clone-d</div>
    <div class="meta">Posted on 2003-07-08 07:42:30 by clone-d</div>
   </div>
  </div>
 </body>
</html>
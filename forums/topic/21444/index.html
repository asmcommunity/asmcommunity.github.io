<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>C to Asm Question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21444" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21444">C to Asm Question</a></p>
   <div class="post" id="post-161918">
    <div class="subject"><a href="#post-161918">C to Asm Question</a></div>
    <div class="body">Okay, if a function in a dll is supposed to have a return value, and the c header had the return value defined, how will i access this return value through asm, will the value be in one of the registers? if the dll is supposed to return the value to the calling function then i dont understand how i can do this through asm.</div>
    <div class="meta">Posted on 2005-07-10 12:06:56 by mkdsctt</div>
   </div>
   <div class="post" id="post-161919">
    <div class="subject"><a href="#post-161919">Re: C to Asm Question</a></div>
    <div class="body">Return values are always in eax. Even in dll, you do the same - you return the values by placing them in eax before you exit the function</div>
    <div class="meta">Posted on 2005-07-10 12:45:59 by roticv</div>
   </div>
   <div class="post" id="post-161920">
    <div class="subject"><a href="#post-161920">Re: C to Asm Question</a></div>
    <div class="body">so then really what c does is just move eax to whatever variable you have designated to receive the return value? except it does it automatically without the user even needing to know what eax is?</div>
    <div class="meta">Posted on 2005-07-10 12:47:41 by mkdsctt</div>
   </div>
   <div class="post" id="post-161922">
    <div class="subject"><a href="#post-161922">Re: C to Asm Question</a></div>
    <div class="body">int foo() {<br />...<br />return someVar;? ?//? This places someVar&#39;s value into eax<br />}<br />int bar() {<br />int resultOfFoo=foo();? //foo() is called.? When foo() exists, the result is left in eax.? eax is then copied to resultOfFoo.<br />foo();? /* eax after this call to foo() also contains the value of someVar.? If you use in-line assembly immediately after this statement, you should you should still be able to access the value returned by foo() in eax.? So you&#39;re right, the C-programmer doesn&#39;t need to worry about eax. :)<br />The compiler copies the contents of eax to the receiving variable after return from the call.<br />*/<br />}</div>
    <div class="meta">Posted on 2005-07-10 13:25:50 by jademtech</div>
   </div>
   <div class="post" id="post-161924">
    <div class="subject"><a href="#post-161924">Re: C to Asm Question</a></div>
    <div class="body">...or to st(0) if you return a float/double under cdecl calling conv.</div>
    <div class="meta">Posted on 2005-07-10 13:59:49 by ti_mo_n</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Dynamic object types in C++ via assembly - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29427" />
  <link rel="prev" href="../?id=29427&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29427">Dynamic object types in C++ via assembly</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=29427&amp;page=1" style="">&laquo;</a><a href="../?id=29427&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="29427" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-207847">
    <div class="subject"><a href="#post-207847">Re: Dynamic object types in C++ via assembly</a></div>
    <div class="body"><div class="quote"><br />The data is laid out inside the struct in the same order it was defined.<br />Whether there is any PADDING between its member fields or not depends on the datatypes involved. I believe the default behaviour is that all fields are aligned to 16 byte boundaries, and so therefore the entire struct always ends on a 16 byte boundary too.<br />That means that single CHAR member will be followed by one byte of padding, but SHORT or LONG members don&#039;t need any padding at all.</div><br /><br />So if I had this struct:<br /><br /><pre><code>struct some_name<br />{<br />&nbsp; &nbsp; int a;<br />&nbsp; &nbsp; int b;<br />&nbsp; &nbsp; int c;<br />}</code></pre><br /><br />And I was given a memory address to the struct, let&#039;s say this address is x, the address for each member would look like this?<br /><br />member a&#039;s address is x<br />member b&#039;s address is x+2<br />member c&#039;s address is x+4<br /><br />right? Seems like a struct is just a fancy array...</div>
    <div class="meta">Posted on 2009-06-08 13:48:13 by ITAmember</div>
   </div>
   <div class="post" id="post-207848">
    <div class="subject"><a href="#post-207848">Re: Dynamic object types in C++ via assembly</a></div>
    <div class="body">In non-ancient 32-bit compilers, int is 32-bit. <br />A struct is far from being just an array:<br /><pre><code><br />struct sss{<br />	double a; // 0<br />	char b; // 8<br />	float c; // 12<br />	short d[7]; // 16<br />	int e; // 32<br />	__m128 f; // 48<br />	char g; // 64<br />}; // sizeof(sss) = 80<br /></code></pre><br />Packing modifies this behavior. </div>
    <div class="meta">Posted on 2009-06-08 17:48:07 by Ultrano</div>
   </div>
   <div class="post" id="post-207851">
    <div class="subject"><a href="#post-207851">Re: Dynamic object types in C++ via assembly</a></div>
    <div class="body">Thank you. :D</div>
    <div class="meta">Posted on 2009-06-09 15:10:34 by ITAmember</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=29427&amp;page=1" style="">&laquo;</a><a href="../?id=29427&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="29427" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
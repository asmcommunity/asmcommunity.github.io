<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Frequency of the CPU? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3093" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3093">Frequency of the CPU?</a></p>
   <div class="post" id="post-20280">
    <div class="subject"><a href="#post-20280">Frequency of the CPU?</a></div>
    <div class="body">How do I get the frequency of the CPU?</div>
    <div class="meta">Posted on 2002-01-21 09:59:21 by dxantos</div>
   </div>
   <div class="post" id="post-20283">
    <div class="subject"><a href="#post-20283">Frequency of the CPU?</a></div>
    <div class="body"><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=2409">There !</a><br /><br />It is a slow method, though... if someone knows a faster one, I'm interested...</div>
    <div class="meta">Posted on 2002-01-21 10:25:29 by JCP</div>
   </div>
   <div class="post" id="post-20306">
    <div class="subject"><a href="#post-20306">Frequency of the CPU?</a></div>
    <div class="body">queryperformancecounter in api.<br />more accurate than using sleep.<br />Some older cpu's dont do it. but i THINK anything mmx on does.<br /><br />Hope im correct there !</div>
    <div class="meta">Posted on 2002-01-21 14:05:37 by trancera</div>
   </div>
   <div class="post" id="post-20312">
    <div class="subject"><a href="#post-20312">Frequency of the CPU?</a></div>
    <div class="body">Check out my answer in <a target="_blank" href="http://www.asmcommunity.net/board/showthread.php?s=&amp;threadid"><u>this</u></a> link. It shows that the OS does the work for you already. I don't explain how to get the values for the 9x flavours of Windows, but they do also have this stored in the registry, but in a different place.</div>
    <div class="meta">Posted on 2002-01-21 15:05:30 by sluggy</div>
   </div>
   <div class="post" id="post-20326">
    <div class="subject"><a href="#post-20326">Frequency of the CPU?</a></div>
    <div class="body">Got it.<br /><br />One more question, just out of curiosity. On 2 completely different machines (1 pentium3 900mhz, 1 athlon 1,000mhz)  I found that Queryperformancefrequency gives the value<br /><br />3579545<br /><br />What does this value means? Is it the same on every machine?<br /><br /><strong> sluggy</strong> The link is:<br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=2303&amp;highlight=frequency">http://www.asmcommunity.net/board/index.php?topic=2303&amp;highlight=frequency</a></div>
    <div class="meta">Posted on 2002-01-21 16:51:57 by dxantos</div>
   </div>
   <div class="post" id="post-20345">
    <div class="subject"><a href="#post-20345">Frequency of the CPU?</a></div>
    <div class="body"><div class="quote"><em>3579545<br /><br />What does this value means? Is it the same on every machine?</em></div><br />The variable that you pass to that function has a pointer returned in it, which you use to access the actual value you want. Check the doco for that function <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/sys"><u>here</u></a>. And don't forget to check the value returned in eax to see if the function succeeded.</div>
    <div class="meta">Posted on 2002-01-21 20:35:35 by sluggy</div>
   </div>
   <div class="post" id="post-20383">
    <div class="subject"><a href="#post-20383">Frequency of the CPU?</a></div>
    <div class="body"><div class="quote"><br />Got it.<br /><br />One more question, just out of curiosity. On 2 completely different machines (1 pentium3 900mhz, 1 athlon 1,000mhz)  I found that Queryperformancefrequency gives the value<br /><br />3579545<br /><br />What does this value means? Is it the same on every machine?<br /><br /> </div><br /><br />That is the reference frequency of the timer chip Windows uses. I forget the exact name of the chip but they are commonly found on PCs. <br /><br />The values returned from a QueryPerformanceFrequency vary from OSs. Win9x and NT return different values. This one is the same as mine on Win2k. The reference freq. on Win9x is three times slower. Some have stated that some OSs return the CPU freq. but I've never seen it (maybe it's on a Alpha station running Windows, I dunno).<br /><br />The mathmatical relationship between frequency and time is inversely proportional, ie as frequency increases time decrease or t=1/f. In this situation one clock cycle occurs every 279.365 nsecs. So if a QueryPerformanceCounter check yields a difference of 10 then your timed routine took 2.79 ?sec (microseconds).</div>
    <div class="meta">Posted on 2002-01-22 06:20:14 by Shadow</div>
   </div>
  </div>
 </body>
</html>
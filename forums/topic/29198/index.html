<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Assembly to C  - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29198" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29198">Assembly to C </a></p>
   <div class="post" id="post-206217">
    <div class="subject"><a href="#post-206217">Assembly to C </a></div>
    <div class="body">Hello, I am working on the converting the following assembly function into a &quot;C&quot; function.&nbsp; I setup a activation record to keep track of my parameters and local variables.&nbsp; I concluded that in the function there are&nbsp; 3 parameters and 3 local variables , the function is a &quot;for loop&quot; since I am doing a cmpl ( 4 &lt;= ( -12(ebp)) and a incl ( Increment) within the function.&nbsp; &nbsp;Is my reading of the assembly correct ?&nbsp; Doing the activation record has helped , but I am new to assembly and thus just a bit unsure that I am correct , or at least close to being correct. Any suggestions ?&nbsp; Thank you for the help.<br /><br /><pre><code><br />0x08048408 &lt;foo+0&gt;:&nbsp; &nbsp; &nbsp;push&nbsp; &nbsp;%ebp<br />0x08048409 &lt;foo+1&gt;:&nbsp; &nbsp; &nbsp;mov&nbsp; &nbsp; %esp,%ebp<br />0x0804840b &lt;foo+3&gt;:&nbsp; &nbsp; &nbsp;sub&nbsp; &nbsp; $0x10,%esp<br />0x0804840e &lt;foo+6&gt;:&nbsp; &nbsp; &nbsp;mov&nbsp; &nbsp; 0x8(%ebp),%eax<br />0x08048411 &lt;foo+9&gt;:&nbsp; &nbsp; &nbsp;imul&nbsp; &nbsp;0xc(%ebp),%eax<br />0x08048415 &lt;foo+13&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; %eax,0xfffffff4(%ebp)<br />0x08048418 &lt;foo+16&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; 0x10(%ebp),%eax<br />0x0804841b &lt;foo+19&gt;:&nbsp; &nbsp; add&nbsp; &nbsp; 0xc(%ebp),%eax<br />0x0804841e &lt;foo+22&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; %eax,0xfffffff8(%ebp)<br />0x08048421 &lt;foo+25&gt;:&nbsp; &nbsp; movl&nbsp; &nbsp;$0x0,0xfffffffc(%ebp)<br />0x08048428 &lt;foo+32&gt;:&nbsp; &nbsp; jmp&nbsp; &nbsp; 0x8048437 &lt;foo+47&gt;<br />0x0804842a &lt;foo+34&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; 0x10(%ebp),%eax<br />0x0804842d &lt;foo+37&gt;:&nbsp; &nbsp; lea&nbsp; &nbsp; 0xfffffff8(%ebp),%edx<br />0x08048430 &lt;foo+40&gt;:&nbsp; &nbsp; sub&nbsp; &nbsp; %eax,(%edx)<br />0x08048432 &lt;foo+42&gt;:&nbsp; &nbsp; lea&nbsp; &nbsp; 0xfffffffc(%ebp),%eax<br />0x08048435 &lt;foo+45&gt;:&nbsp; &nbsp; incl&nbsp; &nbsp;(%eax)<br />0x08048437 &lt;foo+47&gt;:&nbsp; &nbsp; cmpl&nbsp; &nbsp;$0x4,0xfffffffc(%ebp)<br />0x0804843b &lt;foo+51&gt;:&nbsp; &nbsp; jle&nbsp; &nbsp; 0x804842a &lt;foo+34&gt;<br />0x0804843d &lt;foo+53&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; 0xfffffff8(%ebp),%edx<br />0x08048440 &lt;foo+56&gt;:&nbsp; &nbsp; mov&nbsp; &nbsp; 0xfffffff4(%ebp),%eax<br />0x08048443 &lt;foo+59&gt;:&nbsp; &nbsp; sub&nbsp; &nbsp; %edx,%eax<br />0x08048445 &lt;foo+61&gt;:&nbsp; &nbsp; leave&nbsp; <br />0x08048446 &lt;foo+62&gt;:&nbsp; &nbsp; ret&nbsp; <br /></code></pre>&nbsp; &nbsp; <br /><br />Thank you,<br /><br />Greg</div>
    <div class="meta">Posted on 2008-11-03 23:07:27 by graz</div>
   </div>
  </div>
 </body>
</html>
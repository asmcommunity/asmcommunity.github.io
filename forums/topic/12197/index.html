<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>small icon int he dialog .... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12197" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12197">small icon int he dialog ....</a></p>
   <div class="post" id="post-93697">
    <div class="subject"><a href="#post-93697">small icon int he dialog ....</a></div>
    <div class="body">hi all,<br /><br />i'm quite sure is possible...<br /><br />i would like a small icon in my dialog, to use it as a flag indicator, better if created in the resource file.<br /><br />In the resource file now i have<br /><br />    ICON	    IDI_C_YES,      IDC_STATIC, 350,   9,   8,   8,   0x00000200, 0<br /><br />And changing bits of the style i can see my icon change.. i can change the sides size but the icon come cutted..   i still haven't found the right style to scale as little icon (if it exist) ....<br /><br /><br /><br />If any help   THX   B7 :)</div>
    <div class="meta">Posted on 2003-04-06 15:34:55 by Bit7</div>
   </div>
   <div class="post" id="post-93698">
    <div class="subject"><a href="#post-93698">Re: small icon int he dialog ....</a></div>
    <div class="body"><div class="quote"><br />i have a dream: to live the little things of every day, as a coffe @ the bar and so on. And if you enjoy the little things, maybe one day could also arrive the big things. (Omar, a friend of mine)<br /></div>Mullah Omar? :grin:<br /><br />PS: sorry, can't help with your question. :(</div>
    <div class="meta">Posted on 2003-04-06 15:50:21 by Maverick</div>
   </div>
   <div class="post" id="post-93739">
    <div class="subject"><a href="#post-93739">small icon in the dialog ....</a></div>
    <div class="body">have you tried to send WM_SETICON message to your dialog?<br />here is MSDN quote<br /><div class="quote"><br />WM_SETICON<br />An application sends the WM_SETICON message to associate a new large or small icon with a window. The system displays the large icon in the ALT+TAB dialog, and the small icon in the window caption. <br /><br />WM_SETICON <br />wParam = (WPARAM) fType;          // icon type<br />lParam = (LPARAM) (HICON) hicon;  // handle to icon<br /> <br />Parameters<br />fType <br />Value of wParam. Specifies the type of icon being set. This parameter can be one of the following values: Value Meaning <br />ICON_BIG Set the large icon for the window. <br />ICON_SMALL Set the small icon for the window. <br /><br />hicon <br />Value of lParam. Handle to the new large or small icon. If this parameter is NULL, the icon indicated by fType is removed. <br />Return Values<br />The return value is a handle to the previous large or small icon, depending on the value of fType. It is NULL if the window previously had no icon of the type indicated by fType.<br /><br />Default Action<br />The DefWindowProc function returns a handle to the previous large or small icon associated with the window, depending on the value of fType.<br /><br />QuickInfo<br />  Windows NT: Requires version 4.0 or later.<br />  Windows: Requires Windows 95 or later.<br />  Windows CE: Requires version 1.0 or later.<br />  Header: Declared in winuser.h.<br /><br /></div></div>
    <div class="meta">Posted on 2003-04-06 20:34:14 by Mikky</div>
   </div>
   <div class="post" id="post-93855">
    <div class="subject"><a href="#post-93855">small icon in the dialog ....</a></div>
    <div class="body">mav,<br /><br />hahahah, my friend omar will be happy of this new name :)<br /><br /><br /><br />mikky, <br /><br />thanks, if no other chance i will try your way,  but i was really triyng to do it just from the resource file...<br /><br />B7</div>
    <div class="meta">Posted on 2003-04-07 08:41:32 by Bit7</div>
   </div>
   <div class="post" id="post-93920">
    <div class="subject"><a href="#post-93920">small icon in the dialog ....</a></div>
    <div class="body">I will do it from MS VC IDE when I come home and copy paste the resulting source...</div>
    <div class="meta">Posted on 2003-04-07 10:45:22 by JCP</div>
   </div>
   <div class="post" id="post-94020">
    <div class="subject"><a href="#post-94020">small icon in the dialog ....</a></div>
    <div class="body"><pre><code><br />IDI_DIALOGTEST       ICON    DISCARDABLE     &quot;dialogtest.ICO&quot;<br /><br /><br />/////////////////////////////////////////////////////////////////////////////<br />//<br />// Dialog<br />//<br /><br />IDD_ABOUTBOX DIALOG DISCARDABLE  22, 17, 230, 75<br />STYLE DS_MODALFRAME | WS_CAPTION | WS_SYSMENU<br />CAPTION &quot;About&quot;<br />FONT 8, &quot;System&quot;<br />BEGIN<br />    ICON            IDI_DIALOGTEST,IDC_MYICON,14,9,16,16<br />    LTEXT           &quot;dialogtest Version 1.0&quot;,IDC_STATIC,49,10,119,8,SS_NOPREFIX<br />    LTEXT           &quot;Copyright &#40;C&#41; 2003&quot;,IDC_STATIC,49,20,119,8<br />    DEFPUSHBUTTON   &quot;OK&quot;,IDOK,195,6,30,11,WS_GROUP<br />END<br /></code></pre><br /><br />But it seems that you already found that...<br />If I understand your problem : you want to display the icon in 16*16 ?</div>
    <div class="meta">Posted on 2003-04-07 16:50:22 by JCP</div>
   </div>
   <div class="post" id="post-94052">
    <div class="subject"><a href="#post-94052">small icon in the dialog ....</a></div>
    <div class="body">Im confused what he wants...<br /><br />But i can put an icon on a dialog box with this:<br /><br /><pre><code>   invoke LoadIcon, hInstance, 600 <br />   mov hIcon, eax<br />   invoke SetClassLong, hWnd, GCL_HICON, hIcon</code></pre><br /><br />Where in the resource file:<br /><br />&quot;600  ICON    DISCARDABLE     &quot;mainicon.ico&quot;<br /><br />Hope it helps..<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2003-04-07 19:24:56 by NaN</div>
   </div>
   <div class="post" id="post-94143">
    <div class="subject"><a href="#post-94143">small icon in the dialog ....</a></div>
    <div class="body">Yeah, but I think he wants to do it from the resource directly...<br />Resources files allows to do that, but it does not seem to work for 16*16 icons... :o</div>
    <div class="meta">Posted on 2003-04-08 01:47:42 by JCP</div>
   </div>
   <div class="post" id="post-94150">
    <div class="subject"><a href="#post-94150">small icon in the dialog ....</a></div>
    <div class="body">NaN, wont that put the icon on *all* the dialogs in your process?</div>
    <div class="meta">Posted on 2003-04-08 02:17:31 by f0dder</div>
   </div>
   <div class="post" id="post-94209">
    <div class="subject"><a href="#post-94209">small icon in the dialog ....</a></div>
    <div class="body">sorry for may bad explain.. :(<br /><br />Yes i would like an icon in the dialog, just from the resource file.<br />But i would like the icon in a small size (as the one in the caption bar). I don't know the exact size, maybe 16x16 or less.<br /><br />ICON IDI_C_YES, IDC_STATIC, 350, 9, 8, 8, STYLE, 0<br /><br />But don't waste time, probably thai is not possible. Altought if i've seen that playing with the style bits i get vbar and hbar, an whit these 2 styles the icon come resized in a small size but the bar remains...<br /><br /><br />B7</div>
    <div class="meta">Posted on 2003-04-08 05:47:51 by Bit7</div>
   </div>
   <div class="post" id="post-95258">
    <div class="subject"><a href="#post-95258">small icon in the dialog ....</a></div>
    <div class="body">Done ! here we go :alright:<br /><br />there's no much &quot;asm related&quot; on this    i agree .. but could be useful, now i close it !<br /><br /><br />If someone has interests on put on the dialog, in a particular place (not the caption bar) a small icon (smaller than 32x32 pixel), for example 16x16, same size of caption bar icon, it's easy. All can be done only from the resource file:<br /><br />ICON	    IDI_C_YES,      IDC_STATIC, 350,  15,  12,  12,   0x00000a00, 0<br /><br />0x00000a00: this style display only a part of the icon, starting from the center of the icon space:<br />if you define, as in my example, 12, 12 as width and height, it will display the center part of your icon, but 16x16 (YourWidth+4, YourHeight+4).<br /><br />So if you prepare a reduced size icon (16x16, centered on the 32x32 space) masked with transparent color outside of the circle, you can put it on the dialog as small icon.<br /><br />Yes it's a workaround but work nice. If you need some 'flag purpose' small icon in the dialog is better that bitblt it !<br />And you can display or not just as Visible or not.<br /><br />Hi B7              i love icons  :)</div>
    <div class="meta">Posted on 2003-04-10 17:01:55 by Bit7</div>
   </div>
   <div class="post" id="post-95485">
    <div class="subject"><a href="#post-95485">small icon in the dialog ....</a></div>
    <div class="body">Only one little question... Why didn't you use a 16x16 bitmap instead of an icon?</div>
    <div class="meta">Posted on 2003-04-11 07:17:51 by LuHa</div>
   </div>
   <div class="post" id="post-95575">
    <div class="subject"><a href="#post-95575">small icon in the dialog ....</a></div>
    <div class="body">Luha,  mmmh, i dind't try it.  Maybe it seems easier with icon, since i want a round shape, and icon have already the transparence as effect.</div>
    <div class="meta">Posted on 2003-04-11 14:57:50 by Bit7</div>
   </div>
   <div class="post" id="post-96594">
    <div class="subject"><a href="#post-96594">small icon in the dialog ....</a></div>
    <div class="body">You can use LoadImage with LR_LOADMAP3DCOLORS or LR_LOADTRANSPARENT flags, but only if you have a standard uniform background.</div>
    <div class="meta">Posted on 2003-04-14 10:34:51 by LuHa</div>
   </div>
   <div class="post" id="post-96684">
    <div class="subject"><a href="#post-96684">small icon in the dialog ....</a></div>
    <div class="body">thx luha, <br /><br />i will try this. But the icon method is nice since you don't need to load nothing, is all from the resource and naturally transparent. Then in the code just do ShowWindow to show or not the icon flag :) .</div>
    <div class="meta">Posted on 2003-04-14 16:13:53 by Bit7</div>
   </div>
  </div>
 </body>
</html>
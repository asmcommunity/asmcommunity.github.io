<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>PwnOS, just another OS project - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25204" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25204">PwnOS, just another OS project</a></p>
   <div class="post" id="post-184484">
    <div class="subject"><a href="#post-184484">PwnOS, just another OS project</a></div>
    <div class="body">Hi!<br /><br />This is my first post on the board, though I&#39;ve been an avid assembly guy for several years.<br /><br />I&#39;ve been working on my OS project off and on for a few years, and once again have motivation to really get things going.&nbsp; I&#39;ve got the project on Google Hosting now, and have already made some progress for the first time in months.&nbsp; Check out <a target="_blank" href="http://code.google.com/p/pwnos/">http://code.google.com/p/pwnos/</a> if you&#39;re interested, and if you&#39;re interested in helping out, awesome.&nbsp; People are so divided among so many projects that it&#39;s amazing that much gets done on any of them (me being hypocritical, of course, hehe).<br /><br />As a side note, I recently discovered the documentation generator Natural Docs, and it&#39;s really helped me get organized and stay focused.&nbsp; It should help out for if other people want to be part of the team too.&nbsp; You can see some of my documentation so far at <a target="_blank" href="http://www.scs.carleton.ca/~ndickson/os/documentation/">http://www.scs.carleton.ca/~ndickson/os/documentation/</a> or download the most recent from the repository at Google Hosting.<br /><br />A few things I&#39;m completely clueless on, like ethernet card drivers.&nbsp; Is it just me, or are they completely destandardized at the device control level?&nbsp; While I&#39;m at it, maybe I should wish for graphics card specs too.&nbsp; Maybe knowing something about the PCI protocols would help.&nbsp; Oh well, much of the I/O section can be left for after I have basic functionality.<br /><br />At earlier stages in its development, I had it rendering 3D scenes from data on a FAT partition, and I had mouse and keyboard I/O.&nbsp; Ironically, it does none of that right now, it&#39;s just a lot better organized to actually be an OS instead of a random conglomeration of code.<br /><br />Anyway, I&#39;m aiming at January 1st for having basic functionality down (even without any help), including memory management, processes &amp; threads, mutual exclusion, messages, an awesome bootloader (that just seems not to work at all right now, hehe), ATA support (without DMA, since PCI seems a bit complicated to manage for January), NTFS reading support, basic graphics support, and possibly PS/2 support (even though it&#39;ll mostly be replaced by PCI when I get around to it).&nbsp; I&#39;ve got a lot of stuff started, but I really need to get the bootloader fully functional so that I can test out some of the core.<br /><br />Just some miscellaneous stuff.&nbsp; Comments are welcome.<br /><br />Best regards</div>
    <div class="meta">Posted on 2006-08-15 00:50:40 by hackulous</div>
   </div>
   <div class="post" id="post-184486">
    <div class="subject"><a href="#post-184486">Re: PwnOS, just another OS project</a></div>
    <div class="body">Cool. I am running along the lines of the &quot;exokernel&quot; approach myself, with some deviation.<br /><br />Good luck with your project ;)<br /><br />You might want to visit <a target="_blank" href="http://www.osdev.org"><u>osdev.org</u></a> for some good OS links/docs :)</div>
    <div class="meta">Posted on 2006-08-15 03:40:46 by SpooK</div>
   </div>
   <div class="post" id="post-184852">
    <div class="subject"><a href="#post-184852">Re: PwnOS, just another OS project</a></div>
    <div class="body">Yeah good luck, for both of us. Ur livin my dream 4 the immediate future; OS creation. Perhaps our progeny will meet one day in battle! Lol :P. All the best.</div>
    <div class="meta">Posted on 2006-08-28 13:15:50 by Tr][x</div>
   </div>
   <div class="post" id="post-184862">
    <div class="subject"><a href="#post-184862">Re: PwnOS, just another OS project</a></div>
    <div class="body">If you&#39;d like to help, I&#39;d be more than happy to have you on the team.&nbsp; :D&nbsp; A team of one just isn&#39;t as fun.</div>
    <div class="meta">Posted on 2006-08-28 21:12:18 by hackulous</div>
   </div>
   <div class="post" id="post-184912">
    <div class="subject"><a href="#post-184912">Re: PwnOS, just another OS project</a></div>
    <div class="body">Anyone by any chance have an idea why the processor always stalls if I try to enable the MTRRs?&nbsp; I can set the MTRRs and the PAT MSR, but it stalls if I uncomment the WRMSR that enables them.<br /><br />I&#39;ve now got an HTML/CSS formatted version of the PwnOS code up at <a target="_blank" href="http://www.scs.carleton.ca/~ndickson/os/code/">http://www.scs.carleton.ca/~ndickson/os/code/</a>, so people can view the code a bit easier.<br /><br />After some brutal debugging, I also recently got the bootloader to find and load the kernel on an NTFS drive, so I&#39;m well on my way to making the self-set deadline of September 17th to have all of the basic bootloader functionality down.&nbsp; I now just need to have it create a process (just a dummy process for now) and hand off to the thread scheduler.<br /><br />Man I love to code.</div>
    <div class="meta">Posted on 2006-08-30 00:48:15 by hackulous</div>
   </div>
   <div class="post" id="post-184941">
    <div class="subject"><a href="#post-184941">Re: PwnOS, just another OS project</a></div>
    <div class="body">I gave a glance on your OS. How do you plan to support hardware acceleration?<br /><br />Do you (or anyone) know whether reverse-engineering a graphics driver (only to find out how it works) is legal? I ask, because I see it as the only option to make a gfx driver for an unsupported (by gfx manufacturer) OS.</div>
    <div class="meta">Posted on 2006-08-30 21:57:19 by ti_mo_n</div>
   </div>
   <div class="post" id="post-184942">
    <div class="subject"><a href="#post-184942">Re: PwnOS, just another OS project</a></div>
    <div class="body">That&#39;s up in the air at the moment.&nbsp; I have little-to-no knowledge of graphics hardware drivers, since, as you suggest, they&#39;re hard to find code for, and even harder to find decent documentation for.<br /><br />I could try looking at the Linux drivers, but that&#39;d probably require a ludicrous amount of work.&nbsp; However, since the code is in the public domain under the GNU GPL, even though some of it is copyrighted, it is allowed to be modified and used in other GNU GPL projects, as long as the source is cited, so it is an option.<br /><br />One possible (though maybe still not feasible) alternative would be to provide a compatibility mapping for existing drivers to be used.<br /><br />As much as the end goal would be an OS geared towards games and gamers, I realise how much work it will be even before it will run the least of programs, so graphics acceleration is a very low priority right now, especially since the current lack of memory caching would mean almost no benefit from acceleration.<br /><br />Nonetheless, if anyone has any good advice on the matter, it&#39;d be appreciated.&nbsp; :)</div>
    <div class="meta">Posted on 2006-08-30 22:49:33 by hackulous</div>
   </div>
   <div class="post" id="post-184945">
    <div class="subject"><a href="#post-184945">Re: PwnOS, just another OS project</a></div>
    <div class="body">well my advice (and that&#39;s what I actually plan to do) is to make the OS as compatible with windows (or linux) as possible. I plan to study kernel-mode driver framework ultra-thoroughly so I can write my own with (almost) same functionality and then hope that the drivers will run. Quite naive approach, but hey it guarantees a lot of fun xD</div>
    <div class="meta">Posted on 2006-08-31 00:38:50 by ti_mo_n</div>
   </div>
   <div class="post" id="post-184949">
    <div class="subject"><a href="#post-184949">Re: PwnOS, just another OS project</a></div>
    <div class="body"><div class="quote"><br />well my advice (and that&#39;s what I actually plan to do) is to make the OS as compatible with windows (or linux) as possible. I plan to study kernel-mode driver framework ultra-thoroughly so I can write my own with (almost) same functionality and then hope that the drivers will run. Quite naive approach, but hey it guarantees a lot of fun xD<br /></div><br /><br />Not really naive, it is the basis of an exokernel.</div>
    <div class="meta">Posted on 2006-08-31 07:10:24 by SpooK</div>
   </div>
   <div class="post" id="post-184950">
    <div class="subject"><a href="#post-184950">Re: PwnOS, just another OS project</a></div>
    <div class="body">Study www.tinykrnl.org, www.reactos.org, graphics driver samples from the DDK, the linux graphics drivers for embedded VIA/C3 (seems basically a DDraw compatible driver with some linux wrappings), and MicroWindows.<br /></div>
    <div class="meta">Posted on 2006-08-31 08:20:56 by f0dder</div>
   </div>
   <div class="post" id="post-184972">
    <div class="subject"><a href="#post-184972">Re: PwnOS, just another OS project</a></div>
    <div class="body">Thanks.<br /><br />I had already looked a bit at ReactOS.&nbsp; The major problem with using it as a reference is that it (at least the parts that I looked at) had almost no comments or other documentation, and a lot of the comments that there were, were FIXMEs with no description of what needed to be fixed.&nbsp; At least it&#39;s not as bad as MenuetOS in that area; I consider it amazing that MenuetOS works given the terrible use of magic numbers everywhere without even comments.<br /><br />I&#39;ve looked a little bit at TinyKRNL now.&nbsp; It seems to be well-designed, but it would still take a while to figure out, as with any other option.<br /><br />Anyway, I&#39;m still much more concerned with immediate problems, like that I haven&#39;t yet completed:<br /><ul><br /><li>Basic Process/Thread/Library Management Functionality</li><br /><li>Memory Management above page-level management</li><br /><li>Any message sending (and I need to have processes and threads first)</li><br /><li>Basic I/O protocol management (e.g. PCI, AGP, miscellaneous unknown network stuff, etc.)</li><br /></ul><br />All of the above are higher priority than graphics acceleration and 100% driver compatibility at this point, and they&#39;re pretty much required before I can feasibly test graphics drivers anyway.<br /><br />I considered starting with the 100% compatibility premise before, but considering that I&#39;ll be extatic if I even make it to version 0.0.1, I figured that it&#39;d just be loads of work for not much benefit in the forseeable future.&nbsp; It&#39;s not realistic to expect that PwnOS will ever really be used significantly by anyone, even if it&#39;s compatible, so I&#39;m just keeping it simple.&nbsp; It&#39;s not to hard to map functions and shift them around if I do decide to go compatible later.<br /><br />Thanks again.<br /><br />P.S. Anyone have any advice on that MTRR enabling stall I mentioned before?</div>
    <div class="meta">Posted on 2006-09-01 00:26:35 by hackulous</div>
   </div>
   <div class="post" id="post-184974">
    <div class="subject"><a href="#post-184974">Re: PwnOS, just another OS project</a></div>
    <div class="body">Well, good luck. You&#39;ll probably get more done with PwnOS than I ever will with DynatOS :P</div>
    <div class="meta">Posted on 2006-09-01 01:38:56 by SpooK</div>
   </div>
   <div class="post" id="post-184977">
    <div class="subject"><a href="#post-184977">Re: PwnOS, just another OS project</a></div>
    <div class="body">Menuet is a pretty good example of &quot;Assembly because it&#39;s omfg leet&quot; - and not much more than that ;)<br /><br />Dunno about the MTRR stall, but &quot;you&#39;re probably doing something wrong&quot; as other people succeed with MTRR programming :)<br /></div>
    <div class="meta">Posted on 2006-09-01 03:07:09 by f0dder</div>
   </div>
   <div class="post" id="post-184978">
    <div class="subject"><a href="#post-184978">Re: PwnOS, just another OS project</a></div>
    <div class="body"><div class="quote"><br />Menuet is a pretty good example of &quot;Assembly because it&#39;s omfg leet&quot;...<br /></div><br /><br />Barely :lol:</div>
    <div class="meta">Posted on 2006-09-01 04:21:36 by SpooK</div>
   </div>
   <div class="post" id="post-184986">
    <div class="subject"><a href="#post-184986">Re: PwnOS, just another OS project</a></div>
    <div class="body"><div class="quote"><br />Menuet is a pretty good example of &quot;Assembly because it&#39;s omfg leet&quot; - and not much more than that ;)<br /><br />Dunno about the MTRR stall, but &quot;you&#39;re probably doing something wrong&quot; as other people succeed with MTRR programming :)<br /></div><br /><br />On the first point, there&#39;s not much to say other than &quot;lol, tru dat, it +3h h4X0rZ&nbsp; 8)&quot;.&nbsp;  I&#39;m just using assembly language for the kernel (at least most of it) because it&#39;s simpler for that type of stuff than C, since many functions require things that aren&#39;t built into C (excluding inline assembly), like atomic locking, control register access, and task switching, and a few things are just more complicated in C.&nbsp; As such, I probably won&#39;t use much or any assembly for the funky user interfaces (except in some related libraries), because it&#39;s not really any benefit.<br /><br />On the second point, I&#39;m definitely doing something wrong.&nbsp; I just have no clue what it is. ;)&nbsp; I wish that the IA-32 System Programming Guide said more clearly what should be done, since it says that the BIOS should do all this, which it can&#39;t, since it doesn&#39;t know what memory caching scheme I need, (though it&#39;d be awesome if it could, but I&#39;m not going so far as to write my own BIOS yet).<br /><br />Anyway, just 16 days left for me to meet my deadline for the bootloader basics, but I think I&#39;ll make it unless I get caught up in something else.<br /><br />Thanks, and I&#39;ll keep you guys posted on progress.&nbsp; :)</div>
    <div class="meta">Posted on 2006-09-01 11:23:04 by hackulous</div>
   </div>
   <div class="post" id="post-184989">
    <div class="subject"><a href="#post-184989">Re: PwnOS, just another OS project</a></div>
    <div class="body">My first toy kernel attempt was 100% assembly as well. Partly because it&#39;s 6 years ago when I *blush* had the &quot;omg 100%-asm is teh leetz0r&quot; attitude myself, partly because - as you say - some things are just easier in assembly.<br /><br />The current plans, though (if I ever get back to it :P) is mostly C, a little C++ where it makes things cleaner &amp; safer, and &quot;more assembly than linux and NT, but still not extremely much&quot;.<br /><br />I sorta started the convertion process, but stopped after it was just functional enough to run a text-mode matrix screensaver (so kbd handler etc. weren&#39;t ported over). It did, however, mean a transition from DJGPP+NASM to MSVC+FASM, and a compressed PE-exe kernel.<br /><br /><div class="quote"><br />Anyway, just 16 days left for me to meet my deadline for the bootloader basics, but I think I&#39;ll make it unless I get caught up in something else.<br /></div><br />MTRR isn&#39;t *critical*, so you can postpone it a bit. At least don&#39;t get hung up on details like this, it&#39;s the sure path to damnation :)<br /></div>
    <div class="meta">Posted on 2006-09-01 11:40:53 by f0dder</div>
   </div>
   <div class="post" id="post-184992">
    <div class="subject"><a href="#post-184992">Re: PwnOS, just another OS project</a></div>
    <div class="body"><div class="quote"><br />MTRR isn&#39;t *critical*, so you can postpone it a bit. At least don&#39;t get hung up on details like this, it&#39;s the sure path to damnation :)<br /></div><br /><br />Definitely, getting caught on the unimportant details sucks.&nbsp; That&#39;s why I&#39;ve had that one line of code (a WRMSR) commented out for the past few months.&nbsp; It works fine without that one line, so I won&#39;t stress over it, and it&#39;s definitely not a priority for the time being.&nbsp; It&#39;s just that I know that I&#39;ll probably be able to figure out everything else in the short term, and it&#39;s probably only a small lack of understanding on my part or small bug, and it&#39;d be nice to have by January.</div>
    <div class="meta">Posted on 2006-09-01 12:38:19 by hackulous</div>
   </div>
   <div class="post" id="post-185059">
    <div class="subject"><a href="#post-185059">Re: PwnOS, just another OS project</a></div>
    <div class="body"><div class="quote"><br /><div class="quote"><br />Barely :lol:<br /></div><br /><br />am i seeing a touch of the green eyed monster?&nbsp; ;)<br /></div><br /><br />If it was any ASM OS Dev project that would strike jealousy in me, it would be Bogdan&#39;s SolOS project ;)</div>
    <div class="meta">Posted on 2006-09-03 19:54:59 by SpooK</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to gain info of file/folder being created ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30880" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=115">DOS &amp; BIOS</a> &raquo; <a href="../?id=30880">How to gain info of file/folder being created ?</a></p>
   <div class="post" id="post-215978">
    <div class="subject"><a href="#post-215978">How to gain info of file/folder being created ?</a></div>
    <div class="body">Hey, <br />I need to get info such as time and date of folder/file was created.<br /><br />While using 4eh/4fh functions with DTA (disk transfer area), then it returns only info like file name, time/date of <strong>LAST MODIFICATION</strong> etc., but how to gain info of file/folder being <strong>created</strong> ? Is it some how possible ?<br /><br />I am using nasm (.com application). Hope for help :)</div>
    <div class="meta">Posted on 2012-04-28 10:03:39 by hElllk</div>
   </div>
   <div class="post" id="post-215979">
    <div class="subject"><a href="#post-215979">Re: How to gain info of file/folder being created ?</a></div>
    <div class="body">I don&#039;t think that&#039;s possible with DOS, as DOS only supports FAT, which stores only one date per file/folder, being the last modified date.<br />Other data is only available with NTFS or a similar filesystem, but you&#039;d have to use the Windows API to access the data.</div>
    <div class="meta">Posted on 2012-04-28 16:13:07 by Scali</div>
   </div>
   <div class="post" id="post-215980">
    <div class="subject"><a href="#post-215980">Re: How to gain info of file/folder being created ?</a></div>
    <div class="body"><div class="quote"><br />I don&#039;t think that&#039;s possible with DOS, as DOS only supports FAT, which stores only one date per file/folder, being the last modified date.<br />Other data is only available with NTFS or a similar filesystem, but you&#039;d have to use the Windows API to access the data.<br /></div><br /><br />Seems to be logical :) Thanks for help!</div>
    <div class="meta">Posted on 2012-04-28 16:22:01 by hElllk</div>
   </div>
   <div class="post" id="post-215981">
    <div class="subject"><a href="#post-215981">Re: How to gain info of file/folder being created ?</a></div>
    <div class="body">I&#039;d have given the same answer as Scali - &quot;can&#039;t do it&quot; - but according to this information:<br /><br />http://en.wikipedia.org/wiki/File_Allocation_Table<br /><br />dos 7.0 actually does keep a creation date. There seem to be a lot of &quot;ifs&quot; involved - those bytes might mean something else - but start looking around offset 0xD of the directory entry and see if you see anything &quot;meaningful&quot;...<br /><br />Gotta scroll about 2/3 down the page to find it. Good luck!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2012-04-28 16:45:47 by fbkotler</div>
   </div>
   <div class="post" id="post-215982">
    <div class="subject"><a href="#post-215982">Re: How to gain info of file/folder being created ?</a></div>
    <div class="body"><div class="quote"><br />dos 7.0 actually does keep a creation date. There seem to be a lot of &quot;ifs&quot; involved - those bytes might mean something else - but start looking around offset 0xD of the directory entry and see if you see anything &quot;meaningful&quot;...</div><br /><br />Problem is, DOS 7.0 is not DOS, that&#039;s Windows 9x (DOS 7.0 has a variety of extended APIs for better interoperability with Win9x).<br />So even if it would work, it&#039;d still only work from Windows. Not from any real DOS, and probably not from any DOS environment other than DOS 7.0 either (any of the DOS clones, such as DR-DOS, ROMDOS, Dosbox etc, and possibly not even the NTVDM).</div>
    <div class="meta">Posted on 2012-04-29 04:59:02 by Scali</div>
   </div>
   <div class="post" id="post-215983">
    <div class="subject"><a href="#post-215983">Re: How to gain info of file/folder being created ?</a></div>
    <div class="body">If I remember correctly, there is a file creation hook we can monitor since the old days, maybe its in kernel32.<br /></div>
    <div class="meta">Posted on 2012-04-30 04:27:29 by Homer</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>char from point - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28566" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28566">char from point</a></p>
   <div class="post" id="post-202037">
    <div class="subject"><a href="#post-202037">char from point</a></div>
    <div class="body">could anyone suggest a way of making a character from point proc? sort of like the EM_CHARFROMPOS message. this has been the biggest problem i've had with my edit control, so far. i'm completely stumped.</div>
    <div class="meta">Posted on 2001-06-29 13:08:00 by Sloat</div>
   </div>
   <div class="post" id="post-202038">
    <div class="subject"><a href="#post-202038">char from point</a></div>
    <div class="body">is this a richedit or a normal edit control you're talking about?</div>
    <div class="meta">Posted on 2001-06-29 13:34:00 by Hiroshimator</div>
   </div>
   <div class="post" id="post-202039">
    <div class="subject"><a href="#post-202039">char from point</a></div>
    <div class="body">neither, it's a custom one. i use a linked list to keep track of the lines. each one has a pointer to a string and a rect structure, as well as some other stuff. i can get the line number by using the PtInRect function, but i don't know how to get the character at that point.</div>
    <div class="meta">Posted on 2001-06-29 14:29:00 by Sloat</div>
   </div>
   <div class="post" id="post-202040">
    <div class="subject"><a href="#post-202040">char from point</a></div>
    <div class="body">you could use GetTextExtentExPoint - call it with the whole line and the X value you got from the point, and it'll give you the number of chars that fit inside that space (lpnFit). the char right after the last char that fits is the one in the point (i think :D)</div>
    <div class="meta">Posted on 2001-06-30 04:44:00 by fresh</div>
   </div>
   <div class="post" id="post-202041">
    <div class="subject"><a href="#post-202041">char from point</a></div>
    <div class="body">Thanks, it works a little better than GetTextExtentPoint32. it's still coming out wrong sometimes though.</div>
    <div class="meta">Posted on 2001-06-30 17:33:00 by Sloat</div>
   </div>
   <div class="post" id="post-202042">
    <div class="subject"><a href="#post-202042">char from point</a></div>
    <div class="body">There is some C source on edit controls at www.codeproject.com. Their "Crystal" control can examine characters at or near the cursor.</div>
    <div class="meta">Posted on 2001-07-01 02:45:00 by Larry Hammick</div>
   </div>
  </div>
 </body>
</html>
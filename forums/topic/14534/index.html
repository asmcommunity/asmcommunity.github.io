<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Newbie Help with masm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14534" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14534">Newbie Help with masm</a></p>
   <div class="post" id="post-112394">
    <div class="subject"><a href="#post-112394">Newbie Help with masm</a></div>
    <div class="body">Hello. I'm starting to learn about assembly programming.<br />I need to write console programs, and want to know if anyone can tell me how to write and read from console.<br /><br />I'm using masm, and I have gone through the pages of Iczelion's tutorial, but couldn't find anything about this.<br /><br />If anyone has some time to help me out, I would appreciate it. :)<br /><br />Regrets, Goteki45.<br /><br />Ps. I came into assembly programming because I need to build a compiler for my Compiler I course from College.</div>
    <div class="meta">Posted on 2003-07-30 01:02:04 by Goteki45</div>
   </div>
   <div class="post" id="post-112397">
    <div class="subject"><a href="#post-112397">Newbie Help with masm</a></div>
    <div class="body">if use masm32 from hucth, find in m32lib ,to read masmlib.hlp for detail</div>
    <div class="meta">Posted on 2003-07-30 01:20:39 by h4ng4m3</div>
   </div>
   <div class="post" id="post-112446">
    <div class="subject"><a href="#post-112446">Newbie Help with masm</a></div>
    <div class="body">Thanx for the reply. I do use hutch's masm32, but there isn't a masmlib.hlp file in m32lib folder, nor on the help folder. :confused: <br /><br />I've been told that there are libraries for doing so, but I don't know wich ones.</div>
    <div class="meta">Posted on 2003-07-30 13:18:11 by Goteki45</div>
   </div>
   <div class="post" id="post-112669">
    <div class="subject"><a href="#post-112669">Newbie Help with masm</a></div>
    <div class="body">Hi<br />I am probable the last person in this furum to reply to your question, coz I am new to assembly.<br /><br />Anyway I'll post my first example :<br /><br />Ex1:<br />; --------------Start------------------<br /><br />; ------------------------------------------------------<br />;compile : ml /c /coff /Cp HelloWorld.asm<br />;link    : link /SUBSYSTEM:CONSOLE /LIBPATH:c:\MASM32\lib HelloWorld.obj<br />; -----------------------------------------------------<br /><br />.386<br />.model flat, stdcall<br />option casemap :none ; case sensitive<br /><br />; ------------------------------------------------------<br /><br />include \masm32\include\windows.inc<br />include \masm32\include\user32.inc<br />include \masm32\include\kernel32.inc<br />include \masm32\include\masm32.inc<br />includelib \masm32\lib\user32.lib<br />includelib \masm32\lib\kernel32.lib<br />includelib \masm32\lib\masm32.lib<br /><br />; --------------------------------------------------------<br />.data<br />    prompt db 'Hello World',0dh,0ah,0<br /><br />.data?<br /><br />.code<br />start:<br />    invoke StdOut,ADDR prompt		;print the string Prompt<br />    invoke ExitProcess,0			;return controll to OS<br />end start<br />;----------------End-------------------<br /><br /><br />Ex2<br />;------------------------START-------------------------<br />; -----------------------------------------------------<br />;compile : ml /c /coff /Cp arth.asm<br />;link    : link /SUBSYSTEM:CONSOLE /LIBPATH:c:\MASM32\lib arth.obj<br />; ------------------------------------------------------<br /><br />.386<br />.model flat, stdcall<br />option casemap :none ; case sensitive<br /><br />; ------------------------------------------------------<br /><br />include \masm32\include\windows.inc<br />include \masm32\include\user32.inc<br />include \masm32\include\kernel32.inc<br /><br />include \masm32\include\masm32.inc<br /><br />includelib \masm32\lib\user32.lib<br />includelib \masm32\lib\kernel32.lib<br />includelib \masm32\lib\masm32.lib<br /><br />; ------------------------------------------------------<br />;----------------Initialized data------------------------<br />.data<br />    nl	        db 0dh,0ah,0       ; new line<br /><br />    Prompt      db &quot;Let/'s do some Arthmetics&quot;,0dh,0ah,0<br /><br />    Value       db &quot;Now we will put 12 in eax &amp; print it .... EAX = &quot;,0<br /><br />    Addition    db &quot;Adding 12 + 12 = &quot;,0 <br /><br />    Subtraction db &quot;Subtracting 12 - 10 = &quot;,0 <br /><br />    ShiftL      db &quot;Shifting 12 one step left = &quot;,0<br /><br />    ShiftR      db &quot;Shifting 12 one step right = &quot;,0<br /><br />;----------------Uninitialized data------------------------<br />.data?<br /><br />    res        dd ?	;Dubble<br /><br />resstring db ?  	;string<br /><br />.code<br />start:<br /><br />    invoke StdOut,ADDR Prompt ; intro text<br /><br />;----------------mov-------------------------------<br />    mov eax,12			; put 12 in eax<br />    mov res,eax			; move it to memory res<br /><br />    invoke dwtoa, res, ADDR resstring ; convert it to String<br />    invoke StdOut, ADDR Value			  ; print the string Value<br />    invoke StdOut, ADDR resstring     ; print the String<br />    invoke StdOut, ADDR nl			  ; print a new line<br />;--------------------add------------------------------<br /><br />    mov eax,12			; put 12 in eax<br />    add eax,12			; add 12 to eax<br />    mov res,eax			; move it to memory res<br /><br />    invoke StdOut, ADDR Addition	  ; print the string Addition<br />    invoke dwtoa, res, ADDR resstring ; convert it to String<br />    invoke StdOut, ADDR resstring     ; print the String<br />    invoke StdOut, ADDR nl			  ; print a new line<br />;--------------------Sub------------------------------ <br />    mov eax,12			; put 12 in eax<br />    sub eax,10			; add 12 to eax<br />    mov res,eax			; move it to memory res<br /><br />    invoke StdOut, ADDR Subtraction	  ; print the string Subtraction<br />    invoke dwtoa, res, ADDR resstring ; convert it to String<br />    invoke StdOut, ADDR resstring     ; print the String<br />    invoke StdOut, ADDR nl		  ; print a new line<br />;---------------------shl------------------------------<br />    mov eax,12			; put 12 in eax<br />    shl eax,1			; shl 12 to eax<br />    mov res,eax			; move it to memory res<br /><br />    invoke StdOut, ADDR ShiftL	  ; print the string ShiftL<br />    invoke dwtoa, res, ADDR resstring ; convert it to String<br />    invoke StdOut, ADDR resstring     ; print the String<br />    invoke StdOut, ADDR nl			  ; print a new line<br />;---------------------shr------------------------------<br />    mov eax,12			; put 12 in eax<br />    shr eax,1			; shl 12 to eax<br />    mov res,eax			; move it to memory res<br /><br />    invoke StdOut, ADDR ShiftR	  ; print the string ShiftR<br />    invoke dwtoa, res, ADDR resstring ; convert it to String<br />    invoke StdOut, ADDR resstring     ; print the String<br />    invoke StdOut, ADDR nl		  ; print a new line<br />;---------------------------------------------------<br /><br />    invoke ExitProcess,0<br />end start<br />;----------------------END-------------------------<br /><br />Not the best Example, but hee it works at least :).<br /><br />PS:<br />You can get Masm32 from <a target="_blank" href="http://webster.cs.ucr.edu/Downloads.html">http://webster.cs.ucr.edu/Downloads.html</a> with all the help files included.. Good luck m8.<br /><br />Best Regards</div>
    <div class="meta">Posted on 2003-08-01 07:34:13 by mistronr1</div>
   </div>
   <div class="post" id="post-112718">
    <div class="subject"><a href="#post-112718">Newbie Help with masm</a></div>
    <div class="body">I've got some kind of adjusted program written in masm32. The purpose was to write procedures to use easily in console programs, because I test a lot of other procedures and don't really need the windows GUI.  So on <a target="_blank" href="http://users.skynet.be/kurchakk">http://users.skynet.be/kurchakk</a> you have to click download example and you just have to read how I did the adjustments.  You find also other nice stuff there so if you still don't have them feel free to download it.  Everything is freeware, so you don't have to bother yourself with &quot;illegal software issues&quot;.<br /><br />greetz<br />Raidu</div>
    <div class="meta">Posted on 2003-08-01 20:19:11 by raidu</div>
   </div>
   <div class="post" id="post-112757">
    <div class="subject"><a href="#post-112757">Newbie Help with masm</a></div>
    <div class="body">Hello again, and thanks for the replies.... :alright: <br /><br />But I'm having a problem: I don't know why but masm32.lib isn't on my lib folder... I tryed re-building all the libs running makelibs again.... but it still doesn't build it... I think it thows an error...<br />Then I tryed rebuilding it manually, using the make.bat file in M32LIB folder, but it says the file &quot;about.obj&quot; is missing. So then I tryed assembling each of the asm files in that folder manually (all 87 of em'!!) but still, the .obj files were erased after running again make.bat, and it still threw the same error!!<br /><br />Damn.... :mad:  can someone send me the masm32.lib file for me please?? Or tell me what am I doing wrong!!! <br />              :stupid: :grin: <br /><br />Regrets, Goteki45.<br /><br />And thanks mistronr for the examples.... I just wish I could try them...:(</div>
    <div class="meta">Posted on 2003-08-02 03:22:44 by Goteki45</div>
   </div>
   <div class="post" id="post-112758">
    <div class="subject"><a href="#post-112758">Newbie Help with masm</a></div>
    <div class="body">check my homepage <a target="_blank" href="http://users.skynet.be/kurchakk/index.htm">http://users.skynet.be/kurchakk/index.htm</a> . There you can download everything you need to start with.<br />Do the following:<br />- save all your projects to another location<br />- delete masm32 from your directory<br />- download masm32v8 from my webpage (or any other)<br />- unzip the download<br />- run install.exe<br /><br />results: masm32v8 works again. I use masm32 with radasm (also on my webpage). All the other stuff you need to in fact. Those are helpfiles (put them in c:\masm32\help directory) and the two others are debugger disassemblers. with PEBrowseI you can run trough your code step by step. The other PEBrowse you can disassemble programs and dll's to view the opcodes.  This last one is a static program, it only disassembles.  The first (PEBrowseI) works interactivally (how do you write this word, for gods....). You can go step by step through your code or execute large blocks of code at once, to see how the program reacts.  You have to play with that for a while then everything becomes more clear.<br /><br />- DON'T PANIC - when something goes wrong redo it. Even if you have to install your entire operating system (but when you have to do that, try some easier programs)<br />- TRY TO REMEMBER the steps you made and are doing (easier for others to troubleshooting your problem<br />- DOCUMENTATE A LOT of your sourcecode.<br />- when writing large programs, try to cut it into pieces (called procedures). And check every piece separately.<br />(maybe you already know that but it's important in assembler to do so at the beginning.  Later when you are familiar with assembly language your pieces will become larger and larger. But by this time you are much more expirienced with the stuff.)<br />If any questions -&gt; mail me.<br /><br />greetz<br />Raidu</div>
    <div class="meta">Posted on 2003-08-02 03:49:43 by raidu</div>
   </div>
   <div class="post" id="post-112764">
    <div class="subject"><a href="#post-112764">Newbie Help with masm</a></div>
    <div class="body">Hi Raidu<br /><br />The link you posted is in French &amp; Dutch, I don't know any of this languages.<br /><br />I like you advices, vary nice set of advices, Masm32 is available at : <a target="_blank" href="http://webster.cs.ucr.edu/Downloads.html">http://webster.cs.ucr.edu/Downloads.html</a><br /><br />Goteki45 follow Raidu's advices I think he knows what he is talking about :)<br /><br />Best Regards</div>
    <div class="meta">Posted on 2003-08-02 06:53:35 by mistronr1</div>
   </div>
   <div class="post" id="post-112767">
    <div class="subject"><a href="#post-112767">Newbie Help with masm</a></div>
    <div class="body">yep, try <a target="_blank" href="http://users.skynet.be/kurchakk/index.html">http://users.skynet.be/kurchakk/index.html</a> (i forgot the l behind htm),<br />sorry for that.<br /><br />Raidu</div>
    <div class="meta">Posted on 2003-08-02 07:16:53 by raidu</div>
   </div>
   <div class="post" id="post-112769">
    <div class="subject"><a href="#post-112769">Newbie Help with masm</a></div>
    <div class="body">Note: I installed PEBrowse Interactive on my laptop running Windows 98se, but upon launching, it states it only runs on Windows NT versions. Couldn't add\remove it: had to delete the directory manually.</div>
    <div class="meta">Posted on 2003-08-02 08:42:41 by Masmer</div>
   </div>
   <div class="post" id="post-112771">
    <div class="subject"><a href="#post-112771">Newbie Help with masm</a></div>
    <div class="body">I will mention it on my homepage, thanks for notifiyng me.<br /><br />greetz,</div>
    <div class="meta">Posted on 2003-08-02 10:05:07 by raidu</div>
   </div>
   <div class="post" id="post-112773">
    <div class="subject"><a href="#post-112773">Newbie Help with masm</a></div>
    <div class="body">Hey you guys there.<br /><br />Maybe you know it already, but I've have encountered some difficulties by accessing the read procedures (for the console program) directly without calling any other write (to console) procedure.  Maybe I've found the reason.  When experimenting in the code, I've called the invoke Locate,0,0 procedure BEFORE doing anything else and the problem was resolved.<br /><br />example:<br /><br />main:<br />  invoke ReadChar<br />  mov DWORD PTR ,eax<br />  invoke WriteChar,ADDR char<br />  invoke NewLine<br />  .<br />  .<br />  .<br /><br />wouldn't work like this, the solution is (at least mine):<br />main:<br />  invoke Locate,0,0<br /><br />  invoke ReadChar<br />  mov DWORD PTR ,eax<br />  invoke WriteChar,ADDR char<br />  invoke NewLine<br />  .<br />  .<br />  .<br /><br />I've called that procedure InitConsole<br />( InitConsole proc<br />     invoke Locate 0,0<br />  InitConsole endp<br />)<br /><br />So when you make a template or just want to start programming, keep in mind to use a sortlike procedure to initialize your screen.  An empty console program with only a main and exitprocess invokation only opens a console display, the OS doesn't still know what to do with it. (At least what I believe)<br />I hope to be helpfull with it.<br /><br />greetz</div>
    <div class="meta">Posted on 2003-08-02 10:17:31 by raidu</div>
   </div>
   <div class="post" id="post-112786">
    <div class="subject"><a href="#post-112786">Newbie Help with masm</a></div>
    <div class="body">Hello again.<br /><br />Thanks raidu and mistronr1 for the advice, I'll try to follow it.... but I still have the last problem. I downloaded mams32v8 from the links you guys posted (I'm downloading radasm right now, I'll be trying it later), but it was the one I already had. I'm still missing masm32.lib... and I can't do anything without it!! Can't even try the examples mistronr1 posted!! <br />Someone please tell me where to find it or how to buil it!! I'll try re-installing masm once again... or maybe with radasm I could correct this.<br /><br />Thanks again for the help. I apreciate it. :alright: <br /><br />Regrets. Goteki45.</div>
    <div class="meta">Posted on 2003-08-02 17:02:57 by Goteki45</div>
   </div>
   <div class="post" id="post-112788">
    <div class="subject"><a href="#post-112788">Newbie Help with masm</a></div>
    <div class="body">strange, I searched it on my harddisk and everything is ok.<br />so: 1) You have downloaded masm32v8<br />      2) you removed your own masm32 directory (WITHOUT YOUR OWN PROJECTS)<br />      3) you unzipped the masm32v8 download<br />      4) you did run install.exe (from the executable derived from masm32v8.zip<br />      5) a silent installation has performed<br />      6) you noticed a console screen wich asks to press a key to start the building of the libraries.<br />Then everything should be fine.<br />If this doesn't help (what I doubt) you can download masm32.lib from here and put it in the following directories (on my laptop it is so, so I suppose it have to be so: c:\masm32\lib and c:\masm32\m32lib<br /><br />I hope I've helped you right now.<br /><br />greetz</div>
    <div class="meta">Posted on 2003-08-02 17:25:15 by raidu</div>
   </div>
   <div class="post" id="post-112823">
    <div class="subject"><a href="#post-112823">Newbie Help with masm</a></div>
    <div class="body">Phew!! Finally.... :tongue: <br /><br />Thanks Raidu for that attachment... I re-installed masm and still got the problem that the masm32.lib wasn't build... Saw an error while the installer was doing so that said that some .obj file was in use and could not be open.  So I just copied the masm32.lib file in the attachment to the Lib folder and that resolved my problem.... Thanks a lot raidu... don't know what is causing the installer not to build this library...<br /><br />mistronr1, I tryed your examples... Ex2 worked just fine... But Ex1 didn't. It did nothing. I just copied the code that you posted here and tryed builing it using Qeditor's &quot;Build All&quot; command. Don't know what's wrong, but it already gave me the idea how to do what I was trying to do when posted this topic....<br /><br />Thanks for your help....<br /><br />Regrets.</div>
    <div class="meta">Posted on 2003-08-03 01:25:49 by Goteki45</div>
   </div>
   <div class="post" id="post-112838">
    <div class="subject"><a href="#post-112838">Newbie Help with masm</a></div>
    <div class="body">Hi Goteki45<br />Glad I could help :),try to compile Ex1 from the command prompt it should work.<br /><br />Best Regards</div>
    <div class="meta">Posted on 2003-08-03 08:23:41 by mistronr1</div>
   </div>
   <div class="post" id="post-112881">
    <div class="subject"><a href="#post-112881">Newbie Help with masm</a></div>
    <div class="body">Thanks mistronr1, it worked just fine now. :alright: <br /><br />Regrets.</div>
    <div class="meta">Posted on 2003-08-03 18:34:56 by Goteki45</div>
   </div>
  </div>
 </body>
</html>
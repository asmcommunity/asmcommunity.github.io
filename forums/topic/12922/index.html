<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>problem with a hook funktion - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12922" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12922">problem with a hook funktion</a></p>
   <div class="post" id="post-100381">
    <div class="subject"><a href="#post-100381">problem with a hook funktion</a></div>
    <div class="body">Hello coding-freinds !<br /><br />FF has just a little error.<br /><br />I have a hook dll, wich trys to note a shortcut. For a few days everything works fine, but now, it can only note the shortcut, when the window is akctivated.<br /><br />This bad error occurs as i made the dll dynamically.<br /><br />It have to be a stupid error, wich one could that be.<br /><br />Regard FF</div>
    <div class="meta">Posted on 2003-04-30 15:15:15 by Forginforcer</div>
   </div>
   <div class="post" id="post-100382">
    <div class="subject"><a href="#post-100382">problem with a hook funktion</a></div>
    <div class="body">If you're using WH_CALLWNDPROC hook it may be that your window is not receiving the messages therefor you hook isn't either. Just an idea, could you supply more info about the hook function you are using ? Are you implementing the IShellLink/IPersistFile interfaces to track shortcuts ?</div>
    <div class="meta">Posted on 2003-04-30 15:32:50 by donkey</div>
   </div>
   <div class="post" id="post-100449">
    <div class="subject"><a href="#post-100449">problem with a hook funktion</a></div>
    <div class="body">my dll-code:<br /><br />hookproc proc ...<br />MOV EAX, hWnd<br />MOV h_Wnd, EAX<br />INVOKE SetWindowsHookEx, WH_KEYBOARD, ADDR HookProc, hdll, NULL<br />MOV hhook, EAX<br />MOV EAX, OFFSET capp<br />RET<br />hookproc endp</div>
    <div class="meta">Posted on 2003-05-01 01:27:22 by Forginforcer</div>
   </div>
   <div class="post" id="post-100454">
    <div class="subject"><a href="#post-100454">problem with a hook funktion</a></div>
    <div class="body">Looks pretty much ok depends on your keyboard proc, I assume this is a key logger type of app, well there may be software on the system that is killing keyloggers using a WH_DEBUG hook.</div>
    <div class="meta">Posted on 2003-05-01 01:56:53 by donkey</div>
   </div>
   <div class="post" id="post-100457">
    <div class="subject"><a href="#post-100457">problem with a hook funktion</a></div>
    <div class="body">I also checked whether the postmessage conaints an error, but it works fine.<br />It seems do do net reach my dlg. <br />But no where the dlg handle get changed.<br />what could that be ?<br /><br />P.S. Ich will chack for WH_DEBUG</div>
    <div class="meta">Posted on 2003-05-01 02:06:30 by Forginforcer</div>
   </div>
  </div>
 </body>
</html>
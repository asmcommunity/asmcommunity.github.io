<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>behing a window..(GDI stuff) - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5902" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5902">behing a window..(GDI stuff)</a></p>
   <div class="post" id="post-42254">
    <div class="subject"><a href="#post-42254">behing a window..(GDI stuff)</a></div>
    <div class="body">i've a window, on WM_PAINT i wanna paint what is behing that window, i know how i paint. But i don't know how i get the handle of the window that is behing (GetDesktopWindow() ?) soo next i get is DC and paint. Since behing my window could be various windows its like to do a screen capture with my window hidden and then show it up and paint. Any ideas?<br /><br />tnkx in advance...<br />Jean</div>
    <div class="meta">Posted on 2002-06-09 22:56:55 by coder</div>
   </div>
   <div class="post" id="post-42267">
    <div class="subject"><a href="#post-42267">behing a window..(GDI stuff)</a></div>
    <div class="body">Do you mean that you want your window's background to be the output of other windows?<br /><br />Set the window class's hBkBrush to NULL.  This means that by default, BeginPaint will not clear your window's client area using any brush.<br /><br /><br />Or do you wish to write into another window's client area??<br /></div>
    <div class="meta">Posted on 2002-06-10 00:08:48 by AmkG</div>
   </div>
   <div class="post" id="post-42268">
    <div class="subject"><a href="#post-42268">behing a window..(GDI stuff)</a></div>
    <div class="body">you could try determining the window below yours with GetNextWindow.</div>
    <div class="meta">Posted on 2002-06-10 00:15:12 by smurf</div>
   </div>
   <div class="post" id="post-42270">
    <div class="subject"><a href="#post-42270">behing a window..(GDI stuff)</a></div>
    <div class="body">I don't have my PSDK right now. I think there is a code somewhere in PSDK - I'm not sure but check out the BitBlt function, there's probably a screen capture code there that hides your proggy and captures the whole entire screen.<br /><br />To hide your window: <strong>invoke ShowWindow, hWnd, SW_HIDE</strong></div>
    <div class="meta">Posted on 2002-06-10 00:33:59 by stryker</div>
   </div>
   <div class="post" id="post-42301">
    <div class="subject"><a href="#post-42301">behing a window..(GDI stuff)</a></div>
    <div class="body">1. ShowWindow(hWnd, SW_HIDE)<br />2. GetForegroundWindow to retrieve the handle of the window beneath<br /><br /><br />smurf, I think GetNextWindow doesn't necessarily return the handle of the window behind yours. Instead it returns the window which was created after yours.</div>
    <div class="meta">Posted on 2002-06-10 05:27:49 by C.Z.</div>
   </div>
   <div class="post" id="post-42406">
    <div class="subject"><a href="#post-42406">behing a window..(GDI stuff)</a></div>
    <div class="body"><div class="quote"><br />Do you mean that you want your window's background to be the output of other windows?<br /><br />Set the window class's hBkBrush to NULL.  This means that by default, BeginPaint will not clear your window's client area using any brush.<br /></div><br />its +/- this. But if the other windows change they output, i've to update mine window too. Lets say that my window is WS_EX_TOPMOST and on every paint it needs to get what is behind it. That works but only if the other windows keep unchanged.<br /><br /><br />Its like to make a screen capture but i don't wanna hide my window and i don't wanna include it screen capture ;)</div>
    <div class="meta">Posted on 2002-06-10 12:55:56 by coder</div>
   </div>
   <div class="post" id="post-42420">
    <div class="subject"><a href="#post-42420">behing a window..(GDI stuff)</a></div>
    <div class="body">Just butting in here,<br /><br /> What about WS_EX_TRANSPARENT?? Just draw what you need to draw on WM_PAINT, and everything that isn't drawn will be the background. And if a window is updated underneath, your program doesn't have to even think worry about it. A lot of MP3 players do this (Sonique, Windows media Player). Of course, if you want to have a &quot;regular&quot; looking window you'll probably have to handle drawing the frame and caption yourself.<br /><br />--Chorus</div>
    <div class="meta">Posted on 2002-06-10 13:30:19 by chorus</div>
   </div>
  </div>
 </body>
</html>
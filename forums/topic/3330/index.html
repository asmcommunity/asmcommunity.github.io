<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>lsd help!!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3330" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3330">lsd help!!!</a></p>
   <div class="post" id="post-22043">
    <div class="subject"><a href="#post-22043">lsd help!!!</a></div>
    <div class="body">I know this is so simple but...Is there any algo out there that calculates the least significant digit faster than using div or sub?<br />I'm thinking of the shifts instructions, but i'm not sure...I can't think of any other methods.</div>
    <div class="meta">Posted on 2002-01-30 17:27:09 by stryker</div>
   </div>
   <div class="post" id="post-22052">
    <div class="subject"><a href="#post-22052">lsd help!!!</a></div>
    <div class="body">; your number is in EAX, you want the least significant digit<br />mov edx,19999999h ; 1/10 * 2^32<br />mul edx<br />mov edx,10<br />mul edx<br />; darn rounding errors...<br />add eax,0FFFFh<br />adc edx,0<br />; EDX is the least significant digit<br /><br />...you just said faster without divide. ;)<br />(I don't know if this is faster)<br /><br />CONST SEGMENT<br />One_Tenth dd 1999999Ah ; 1/10 * 2^32<br />Ten dd 10<br />CONST ENDS<br /><br />; your number is in EAX, you want the least significant digit<br />mul One_Tenth<br />; put some code here for free<br />mul Ten<br />; EDX is the least significant digit</div>
    <div class="meta">Posted on 2002-01-30 18:44:50 by bitRAKE</div>
   </div>
   <div class="post" id="post-22165">
    <div class="subject"><a href="#post-22165">lsd help!!!</a></div>
    <div class="body">bitrake, I haven't tested your algo yet, thanks for the help...I'll try it soon and post my next project in the algo and source code section.</div>
    <div class="meta">Posted on 2002-01-31 12:14:58 by stryker</div>
   </div>
   <div class="post" id="post-22175">
    <div class="subject"><a href="#post-22175">lsd help!!!</a></div>
    <div class="body">mov eax 112415<br />and eax 0F<br />aam         ; &gt;&gt;&gt; al = 05<br /><br /><br />Betov.</div>
    <div class="meta">Posted on 2002-01-31 13:48:27 by Betov</div>
   </div>
   <div class="post" id="post-22178">
    <div class="subject"><a href="#post-22178">lsd help!!!</a></div>
    <div class="body">Ah no, doesn't work if greater than the Base.<br />Sorry, too fast. upper example worked due<br />to hazard... :[<br /><br />There is one other way with 'FBSTP':<br /><br />mov F?FPUvalue 15649<br />fild F?FPUvalue<br />FBSTP T?BCDtext     ; 10 Bytes record.<br />mov al B?BCDtext<br />and al 0F                  ; al = 9<br /><br />Should not be faster than /10 upper way,<br />but may help for other digits...<br /><br />Betov.</div>
    <div class="meta">Posted on 2002-01-31 14:55:12 by Betov</div>
   </div>
  </div>
 </body>
</html>
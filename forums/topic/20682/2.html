<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Should multiple inheritance be implemented? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20682" />
  <link rel="prev" href="../?id=20682&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=38">Object Oriented Programming</a> &raquo; <a href="../?id=20682">Should multiple inheritance be implemented?</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=20682&amp;page=1" style="">&laquo;</a><a href="../?id=20682&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="20682" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-157808">
    <div class="subject"><a href="#post-157808">Should multiple inheritance be implemented?</a></div>
    <div class="body">First, get your terms straight. C++ is a language, not an implementation. It doesn't impose a specific object model, and you can't &quot;have it&quot;.<br /><br />A simple C++ implementation could just store a pointer to the virtual base class' sub-object(s) in every derived class' object. Another approach is to store a pointer to a virtual base class table. Yet another one is to have the offset of each virtual base class in the virtual function table (usually having negative indices).<br /><br />The book I mentioned contains explanations about the approaches I named.<br /><br />If you'd like to inspect a few C++ compilers, there is a list in <a target="_blank" href="http://www.research.att.com/~bs/compilers.html">http://www.research.att.com/~bs/compilers.html</a></div>
    <div class="meta">Posted on 2005-03-07 18:34:48 by death</div>
   </div>
   <div class="post" id="post-157814">
    <div class="subject"><a href="#post-157814">Should multiple inheritance be implemented?</a></div>
    <div class="body">death, you're right - but I am just talking about VC++ (-compatible compilers) 's implementation. For me this is the most important x86 compiler, and if I were to start posting different implementations (after studying them ^^&quot; ), it might become a mess. Most C++ SDKs are for VC anyway, and what other reason is there to talk about non-plugin implementations in asm, when studying C++'s internals ? Apart from searching for a way to port cpp classes to asm. <br />I haven't studied x86-gcc's output yet, but I get the feeling it has almost the same class object layout as VC's . <br /><br />Maelstrom, I'm a bit tired and busy right now, I'll see about the virtual bases later. Though, I am 90% sure it's this sequence:<br />B overrides A's calls (in B's vTable)<br />C overrides A's calls (in C's vTable)<br />Remember, order matters. I assume you specify B first, and then C, when creating D. <br />C overrides B's calls (in D's vTable)<br />D overrides B and C's calls  (in D's vTable)<br />The overrides happen only where you specify the same method name, as you know. <br />Yet, I am not sure whether both D's vTables are overwritten with the new function addresses (I suppose so). Actually I guess it must be that way (overwriting both vTable1 and vTable2), since when you do a <br />pcall d-&gt;FuncPresentInA() , there must be no collision - (making the compiler wonder which offset at which vTable to call). <br /><br />Btw, there's a nice &quot;Introductory edition&quot; of VC++6.0 (which I use) - it's cheap ($20 including two books), and just its linker is a bit modified to make your exe display a copyright messagebox. It's great for education - just the thing I need from any C++ x86 compiler  :-D</div>
    <div class="meta">Posted on 2005-03-07 20:56:25 by Ultrano</div>
   </div>
   <div class="post" id="post-157834">
    <div class="subject"><a href="#post-157834">Should multiple inheritance be implemented?</a></div>
    <div class="body">Ultrano, there's also the free vc2003 toolkit, which is not brain-damaged in any way (ie, full optimizer), and has a license that allows you to do pretty much what you want to.</div>
    <div class="meta">Posted on 2005-03-08 08:30:14 by f0dder</div>
   </div>
   <div class="post" id="post-157842">
    <div class="subject"><a href="#post-157842">Should multiple inheritance be implemented?</a></div>
    <div class="body"><div class="quote">death, you're right - but I am just talking about VC++ (-compatible compilers) 's implementation.</div><br />I was referring to Maelstrom's use of the term. Although you also don't use correct terms :)<br /><br />For example, &quot;static methods&quot;. A method (an OOP term) is virtual by definition, so I took it you mean &quot;static member function&quot;. However, static member functions don't have a 'this' pointer concept. Therefore I take it you mean non-virtual non-static (statically-bound) member functions.<br /><br />Then I can understand what you mean by saying &quot;while in C++ you usually define a static destructor&quot;. There is no such thing as &quot;static destructors&quot; in C++. Destructors always operate on a given object. Apart from that, I wouldn't say &quot;usually&quot;. Perhaps you mean that you have non-virtual destructors by default.</div>
    <div class="meta">Posted on 2005-03-08 13:38:42 by death</div>
   </div>
   <div class="post" id="post-158309">
    <div class="subject"><a href="#post-158309">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">Hey guys<br /><br />Yay, I finally get to read what was posted.<br /><br /><strong>death</strong><br />Sorry if I&#39;m using the incorrect terms, I can see how it would create confusion to those who know what they&#39;re talking about.<br />I now realize that the language specification and implementation are two seperate entities.<br /><br />Are my OOP definitions correct?<br /><br />member data = exists in the class struct<br />member functions = statically bound function that recieves a &#39;this&#39; ptr<br />static member data = statically bound data that exists in the data segment, not in the class struct<br />static member function = statically bound function that *doesn&#39;t* recieve a &#39;this&#39; ptr<br />virtual member function = indirect function call using the virtual function table of the class<br /><br /><strong>f0dder</strong><br />I downloaded the VC 2003 Toolkit and used it to output to asm. I must say I&#39;m amazed at the amount of code generated to handle multiple inheritance.<br />I can see why you wouldn&#39;t want to use MI too much, the VC 2003 implementation must be a contender for the poster girl for bloat.<br />Surely MI can be handled more efficiently?<br /></div>
    <div class="meta">Posted on 2005-03-23 17:51:23 by Maelstrom</div>
   </div>
   <div class="post" id="post-158336">
    <div class="subject"><a href="#post-158336">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">Hi<br />I was off for a while, so I get into this thread just now?<br />I have to say, that the terminology I used for ObjAsm32 is not the same as the used for the C++ OOP implementation since the approach is not the same.<br /><br />Documentation can be found in the OA32 package, but basically, methods can be divided into 3 categories: static, dynamic and interfaces. The basic difference between these is where the method pointer is stored and handled. <br /><br />About multiple inheritance, I think like Ultrano. The efforts you need to implement it are far beyond the usefulness. In my eyes, it is a property that falls in the category ?nice to have?. I don?t know any case where MI can?t be solved using another approach with single inheritance.<br /><br />Regards,<br /><br />Biterider<br /></div>
    <div class="meta">Posted on 2005-03-24 01:46:07 by Biterider</div>
   </div>
   <div class="post" id="post-158374">
    <div class="subject"><a href="#post-158374">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body"><div class="quote">Are my OOP definitions correct?</div><br />The terms you mention are not OOP terms, but C++ terms. Here are the correct definitions for the terms you specified (AFAIK):<br /><br />Data members - Objects declared inside the class definition. These may be static or non-static.<br />Member functions - Functions declared inside the class definition (that don&#39;t have the &#39;friend&#39; specifier). These may be static or non-static. Non-static member functions may be virtual member functions. Your definition is correct only for non-static, non-virtual member functions.<br />Static data members - Data that is shared between all objects (per-class).<br />Static member function - A member function that can be invoked without an object, and therefore cannot directly use non-static member data.<br />Virtual member function (a.k.a. Methods in OOP terminology) - A dynamically-bound non-static member function (indirect function call).<br /><br />Functions that are not virtual member functions are statically-bound.<br /><br />I suppose if you want to exact definitions, you should look in the C++ standard.</div>
    <div class="meta">Posted on 2005-03-24 12:21:05 by death</div>
   </div>
   <div class="post" id="post-158380">
    <div class="subject"><a href="#post-158380">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">Hey guys<br /><br /><strong>Biterider</strong><br />Thanks for the reply.<br />I&#39;m beginning to think you and Ultrano are right. After seeing the code generated by VC 2003 to handle MI I don&#39;t think this feature warrents the extra complexity involved, escpecially if it&#39;s not going to be used a great deal. I&#39;ll keep playing around with it and see what I can achieve.<br /><br /><strong>death</strong><br />Thanks for the clarification.<br /></div>
    <div class="meta">Posted on 2005-03-24 15:41:33 by Maelstrom</div>
   </div>
   <div class="post" id="post-158382">
    <div class="subject"><a href="#post-158382">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body"><div class="quote"><br />The terms you mention are not OOP terms, but C++ terms.<br />...<br />I suppose if you want to exact definitions, you should look in the C++ standard.<br /></div><br /> :shock: Am I just tired, or is the last sentence negating the first. <br />Anyway, nevermind that.<br /><br />I looked at SmallTalk, the &quot;almighty real OOP&quot;. I thought there&#39;s nothing worse than Java. I am an asm coder, so &quot;bad&quot; also means to me &quot;slow&quot; or &quot;too far away from cpu&quot;, when referring to code. <br />I now divide OOP in three categories: <br />- &quot;real&quot; OOP (and actually useless to us asm coders) of SmallTalk. <br />- &quot;half-real&quot; OOP of C++ . (Because of the class::operator)<br />- &quot;asm&quot; OOP. The syntaxes NaN, Biterider and I thought so much on, in order to perfectly balance speed, size and power. While being pushed back by the limits and lack of complete documentation of masm&#39;s macros. During our work on these frameworks, we saw which features are useless to implement, and made sure the features where (usability*1000&gt;=effort) are present and easy to use. <br /><br />So, death, please respect my wish to stop b*tch*ng about &quot;correct terms&quot;. Not all of us have read the books you have read, or in your language. I myself learnt oop through: 1)A Bulgarian book about MFC 2)x86 disassembly 3)trying to find the best way to make reusable objects, with fewest possible cache-misses on accessing vTables. <br />Half of your OOP posts are about incorrect terms we use, if you haven&#39;t noticed. </div>
    <div class="meta">Posted on 2005-03-24 17:21:13 by Ultrano</div>
   </div>
   <div class="post" id="post-158384">
    <div class="subject"><a href="#post-158384">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body"><div class="quote"><br /><div class="quote"><br />The terms you mention are not OOP terms, but C++ terms.<br />...<br />I suppose if you want to exact definitions, you should look in the C++ standard.<br /></div><br /> :shock: Am I just tired, or is the last sentence negating the first. <br /></div><br />I was referring to the definitions I gave, which came from my memory.<br /><br /><div class="quote"><br />So, death, please respect my wish to stop b*tch*ng about &quot;correct terms&quot;.<br /></div><br />No problem.</div>
    <div class="meta">Posted on 2005-03-24 20:10:16 by death</div>
   </div>
   <div class="post" id="post-163244">
    <div class="subject"><a href="#post-163244">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">I would recommend implementing multiple inheritance in a manner that is similar to the way the Ruby scripting language does it.&nbsp; The method taken by ruby is to simulate multiple inheritance with what it has termed Mixins.&nbsp; The way that it works is to make it so classes can only directly inherit from one base class, but they can have zero or more mixins.&nbsp; This produces linear inheritance rather than a tree-like inheritance that you see in C++.&nbsp; It solves the problems you run into with ambiguity and doesn&#39;t have any side effects (that I&#39;ve observed).&nbsp; You can read more about it here:<br /><br />http://phrogz.net/ProgrammingRuby/tut_classes.html#inheritanceandmessages<br /><br />(I skimmed through the other posts and saw that no one else had commented on this, so hopefully it&#39;s relevant)</div>
    <div class="meta">Posted on 2005-08-14 10:36:40 by nohaven</div>
   </div>
   <div class="post" id="post-163256">
    <div class="subject"><a href="#post-163256">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">Hi nohaven<br />Some time ago we discussed this topic and decided to go in direction of &quot;single inheritance&quot;, but if there is a simple way to implement something like &quot;multiple inheritance&quot;, I?m willing to see it in detail.<br /><br />Are you familiar with Ruby?s Mixins? I?m not, but from the shown examples, it seems to be something like a MASM macro that expands into the class definition. Maybe I?m wrong. Perhaps a better explanation on how it works would be helpful.&nbsp; ;)<br /><br />Regards,<br /><br />Biterider<br /></div>
    <div class="meta">Posted on 2005-08-14 16:00:51 by Biterider</div>
   </div>
   <div class="post" id="post-178463">
    <div class="subject"><a href="#post-178463">Re: Should multiple inheritance be implemented?</a></div>
    <div class="body">Hi guys,<br />Few weeks ago i have strange but interesting problem with multiple inheritance in .Net (Java is almost the same, i think everybody know Java),<br />I have one class person (P to make easier) and one class company (C), both of them can be clients (L), but person can also be employee (E), so:<br /><pre><code><br />C P<br />| |\<br />L L E<br /></code></pre><br /><br />All clients have some comum methods, and my store receive a C to execute actions like buying, a person buy things in a diferent way from companies so the implementation of those methods are diferent, in .Net (and also Java) the easiest way to do it is using an interface client,<br />Now begin the problem, the ID from a person and a company are generated in diferent ways, but i validate it in the same way, in a interface i must implement the validation twice (in P and C) or create a static method to do it (very ugly), <br />so why not implement this static method as a final method in the interface?<br />It&#39;s not hard to do, the code and the binary stay exactly the same, only the logic changes:<br /><pre><code><br />interface client<br />{<br />int id;<br />bool valid() //final method<br />{...}<br />}<br />class person<br />{...}<br />class pc : person, client<br />{<br />int id{...}<br />}<br />class company : client<br />{<br />int id{...}<br />}<br />class employee : person<br />{...}<br /></code></pre></div>
    <div class="meta">Posted on 2006-03-18 10:41:36 by Eduardo Schardong</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=20682&amp;page=1" style="">&laquo;</a><a href="../?id=20682&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="20682" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
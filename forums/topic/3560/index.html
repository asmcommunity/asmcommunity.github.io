<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Scores in FPU math context - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3560" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=3560">Scores in FPU math context</a></p>
   <div class="post" id="post-23664">
    <div class="subject"><a href="#post-23664">Scores in FPU math context</a></div>
    <div class="body">Thomas: <br />1. add water: 2 score (the first, the fastest)<br />2. add salt:    3 score (the first, the fastest,the smallest)<br />Sum: 5 scores<br />Eyin:<br />1. cars : 2 score (the first, the fastest)<br />2.mix max: 3 score (the first, the fastest, the smallest)<br />Sum 5 scores<br />bitRake<br />1.add water: 1 score (the smallest)<br />2.cars: 1 score (the smallest)<br /><br />One task has not been solved yet: Dlg wich will recommend or to add water or to add salt depending<br />on wich percent of salt you wish to have in mixture.<br />You still can score for &quot;the first&quot;</div>
    <div class="meta">Posted on 2002-02-10 11:03:43 by The Svin</div>
   </div>
   <div class="post" id="post-23677">
    <div class="subject"><a href="#post-23677">Scores in FPU math context</a></div>
    <div class="body">Ok, I believe I managed to optimise Thomas's code<br /><pre><code>.data<br />    x           dword   4.0<br />    y           dword   8.0<br />    w           real4   7.0 <br />    ;output&#58;<br />    salttoadd   real4   0.0<br />    <br />    ;used in algo&#58;<br />    r100        real4   100.0<br />   <br />.code<br /> <br />                                    ;st0                st1 <br />        mov     eax, offset y       ;.                  .<br />        fild    dword ptr &#91;eax&#93;     ;y                  .<br />        fisub   dword ptr &#91;eax-4&#93;   ;y-x                .<br />        fld     real4 ptr &#91;r100&#93;    ;100                y-x<br />        fisub   dword ptr &#91;eax&#93;     ;100-y              y-x<br />        fdiv                        ;&#40;y-x&#41;/&#40;100-y&#41;      .<br />        fmul    real4 ptr &#91;eax+4&#93;   ;w*&#40;y-x&#41;/&#40;100-y&#41;    .<br />        fstp    real4 ptr &#91;eax+8&#93;   ;.                  .<br /></code></pre> <br />when changed to this is slightly faster.<br /><pre><code>        fld y<br />        fld st<br />        fsub x<br />        fld fpc&#40;100.0&#41;<br />        fsubrp st&#40;2&#41;,st<br />        fdivr<br />        fmul w<br />        fstp ans</code></pre>  <br /><br />And I decided to go for the one point for being first with the dialog question. :tongue:</div>
    <div class="meta">Posted on 2002-02-10 13:10:46 by EÃ³in</div>
   </div>
   <div class="post" id="post-23681">
    <div class="subject"><a href="#post-23681">Scores in FPU math context</a></div>
    <div class="body">E?in scores additional 4 scores and becomes a leader with<br />9 scores!<br /><br />May be we should give even easyer tasks?<br />Begginers should be envolve at least having chance to score<br />&quot;the first&quot; score.<br /><br />I'm surpised that even given task weren't solve but many programmers :)<br /><br />So I think if we want to rise up avarage level we mignt forget about college level tasks :)<br />I was even more right about avarage math level than I thougt.<br /><br />But we shall overcome, some day :)</div>
    <div class="meta">Posted on 2002-02-10 14:02:04 by The Svin</div>
   </div>
  </div>
 </body>
</html>
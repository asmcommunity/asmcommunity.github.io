<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>#include directive and units.... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18333" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=18333">#include directive and units....</a></p>
   <div class="post" id="post-142051">
    <div class="subject"><a href="#post-142051">#include directive and units....</a></div>
    <div class="body">Hi,All!<br />There is something wrong with includes when unit is compiled. Consider the following example.<br />unit unitbug_u;<br />   #include(&quot;test.hhf&quot;);<br />end unitbug_u;<br />and file test.hhf:<br />val<br />   _aaa_: dword := 100;<br />endval;<br />hla produces an error:<br />   syntax error, unexpected endvalTkn.<br />   Near: &lt;&lt; endval &gt;&gt;<br />If val and endval is replaced by const and endconst then:<br />  syntax error, unexpected ';'.<br />  Near: &lt;&lt; ; &gt;&gt;<br />and if semicolon is removed from #include(&quot;test.hhf&quot;) then everything compiles ok.<br />Problem with semicolon appears also in compilation of &quot;program&quot; files. But problem with val  - only in units.<br />Also i want to ask: is &quot;;&quot; needed after #include or not? In HLA documentation #include apeears with semicolon.<br /><br />Sorry for my bad english. :-)</div>
    <div class="meta">Posted on 2004-05-25 03:34:03 by Elohim Meth</div>
   </div>
   <div class="post" id="post-142083">
    <div class="subject"><a href="#post-142083">Re: #include directive and units....</a></div>
    <div class="body"><div class="quote"><br />Hi,All!<br />There is something wrong with includes when unit is compiled. Consider the following example.<br />unit unitbug_u;<br />   #include(&quot;test.hhf&quot;);<br />end unitbug_u;<br />and file test.hhf:<br />val<br />   _aaa_: dword := 100;<br />endval;<br />hla produces an error:<br />   syntax error, unexpected endvalTkn.<br />   Near: &lt;&lt; endval &gt;&gt;<br />If val and endval is replaced by const and endconst then:<br />  syntax error, unexpected ';'.<br />  Near: &lt;&lt; ; &gt;&gt;<br />and if semicolon is removed from #include(&quot;test.hhf&quot;) then everything compiles ok.<br />Problem with semicolon appears also in compilation of &quot;program&quot; files. But problem with val  - only in units.<br />Also i want to ask: is &quot;;&quot; needed after #include or not? In HLA documentation #include apeears with semicolon.<br /><br />Sorry for my bad english. :-) </div><br /><br />Note that a semicolon is not necessary after the #include directive. Usually, you can get away with it because HLA is fairly liberal about allowing semicolons in the source file, but this is not universally true. So get in the habit of *not* placing semicolons after the #include directive.<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2004-05-25 09:31:55 by rhyde</div>
   </div>
   <div class="post" id="post-142087">
    <div class="subject"><a href="#post-142087">#include directive and units....</a></div>
    <div class="body">Thanks for reply but...<br />test.hhf:<br />val<br />   _aaa_: dword := 100;<br />endval;<br /><br />1) What about endval problem in units?<br />unit unitbug_u;<br />	#include(&quot;test.hhf&quot;)<br />end unitbug_u;<br />still gets an error message: &quot;unexpected endvalTkn.&quot;<br /><br />2)with such test program<br />program testprg;<br />   #include(&quot;test.hhf&quot;)<br />   #include(&quot;w.hhf&quot;)<br />	<br />begin testprg;  <br />end testprg;<br /><br />threre is also an error:<br />       Error in file &quot;d:\hla\include\w.hhf&quot; at line 1 :<br />       syntax error, unexpected ';'.</div>
    <div class="meta">Posted on 2004-05-25 09:47:05 by Elohim Meth</div>
   </div>
   <div class="post" id="post-142147">
    <div class="subject"><a href="#post-142147">#include directive and units....</a></div>
    <div class="body"><div class="quote"><br />Thanks for reply but...<br /><br />threre is also an error:<br />       Error in file &quot;d:\hla\include\w.hhf&quot; at line 1 :<br />       syntax error, unexpected ';'. </div><br /><br />The problem is in w.hhf. Same problem, btw.<br />First line is:<br /><br /><pre><code><br />#if&#40; !@defined&#40; w_hhf &#41;&#41;;<br /></code></pre><br /><br />It really ought to be<br /><br /><pre><code><br />#if&#40; !@defined&#40; w_hhf &#41;&#41;<br /></code></pre><br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2004-05-25 22:43:44 by rhyde</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>cannot have implicit far jump or call to near label? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25953" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25953">cannot have implicit far jump or call to near label?</a></p>
   <div class="post" id="post-189165">
    <div class="subject"><a href="#post-189165">cannot have implicit far jump or call to near label?</a></div>
    <div class="body">when i try to make a .inc file.there is some problem.cannot have implicit far jump or call to near label...<br />.inc<pre><code>;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />; Include <br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include		windows.inc<br />include		user32.inc<br />includelib	user32.lib<br />include		kernel32.inc<br />includelib	kernel32.lib<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;function<br />_ProcDlgMain	proto	:HWND,:UINT,:WPARAM,:LPARAM<br />_Counter	proto	:dword<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />; Equ <br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />ICO_MAIN	equ	1000<br />DLG_MAIN	equ	1000<br />IDC_COUNTER	equ	1001<br />IDC_PAUSE	equ	1002<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />; data segment<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;		<br />		.data?<br />hInstance	dd	?<br />hWinMain	dd	?<br />hWinCount	dd	?<br />hWinPause	dd	?<br /><br />dwOption	dd	?<br />F_PAUSE		equ	0001h<br />F_STOP		equ	0002h<br />F_COUNTING	equ	0004h<br /><br />		.const<br />szStop		db	&#39;Stop Counting&#39;,0<br />szStart		db	&#39;Counting&#39;,0</code></pre><br />this is my code<br /><pre><code>;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />		.386<br />		.model flat, stdcall<br />		option casemap: none<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;Include<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include		Threadcount.inc<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />; code segment<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />start:<br />		invoke	GetModuleHandle,NULL<br />		mov	hInstance,eax<br />		invoke	DialogBoxParam,eax,DLG_MAIN,NULL,offset _ProcDlgMain,NULL<br />		invoke	ExitProcess,NULL<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />_ProcDlgMain	proc	uses ebx edi esi hWnd:HWND,uMsg:UINT,wParam:WPARAM,lParam:LPARAM	; uMsg Specifies the message.<br />		LOCAL	@dwThreadID<br />		<br />		mov	eax,uMsg<br />;********************************************************************<br />		.if	eax ==	WM_COMMAND<br />			mov	eax,wParam<br />			.if	ax ==	IDOK<br />				.if	dwOption &amp; F_COUNTING<br />					or	dwOption,F_STOP<br />				.else<br />					invoke	CreateThread,NULL,0,offset _Counter,NULL,\<br />						NULL,addr @dwThreadID<br />					invoke	CloseHandle,eax<br />				.endif<br />			.elseif	ax == 	IDC_PAUSE<br />				xor	dwOption,F_PAUSE<br />			.endif<br />;********************************************************************<br />		.elseif	eax ==	WM_CLOSE<br />			invoke	EndDialog,hWnd,NULL<br />		.elseif	eax ==	WM_INITDIALOG<br />			push	hWnd<br />			pop	hWinMain<br />			invoke	GetDlgItem,hWnd,IDOK<br />			mov	hWinCount,eax<br />			invoke	GetDlgItem,hWnd,IDC_PAUSE<br />			mov	hWinPause,eax<br />;********************************************************************<br />		.else<br />			mov	eax,FALSE<br />			ret<br />		.endif<br />		mov	eax,TRUE<br />		ret<br /><br />_ProcDlgMain	endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />_Counter	proc	uses ebx edi esi _lParam:dword<br />		<br />		or	dwOption,F_COUNTING&nbsp; &nbsp; ;1??<br />		and	dwOption,not (F_STOP or F_PAUSE) ;100<br />		invoke	SetWindowText,hWinCount,addr szStop<br />		invoke	EnableWindow,hWinPause,TRUE<br />		<br />		xor	ebx,ebx<br />		.while	! (dwOption &amp; F_STOP)<br />			.if	!(dwOption&nbsp; &amp; F_PAUSE)<br />				inc	ebx<br />				invoke	SetDlgItemInt,hWinMain,IDC_COUNTER,ebx,FALSE<br />			.endif<br />		.endw<br />		<br />		invoke	SetWindowText,hWinCount,addr szStart<br />		invoke	EnableWindow,hWinPause,FALSE<br />		and	dwOption,not (F_COUNTING or F_STOP or F_PAUSE)<br />		ret<br /><br />_Counter 	endp<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />		end	start</code></pre><br />thanks friends. :D</div>
    <div class="meta">Posted on 2007-05-11 04:12:00 by ekin</div>
   </div>
   <div class="post" id="post-189171">
    <div class="subject"><a href="#post-189171">Re: cannot have implicit far jump or call to near label?</a></div>
    <div class="body">change to this:<br /><pre><code>.code<br />start:</code></pre><br /><br />code cannot be in &quot;.const&quot; segment as set by &quot;Threadcount.inc&quot;<br /></div>
    <div class="meta">Posted on 2007-05-11 07:07:47 by drizz</div>
   </div>
   <div class="post" id="post-189172">
    <div class="subject"><a href="#post-189172">Re: cannot have implicit far jump or call to near label?</a></div>
    <div class="body">Thanks drizz!Forgot the .code!No one is interested in asm around me.lonely</div>
    <div class="meta">Posted on 2007-05-11 07:30:17 by ekin</div>
   </div>
  </div>
 </body>
</html>
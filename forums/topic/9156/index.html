<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>MASM Command-line Definitions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9156" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9156">MASM Command-line Definitions</a></p>
   <div class="post" id="post-67343">
    <div class="subject"><a href="#post-67343">MASM Command-line Definitions</a></div>
    <div class="body">I am attempting to use <strong>ML.exe /Dfoo=value</strong> option, but I am not sure as to how <strong>foo</strong> symbol is to be read from inside .asm source? <strong>echo &lt;foo&gt;</strong> or anything like that did not produce pleasible results.</div>
    <div class="meta">Posted on 2002-11-25 07:19:21 by comrade</div>
   </div>
   <div class="post" id="post-67359">
    <div class="subject"><a href="#post-67359">MASM Command-line Definitions</a></div>
    <div class="body"><pre><code>%echo FOO</code></pre><br /><br />Mirno</div>
    <div class="meta">Posted on 2002-11-25 08:06:50 by Mirno</div>
   </div>
   <div class="post" id="post-67363">
    <div class="subject"><a href="#post-67363">MASM Command-line Definitions</a></div>
    <div class="body">Save this snippet as d.bat<br /><br /><pre><code>;@echo off<br />;goto make<br /><br />.386<br />.model flat, stdcall<br />option casemap&#58;none<br /><br />.code<br />start&#58;<br />IFDEF foo<br />	% echo foo<br />	IF foo EQ 1<br />		echo Do something<br />	ELSEIF foo EQ 2<br />		echo Do something other<br />	ENDIF<br />ENDIF<br />end start<br /><br />&#58;make<br />\masm32\bin\ml /nologo /c /coff /Dfoo=1 d.bat<br />\masm32\bin\link /nologo /subsystem&#58;windows d.obj<br /><br />del d.obj<br /><br />pause</code></pre></div>
    <div class="meta">Posted on 2002-11-25 08:15:03 by Four-F</div>
   </div>
   <div class="post" id="post-67469">
    <div class="subject"><a href="#post-67469">MASM Command-line Definitions</a></div>
    <div class="body">Eschyo raz spasibo, Four-F.<br />Thank you as well, Mirno.</div>
    <div class="meta">Posted on 2002-11-25 18:56:12 by comrade</div>
   </div>
  </div>
 </body>
</html>
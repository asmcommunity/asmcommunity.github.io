<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Novice-bugging - a simple socket usement - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12559" />
  <link rel="prev" href="../?id=12559&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=12559">Novice-bugging - a simple socket usement</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=12559&amp;page=1" style="">&laquo;</a><a href="../?id=12559&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12559" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-97265">
    <div class="subject"><a href="#post-97265">Novice-bugging - a simple socket usement</a></div>
    <div class="body">We _are_ trying to help you.<br /><br />First, learn english (this includes correct spelling - makes it a lot easier for people to understand what you're writing).<br /><br />Then, you should probably spend some time learning to choose proper search keywords - as Thomas said, there's a LOT of information out there - and even sample source code.<br /><br />Happy easter.</div>
    <div class="meta">Posted on 2003-04-16 10:01:54 by f0dder</div>
   </div>
   <div class="post" id="post-97267">
    <div class="subject"><a href="#post-97267">Novice-bugging - a simple socket usement</a></div>
    <div class="body">I did, but found nowere code for comunivate with proxy.<br />The theror I know, as you can the in my code example.<br />But in praxis I need help. :cool: <br /><br />Greet FF</div>
    <div class="meta">Posted on 2003-04-16 10:07:10 by Forginforcer</div>
   </div>
   <div class="post" id="post-97316">
    <div class="subject"><a href="#post-97316">Novice-bugging - a simple socket usement</a></div>
    <div class="body">I think you should follow Thomas advice,<br />in case you missed it:<br /><br /><div class="quote">I recommend you to start programming something easier first and try again later when you have enough experience to write such a program.</div><br /><br />:alright:</div>
    <div class="meta">Posted on 2003-04-16 14:06:05 by Ray</div>
   </div>
   <div class="post" id="post-97319">
    <div class="subject"><a href="#post-97319">Novice-bugging - a simple socket usement</a></div>
    <div class="body">I know something about socket programmming.<br />Thats a good aim for the next.<br />But when I havn't any tuts about that or advice, I will learn that never.<br /><br />Please help me a little more. From where you have learn that ?<br /><br />Regard FF.:stupid:<br /><br />P.S. Say me at least, whether its possible to send te mail with the HTTP-prot of the proxy sever.<br />:confused:</div>
    <div class="meta">Posted on 2003-04-16 14:17:28 by Forginforcer</div>
   </div>
   <div class="post" id="post-97320">
    <div class="subject"><a href="#post-97320">Novice-bugging - a simple socket usement</a></div>
    <div class="body"><div class="quote">P.S. Say me at least, whether its possible to send te mail with the HTTP-prot of the proxy sever.<br />:confused:  </div><br />Etherlord and EvilHomer2k have already explained this to you.<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-04-16 14:33:38 by Thomas</div>
   </div>
   <div class="post" id="post-97326">
    <div class="subject"><a href="#post-97326">Novice-bugging - a simple socket usement</a></div>
    <div class="body">I will read through my post agein :confused: <br /><br />Bye !</div>
    <div class="meta">Posted on 2003-04-16 14:49:47 by Forginforcer</div>
   </div>
   <div class="post" id="post-97463">
    <div class="subject"><a href="#post-97463">Novice-bugging - a simple socket usement</a></div>
    <div class="body">here a little change, but it doesn't work:<br /><br />.data<br />proxyserver DB &quot;192.168.0.1&quot;<br />port DW 808<br />ultrastring DB 'Get <a target="_blank" href="http://****.de/index.html">http://****.de/index.html</a> HTTP/1.0',0<br /><br />.data?<br />sock dd ?<br />.code<br />INVOKE WSAStartup, 200h, ADDR wsadata<br />INVOKE socket, AF_INET, SOCK_STREAM, 0<br />.IF EAX != INVALID_SOCKET<br />INVOKE MessageBox, NULL, ADDR btempl, ADDR btempl, NULL<br />.ENDIF<br />MOV sock, EAX<br />MOV sin.sin_family, AF_INET<br />INVOKE htons, port<br />MOV sin.sin_port, ax<br />INVOKE inet_addr, ADDR proxyserver<br />LEA EAX, sin<br />INVOKE connect, sock, ADDR sin, sizeof sin<br />.IF EAX != SOCKET_ERROR<br />INVOKE MessageBox, NULL, NULL, NULL, NULL<br />INVOKE send, socket, ultrastring, 29, 0<br />.ENDIF<br /><br />As you alredy know (for about 1 week) I want to kommunicate with my Proxy. But thise code doesnt work. Why ?<br />Did I make some hardcore-mistakes ?<br /><br />Deep regards FF</div>
    <div class="meta">Posted on 2003-04-17 07:18:47 by Forginforcer</div>
   </div>
   <div class="post" id="post-97466">
    <div class="subject"><a href="#post-97466">Novice-bugging - a simple socket usement</a></div>
    <div class="body">Besides what everybody else has told you ... to search and read yourself ... you need to tell us what is happening.  We don't have access to your proxy, so we can't tell you anything when you say<div class="quote">but it doesn't work</div><br /><br />You need to at least find why/where it isn't working then ask <strong>specific</strong> questions.<br /><br />Also if you are going to communicate (looked how I spelled that compared to yours) with your proxy using HTTP, you need to read the HTTP RFC.</div>
    <div class="meta">Posted on 2003-04-17 07:28:10 by gorshing</div>
   </div>
   <div class="post" id="post-97468">
    <div class="subject"><a href="#post-97468">Novice-bugging - a simple socket usement</a></div>
    <div class="body">Hi, your are totalty right ! - I forgot to say, whats wrong !<br /><br />I cant connect.<br /><br />If you want to try my Proxy the Adress is:<br /><br />MittelalterStore.sytes.net<br /><br />THX !<br /><br />P.S. I have read the RFSs.<br />     I hope that I articulated me right !</div>
    <div class="meta">Posted on 2003-04-17 07:34:18 by Forginforcer</div>
   </div>
   <div class="post" id="post-97469">
    <div class="subject"><a href="#post-97469">Novice-bugging - a simple socket usement</a></div>
    <div class="body">It is RFC not RFS<br /><br />Also if you did read them, you have forgot how to end your send command.  I am not going to tell you because I do not believe that you have read them.  Hint there are two characters at the end of your string that are missing.  That (of course) has nothing to do with you not being able to connect, but it will cause you problems later on.<br /><br />I do not have a compiler/assembler on my computer where I am at.  So I'll check that out later.</div>
    <div class="meta">Posted on 2003-04-17 07:39:20 by gorshing</div>
   </div>
   <div class="post" id="post-97471">
    <div class="subject"><a href="#post-97471">Novice-bugging - a simple socket usement</a></div>
    <div class="body">I meand RFCs sorry !<br /><br />In my Programm I have 0 append at the proy's IP-string.<br /><br />But it doesnt work.<br /><br />the error occurs already at the socket cretion.<br /><br />What now ? :confused:</div>
    <div class="meta">Posted on 2003-04-17 07:43:59 by Forginforcer</div>
   </div>
   <div class="post" id="post-97516">
    <div class="subject"><a href="#post-97516">Novice-bugging - a simple socket usement</a></div>
    <div class="body">Some tips:<br />- The windows API usually uses null terminated strings but the HTTP protocol doesn't have 'strings' or something. It just has a sequence of bytes (plain text data for the request), without null terminators. So you don't need the 0 byte at the end as long as you give the right size as send's parameter (which is 46 for &quot;GET <a target="_blank" href="http://MittelalterStore.sytes.net">http://MittelalterStore.sytes.net</a> HTTP/1.0&quot;, not 29 like you wrote).<br />- Hardcoding a string's size is bad. Instead, define a constant for the length (preferably automatically calculated), or do add a 0 byte to the end and use lstrlen to determine the length of the string before sending it. Note that in the latter case, the 0 byte is *only* necessary for lstrlen, you are *not* actually sending it (just the characters). The former method saves a byte and a lstrlen call and is quite easy to use, my networking tutorial has an example of it (chapter 6).<br />- There's more to a HTTP request than just the GET line, you still need the headers (some of which are compulsary for most servers like host), and the request terminator (blank line)<br />- <a target="_blank" href="http://www.madwizard.org/view.php?page=tutorials.networking.chapter6&amp;lang=asm">Read chapter 6 of my tutorial!</a>. A nearly complete example of a HTTP request is explained in detail here.<br />- WSAStartup and send can fail too, don't forget error checking.<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-04-17 12:29:21 by Thomas</div>
   </div>
   <div class="post" id="post-97529">
    <div class="subject"><a href="#post-97529">Novice-bugging - a simple socket usement</a></div>
    <div class="body">Thomas, what about the cr and lf?</div>
    <div class="meta">Posted on 2003-04-17 14:35:51 by gorshing</div>
   </div>
   <div class="post" id="post-97532">
    <div class="subject"><a href="#post-97532">Novice-bugging - a simple socket usement</a></div>
    <div class="body">What's a coincidence !<br />I just wantet do write, that it isnt't required to write these 0s.<br />I'm just reading you tutorial ! - Pretty cool ! *hihihi*<br /><br />P.S. I have for every error an error handle !</div>
    <div class="meta">Posted on 2003-04-17 14:54:13 by Forginforcer</div>
   </div>
   <div class="post" id="post-97533">
    <div class="subject"><a href="#post-97533">Novice-bugging - a simple socket usement</a></div>
    <div class="body"><div class="quote"><br />Thomas, what about the cr and lf? </div><br />Well forginforcer's request wasn't complete anyway so I left that out but my tutorial shows how to send a full request.<br /><br /><div class="quote"><em>Originally posted by Forginforcer </em><br />What's a coincidence !<br />I just wantet do write, that it isnt't required to write these 0s.</div><br />Good you already know that :)<br /><br /><div class="quote">P.S. I have for every error an error handle !</div><br />Not in the code you posted so that's why I mentioned it.<br /><br />Thomas</div>
    <div class="meta">Posted on 2003-04-17 14:58:14 by Thomas</div>
   </div>
   <div class="post" id="post-97534">
    <div class="subject"><a href="#post-97534">Novice-bugging - a simple socket usement</a></div>
    <div class="body">For a better overwiev purpose.<br />But in my full source I'm intercepting every error !<br /><br />Thanks four your tip !</div>
    <div class="meta">Posted on 2003-04-17 15:09:46 by Forginforcer</div>
   </div>
   <div class="post" id="post-97765">
    <div class="subject"><a href="#post-97765">Novice-bugging - a simple socket usement</a></div>
    <div class="body"><div class="quote"><br />We _are_ trying to help you.<br /><br />First, learn english (this includes correct spelling - makes it a lot easier for people to understand what you're writing).<strong></div><br /><br />well, not only that, but it will help understanding the documents and typing in search terms correctly (i can't remember who it was who did some furious searching, but spelled something incorrectly...  always a problem for me, too - but that's why i like Google's 'did you mean' thing :grin: )</div>
    <div class="meta">Posted on 2003-04-18 13:08:35 by jademtech</div>
   </div>
   <div class="post" id="post-97892">
    <div class="subject"><a href="#post-97892">Novice-bugging - a simple socket usement</a></div>
    <div class="body">crlf = carriage return line field <br />cr = 13h<br />lf = 10h</div>
    <div class="meta">Posted on 2003-04-18 23:41:44 by roticv</div>
   </div>
   <div class="post" id="post-97978">
    <div class="subject"><a href="#post-97978">Novice-bugging - a simple socket usement</a></div>
    <div class="body">INVOKE WSAStartup, 200h, ADDR wsadata<br /><br />200h means version 0.2</div>
    <div class="meta">Posted on 2003-04-19 09:28:25 by Aaro</div>
   </div>
   <div class="post" id="post-98010">
    <div class="subject"><a href="#post-98010">Novice-bugging - a simple socket usement</a></div>
    <div class="body">Geez, is thread for real?  LOL</div>
    <div class="meta">Posted on 2003-04-19 11:21:08 by iblis</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=12559&amp;page=1" style="">&laquo;</a><a href="../?id=12559&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12559" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
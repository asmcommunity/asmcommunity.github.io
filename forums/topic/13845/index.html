<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>error only when linking without /Zi - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13845" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13845">error only when linking without /Zi</a></p>
   <div class="post" id="post-107085">
    <div class="subject"><a href="#post-107085">error only when linking without /Zi</a></div>
    <div class="body"><pre><code><br />msvcrt.lib&#40;ehprolog.obj&#41; &#58; fatal error LNK1103&#58; debugging information corrupt; recompile module<br /></code></pre> <br />:confused: <br /><br />Does anyone know why this error only occurs when I link without /Zi? I've never seen an error like this before. Does anyone know a way around linking to msvcrt and advapi32 to get d3dx9 working? I really don't want to use the debug version of the d3dx dll if at all possible. Thanks for any insight.</div>
    <div class="meta">Posted on 2003-06-14 09:14:40 by AlexEiffel</div>
   </div>
   <div class="post" id="post-107106">
    <div class="subject"><a href="#post-107106">error only when linking without /Zi</a></div>
    <div class="body">Did some checking.  /Zi puts the debug info in a PDB file.  Delete the PDB and try again.</div>
    <div class="meta">Posted on 2003-06-14 12:52:28 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-107115">
    <div class="subject"><a href="#post-107115">error only when linking without /Zi</a></div>
    <div class="body">Thanks ThoughtCriminal, I appreciate all of the help you've given me. I have things assembling and linking now, but I have one more issue that maybe you could help me with. When I build with d3dx and dxerr and call a couple of functions, my exe jumps up in sixe to about 500k. I wrote a similar program in C++ and the compiler generates only a 200k exe. What is making my exe so large?</div>
    <div class="meta">Posted on 2003-06-14 15:16:12 by AlexEiffel</div>
   </div>
   <div class="post" id="post-107149">
    <div class="subject"><a href="#post-107149">error only when linking without /Zi</a></div>
    <div class="body">If your are getting working exes, I'd worry about size issues last.<br /><br />Here my guess:<br /><br />C++ uses function level linking via COMDATs.  The C++ complier cl.exe enables this in the obj files.  Objs made with ml.exe do not enable function level linking.   Function level linking reduces exe size. Someone wrote a tool to enable it:<br /><br /><a target="_blank" href="http://www.launcherasm.com/technical/comdats.html">http://www.launcherasm.com/technical/comdats.html</a> <br /><br />I have not tried his tool.</div>
    <div class="meta">Posted on 2003-06-15 04:32:49 by ThoughtCriminal</div>
   </div>
  </div>
 </body>
</html>
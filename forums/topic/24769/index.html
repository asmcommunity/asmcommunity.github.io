<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ImageVeiwer - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24769" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24769">ImageVeiwer</a></p>
   <div class="post" id="post-180928">
    <div class="subject"><a href="#post-180928">ImageVeiwer</a></div>
    <div class="body">I wrote an example of a image veiwer, with it you can inlarge, shrink, flip, mirror,<br />rotate left, rotate right, brighen, dim, and gray the image.<br />the imageviewer will open bmp, jpg, gif files.<br />I include full source code, I would like to know if there is any problems<br />with the program so I could fix this example as I feel this example would be<br />good to show how to do many things with images.<br /><br />Thanks.<br /><br />Zcoder....<br /><br />Oh, and you can also download these examples at:<a target="_blank" href="http://www.masmwizard.com/about.php">http://www.masmwizard.com/about.php</a></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1643" target="_blank">ImageView.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-05-24 02:36:19 by Zcoder</div>
   </div>
   <div class="post" id="post-180945">
    <div class="subject"><a href="#post-180945">Re: ImageVeiwer</a></div>
    <div class="body">Seems to work pretty fine here (AMD64x2, XP/SP2) - if there&#39;s any memory leaks, they&#39;re so minor I haven&#39;t detected them. No per-file GDI or USER handle leaks. Other handles jump up a bit and down and seem a bit strange, but that might be a windows artifact rather than a bug with your code.<br /><br />It would be nice with Ctrl+O for open and Ctrl+S for save, nice little example :)</div>
    <div class="meta">Posted on 2006-05-24 06:30:37 by f0dder</div>
   </div>
   <div class="post" id="post-180948">
    <div class="subject"><a href="#post-180948">Re: ImageVeiwer</a></div>
    <div class="body">f0dder,<br />There should be no leakes, I leak tested it. :lol:<br />The memory you see jumping up and down is becouse I wrote it to<br />do all actions in ram, avoiding GDI and only using&nbsp; GDI when painting<br />the image. The ram is discarded after I flip, resize ect. then it is converted <br />back to a handle.<br /><br />I can add the Ctrl+O for open and Ctrl+S for save.<br /><br />Thanks.<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-05-24 06:37:24 by Zcoder</div>
   </div>
   <div class="post" id="post-180952">
    <div class="subject"><a href="#post-180952">Re: ImageVeiwer</a></div>
    <div class="body">No no, not memory jumping up and down (well, probably does, but didn&#39;t look at that) - but regular handles jump up and down when loading an image. At first I thought it was a classic leak because the handle count increased when I opened a file... but then it stopped increasing, and suddenly it decreased again. But all &quot;Handle jumping&quot; involved opening a new file - weird :)<br /><br />What did you use to leaktest?<br /></div>
    <div class="meta">Posted on 2006-05-24 06:49:23 by f0dder</div>
   </div>
   <div class="post" id="post-180953">
    <div class="subject"><a href="#post-180953">Re: ImageVeiwer</a></div>
    <div class="body">f0dder,<br />I used MemProof, :lol:<br />I like that program couse it shows everything, I think. :D<br />about the opening a new file, I think it might be if you look<br />closer, DC&#39;s? I am not sure, it goes to fast to really see. :D<br /><br />Zcoder....<br /><br /></div>
    <div class="meta">Posted on 2006-05-24 06:54:02 by Zcoder</div>
   </div>
   <div class="post" id="post-180973">
    <div class="subject"><a href="#post-180973">Re: ImageVeiwer</a></div>
    <div class="body">I made some inprovements I added the CTRL+O and the CTRL+S<br />just as&nbsp; f0dder, suggested, I also added the ability for the program<br />to take a file name as a param on the command line.<br />This also means that you can associate GIF, JPG, BMP to the<br />program, or you can test that feature by selecting open with.<br /><br />Next I will add drag &amp; drop, so you can drop an image in<br />to display it.<br /><br />Zcoder.... <br /></div>
    <div class="meta">Posted on 2006-05-24 11:52:42 by Zcoder</div>
   </div>
   <div class="post" id="post-180976">
    <div class="subject"><a href="#post-180976">Re: ImageVeiwer</a></div>
    <div class="body">The update now handles drag and drop, infact it handles<br />many image files at once to be droped into the client area.<br /><br />So far the program seems to be leak free and stable.<br /><br />Is there anything I have not thought about that I<br />should add? suggestions are welcome.<br /><br />Zcoder....<br /><br /></div>
    <div class="meta">Posted on 2006-05-24 13:04:29 by Zcoder</div>
   </div>
   <div class="post" id="post-180983">
    <div class="subject"><a href="#post-180983">Re: ImageVeiwer</a></div>
    <div class="body">I was playing with the program and found a small bug so I fixed it.<br /><br />The bug was if you was in one screen mode and changed it while<br />you had a large image in it the titlebar was most of the time off<br />the top of the screen, so I fixed that problem as well.<br /><br />Well, I can&#39;t find or think of anything else that could go wrong<br />or I can&#39;t think of anything alse to add to it, so I will wait for<br />some suggestions otherwise I will post this on my site as finished<br />and it should provide how to do this type of program.<br /><br />Zcoder....<br /><br /></div>
    <div class="meta">Posted on 2006-05-24 14:12:05 by Zcoder</div>
   </div>
   <div class="post" id="post-180985">
    <div class="subject"><a href="#post-180985">Re: ImageVeiwer</a></div>
    <div class="body">There&#39;s plenty of features you could add, but then you&#39;d end up competing with ACDSee and the likes... I think it&#39;s good to &quot;know when to stop&quot;, it&#39;s a good example and fairly useful program in it&#39;s own right as it is now :)</div>
    <div class="meta">Posted on 2006-05-24 14:28:39 by f0dder</div>
   </div>
   <div class="post" id="post-180987">
    <div class="subject"><a href="#post-180987">Re: ImageVeiwer</a></div>
    <div class="body">f0dder,<br />I think your right, If I continue to add more to it, I am not sure<br />if anyone can learn from it, as it would start to get to complex to study.<br /><br />My aim was to make a somewhat complete program, (1) to show it can be<br />done in assembly (2) to present many things that you may or maynot have<br />known.(how to do it) (3) to contribute good examples (4) so I could have some fun.<br /><br />I have desided this is what I want to do, make program examples that are in<br />them self complete, but yet not a complex full blown program.<br />it will be slow at first becouse it&#39;s not easy thinking up something complete<br />but yet small that presents good learning.<br /><br />Any suggestions? LOL&nbsp; :lol:<br /><br />Zcoder.... </div>
    <div class="meta">Posted on 2006-05-24 14:41:53 by Zcoder</div>
   </div>
   <div class="post" id="post-180988">
    <div class="subject"><a href="#post-180988">Re: ImageVeiwer</a></div>
    <div class="body">Sounds like the way to go!<br /><br />Nice to have you back here, and I hope any animosity of the past has been buried :)</div>
    <div class="meta">Posted on 2006-05-24 14:44:06 by f0dder</div>
   </div>
   <div class="post" id="post-180989">
    <div class="subject"><a href="#post-180989">Re: ImageVeiwer</a></div>
    <div class="body">All the animosity I ever had if any has left long ago. :lol:<br /><br />Zcoder....</div>
    <div class="meta">Posted on 2006-05-24 14:49:14 by Zcoder</div>
   </div>
   <div class="post" id="post-180995">
    <div class="subject"><a href="#post-180995">Re: ImageVeiwer</a></div>
    <div class="body">It doesn&#39;t work with that 44 meg jpg that was posted, but then I haven&#39;t found anything yet that does either. :-)<br /><br /><br /></div>
    <div class="meta">Posted on 2006-05-24 18:30:01 by skywalker</div>
   </div>
   <div class="post" id="post-181027">
    <div class="subject"><a href="#post-181027">Re: ImageVeiwer</a></div>
    <div class="body">Hehe, I just tried it on the 44meg jpeg here :P.<br /><br />It does seem to load (takes a while even on my dualcore beast), but the window resizes to some extremely small size. Manually resizing it, it&#39;s just black, and the &quot;private bytes&quot; usage is ~4meg - so the image &quot;probably&quot; fails to load.<br /></div>
    <div class="meta">Posted on 2006-05-25 10:34:44 by f0dder</div>
   </div>
   <div class="post" id="post-181033">
    <div class="subject"><a href="#post-181033">Re: ImageVeiwer</a></div>
    <div class="body">For the life of me I can&#39;t really find why it won&#39;t do the 44 meg jpg file.<br />but I am still looking.&nbsp; :D<br /><br />Zcoder.... </div>
    <div class="meta">Posted on 2006-05-25 12:59:06 by Zcoder</div>
   </div>
   <div class="post" id="post-181035">
    <div class="subject"><a href="#post-181035">Re: ImageVeiwer</a></div>
    <div class="body"><div class="quote"><br />For the life of me I can&#39;t really find why it won&#39;t do the 44 meg jpg file.<br />but I am still looking.&nbsp; :D<br /><br />Zcoder.... <br /></div><br /><br />You&#39;re using the COM/OleLoadPicture stuff, aren&#39;t you? Might be some restrictions there.</div>
    <div class="meta">Posted on 2006-05-25 13:03:23 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>UCR Standard Library - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16268" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=16268">UCR Standard Library</a></p>
   <div class="post" id="post-126305">
    <div class="subject"><a href="#post-126305">UCR Standard Library</a></div>
    <div class="body">Hi there,<br /><br />I'm using MASM 6.11b.<br /><br />I changed the directive at the top of shell.asm to 'include 	stdlib6.a' and tried to compile like so...<br /><br /><br /><pre><code>ml shell.asm</code></pre> <br /><br />and I got the following errors....<br /><br />stdlib6.a(924) : error A2085 : instruction or register not accepted in current CPU mode<br /><br />stdlib6.a(926) : fatal error A1008 : unmatched macro nesting<br /><br /><br />I have yet to write any code yet! How can I get this to compile?<br /><br />Thanks,<br /><br />S</div>
    <div class="meta">Posted on 2003-12-02 13:09:50 by Station</div>
   </div>
   <div class="post" id="post-126339">
    <div class="subject"><a href="#post-126339">Re: UCR Standard Library</a></div>
    <div class="body"><div class="quote"><br />Hi there,<br /><br />I'm using MASM 6.11b.<br /><br />I changed the directive at the top of shell.asm to 'include 	stdlib6.a' and tried to compile like so...<br /><br /><br /><pre><code>ml shell.asm</code></pre> <br /><br />and I got the following errors....<br /><br />stdlib6.a(924) : error A2085 : instruction or register not accepted in current CPU mode<br /><br />stdlib6.a(926) : fatal error A1008 : unmatched macro nesting<br /><br /><br />I have yet to write any code yet! How can I get this to compile?<br /><br />Thanks,<br /><br />S </div><br /><br />You're using v2.0 of the library, which is severely broken.<br />The first error sounds like you're missing a &quot;.486&quot; directive, or such.<br />However, keep in mind that I abandoned the UCR stdlib v2.0 because<br />of bugs in MASM v6.11 (that's what led to the creation of HLA).<br />The last time I compiled v2.0 (successfully) was with MASM v6.11a.<br />Things were broken so bad in MASM v6.11d (the next version I tried)<br />that I just gave up.  The UCR stdlib v2.0 was really pushing MASM to<br />the limits and I couldn't handle the fact that minor version changes<br />(in MASM) were creating so many problems for me.<br /><br />If you must run under DOS, consider using the HLA stdlib v1.x system.<br />Better yet, switch to Windows and use the HLA stdlib for MASM users<br />(or even better still, use HLA!).<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-12-02 20:04:43 by rhyde</div>
   </div>
   <div class="post" id="post-126340">
    <div class="subject"><a href="#post-126340">UCR Standard Library</a></div>
    <div class="body">OK, thanks for that.<br /><br />So do assembly language products normally flout backwards compatibility?<br /><br />Are ASM people supposed to be able to take the pain?</div>
    <div class="meta">Posted on 2003-12-02 20:16:32 by Station</div>
   </div>
   <div class="post" id="post-126405">
    <div class="subject"><a href="#post-126405">UCR Standard Library</a></div>
    <div class="body"><div class="quote"><br />OK, thanks for that.<br /><br />So do assembly language products normally flout backwards compatibility?<br /><br />Are ASM people supposed to be able to take the pain? </div><br /><br />Well, to be honest I was pulling some tricks with MASM that weren't *exactly* documented. That is, I just tried a bunch of things until I got something to work. The fact that it broke when they switched versions probably meant that I was taking advantage of defects in the code with my macros.<br /><br />Personally, I could have dealt with this, but I was developing the UCR stdlib v2.0 for beginning students. And the errors I was getting would have totally confused them. That's why I abandoned MASM at that point. I probably could have come up with a working solution that was okay whenever the macros were used properly, but they weren't robust enough to handle incorrect usage (i.e., the kind of stuff that students produce). Even when the macros were working correctly, if you had a syntax error, the messages MASM produced were, well, interesting...<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-12-03 10:55:30 by rhyde</div>
   </div>
  </div>
 </body>
</html>
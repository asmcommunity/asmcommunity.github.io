<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to prevent kbd. input when running ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11678" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11678">How to prevent kbd. input when running ?</a></p>
   <div class="post" id="post-88628">
    <div class="subject"><a href="#post-88628">How to prevent kbd. input when running ?</a></div>
    <div class="body">When the program is running, I would like to prevent<br />any keyboard input send to the Edit Controls.<br />I thought it would be easy, I have tried different approaches, <br />but without any luck.<br />Maybe they should be subclassed, but how do I manage this :confused:</div>
    <div class="meta">Posted on 2003-03-21 00:19:33 by The SharK</div>
   </div>
   <div class="post" id="post-88648">
    <div class="subject"><a href="#post-88648">How to prevent kbd. input when running ?</a></div>
    <div class="body">1. read only style<br />2. subclass ur edit control to ignore input<br />i.e: .IF WM_CHAR <br />       RET</div>
    <div class="meta">Posted on 2003-03-21 03:55:18 by wizzra</div>
   </div>
   <div class="post" id="post-88784">
    <div class="subject"><a href="#post-88784">How to prevent kbd. input when running ?</a></div>
    <div class="body">There is also EnableWindow with bEnable = FALSE.</div>
    <div class="meta">Posted on 2003-03-21 13:10:11 by tenkey</div>
   </div>
   <div class="post" id="post-88858">
    <div class="subject"><a href="#post-88858">How to prevent kbd. input when running ?</a></div>
    <div class="body">hi wizzra and  tenkey !<br /><br />I have set the ES_READONLY, and subclassed the above<br />one, of the two Edit Controls. But there has to be input<br />ONCE, from the user, THEN it should be switched off.<br />If I subclass this control, and trap the WM_CHAR, the<br />user won't be able to put the numbers to the control:confused: <br />So a combination of letting the user type in some numbers,<br />then disable the keyboard typing, would do it.<br /><br />tenkey,<br />if I use EnableWindow with FALSE set, then<br />if you hold down a button, while the program<br />is counting down, you'll see some flickering numbers<br />from that button in the Edit Control.<br />I don't want any typing slip inside, while the program<br />is running.<br /><br />But how:confused: :confused: :confused:</div>
    <div class="meta">Posted on 2003-03-21 16:58:24 by The SharK</div>
   </div>
   <div class="post" id="post-89787">
    <div class="subject"><a href="#post-89787">How to prevent kbd. input when running ?</a></div>
    <div class="body">you want only numbers in the edit control?<br />i think icezelion had example!</div>
    <div class="meta">Posted on 2003-03-24 06:04:24 by wizzra</div>
   </div>
   <div class="post" id="post-90080">
    <div class="subject"><a href="#post-90080">How to prevent kbd. input when running ?</a></div>
    <div class="body">Hi wizzra<br /><br />yeah, I only want the numbers in the Edit Control.<br />Here is my last and probably final version, so it<br />isn't a big deal, if one would be holding down a<br />button, sending some (exstra) numbers to the<br />Edit Control - which is counting down.<br /><br />but thanks anyway:alright:</div>
    <div class="meta">Posted on 2003-03-25 00:27:07 by The SharK</div>
   </div>
   <div class="post" id="post-90141">
    <div class="subject"><a href="#post-90141">How to prevent kbd. input when running ?</a></div>
    <div class="body">You can set the ES_NUMBER style to the edit control in order allow only numbers to be typed into the edit control... Im not exactly sure what you mean by &quot;input<br />ONCE, from the user, THEN it should be switched off&quot;, but maybe you could send an EM_LIMITTEXT to the edit control and limit the text to one character?</div>
    <div class="meta">Posted on 2003-03-25 09:28:32 by BubbaFate</div>
   </div>
   <div class="post" id="post-90196">
    <div class="subject"><a href="#post-90196">How to prevent kbd. input when running ?</a></div>
    <div class="body">Hi BubbaFate !<br /><br /><br />&quot;Im not exactly sure what you mean by &quot;input<br />ONCE, from the user, THEN it should be switched off&quot;<br /><br />If you look at the program, you have to type a number to be<br />counted down from. So while the program now counts, the<br />user could hold down a key (number) and you'll see this<br />number figuring INSIDE the edit control (visually).<br />So I thought that if I could let the user type in ONE number<br />to count down from, THEN shut the user off from sending anymore <br />numbers to the edit control - that's all.<br />Can you follow me ?</div>
    <div class="meta">Posted on 2003-03-25 13:19:50 by The SharK</div>
   </div>
   <div class="post" id="post-90411">
    <div class="subject"><a href="#post-90411">How to prevent kbd. input when running ?</a></div>
    <div class="body">ok, then just send an em_setreadonly message to the edit box at the same time that you disable the 'count down!' button</div>
    <div class="meta">Posted on 2003-03-25 21:18:47 by BubbaFate</div>
   </div>
   <div class="post" id="post-90419">
    <div class="subject"><a href="#post-90419">How to prevent kbd. input when running ?</a></div>
    <div class="body">Another way is to raise a flag (i.e. such as a byte variable which you set to 0 or 1) when you want user input and change that flag when you don't want user input.<br /><br />You then trap the WM_CHAR message to your Edit control and let it go through if your flag is for user input or block it in the other case.<br /><br />You may find such a method useful in other areas such as when processing the WM_CREATE or WM_INITDIALOG where you may call APIs which could send messages possibly intercepted by your callback procedures. (I learned that the hard way at one time.)<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-03-25 22:09:19 by Raymond</div>
   </div>
   <div class="post" id="post-90703">
    <div class="subject"><a href="#post-90703">How to prevent kbd. input when running ?</a></div>
    <div class="body">Thanks folks :alright: <br /><br />I have know made the modifications using &quot;EM_SETREADONLY&quot;<br />so the project is now &quot;finished&quot; - well as they say &quot;A program is<br />NEVER finished&quot;:grin:</div>
    <div class="meta">Posted on 2003-03-26 17:48:08 by The SharK</div>
   </div>
   <div class="post" id="post-91272">
    <div class="subject"><a href="#post-91272">How to prevent kbd. input when running ?</a></div>
    <div class="body">There was a minor bug in the attached program, so<br />I have corrected it, and it should work okay now;)</div>
    <div class="meta">Posted on 2003-03-28 15:53:24 by The SharK</div>
   </div>
  </div>
 </body>
</html>
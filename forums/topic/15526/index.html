<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to program a CPU idling app - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15526" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15526">How to program a CPU idling app</a></p>
   <div class="post" id="post-120618">
    <div class="subject"><a href="#post-120618">How to program a CPU idling app</a></div>
    <div class="body">Is it enough that just to have a HLT instruction in a loop?</div>
    <div class="meta">Posted on 2003-10-06 09:12:44 by optimus</div>
   </div>
   <div class="post" id="post-120620">
    <div class="subject"><a href="#post-120620">How to program a CPU idling app</a></div>
    <div class="body">Hello optimismus!<br /><br />With the api function SetPritory you are able to let the programm run as idle. - perhaps this helps you.<br /><br />Bison-Boy forever</div>
    <div class="meta">Posted on 2003-10-06 09:56:04 by BISON-BOY</div>
   </div>
   <div class="post" id="post-120625">
    <div class="subject"><a href="#post-120625">How to program a CPU idling app</a></div>
    <div class="body">Well... I've heard that Windows NT does not emulate the HLT instruction for Windows applications, but instead starts normal exception processing. Instead you should call Sleep with the parameter 0 to stop execution of the thread and have the system execute another thread.</div>
    <div class="meta">Posted on 2003-10-06 11:28:02 by Sephiroth3</div>
   </div>
   <div class="post" id="post-120633">
    <div class="subject"><a href="#post-120633">How to program a CPU idling app</a></div>
    <div class="body"><div class="quote"><br />Well... I've heard that Windows NT does not emulate the HLT instruction for Windows applications, but instead starts normal exception processing. Instead you should call Sleep with the parameter 0 to stop execution of the thread and have the system execute another thread. </div><br /><br />That's sounds like a very bad solution!<br /><br />What I guess is to investigate your own threadcode and freze your programm.<br />At first i thought you want to peform runing you programm with the lowest priroty.<br />Use the Thread functions.:alright: <br /><br />B I S O N - B O Y</div>
    <div class="meta">Posted on 2003-10-06 12:52:46 by BISON-BOY</div>
   </div>
   <div class="post" id="post-120634">
    <div class="subject"><a href="#post-120634">How to program a CPU idling app</a></div>
    <div class="body">You may want to look at cpIce112.zip at <a target="_blank" href="http://win32asm.cjb.net/">http://win32asm.cjb.net/</a> <br /><br />I believe this will provide what you want.<br /><br />Regards,  P1 :cool:</div>
    <div class="meta">Posted on 2003-10-06 12:54:21 by Pone</div>
   </div>
   <div class="post" id="post-120656">
    <div class="subject"><a href="#post-120656">How to program a CPU idling app</a></div>
    <div class="body">Can't open this site. :(<br /><br /><div class="quote"><br />You may want to look at cpIce112.zip at <a target="_blank" href="http://win32asm.cjb.net/">http://win32asm.cjb.net/</a> <br /><br />I believe this will provide what you want.<br /><br />Regards,  P1 :cool: </div></div>
    <div class="meta">Posted on 2003-10-06 21:33:55 by optimus</div>
   </div>
   <div class="post" id="post-120657">
    <div class="subject"><a href="#post-120657">How to program a CPU idling app</a></div>
    <div class="body">What's does your &quot;emulate&quot; mean? Windows NT emulate instructions?<br /><br /><div class="quote"><br />Well... I've heard that Windows NT does not emulate the HLT instruction for Windows applications, but instead starts normal exception processing. Instead you should call Sleep with the parameter 0 to stop execution of the thread and have the system execute another thread. </div></div>
    <div class="meta">Posted on 2003-10-06 21:35:15 by optimus</div>
   </div>
   <div class="post" id="post-120669">
    <div class="subject"><a href="#post-120669">How to program a CPU idling app</a></div>
    <div class="body">win2k/xp/nt has a system idle service which does a hlt instruction you can see it a lot if you popup softice in explorer or what not (hal.dll  export HalProcessorIdle its basically a hlt then a ret) .. to have your process only be executed when the cpu is idle just use setthreadpriority with the idle priority parameters.. the hlt instruction is indeed 'forbidden' in win2k/xp/nt (at least in ring 3 is is).. so you wont be able to use it</div>
    <div class="meta">Posted on 2003-10-06 23:54:39 by evlncrn8</div>
   </div>
   <div class="post" id="post-120894">
    <div class="subject"><a href="#post-120894">How to program a CPU idling app</a></div>
    <div class="body">HLT is a privileged instruction - the reason it works on 9x is that 9x catches the exception and emulates it, just like it does for som in/out port i/o.<br /><br />What do you mean about &quot;CPU idling&quot;, btw? Stuff like the CPUIdle and waterfall (or whatever) apps? On NT, they are sort of superfluous, since the idle-loop (as already said by others) does a HLT. There's other tricks that can be done too, though, especially on those quirky AMD systems - some pretty chipset specific stuff, disconnecting one of the &quot;bridges&quot; or something like that.</div>
    <div class="meta">Posted on 2003-10-09 16:26:13 by f0dder</div>
   </div>
   <div class="post" id="post-120905">
    <div class="subject"><a href="#post-120905">How to program a CPU idling app</a></div>
    <div class="body"><div class="quote"><br />Can't open this site. :(<br /><br /> </div><br /><br /><a target="_blank" href="http://win32assembly.online.fr/files/cpIce112.zip">http://win32assembly.online.fr/files/cpIce112.zip</a><br /><br />cjb.net is forbidden in China.</div>
    <div class="meta">Posted on 2003-10-09 20:13:15 by KomsBomb</div>
   </div>
  </div>
 </body>
</html>
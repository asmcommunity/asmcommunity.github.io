<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Why is nFileSizeLow always null for me? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12189" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12189">Why is nFileSizeLow always null for me?</a></p>
   <div class="post" id="post-93639">
    <div class="subject"><a href="#post-93639">Why is nFileSizeLow always null for me?</a></div>
    <div class="body">I use FindFirstFile and FindNextFile to get a dirs contents, and for the files I want the file size, good that the WIN32_FIND_DATA struct has nFileSizeLow (and nFileSizeHigh) <em>I thought</em> so I tried to read the nFileSizeLow, but as I've discovered it's always null. In the win32.hlp under FindFirstFile I find &quot;This function searches for files by name only; it cannot be used for attribute-based searches.&quot;, doest hat mean that it doesn't get the file size either, thus file size is considered an attribute?<br />Must I call the GetFileSize to get the files size, and why is there a nFileSizeLow if it's always 0?</div>
    <div class="meta">Posted on 2003-04-06 07:33:29 by scientica</div>
   </div>
   <div class="post" id="post-93647">
    <div class="subject"><a href="#post-93647">Why is nFileSizeLow always null for me?</a></div>
    <div class="body">nFileSizeLow works well for me. So you probably have another bug in your code. You could check: is the structure dword aligned before passing to the function? is the structure defined right (check the offset of nFileSizeLow with your debugger, should be 32)? Dirs will have no filesize!</div>
    <div class="meta">Posted on 2003-04-06 07:52:40 by beaster</div>
   </div>
   <div class="post" id="post-93651">
    <div class="subject"><a href="#post-93651">Why is nFileSizeLow always null for me?</a></div>
    <div class="body">Ok, I doublechecked my debug output, and you're right, I got another bug somewhere, nFileSize does contain a value for a file (more correct all the files), and it's correct.<br />Thanks for helping me.<br /><br />btw, is it of some importance that the struct is dword aligned, besides speed?</div>
    <div class="meta">Posted on 2003-04-06 08:02:03 by scientica</div>
   </div>
   <div class="post" id="post-93659">
    <div class="subject"><a href="#post-93659">Why is nFileSizeLow always null for me?</a></div>
    <div class="body">I had some wired errors using unaligned structures, especially with NT and file related functions, so I have always this hint in my &quot;hint-repository&quot; :)</div>
    <div class="meta">Posted on 2003-04-06 09:48:20 by beaster</div>
   </div>
   <div class="post" id="post-93674">
    <div class="subject"><a href="#post-93674">Why is nFileSizeLow always null for me?</a></div>
    <div class="body">Well, WinNT need esp to be dword align, if not you get GPF.</div>
    <div class="meta">Posted on 2003-04-06 12:29:45 by roticv</div>
   </div>
  </div>
 </body>
</html>
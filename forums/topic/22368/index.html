<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>small bug,need help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22368" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22368">small bug,need help</a></p>
   <div class="post" id="post-167912">
    <div class="subject"><a href="#post-167912">small bug,need help</a></div>
    <div class="body">Hi,<br />      The attachemets is my fisrt pratice with win32asm. A small bug happened today ,and I cant resolve it now.I need you help ,any advice or suggestion will be very much appreciated.<br />       Bug Description:<br />            It is a half-done Oscilliscope like app, use to display a wave (now   a random wave generated by pesudo num )on client area;you drag the below blue circle&#39;s arm ( a frequency adjust knob) to adjust the wave shift speed---- 1:18 of knob&#39;s position/angle.<br />           The bug is : when close the app and open again .the previous speed NUM displayed on the status bar ,part 2,is not correct. The speed num only work correctly in the life of when this app runs.<br />      It&#39;s may fail at  reading and saving setting.ini file or iShiftPixels conversation.<br />      But I don&#39;t know where.<br />     ...<br />     Despite of  that ,it&#39;s a good GDI demo for those Newbies ,I think.Hope U could  download and try it.<br /><br />    Thanks in advance.<br /><br />        <br />    <br />                </div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1202" target="_blank">bug display.JPG</a></li>
      <li><a href="../../attachments/?id=1204" target="_blank">controller.rar</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-11-15 08:37:16 by Luckrock</div>
   </div>
   <div class="post" id="post-167948">
    <div class="subject"><a href="#post-167948">Re: small bug,need help</a></div>
    <div class="body">Hello,Luckrock<br /><br />1. the moving curve is sparkling.<br />2. add the coordinates.<br />3. auto resize the region that display the curve.<br /><br />regards. </div>
    <div class="meta">Posted on 2005-11-16 07:01:05 by dcskm4200</div>
   </div>
   <div class="post" id="post-167955">
    <div class="subject"><a href="#post-167955">Re: small bug,need help</a></div>
    <div class="body">Thanks for your useful advise:<br />   what you say:<br /><div class="quote">1. the moving curve is sparkling.<br /></div><br />    Good advice,I didn&#39;t think of it before,you remind me of it. it  because the curve is updated at EVERY WM_TIMER message ,and this timer I set 50ms,So this cause 20FPS speed of the wave display.And this may cause you feel the curve sparkling. I will adjust it soon;<br /><div class="quote">2. add the coordinates</div><br />    Sure, this will be finally a neccessory element of it.<br /><div class="quote">3. auto resize the region that display the curve.<br /></div><br />    something I am not clear ,do you mean ZOOM  the curve along the Y co-ordinate?<br />           <br />    with my best regards</div>
    <div class="meta">Posted on 2005-11-16 22:38:26 by Luckrock</div>
   </div>
   <div class="post" id="post-167968">
    <div class="subject"><a href="#post-167968">Re: small bug,need help</a></div>
    <div class="body"><pre><code>.ELSEIF uMsg==WM_SIZE<br />	mov&nbsp; &nbsp;  eax, lParam&nbsp; &nbsp; &nbsp; ; Height/width of new window<br />	mov&nbsp; &nbsp;  ebx, eax<br />	and&nbsp; &nbsp;  ebx, 0000ffffh&nbsp;  ; ebx = LOWORD(lparam) = width<br />	shr&nbsp; &nbsp;  eax, 16&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; eax = HIWORD(lparam) = height<br />...<br />	invoke MoveWindow,hwndXXX, 2, 2, ebx, eax, TRUE<br />...<br /></code></pre></div>
    <div class="meta">Posted on 2005-11-17 08:27:44 by dcskm4200</div>
   </div>
   <div class="post" id="post-167969">
    <div class="subject"><a href="#post-167969">Re: small bug,need help</a></div>
    <div class="body">And where does those magic &quot;2&quot; constants come from?<br /></div>
    <div class="meta">Posted on 2005-11-17 08:33:46 by f0dder</div>
   </div>
   <div class="post" id="post-167970">
    <div class="subject"><a href="#post-167970">Re: small bug,need help</a></div>
    <div class="body">hello,F0dder<br />if nothing exist on Left and top, it is constant. else it is variable.<br />regards<br /></div>
    <div class="meta">Posted on 2005-11-17 08:41:58 by dcskm4200</div>
   </div>
   <div class="post" id="post-167971">
    <div class="subject"><a href="#post-167971">Re: small bug,need help</a></div>
    <div class="body">Why not 0? Why &quot;2&quot;? If it&#39;s used to specify some window border thickness, this is the wrong way to do it - think what will happen with a custom window manager (ie, XP themes, or things like blackbox or other custom shells/skinning engines).<br /></div>
    <div class="meta">Posted on 2005-11-17 08:50:00 by f0dder</div>
   </div>
   <div class="post" id="post-167980">
    <div class="subject"><a href="#post-167980">Re: small bug,need help</a></div>
    <div class="body">Hi,Gentlemen<br />   It&#39;s my fault,and have been revised already last day.<br /><pre><code><br />   .elseif uMsg==WM_SIZE<br />        ;Get the client area window width and height<br />        LOWORD lParam<br />    	m2m ClientAreaWidth,  eax  ; client area width<br />    	HIWORD lParam<br />        m2m ClientAreaHeight, eax  ; client area height<br />        <br />        ;re-size status bar window<br />        invoke GetWindowRect,hStatus,ADDR rect                     <br />        mov eax, rect.bottom<br />        sub eax, rect.top                                           <br />        sub ClientAreaHeight, eax                                 <br />       <br />        invoke MoveWindow,hStatus,0,0,0,0,TRUE</code></pre><br /><br />     Addtionly, I turn to learn to and debug the &quot;WINIO.LIB&quot;, please down &quot;parallel debug tool&quot; and &quot;barre.rar&quot; ,unzip and run it again.<br />     You could find the&quot; Parallel debug tool&quot; could read correctly the data that I set in ParPort.asm .<br />     <br />     This&#39;s the my first MASM pratice,and still many features un-implemented and many mistakes there.<br />     This weekend I will deal with these bugs.But I am an amateur and an newbie to masm.<br />      I hope you could  continue to care and help with it.<br />       <br />    With My best regards.<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1218" target="_blank">BARREL.part1.rar</a></li>
      <li><a href="../../attachments/?id=1219" target="_blank">BARREL.part2.rar</a></li>
      <li><a href="../../attachments/?id=1220" target="_blank">Parallel_Debug.rar</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-11-17 10:12:47 by Luckrock</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Gnu make - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14885" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=14885">Gnu make</a></p>
   <div class="post" id="post-115530">
    <div class="subject"><a href="#post-115530">Gnu make</a></div>
    <div class="body">I use Gnu Make (Ported to windows with MINGW) to build my programs.<br /><br />This is my makefile<br /><br /><pre><code>.SUFFIXES&#58;<br />.PHONY&#58; clean<br /><br />MASM_PATH=\masm32<br />INC_PATH=$&#40;MASM_PATH&#41;\include<br />LIB_PATH=$&#40;MASM_PATH&#41;\lib<br />LFLAGS=/DLL /NOENTRY /NOLOGO<br /><br />%.dll &#58; %.obj<br />	link $&#40;LFLAGS&#41; $&lt;<br /><br />%.obj &#58; %.res<br />	cvtres $&lt; /MACHINE&#58;IX86 /NOLOGO<br /><br />%.res &#58; %.rc<br />	rc /I$&#40;INC_PATH&#41; $&lt;<br /><br />all&#58; italian.dll english.dll spanish.dll<br /><br />clean&#58;<br />	@del *.res *.obj *.dll</code></pre><br /><br />This is the output of make<br /><br /><pre><code>rc /I\masm32\include italian.rc<br />cvtres italian.res /MACHINE&#58;IX86 /NOLOGO<br />link /DLL /NOENTRY /NOLOGO italian.obj<br />rc /I\masm32\include english.rc<br />cvtres english.res /MACHINE&#58;IX86 /NOLOGO<br />link /DLL /NOENTRY /NOLOGO english.obj<br />rc /I\masm32\include spanish.rc<br />cvtres spanish.res /MACHINE&#58;IX86 /NOLOGO<br />link /DLL /NOENTRY /NOLOGO spanish.obj<br />rm spanish.obj spanish.res italian.obj italian.res english.obj english.res</code></pre><br /><br />Why does make delete obj and res?</div>
    <div class="meta">Posted on 2003-08-26 06:34:31 by greenant</div>
   </div>
   <div class="post" id="post-115565">
    <div class="subject"><a href="#post-115565">Gnu make</a></div>
    <div class="body"><div class="quote"><br />clean:<br />	@del *.res *.obj *.dll<br /></div></div>
    <div class="meta">Posted on 2003-08-26 11:44:53 by Will</div>
   </div>
   <div class="post" id="post-115580">
    <div class="subject"><a href="#post-115580">Gnu make</a></div>
    <div class="body">NO.<br />If I remove clean: del *.res .... it delete res anyway</div>
    <div class="meta">Posted on 2003-08-26 12:46:50 by greenant</div>
   </div>
   <div class="post" id="post-115631">
    <div class="subject"><a href="#post-115631">Gnu make</a></div>
    <div class="body">What version of gmake?  I have never seen this behavior before.  Moreover, 'rm' is not generally available on any Win32 platform.  That looks suspicious.<br /><br />If this causes you a problem, either you read the source code and fix it or you can submit your complaint to MinGW developers.</div>
    <div class="meta">Posted on 2003-08-26 22:17:48 by Starless</div>
   </div>
   <div class="post" id="post-115643">
    <div class="subject"><a href="#post-115643">Gnu make</a></div>
    <div class="body">3.80</div>
    <div class="meta">Posted on 2003-08-27 00:31:33 by greenant</div>
   </div>
   <div class="post" id="post-115894">
    <div class="subject"><a href="#post-115894">Gnu make</a></div>
    <div class="body">Hmm... <br /><br />If there is no special reason that you have to use 3.80, I would recommend you downgrade to 3.79.  I have no such problem that you described with 3.79.</div>
    <div class="meta">Posted on 2003-08-28 02:54:31 by Starless</div>
   </div>
  </div>
 </body>
</html>
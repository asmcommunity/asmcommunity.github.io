<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>first time using more than one socket question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9771" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=9771">first time using more than one socket question</a></p>
   <div class="post" id="post-72627">
    <div class="subject"><a href="#post-72627">first time using more than one socket question</a></div>
    <div class="body">Hmm..I'm on planning stage of making tiny ftp-client.<br />But I only worked with one socket before in blocking or nonblocking mode.<br />So, I thought I'd create a main nonblocking socket for the window procedure,<br />which I connect and send commands to ftp-server on port 21.<br /><br />Then when data is streamed to and from ftp-server it's on port 20 right,<br />so I thought how would I go about with that.<br /><br />I thought of these possible ways:<br /><br />1.Create another non-blocking socket on a dummy dlgBox procedure (dialogbox not shown on screen), to receive/send filedata ?<br /><br />or<br /><br />2.Create a blocking socket to send/listen for data in a thread?<br /><br />or<br /><br />3. some other way?<br /><br />Hmm....<br />hints on a standard robust way of doing it would be much appreciated!<br />:) <br /><br />merry christmas btw</div>
    <div class="meta">Posted on 2002-12-25 04:11:28 by david</div>
   </div>
   <div class="post" id="post-72628">
    <div class="subject"><a href="#post-72628">first time using more than one socket question</a></div>
    <div class="body">Did you know that you can also use WSAAsyncSelect multiple times on the same window? In your WM_SOCKET handler, you can use wParam (which contains the socket handle) to distinguish between sockets.<br /><br />Option 2 is pretty good for multiple connections, but you probably don't need it for a small FTP client. It's more suited to a small FTP server.</div>
    <div class="meta">Posted on 2002-12-25 04:31:32 by Qweerdy</div>
   </div>
   <div class="post" id="post-72647">
    <div class="subject"><a href="#post-72647">first time using more than one socket question</a></div>
    <div class="body"><div class="quote"><br />Did you know that you can also use WSAAsyncSelect multiple times on the same window? In your WM_SOCKET handler, you can use wParam (which contains the socket handle) to distinguish between sockets.<br /><br />Option 2 is pretty good for multiple connections, but you probably don't need it for a small FTP client. It's more suited to a small FTP server. </div><br /><br />My god, I never knew about I could have more than one sockets for non-blocking<br />:stupid: <br /><br />All this time I never knew of it - Hahaa!! That's great, thank you for informing me, I always thought I had to create another window(arggghh) ..<br /><br />THanks a lot qweerdy,</div>
    <div class="meta">Posted on 2002-12-25 08:58:40 by david</div>
   </div>
   <div class="post" id="post-72656">
    <div class="subject"><a href="#post-72656">first time using more than one socket question</a></div>
    <div class="body">or, you could use threads...  hehheh...  i'm going to point you to my single source code contribution here  :grin:  it's a web server and not an FTP client, though.  Haven't touched sockets, since, in ASM.<br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=6053">http://www.asmcommunity.net/board/index.php?topic=6053</a></div>
    <div class="meta">Posted on 2002-12-25 11:06:50 by jademtech</div>
   </div>
  </div>
 </body>
</html>
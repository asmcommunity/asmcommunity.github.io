<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>mp3time to fileoffset - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=8271" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=8271">mp3time to fileoffset</a></p>
   <div class="post" id="post-60509">
    <div class="subject"><a href="#post-60509">mp3time to fileoffset</a></div>
    <div class="body">does anyway know how can i change mp3time to fileoffset. <br />?<br />thanks<br /><br />bye<br /><br />eko</div>
    <div class="meta">Posted on 2002-10-03 12:59:38 by eko</div>
   </div>
   <div class="post" id="post-60514">
    <div class="subject"><a href="#post-60514">mp3time to fileoffset</a></div>
    <div class="body">Someone wrote a proc for grabbing all the pertinent info (bitrate, time, etc) from an mp3 file.  I believe it was Thomas.  Check on his site for it, and in the mean time I'll keep an eye out for it.</div>
    <div class="meta">Posted on 2002-10-03 14:15:51 by Will</div>
   </div>
   <div class="post" id="post-60515">
    <div class="subject"><a href="#post-60515">mp3time to fileoffset</a></div>
    <div class="body">The only way to do it (accurately) is scanning all the mpeg frames, adding up the duration of each frame and stop when you're reached the time you were for.<br />Here's some mpeg info: <a target="_blank" href="http://www.dv.co.yu/mpgscript/mpeghdr.htm">http://www.dv.co.yu/mpgscript/mpeghdr.htm</a><br />Here's the mp3 info thread: <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=4895">http://www.asmcommunity.net/board/index.php?topic=4895</a><br />Get the latest version of the mp3info code here: <a target="_blank" href="http://www.madwizard.org/snippets/">http://www.madwizard.org/snippets/</a><br /><br />Thomas</div>
    <div class="meta">Posted on 2002-10-03 14:21:37 by Thomas</div>
   </div>
   <div class="post" id="post-60715">
    <div class="subject"><a href="#post-60715">mp3time to fileoffset</a></div>
    <div class="body"><strong> Thomas <strong><br />do you have some more info ?<br />how can i get the mpeg frames .? <br /><br /><br />bye<br />THANKS<br /><br />eko</div>
    <div class="meta">Posted on 2002-10-06 08:48:36 by eko</div>
   </div>
   <div class="post" id="post-61240">
    <div class="subject"><a href="#post-61240">mp3time to fileoffset</a></div>
    <div class="body">MPEG frames start with 11 (?) bits set to 1, just scan the file until you find 11 1-bits, read the frame (the website shows the format details), calculate the time the frame takes, and goto the next frame.<br />The mp3info function scans through all the frames, I think you can use that for your own procedure as well.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-10-10 15:54:09 by Thomas</div>
   </div>
   <div class="post" id="post-61297">
    <div class="subject"><a href="#post-61297">mp3time to fileoffset</a></div>
    <div class="body">Hi,<br /><br />a mpeg audio frame regardless of its layer consists of frames. The frame itself consists of a header, error_check, audio_data and ancillary_info. The header always consists of 32 bit:<br /><br />sync: 12 bits (FFFh)<br />sync:     1  bit<br />layer:   2  bitsprotection: 1 bit<br />bitrate: 4 bits<br />sampling: 2 bits<br />padding: 1 bit<br />private: 1 bit<br />mode: 2 bits<br />mode_ext: 2 bits<br />copyright: 1 bit<br />original: 1 bit<br />emphasis: 2 bits<br /><br />As Thomas stated before: since layer 3 uses a variable length encoding the only way to accurately <br />get a frame to time conversation is to scan the entire stream (file). Don't think you can scan by the synchronisation since this pattern (FFFh) may also occur outside the header. According to the bitrate information you can use the following equation: N = 144 * (bitrate / sampling frequency).<br />But you have to take care of possibly padding.<br /><br />Just search the web for iso11172.zip which contains all information or try to get the ISO/IEC 11172-3 from your local university (highschool). Alternatively you can buy it at <a target="_blank" href="www.iso.ch">www.iso.ch</a><br /><br />Bye Miracle</div>
    <div class="meta">Posted on 2002-10-11 04:22:06 by miracle</div>
   </div>
  </div>
 </body>
</html>
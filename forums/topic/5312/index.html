<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Structure comparison - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5312" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5312">Structure comparison</a></p>
   <div class="post" id="post-37585">
    <div class="subject"><a href="#post-37585">Structure comparison</a></div>
    <div class="body">How to compare the difference between A and B if they are in same structure. For example the structure is as follows<br /><pre><code><br />rc struct<br />    x    dd    ?<br />    y    dd    ?<br />    x    dd    100 dup&#40;?&#41;<br />rc ends<br /></code></pre><br />Note the method should be fast. Thanks</div>
    <div class="meta">Posted on 2002-05-10 11:17:07 by yoursguideline</div>
   </div>
   <div class="post" id="post-37588">
    <div class="subject"><a href="#post-37588">Structure comparison</a></div>
    <div class="body">mov esi, OFFSET A<br />mov edi, OFFSET B<br />mov ecx, SIZEOF rc -4<br />@@:<br />mov eax, <br />add esi, 4<br />sub eax, <br />jne @F<br />add edi, 4<br />sub ecx, 4<br />jns @B<br />xor eax, eax<br />@@:<br />; eax=0 if same<br /><br />; okay, it's not too fast<br />; ...and it doesn't work for structures of odd size ;)<br /><br />How many structures do you want to compare?<br />What size are the structures?<br />Are they in an array? ...contigious?<br />What processors do you want to optimize for?<br /><br />All these things need to be considered for more speed.</div>
    <div class="meta">Posted on 2002-05-10 11:35:37 by bitRAKE</div>
   </div>
   <div class="post" id="post-37639">
    <div class="subject"><a href="#post-37639">Structure comparison</a></div>
    <div class="body">i want to compare quite a lot and the structure actually is in RECT. I ask the question before using different struct since i want to know the general fast algorithm for comparison.  :tongue:</div>
    <div class="meta">Posted on 2002-05-10 18:07:03 by yoursguideline</div>
   </div>
  </div>
 </body>
</html>
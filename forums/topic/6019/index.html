<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6019" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=6019">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></p>
   <div class="post" id="post-43084">
    <div class="subject"><a href="#post-43084">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">Someone help me out.:( I want a routine to convert float 4,8,10 bytes to ascii and ascii back to 4,8,10 bytes float. I want this kind of custom float routine for my asm project. If anyone could give me sourcecode for this routine, i would be thankful.:confused:</div>
    <div class="meta">Posted on 2002-06-13 07:59:56 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43085">
    <div class="subject"><a href="#post-43085">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">I already replied a answer to this question to you in another thread.<br />Look in the masm32.lib for such routines.</div>
    <div class="meta">Posted on 2002-06-13 08:06:25 by bazik</div>
   </div>
   <div class="post" id="post-43092">
    <div class="subject"><a href="#post-43092">Re: Respected Bazik</a></div>
    <div class="body">Bazik: You replied me about the conversion routine. That's only fixed to 64bit 8 byte conversion. I want a routine which can convert 32 bit float to 80 bit float and viceversa. Please send me reply?:rolleyes:</div>
    <div class="meta">Posted on 2002-06-13 08:15:00 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43097">
    <div class="subject"><a href="#post-43097">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">Write your own (like a REAL MAN) :tongue:</div>
    <div class="meta">Posted on 2002-06-13 08:35:52 by bazik</div>
   </div>
   <div class="post" id="post-43104">
    <div class="subject"><a href="#post-43104">Re:BAZIK</a></div>
    <div class="body">sorry</div>
    <div class="meta">Posted on 2002-06-13 08:45:09 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43155">
    <div class="subject"><a href="#post-43155">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">If speed isn't all that important and you don't have the mad-a$$-skillz ;)<br />to write a REAL4 routine, use the REAL8 routine, and store the<br />REAL8 value to a REAL4 variable - presto, you have a ascii-&gt;REAL4<br />routine :]</div>
    <div class="meta">Posted on 2002-06-13 11:33:30 by f0dder</div>
   </div>
   <div class="post" id="post-43165">
    <div class="subject"><a href="#post-43165">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">Look at the source code for FloatToStr &amp; StrToFloat, they contains comments on how to change them to work for Real10 instead. :alright:</div>
    <div class="meta">Posted on 2002-06-13 12:15:16 by EÃ³in</div>
   </div>
   <div class="post" id="post-43170">
    <div class="subject"><a href="#post-43170">I can't say that I'm amused</a></div>
    <div class="body"><div class="quote"><br />Bazik everyone hates you here, do you want newcomers to hate you more than that? But you cannot be angry, as you have got anger in your head already.:grin: sorry for that. </div><br /><br /><br />What is this all about? Do you value your stay on this board? If so, change your attitude, none of these people owes you anything and yes, some things have to be done by yourself or you'll have to accept that it's not available.</div>
    <div class="meta">Posted on 2002-06-13 12:30:42 by Hiroshimator</div>
   </div>
   <div class="post" id="post-43312">
    <div class="subject"><a href="#post-43312">Re:Heroshmiter</a></div>
    <div class="body">I am sorry about that. You did not saw what he has replied to me? I am really sorry to bazik and also all. i was some how angry for what bazik replied. Yeah i am trying to make a sourcecode myself but i have no clue how i can work with it, i am new to asm. Please do not be angry. i apologise to all espeacially bazik. i have send him a private message about this. :(</div>
    <div class="meta">Posted on 2002-06-14 07:35:42 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43314">
    <div class="subject"><a href="#post-43314">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">No problem, WM. Just look more for <br /><br /><br />:tongue:  &lt;---------- this :)<br /><br /><br /><br />That indicates, not to take a reply to serious! :alright:  ;)<br /><br /><br />regards,<br />bAZiK<br /><br />P.S.: You shouldn't call our big boss <strong>&quot;Heroshmiter&quot;</strong> (subject of your post) :tongue: (&lt;--- here it is)</div>
    <div class="meta">Posted on 2002-06-14 07:40:16 by bazik</div>
   </div>
   <div class="post" id="post-43315">
    <div class="subject"><a href="#post-43315">Dear bazik</a></div>
    <div class="body">I haven't call heroshmiter. i do not know him as i am new here. Thanks for the reply, now i am satisfied.:)</div>
    <div class="meta">Posted on 2002-06-14 07:47:38 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43316">
    <div class="subject"><a href="#post-43316">Float 4,8,10 Bytes to Ascii, Ascii to 4,8,10 Bytes Float</a></div>
    <div class="body">BTW, please clear your PM inbox AND sent messages. <br />Else I can't reply =)</div>
    <div class="meta">Posted on 2002-06-14 07:49:25 by bazik</div>
   </div>
   <div class="post" id="post-43318">
    <div class="subject"><a href="#post-43318">Re:Bazik</a></div>
    <div class="body">I have removed all the messages from there. I forgot to look at this folder called pm send list. now you can send me messages.</div>
    <div class="meta">Posted on 2002-06-14 07:54:56 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43323">
    <div class="subject"><a href="#post-43323">Re: Bazik</a></div>
    <div class="body">sorry i forgot to say that heroshmiter called upon me so i gave him a reply.</div>
    <div class="meta">Posted on 2002-06-14 08:13:52 by Wonder Mage</div>
   </div>
   <div class="post" id="post-43369">
    <div class="subject"><a href="#post-43369">some clues</a></div>
    <div class="body">here's a copy of two routines I did some time back for a logis simulator. They are in no way optimized but they do work.<br /><br />PrintTime proc 	InitTime:DWORD, <br />		pScale:DWORD, <br />		LenScale:DWORD, <br />		StateCnt:DWORD, <br />		ClkPer:DWORD,<br />		pDestStr:DWORD,<br />		pLenDestStr:DWORD,<br />		fNotch_X:REAL8<br />LOCAL NotchBCD:REAL10<br /><br />fld fNotch_X		; Load Notch pointer<br />fimul StateCnt		; get percentage states<br />fimul ClkPer		; Scale to clock time <br />;fwait<br />fiadd InitTime		; Add Initial time offset<br />fbstp NotchBCD		;Store BCD NotchPntr Offset<br />;fwait<br />	<br />invoke BCDToString, <br />           ADDR NotchBCD,<br />          10,	<br />          pDestStr,pLenDestStr,   ;String length returned<br />          pScale,	                ;convert notch distance to time<br />          LenScale<br />ret 36<br /><br />PrintTime endp<br />;----------------------------------------------------------------------------------<br />BCDToString proc pSrcBCD:DWORD,<br />	 LenSrcBCD:DWORD,<br />	 pDestStr:DWORD,<br />	 pLenDestStr:DWORD,<br />	 pStrSuff:DWORD, <br />	 LenStrSuff:DWORD<br /><br />push ebx<br />push ecx<br />push edx<br />push esi<br />push edi<br />	<br />mov esi, pSrcBCD		;point to real number<br />add esi, LenSrcBCD		;point to end of BCD<br />dec esi			; binary len = decimal len - 1<br />dec esi			; point to end less sign bit<br />mov edi, pDestStr		; point to Dest string<br />mov ebx, 0<br />mov ecx, 0<br />	<br />.WHILE (ecx &lt; 9)<br />        mov	al, 		; get packed byte<br />        mov ah, al<br />        shr al, 4					<br />        and al, 0fh		; mask to lsnibble<br />        mov edx, 2 <br />        .WHILE (edx &gt; 0)<br />	.IF (al &gt; 0)<br />	      inc ebx	; first non-zero char.<br />	.ENDIF<br />	.IF (ebx &gt; 0)	; trim off leading zero's<br />	      .IF (al == 0)				<br />	            inc ebx	; account for embedded zero char's	       .ENDIF<br />	       add al, 30h	; add ascii base for numbers<br />	       mov , al	; store ascii char<br />     	       inc edi	; increment char count<br />	.ENDIF<br />	mov al, ah	; get packed byte<br />	and al, 0fh	; mask to msnibble<br />	dec edx<br />           .ENDW<br />           dec esi		; point to next packed byte<br />            inc ecx		; do 9 bytes<br />       .ENDW<br /><br />       .IF (ebx == 0)		; account for zero (0)<br />	mov eax, 30h<br />	mov , eax<br />	inc edi<br />	inc ebx<br />       .ENDIF<br />	<br />        mov esi, pStrSuff	; load TimeScale pointer<br />        mov ecx, LenStrSuff	; load string length<br />	.WHILE (ecx &gt; 0)<br />	       mov al, 	; add it to the end of the TimeString<br />	       mov , al<br />	       inc esi<br />	       inc edi<br />	       inc ebx<br />	       dec ecx<br />	.ENDW<br />	mov eax, 0            ; finish string with a zero termination<br />	mov , eax<br />	mov esi, pLenDestStr ; load destination string length pointer						<br />	mov , ebx <br /><br />	pop edi<br />	pop esi<br />	pop edx<br />	pop ecx<br />	pop ebx<br />		<br />	ret 24<br /><br />BCDToString endp<br /><br />hope it helps. sometimes folks in here would rather pee in yer coffee than actually fork over an idea or two. Maybe they forgot their beginnings now that they are all high and mighty eh?</div>
    <div class="meta">Posted on 2002-06-14 18:16:19 by sceptor</div>
   </div>
   <div class="post" id="post-43749">
    <div class="subject"><a href="#post-43749">I want a loop instructions</a></div>
    <div class="body">well as bazik told me to do it myself i converted base to ascii successfuly! but i am not able to convert float 4 byte to ascii and back. Can someone tell me with an example what instructions are to be processessed to do this?:alright:</div>
    <div class="meta">Posted on 2002-06-17 07:54:07 by Wonder Mage</div>
   </div>
  </div>
 </body>
</html>
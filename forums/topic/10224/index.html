<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>To KetilO - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10224" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=24">IDE usage &amp; development</a> &raquo; <a href="../?id=10224">To KetilO</a></p>
   <div class="post" id="post-76700">
    <div class="subject"><a href="#post-76700">To KetilO</a></div>
    <div class="body">Hi Ketilo,<br /><br />I would like to congratulate you on your Edit control.<br /><br />I don't know if everyone understands the work that <br />is required for a project of that magnitude.<br /><br />Anyhow I've been working off and on (more off then on)<br />on my own RichEdit control for AsmEdit for the past couple<br />of months.<br /><br />What a challenge it has been, but most everything has been<br />done.<br /><br />I have a question for you, when I display the text I omit the<br />line feed character on the screen so it will look like MS's<br />RichEdit V2.<br /><br />But that creates a problem when you use the WM_GETTEXTLENGTH<br />API, the return is minus the LF characters.<br /><br />It sounds a little dumb to get a line count with EM_GETLINECOUNT<br />or stream the text to memory add the number of CR's and add that<br />to the return.<br /><br />Any suggestions?<br /><br />I just downloaded your demo and I see you have the same problem.<br /><br />Thanks,<br /><br />Ewayne</div>
    <div class="meta">Posted on 2003-01-16 12:54:14 by Ewayne</div>
   </div>
   <div class="post" id="post-76701">
    <div class="subject"><a href="#post-76701">To KetilO</a></div>
    <div class="body">Hi Ewayne<br /><br />Yes I omit the LF's and only add it when streaming text out or when copying to the clipboard.<br />WM_GETTEXT, EM_GETSELTEXT and so on also omits LF's, so in my case WM_GETTEXTLENGTH is without LF's.<br /><br />Since I store text on a line basis it is very easy for me to change this if needed. So far I have managed well without the LF's.<br /><br />KetilO</div>
    <div class="meta">Posted on 2003-01-16 13:15:08 by KetilO</div>
   </div>
   <div class="post" id="post-76711">
    <div class="subject"><a href="#post-76711">To KetilO</a></div>
    <div class="body">To KetilO:<br /><br />Thanks for the reply, think I have found a quick way to get<br />the total number of characters.<br /><br />Ewayne</div>
    <div class="meta">Posted on 2003-01-16 14:30:14 by Ewayne</div>
   </div>
  </div>
 </body>
</html>
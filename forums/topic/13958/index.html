<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Information about EXE file structure ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13958" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=13958">Information about EXE file structure ?</a></p>
   <div class="post" id="post-107873">
    <div class="subject"><a href="#post-107873">Information about EXE file structure ?</a></div>
    <div class="body">Hi guys ! I am new here, but i ve been more or less programming in inline assembler for quite a while...with VC++ that is<br /><br />I need to find infrormation about the way Windows exe file are structured, and especially important is how does Windows load the exe file into memory and execute it.<br />Also, does it alter any parts of the file in memory, f.e. memory locations and such ? Any virtual to physical memory mapping ?<br /><br />Another question is: When we deal with memory in Windows, those are virtual addresses not physical right ? Also does Windows use segment registers for any purpose ?<br /><br />Thanks in advance !</div>
    <div class="meta">Posted on 2003-06-22 07:45:18 by Amn</div>
   </div>
   <div class="post" id="post-107877">
    <div class="subject"><a href="#post-107877">Information about EXE file structure ?</a></div>
    <div class="body">I think you can start by reading the PE tutorial written by Icezlion. <br /><br />When windows load a PE, it read ths section information and maps it into the memory (according to the value set in the imagebase, which usually is 40000h). Then the exe is executed according to the entrypoint (add the value of the entrypoint to the value of the imagebase and windows execute from there).<br /><br />All I know is that fs is used for tib and seh.</div>
    <div class="meta">Posted on 2003-06-22 08:51:26 by roticv</div>
   </div>
   <div class="post" id="post-107882">
    <div class="subject"><a href="#post-107882">Information about EXE file structure ?</a></div>
    <div class="body">Thank a lot. But where is that tutorial to be found ?<br /><br />And sorry i am not THAT 733t h0x0r, i dont know what is tib, seh and imagebase ? :) I ve only used inline assembly which is kind of simple when one is not a big expert in hardware architecture.</div>
    <div class="meta">Posted on 2003-06-22 09:14:01 by Amn</div>
   </div>
   <div class="post" id="post-107890">
    <div class="subject"><a href="#post-107890">Information about EXE file structure ?</a></div>
    <div class="body"><a target="_blank" href="http://win32asm.cjb.net">http://win32asm.cjb.net</a> <br />Tutorial Section -&gt; PE Tutorials</div>
    <div class="meta">Posted on 2003-06-22 09:58:24 by SFP</div>
   </div>
   <div class="post" id="post-107891">
    <div class="subject"><a href="#post-107891">Information about EXE file structure ?</a></div>
    <div class="body">Here's the complete PE tutorials by Iczelion. <a target="_blank" href="http://win32assembly.online.fr/files/pe-tuts.zip">http://win32assembly.online.fr/files/pe-tuts.zip</a><br /><br /><div class="quote">And sorry i am not THAT 733t h0x0r, i dont know what is tib, seh and imagebase ? :) I ve only used inline assembly which is kind of simple when one is not a big expert in hardware architecture.</div> <br /><br />Well you heard of entrypoint I suppose? Imagebase is one of the value in the structures of PE format, IMAGE_NT_HEADER if I remember correctly. tib is the thread information block or something like that. (Waiting for f0dder to post something related to it, since I suppose he is the best man in explaining it.)<br /><br />Some links with relations to TIB/TEB (searching msdn)<br /><a target="_blank" href="http://www.microsoft.com/msj/archive/S2CE.aspx">http://www.microsoft.com/msj/archive/S2CE.aspx</a><br /><br />Links related to SEH (structured execption handling)<br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/debug/base/frame_based_exception_handling.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/debug/base/frame_based_exception_handling.asp</a><br /><br />PS I have attached the pecoff document by microsoft for you to read.</div>
    <div class="meta">Posted on 2003-06-22 09:59:03 by roticv</div>
   </div>
  </div>
 </body>
</html>
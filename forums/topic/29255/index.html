<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>show some code use at&amp;t - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29255" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29255">show some code use at&amp;t</a></p>
   <div class="post" id="post-206703">
    <div class="subject"><a href="#post-206703">show some code use at&amp;t</a></div>
    <div class="body">follow is some asm code I write when I learn at&amp;t <br />I just want to learn or talk, learn is hard.<br />so, wish help some one.<br />sorry for my poor english<br /><br />first display CPUID<br /><br /><pre><code><br />#cpuid.s show extract the processor vendor ID<br /><br />.section .data<br />output:<br />	.ascii &quot;the processor vendor ID is &#039;XXXXXXXXXXXX&#039;\n&quot;<br /><br />.section .text<br />.globl main<br />main:<br />	movl $0, %eax<br />	cpuid<br />	movl $output, %edi<br />	movl %ebx, 28(%edi)<br />	movl %edx, 32(%edi)<br />	movl %ecx, 36(%edi)<br /><br />	movl $4, %eax<br />	movl $1, %ebx<br />	movl $output, %ecx<br />	movl $42, %edx<br />	int $0x80<br /><br />	movl $1, %eax<br />	movl $0, %ebx<br />	int $0x80<br />	<br /></code></pre><br /><br />next is code use crt<br /><pre><code><br /># cpuidinlib.s show extract the processor vendor ID using library<br /><br />.section .data<br />output:<br />	.asciz &quot;the processor vendor ID is %s\n&quot;<br />	<br />.section .bss<br />	.lcomm buffer, 12<br />	<br />.section .text<br />.globl _start<br />_start:<br />	movq $0, %rax<br />	cpuid<br />	movq $buffer, %rdi<br />	movl %ebx, (%rdi)<br />	movl %edx, 4(%rdi)<br />	movl %ecx, 8(%rdi)<br /><br />	movq $output, %rdi<br />	movq $buffer, %rsi<br />	xorq %rax, %rax<br />	call printf<br /><br />	movq $0, %rdi<br />	xorq %rax, %rax<br />	call exit<br />	<br /></code></pre><br /><br />have a joy</div>
    <div class="meta">Posted on 2009-01-13 06:52:42 by mnzn2530</div>
   </div>
  </div>
 </body>
</html>
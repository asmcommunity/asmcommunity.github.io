<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Include file additions - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=6007" />
  <link rel="prev" href="../?id=6007&amp;page=2" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=6007">Include file additions</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=6007&amp;page=1" style="">&laquo;</a><a href="../?id=6007&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="6007" /><input type="number" name="page" min="1" max="3" step="1" value="3" onchange="this.form.submit();" /></form>   <div class="post" id="post-70514">
    <div class="subject"><a href="#post-70514">Include file additions</a></div>
    <div class="body">Hi All!<br /><br />About <strong>dwtoa</strong> bug...<br /><br /><br /><pre><code><br />        ...<br />    pos&#58;<br />        &#91;COLOR=silver&#93;;mov ecx,429496730&#91;/COLOR&#93;<br /><br />        &#91;COLOR=red&#93;mov ecx, 3435973837&#91;/COLOR&#93;<br /><br />        mov esi, edi<br /><br />        .WHILE &#40;eax &gt; 0&#41;<br />            mov     ebx, eax<br />            mul     ecx<br /><br />            &#91;COLOR=red&#93;shr     edx, 3&#91;/COLOR&#93;<br /><br />            mov     eax, edx<br />            lea     edx, &#91;edx * 4 + edx&#93;<br />            add     edx, edx<br />        ...<br /></code></pre></div>
    <div class="meta">Posted on 2002-12-11 20:11:40 by Eviloid</div>
   </div>
   <div class="post" id="post-72748">
    <div class="subject"><a href="#post-72748">MSWsock.h</a></div>
    <div class="body">I would mind to have definitions from MSWsock.h in PSDK ( MS extensions )</div>
    <div class="meta">Posted on 2002-12-26 00:37:58 by Sergo</div>
   </div>
   <div class="post" id="post-74225">
    <div class="subject"><a href="#post-74225">Include file additions</a></div>
    <div class="body">Here's a trivial one which I experienced recently. <br /><br />The &quot;equates&quot; for VK_ADD and VK_SUBTRACT don't work. They are listed as 6Bh and 6Dh respectively but only the 2Bh and 2Dh would work properly regardless of which &quot;+&quot; or &quot;-&quot; keys are used. And those two equates cannot be found in the windows.inc file.<br /><br />Raymond<br /><br />(I know, I know, it's easier to use   .if wparam == &quot;+&quot;)</div>
    <div class="meta">Posted on 2003-01-03 20:56:52 by Raymond</div>
   </div>
   <div class="post" id="post-75909">
    <div class="subject"><a href="#post-75909">DC_HASDEFID</a></div>
    <div class="body">HUTCH--<br /><br />In my windows.inc the value DC_HASDEFID has an incorrect value.  In windows.inc:<br /><br />DC_HASDEFID = 534h<br /><br />And it should be:<br /><br />DC_HASDEFID = 534bh    or    0x534b<br /><br />Again, thanks for all the work and help!!!<br /><br />farrier</div>
    <div class="meta">Posted on 2003-01-12 15:56:12 by farrier</div>
   </div>
   <div class="post" id="post-77237">
    <div class="subject"><a href="#post-77237">Include file additions</a></div>
    <div class="body">Here is a couple more...<br />TVN_SELCHANGEDA equ TVN_FIRST -2<br />SHDID_COMPUTER_SHAREDDOCS equ 20<br />PD_USEDEVMODECOPIESANDCOLLATE equ 40000h</div>
    <div class="meta">Posted on 2003-01-19 16:14:42 by anon</div>
   </div>
   <div class="post" id="post-79583">
    <div class="subject"><a href="#post-79583">Include file additions</a></div>
    <div class="body">There's probably a little typo here... (windows.inc)<br /><pre><code>OUTPUT_DEBUG_STRING_INFO STRUCT<br />  lpDebugStringData DWORD  ?<br />  fUnicode WORD ?<br />  nDebugStringiLength WORD ? ; &lt;- i think it should be 'nDebugStringLength' ;&#41;<br />OUTPUT_DEBUG_STRING_INFO ENDS</code></pre></div>
    <div class="meta">Posted on 2003-02-02 12:06:50 by Petroizki</div>
   </div>
   <div class="post" id="post-82764">
    <div class="subject"><a href="#post-82764">Include file additions</a></div>
    <div class="body">Greetings great hutch--<br /><br />Please have in mind that you should update the include files for the new PE+ (or 64bit Pe)<br />When you've done so, update the new includes somewhere for us to grab them.<br /><br />Thanks in advance :grin: !!!</div>
    <div class="meta">Posted on 2003-02-20 06:45:48 by PhotoPaul</div>
   </div>
   <div class="post" id="post-90716">
    <div class="subject"><a href="#post-90716">Source listing and Error A2167</a></div>
    <div class="body">Asking ML.EXE to generate a source listing can reproducibly (see below) lead to these error messages:<br /><pre><code><br />Microsoft &#40;R&#41; Macro Assembler Version 6.14.8444<br />Copyright &#40;C&#41; Microsoft Corp 1981-1997.  All rights reserved.<br /><br /> Assembling&#58; C&#58;\masm32\pro\qpf.asm<br />\masm32\include\windows.inc&#40;26860&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;26861&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;26864&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27084&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27085&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27089&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27090&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27091&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27092&#41; &#58; error A2167&#58; unexpected literal found in expression<br />\masm32\include\windows.inc&#40;27093&#41; &#58; error A2167&#58; unexpected literal found in expression<br /></code></pre><br />I am using WINDOWS.INC 1.25e, 28 January 2003. The affected lines appear in a section called &quot;additional structures 24th November 2002&quot;. Each of them declares some structure member as either &quot;DWORD &lt;&gt;&quot; or &quot;FLOAT &lt;&gt;&quot;. The error messages disappear after replacing &quot;DWORD &lt;&gt;&quot; with &quot;DWORD ?&quot;, and &quot;FLOAT &lt;&gt;&quot; with &quot;FLOAT ?&quot;.<br /><br />Here are the conditions of the error messages:<br /><pre><code><br />1&#41;    \masm32\bin\ml /c /coff &quot;%1.asm&quot;<br />2&#41;    \masm32\bin\ml /c /coff /Fl&quot;%1&quot; &quot;%1.asm&quot;<br />3&#41;    \masm32\bin\ml /c /coff /Fl&quot;%1&quot; /Sn &quot;%1.asm&quot;<br />4&#41;    \masm32\bin\ml /c /coff /Fl&quot;%1&quot; /Sn /Sa &quot;%1.asm&quot;<br />5&#41;    \masm32\bin\ml /c /coff /Fl&quot;%1&quot; /Sn /Sf &quot;%1.asm&quot;<br /></code></pre><br />Using BLDALL.BAT with command line 1) does not trigger any errors. Neither does command line 2) where a source listing is requested, or command line 3) where the source listing's symbol table is suppressed. The error messages appear however with command lines 4) and 5), where ML.EXE is asked to either maximize the listing (4) or to generate a first pass listing (5).<br /><br />Admittedly, the error messages occur only under rare circumstances. On the other hand, it should be easy to avoid them completely. Hope it helps.<br /><br />Regards, Frank</div>
    <div class="meta">Posted on 2003-03-26 19:22:20 by Frank</div>
   </div>
   <div class="post" id="post-90812">
    <div class="subject"><a href="#post-90812">Include file additions</a></div>
    <div class="body">Frank,<br /><br />Thanks for the technique, nect time I need to work on WINDOWS.INC I will try it out.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-03-27 01:18:40 by hutch--</div>
   </div>
   <div class="post" id="post-90885">
    <div class="subject"><a href="#post-90885">Include file additions</a></div>
    <div class="body">I found the same errors when producing a debug build for VS debuging.<br /><br />But I remember that were three different type changes at multiple places.  But I over-wrote the original, so I could tell what the three one is.<br /><br />But here is my debug build bat file, that I had to make the changes for.<br /><br />Regards,  P1<br /><br />@echo off<br /><br />if not exist rsrc.rc goto over1<br />\masm32\bin\rc /v rsrc.rc<br />\masm32\bin\cvtres /machine:ix86 rsrc.res<br />:over1<br /><br />if exist &quot;%1.obj&quot; del &quot;%1.obj&quot;<br />if exist &quot;%1.exe&quot; del &quot;%1.exe&quot;<br /><br />\masm32\bin\ml /c /coff /Fl&quot;%1.lst&quot; /FR&quot;%1.pdb&quot; /Sa /Zd /Zf /Zi  &quot;%1.asm&quot; &gt; &quot;%1.txt&quot;<br />if errorlevel 1 goto errasm<br /><br />if not exist rsrc.obj goto nores<br /><br />\masm32\bin\Link /SUBSYSTEM:WINDOWS /DEBUG /DEBUGTYPE:CV /PDB:&quot;%1&quot; &quot;%1.obj&quot; rsrc.obj<br />if errorlevel 1 goto errlink<br /><br />dir &quot;%1.*&quot;<br />goto TheEnd<br /><br />:nores<br />\masm32\bin\Link /SUBSYSTEM:WINDOWS /DEBUG /DEBUGTYPE:CV /PDB:&quot;%1&quot; &quot;%1.obj&quot;<br />if errorlevel 1 goto errlink<br />dir &quot;%1.*&quot;<br />goto TheEnd<br /><br />:errlink<br />echo _<br />echo Link error<br />goto TheEnd<br /><br />:errasm<br />echo _<br />echo Assembly Error<br />goto TheEnd<br /><br />:TheEnd<br /><br />pause</div>
    <div class="meta">Posted on 2003-03-27 09:03:22 by Pone</div>
   </div>
   <div class="post" id="post-98271">
    <div class="subject"><a href="#post-98271">Include file additions</a></div>
    <div class="body">i'm not sure if this is in the latest version of MASM, but it is missing from the version i have.<br /><br />LOGON32_LOGON_NETWORK equ 3</div>
    <div class="meta">Posted on 2003-04-20 20:35:34 by jademtech</div>
   </div>
   <div class="post" id="post-106559">
    <div class="subject"><a href="#post-106559">KBDINPUT</a></div>
    <div class="body">KBDINPUT<br /><br />KBDINPUT is not included in the windows.inc.<br /><br /><br />Sorry, I writed without Ref.<br /><br />That is , the structure of Keyboard input.</div>
    <div class="meta">Posted on 2003-06-09 19:21:26 by seasea</div>
   </div>
   <div class="post" id="post-106624">
    <div class="subject"><a href="#post-106624">Include file additions</a></div>
    <div class="body">LVIS_CHECKED is missing also</div>
    <div class="meta">Posted on 2003-06-10 05:55:35 by X05</div>
   </div>
   <div class="post" id="post-110382">
    <div class="subject"><a href="#post-110382">Include file additions</a></div>
    <div class="body">Defined:<br /><br /><pre><code><br />POINTFLOAT STRUCT<br />  x               FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />  y               FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />POINTFLOAT ENDS<br /><br />GLYPHMETRICSFLOAT STRUCT<br />  gmfBlackBoxX    FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />  gmfBlackBoxY    FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />  gmfptGlyphOrigin POINTFLOAT &lt;&gt;<br />  gmfCellIncX     FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />  gmfCellIncY     FLOAT &#91;color=red&#93;&lt;&gt;&#91;/color&#93;<br />GLYPHMETRICSFLOAT ENDS<br /></code></pre><br /><br />Should be:<br /><br /><pre><code><br />POINTFLOAT STRUCT<br />  x               FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />  y               FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />POINTFLOAT ENDS<br /><br />GLYPHMETRICSFLOAT STRUCT<br />  gmfBlackBoxX    FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />  gmfBlackBoxY    FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />  gmfptGlyphOrigin POINTFLOAT &lt;&gt;<br />  gmfCellIncX     FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />  gmfCellIncY     FLOAT &#91;color=blue&#93;?&#91;/color&#93;<br />GLYPHMETRICSFLOAT ENDS<br /></code></pre><br /><br /><br />Defined:<br /><br />    SQL_SCROLL_FORWARD_ONLY equ 0L<br />    SQL_SCROLL_KEYSET_DRIVEN equ (-1L)<br />    SQL_SCROLL_DYNAMIC equ (-2L)<br />    SQL_SCROLL_STATIC equ (-3L)<br /><br />    DEF_MIN_PWAGE equ 0L<br /><br /><br />Should be:<br /><br />    SQL_SCROLL_FORWARD_ONLY equ 0<br />    SQL_SCROLL_KEYSET_DRIVEN equ (-1)<br />    SQL_SCROLL_DYNAMIC equ (-2)<br />    SQL_SCROLL_STATIC equ (-3)<br /><br />    DEF_MIN_PWAGE equ 0</div>
    <div class="meta">Posted on 2003-07-14 01:57:55 by Four-F</div>
   </div>
   <div class="post" id="post-110916">
    <div class="subject"><a href="#post-110916">Include file additions</a></div>
    <div class="body">There's a constant missing from WINDOWS.INC:<br /><br />BI_BITFIELDS equ 3<br /><br />It's used by CreateDIBSection, etc.</div>
    <div class="meta">Posted on 2003-07-17 13:51:42 by QvasiModo</div>
   </div>
   <div class="post" id="post-111442">
    <div class="subject"><a href="#post-111442">I'm still new to Windows programming</a></div>
    <div class="body">So I will say by this question you set yourself up as a target board , but you were brave enough to carry on with updates. I just want to say , Thank you very much for all your hard work and willingness to share. :grin:</div>
    <div class="meta">Posted on 2003-07-21 18:53:15 by mrgone</div>
   </div>
   <div class="post" id="post-120552">
    <div class="subject"><a href="#post-120552">Include file additions</a></div>
    <div class="body">windows version constants:<br /><pre><code><br />VER_SUITE_SMALLBUSINESS            = 00000001H<br />VER_SUITE_ENTERPRISE               = 00000002H<br />VER_SUITE_BACKOFFICE               = 00000004H<br />VER_SUITE_COMMUNICATIONS           = 00000008H<br />VER_SUITE_TERMINAL                 = 00000010H<br />VER_SUITE_SMALLBUSINESS_RESTRICTED = 00000020H<br />VER_SUITE_EMBEDDEDNT               = 00000040H<br />VER_SUITE_DATACENTER               = 00000080H<br />VER_SUITE_SINGLEUSERTS             = 00000100H<br />VER_SUITE_PERSONAL                 = 00000200H<br />VER_SUITE_BLADE                    = 00000400H<br />VER_NT_WORKSTATION       		= 0000001<br />VER_NT_DOMAIN_CONTROLLER 		= 0000002<br />VER_NT_SERVER            		= 0000003<br /></code></pre></div>
    <div class="meta">Posted on 2003-10-05 11:11:35 by optimus</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=6007&amp;page=1" style="">&laquo;</a><a href="../?id=6007&amp;page=2" style="">&lt;</a><input type="hidden" name="id" value="6007" /><input type="number" name="page" min="1" max="3" step="1" value="3" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>winsock send question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=199" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=8">Networking</a> &raquo; <a href="../?id=199">winsock send question</a></p>
   <div class="post" id="post-1828">
    <div class="subject"><a href="#post-1828">winsock send question</a></div>
    <div class="body">Your problem is you don't log into the ftp server and prepare it for filetransfer.</div>
    <div class="meta">Posted on 2001-07-23 20:39:11 by Zynaps</div>
   </div>
   <div class="post" id="post-1857">
    <div class="subject"><a href="#post-1857">winsock send question</a></div>
    <div class="body">ummm were's the connection to port 20?... that's the port used for data transfer with ftp... port 21 is just used for the &quot;telnet&quot; commands... such as retr, stor, user, pass and so on... my tip would be either read the RFC (available on <a target="_blank" href="www.rfc-editor.org">www.rfc-editor.org</a> ) or use the wininet functions... wich is a lot simpler btw</div>
    <div class="meta">Posted on 2001-07-24 02:47:13 by NervGaz</div>
   </div>
   <div class="post" id="post-1870">
    <div class="subject"><a href="#post-1870">winsock send question</a></div>
    <div class="body">smurf,<br /><br />i found winsock very difficult to get to grips with at first, but once you understand all the API's involved (which there arent that many of) then its really not that hard at all. i sugest you have a read of &quot;Iczelion's Guide To Winsock Programming&quot; which can be found here:<br /><br /><br /><a target="_blank" href="http://spiff.tripnet.se/~iczelion/asmsockguide.html">http://spiff.tripnet.se/~iczelion/asmsockguide.html</a> <br /><br />when using any protocol such as FTP, SMTP, POP3, HTTP etc. you have to understand how the client and server communicate. i had a similar problem when trying to send an email (SMTP). what you are doing is correct but you have to tell the server that basically your going to send the file, and give it a few other bits of information it needs to sucessfully receive the file. then you can begin to send the file.<br /><br />also, why not try doing all this in blocking mode and hard coding everything? once you have done this you can add all the other bits you already know how to do.<br /><br />i hope this helps.<br />skud.</div>
    <div class="meta">Posted on 2001-07-24 05:23:56 by skud</div>
   </div>
   <div class="post" id="post-2012">
    <div class="subject"><a href="#post-2012">winsock send question</a></div>
    <div class="body">Why not just use the WinInet lib? It has simple ftp send and receive commands... and also stuff for http/socks etc.<br /><br />Instead of 50 lines of code it takes 3.<br /><br />James<br /><br /><br /><a target="_blank" href="http://james.ezylink.net.au">http://james.ezylink.net.au</a><br /><br /><br />Of course if you just like reinventing the wheel ignore me...</div>
    <div class="meta">Posted on 2001-07-25 18:21:57 by Unregistered</div>
   </div>
   <div class="post" id="post-2047">
    <div class="subject"><a href="#post-2047">winsock send question</a></div>
    <div class="body">james-<br /><br />yeah, sure you can use WinInet and it will work fine. but it doesnt show you how to use send or give you an understanding of how the FTP protocol works. I don't know about smurf, but when i write any code my main objective is to learn something, and the end result happens to be a nice side effect ;).<br /><br />skud.</div>
    <div class="meta">Posted on 2001-07-26 04:10:18 by skud</div>
   </div>
   <div class="post" id="post-2096">
    <div class="subject"><a href="#post-2096">winsock send question</a></div>
    <div class="body">well said skud.:alright:  using winsock will be much more flexable anyways. im not the kinda of guy who will use a resouce editor instead of coding my controls and such by hand. i dont code fast because if i did i would use visual basic. so i use asm and i like to understand whats going on behind the scenes. yes i did say i wanted to code a simple ftp client but thats cuz i dont know anything about it and i want to get a clear understanding of what im doing and what really going on behind the scenes. anyways i still dont know how to connect to an ftp properly and send something. someone wanna give me some babysteps.</div>
    <div class="meta">Posted on 2001-07-26 18:52:34 by smurf</div>
   </div>
   <div class="post" id="post-2117">
    <div class="subject"><a href="#post-2117">winsock send question</a></div>
    <div class="body">Fully agree here as well, I write code for each internet protocol I use myself.. But I've never done FTP though. Try using an existing FTP client that shows you what commands it sends. I believe it's something like this but I'm not sure as I've never worked with it:<br />- connect to port 21 on a FTP server<br />- send USER username <br />- send PASS password <br />- then you can use some basic commands like change directory (CWD /path.<br />- To actually send the file, I think you'll have to start a server on the client computer, and give the FTP server the address+IP of that server so it can connect to it and read/send data. Look this up in the RFC, i'm not sure about it. It has to do with PORT. STOR and RETR commands.<br /><br />Hope this helps,<br />Thomas</div>
    <div class="meta">Posted on 2001-07-27 02:38:34 by Thomas</div>
   </div>
  </div>
 </body>
</html>
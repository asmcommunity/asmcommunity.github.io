<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>new retro game project - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21062" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=22">Recruitment</a> &raquo; <a href="../?id=21062">new retro game project</a></p>
   <div class="post" id="post-159579">
    <div class="subject"><a href="#post-159579">new retro game project</a></div>
    <div class="body">This is something I threw together using my GDI library I am working on, if anyone cares to join in helping with this game, library, or both, leave me a message on this board.<br /><br />The keys are:<br /><br />Up/Down/Left/Right arrows for movement of the little guy<br />Spacebar to pass the time<br />A - attack, just displays &#39;Attack&#39; in the text window<br /><br />A timepiece is in the upper right corner of the window.<br /><br />To exit, either click the mouse while it is over the window - which will be invisible, or hit the &#39;Escape&#39; key.<br /><br />Comments on this game or direction of it are also welcome.&nbsp; It does have a couple of minor bugs, but it shouldn&#39;t crash a win95/98 box&nbsp; :)</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=603" target="_blank">lemux.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-05-05 12:02:39 by drarem</div>
   </div>
   <div class="post" id="post-159593">
    <div class="subject"><a href="#post-159593">Re: new retro game project</a></div>
    <div class="body">I pressed space bar and &quot;a&quot; key everywhere, but nothing happened.<br />What&#39;s the idea of the game?</div>
    <div class="meta">Posted on 2005-05-05 17:27:20 by Kecol</div>
   </div>
   <div class="post" id="post-159597">
    <div class="subject"><a href="#post-159597">Re: new retro game project</a></div>
    <div class="body">That&#39;s odd, what version of windows are you running? You need to be in a resolution of at least 1024x768.<br /><br />The arrow keys should move the small character around the screen, the timepiece needle should slowly rotate, and when&nbsp; you hit the arrow keys,A, or space, the bottom of the screen should display your movement.<br /><br />That is all it does for now, objective is a hack and slash on the lines of the old ultima games with the usual str/dex/int/wis stat increases.<br /></div>
    <div class="meta">Posted on 2005-05-05 18:54:24 by drarem</div>
   </div>
   <div class="post" id="post-159610">
    <div class="subject"><a href="#post-159610">Re: new retro game project</a></div>
    <div class="body">The program does what you said it will. It&#39;s just I expected to destroy something in the game when pressing &#39;A&#39;.<br /></div>
    <div class="meta">Posted on 2005-05-05 21:39:01 by Kecol</div>
   </div>
   <div class="post" id="post-159936">
    <div class="subject"><a href="#post-159936">Re: new retro game project</a></div>
    <div class="body">Here is update:<br />http://drarem.ms11.net/lemux2.zip<br /><br />the download file size grew to 515 Kb due to the test bitmap files within.<br /><br />Updates:<br />Main game screen -<br />? Create New Character - maximum initial stat points 50, variable within the dialog<br />? Load Character - TODO list<br />? Journey Forth...? - starts the game<br /><br />The stat bars are drawn on the left below the timepiece, the blue rectangle within the green panel indicates experience.<br />You can move around, that&#39;s about it for now.</div>
    <div class="meta">Posted on 2005-05-10 10:24:30 by drarem</div>
   </div>
   <div class="post" id="post-162480">
    <div class="subject"><a href="#post-162480">Re: new retro game project</a></div>
    <div class="body">Ah, pretty interesting, I hope that when you&#39;re done the game doesn&#39;t die when the user clicks the window.... accidents do happen.<br />I feel like my CPU is being hammered a bit here, more so than in the previous version. My CPU says 50%, but of corse that&#39;d be because I have HT enabled and it limits each thread to 50% <br />I&#39;m currently on a P4-3.4, I almost feel like trying it out on my P3-450 just to see how lag-lust it is.<br /><br />But anyway, onto my point. THis is like a text adventure game with a map.... right? If so, then perhapse you could re-considder your drawing events. They seem to be happening all the time, regardless of weather anything  is pressed or not, IMO this is not necessary, unless you plan on having some real-time events you could reduce the CPU-hammerage a LOT by calling your drawing code from WM_PAINT, and calling the drawing routines whenever a key is pressed. <em> So long as the code to set the players new location etc occurs before the drawing code it should work out just fine that way.<br />As for the TimePeice, perhapse you could make it so eachtime you move it incriments. I&#39;m not sure what your game is trying to be, it has the hints of a textadventure from the output at the bottom, and hints of being realtime experience from the likes of the timepeice..... and per-cycle re-drawing. <em><br /><br />Of corse, this is just an idea, but personally I&#39;m on a laptop right now, and I don&#39;t like playing games that result in the insineration of my lap.... Well, perhapse only on Sundays.<br /><br />But yes, good luck with this.<br /><br />I&#39;m working on a short side-scrolling shooter myself right now, It&#39;s mostly a learning experience . It makes use of the standard gdi32.dll, and runs at 30FPS, I just hope my CPU-hammerage doesn&#39;t go insane. To try and reduce it I made the game window pretty small -- no more than 400*300. That way I&#39;m hoping I can get away with what-could-be very time consuming code, such as by-pixel collision detection and some nice background/explosion effects . Although I&#39;ll probably only get around to doing 1/4 of the things I plan, &#39;tis pretty fun. ^_^<br /><br /><strong>PS</strong>: if you do plan on adding some events that will require realtime drawing and such, feel free to ignore this entire post.</div>
    <div class="meta">Posted on 2005-07-25 21:35:07 by //clone</div>
   </div>
   <div class="post" id="post-162499">
    <div class="subject"><a href="#post-162499">Re: new retro game project</a></div>
    <div class="body">Definitely, there&#39;s something wrong with the GDI usage. On my PC it takes 100%, too. <br />Because you use UpdateWindow, I suppose. <br />My first commercial project does 50fps 800x768, while taking 0.5% cpu. <br /><br />Create a 30fps timer. In WM_PAINT do only &quot;ValidateRect&quot;. In WM_TIMER, do the sequence:<br />- draw your stuff to hdcBackBuffer<br />- GetDC -&gt; into hdcOutputBuffer<br />- BitBlt&nbsp; hdcOutputBuffer &lt;- hdcBackBuffer<br />- ReleaseDC, hdcOutputBuffer<br /><br />You&#39;ll be perfectly fine. Notice that we &quot;lock&quot; the output HDC only after we&#39;ve done drawing on the backbuffer. <br /><br />Generally, using GDI for games is not recommended. For a few days&#39; project it&#39;s fine, but after a week you&#39;ll feel awful about the limits. How about using DDraw, and blitting only in software (with your own code) ? For me it gives perfect power - if I want an effect, I&#39;ll have that effect (after a little effort, of course). <br /><br />There is only one big drawback of DDraw - you have to make your own wrapping-library. <br /><br />//clone, I&#39;m also working on a shooter (but for mobile PalmOS devices ^^&quot;) . Using DDraw for the Win32 port. Needs a 200-300MHz cpu, yet lots of stuff can be drawn. At some time you should consider studying DD too. <br />With GDI&#39;s Set/GetPixel, it won&#39;t be long before you run out of cpu, and it&#39;ll just make you unhappy in the end</div>
    <div class="meta">Posted on 2005-07-26 20:10:29 by Ultrano</div>
   </div>
   <div class="post" id="post-162507">
    <div class="subject"><a href="#post-162507">Re: new retro game project</a></div>
    <div class="body">Thanks, I didn&#39;t know my real-time apps were doing that..&nbsp; why is it bad to hit 50% cpu usage?&nbsp; Bad for chips or bad to be stingy &gt;)&nbsp;  ?&nbsp; The system idle process is at 98% all the time, guess that is normal.<br /><br />I added a sleep 1 right after my main function call, and the % dropped to 0.&nbsp; If I add a real timer to it, it should replace the sleep function call.<br /><br /><br /><br /></div>
    <div class="meta">Posted on 2005-07-27 05:48:50 by drarem</div>
   </div>
   <div class="post" id="post-162527">
    <div class="subject"><a href="#post-162527">Re: new retro game project</a></div>
    <div class="body"><div class="quote"><br />Thanks, I didn&#39;t know my real-time apps were doing that..&nbsp; why is it bad to hit 50% cpu usage?&nbsp; Bad for chips or bad to be stingy &gt;)&nbsp;  ?&nbsp; The system idle process is at 98% all the time, guess that is normal.<br /><br />I added a sleep 1 right after my main function call, and the % dropped to 0.&nbsp; If I add a real timer to it, it should replace the sleep function call.<br /></div><br /><br />CPU spikes in general are discouraged. Think of it like an automobile assembly line, if you have a rush and then a deficit, it takes that much longer to get things back into smooth flow. CPU usage should only seriously fluctuate during application loading and other load/purge operations.</div>
    <div class="meta">Posted on 2005-07-27 16:21:34 by SpooK</div>
   </div>
   <div class="post" id="post-162528">
    <div class="subject"><a href="#post-162528">Re: new retro game project</a></div>
    <div class="body">drarem, we noted the cpu usage, because even if the app doesn&#39;t do anything, it lags the PC (heavily!) . <br />Mouse movement was pain, and animation of movement was completely rigid. Gives up any gamer immediately. <br /><br />Using UpdateWindow or InvalidateRect (actually the former calls the latter internally) on regular short intervals leads to such lags, as I&#39;ve noticed from my own experiments. Just keep the window region valid all the time, and you won&#39;t have problems. <br />Making the cpu work all the time on 98-100% <strong>will</strong> lead to overheat on imperfectly assembled and maintained PCs. During summer, perfectly-assembled ones are prone to overheat too, when used all the time at 100%. An automatic PC power-down is the least penalty for overheats. </div>
    <div class="meta">Posted on 2005-07-27 16:53:36 by Ultrano</div>
   </div>
   <div class="post" id="post-162552">
    <div class="subject"><a href="#post-162552">Re: new retro game project</a></div>
    <div class="body">I think drarem already knows my Ilix library, maybe //clone might find it useful too - <br />http://216.194.99.174/ilix<br />It&#39;s good for fullscreen games, completely ready to use. It only lacks my favourite BltAdd proc, but that can be easily changed. </div>
    <div class="meta">Posted on 2005-07-28 12:15:56 by Ultrano</div>
   </div>
   <div class="post" id="post-162620">
    <div class="subject"><a href="#post-162620">Re: new retro game project</a></div>
    <div class="body">I&#39;ll try your library, it comes up as page cannot be displayed.</div>
    <div class="meta">Posted on 2005-07-29 15:50:33 by drarem</div>
   </div>
   <div class="post" id="post-162623">
    <div class="subject"><a href="#post-162623">Re: new retro game project</a></div>
    <div class="body">Also another pitfall I found to be annoying with DirectDraw is the BLT strecth thing. My emu uses DirectDraw and I make use of the strecth feature of the Blt. The weird thing though is that my S3 SuperSavage (in my Thinkpad T23) doesnt support stretching yet it supports OpenGL and D3D H/W acceleration :S, doesnt make any sense. Well anyway BLT (w/ stetch) is super slow on my laptop :(.<br /><br />Just make certain if using DirectDraw to check if a feature is supported before using it, maybe if it is not you can write optimized routines to emulate the functionality.</div>
    <div class="meta">Posted on 2005-07-29 17:54:05 by x86asm</div>
   </div>
   <div class="post" id="post-162624">
    <div class="subject"><a href="#post-162624">Re: new retro game project</a></div>
    <div class="body">x86asm: yes, and on top of that, Blt stretch looks different on different PCs. For these reasons I haven&#39;t implemented it in Ilix, and any DD-based code of mine<br /><br />drarem: my previous domain registrator is bitchy and their hosting server became bitchy about the lost domain.... so now I have to host files from home:<br /><a target="_blank" href="http://ultrano.dyndns.org/index.html">http://ultrano.dyndns.org/index.html</a>. Upload speed is only 110kbit/s, and if I play CS:Source, I stop the server ^^<br />Ilix doesn&#39;t have problems in full-screen mode. In window-mode, things are a lot more complicated, thus I had to make a separate lib &quot;iDraw&quot;, posted in the game development forum. </div>
    <div class="meta">Posted on 2005-07-29 19:09:39 by Ultrano</div>
   </div>
  </div>
 </body>
</html>
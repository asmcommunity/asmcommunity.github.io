<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>assembly - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=30697" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=115">DOS &amp; BIOS</a> &raquo; <a href="../?id=30697">assembly</a></p>
   <div class="post" id="post-215153">
    <div class="subject"><a href="#post-215153">assembly</a></div>
    <div class="body"><em>I need help =( what is the code for entering time from 8:00 to 5:00 only? and it will tell me if im late or if im on time please help me!! =(((( the output is like this<br /></em><br />ENTER TIME LOG-IN : 8:00<br />ENTER TIME LOGOUT: 5:00<br />YOU ARE ON TIME!</div>
    <div class="meta">Posted on 2011-10-07 12:04:41 by joanarizadc</div>
   </div>
   <div class="post" id="post-215156">
    <div class="subject"><a href="#post-215156">Re: assembly</a></div>
    <div class="body">Show us what you have done so far and we&#039;ll go from there.</div>
    <div class="meta">Posted on 2011-10-07 13:02:26 by p1ranha</div>
   </div>
   <div class="post" id="post-215161">
    <div class="subject"><a href="#post-215161">Re: assembly</a></div>
    <div class="body">Wow, 8 to 5? Those hours suck.</div>
    <div class="meta">Posted on 2011-10-08 06:11:47 by Homer</div>
   </div>
   <div class="post" id="post-215162">
    <div class="subject"><a href="#post-215162">Re: assembly</a></div>
    <div class="body">I always believed an hour lunch to be too long.</div>
    <div class="meta">Posted on 2011-10-08 07:26:22 by JimmyClif</div>
   </div>
   <div class="post" id="post-215165">
    <div class="subject"><a href="#post-215165">Re: assembly</a></div>
    <div class="body"><div class="quote"><br />Wow, 8 to 5? Those hours suck.<br /></div><br /><br />Tell me about it :)</div>
    <div class="meta">Posted on 2011-10-08 11:03:26 by SpooK</div>
   </div>
   <div class="post" id="post-215177">
    <div class="subject"><a href="#post-215177">Re: assembly</a></div>
    <div class="body">I thought 8:00 to 5:00 WAS lunch hour!<br /><br />But seriously,&nbsp; joanarizadc, show us what you&#039;ve got. There are both DOS and BIOS interrupts that deal with &quot;time&quot;. There may be an AM/PM issue. What are you trying, and what happens?<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-10-09 10:49:23 by fbkotler</div>
   </div>
   <div class="post" id="post-215179">
    <div class="subject"><a href="#post-215179">Re: assembly</a></div>
    <div class="body"><em>but it&#039;s wrong i don&#039;t know how to input a time :( </em></div>
    <div class="meta">Posted on 2011-10-09 11:45:55 by joanarizadc</div>
   </div>
   <div class="post" id="post-215181">
    <div class="subject"><a href="#post-215181">Re: assembly</a></div>
    <div class="body">Show us what you&#039;ve got! Just comments are okay. We&#039;re NOT gonna do your homework for ya!<br /><br />Best,<br />Frank<br /><br /><br /><br /></div>
    <div class="meta">Posted on 2011-10-09 12:16:32 by fbkotler</div>
   </div>
   <div class="post" id="post-215182">
    <div class="subject"><a href="#post-215182">Re: assembly</a></div>
    <div class="body"><em>sorry :sad: don&#039;t be angry</em><br /><br /><span style="font-size:8pt>title time.asm<br />dosseg<br />.model small<br />.stack 100h<br />.data<br /><br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp;  input1&nbsp; db 10,13,&quot;enter time log-in: $&quot;<br />&nbsp; &nbsp; &nbsp;  input2&nbsp; db 10,13,&quot;enter time logout: $&quot;<br />&nbsp; &nbsp; &nbsp;  late&nbsp; &nbsp; db 10,13,&quot;You are late!$&quot;<br />&nbsp; &nbsp; &nbsp;  time&nbsp; &nbsp; db 10,13,&quot;You are on time!$&quot;<br />&nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; <br />.code<br />&nbsp; &nbsp; &nbsp;  mov ax,@data<br />&nbsp; &nbsp; &nbsp;  mov ds,ax<br /><br />&nbsp; &nbsp; &nbsp;  mov ax,0003h<br />&nbsp; &nbsp; &nbsp;  int 10h<br /><br /><br /><br /><br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  lea dx,input1<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br />&nbsp; &nbsp; &nbsp;  mov ah,01h<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br /><br /><br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  lea dx,input2<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br /><br />&nbsp; &nbsp; &nbsp;  mov ah,01h<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;8&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;5&#039;<br />&nbsp; &nbsp; &nbsp;  je yes<br /><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;1&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;7&#039;<br />&nbsp; &nbsp; &nbsp;  je no<br /><br /><br />&nbsp; &nbsp; &nbsp;  JMP EXIT<br /><br />&nbsp; &nbsp; &nbsp; <br /><br />yes:<br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  mov dx,offset TIME<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br />&nbsp; &nbsp; &nbsp;  JMP EXIT<br /><br />&nbsp; &nbsp; &nbsp;  <br />no:<br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  mov dx,offset LATE<br />&nbsp; &nbsp; &nbsp;  int 21h<br />exit:<br />&nbsp; &nbsp; &nbsp;  mov ah,4ch<br />&nbsp; &nbsp; &nbsp;  int 21h<br />end<br /></span><br /><em>i can only enter 8 and 5 like this</em><br />enter time login: 8<br />enter time logout : 5<br /><em>i don&#039;t know how to input a time i don&#039;t know the code for this</em><br /></div>
    <div class="meta">Posted on 2011-10-09 12:52:06 by joanarizadc</div>
   </div>
   <div class="post" id="post-215184">
    <div class="subject"><a href="#post-215184">Re: assembly</a></div>
    <div class="body">Now you&#039;re talking!<br /><br />We like you to use &quot;code tags&quot; around your code. Put the word &quot;code&quot; in square brackets &quot;&#91;]&quot; at the beginning of your code, and &quot;/code&quot; (in &quot;&#91;]&quot;) at the end. Like so:<br /><br /><pre><code><br />; looks pretty good so far.<br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  lea dx,input1<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br />&nbsp; &nbsp; &nbsp;  mov ah,01h<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br /><br /><br />&nbsp; &nbsp; &nbsp;  mov ah,09h<br />&nbsp; &nbsp; &nbsp;  lea dx,input2<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br /><br />&nbsp; &nbsp; &nbsp;  mov ah,01h<br />&nbsp; &nbsp; &nbsp;  int 21h<br /><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;8&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;5&#039;<br />&nbsp; &nbsp; &nbsp;  je yes<br /><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;1&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;7&#039;<br />&nbsp; &nbsp; &nbsp;  je no<br />; ...<br /></code></pre><br /><br />Well, you&#039;ve gotta write the code - that&#039;s the &quot;assignment&quot;, no? There are different ways you might approach it. There&#039;s a &quot;buffered input&quot; dos interrupt... int 21h with 0Ah in ah. Requires a &quot;special&quot; buffer to be provided. Or look into int 21h ax = 0C0Ah (flushes the input queue first - might be helpful).<br /><br />Or... you could keep using int 21h, ah = 1, but do it in a loop...<br /><br /><pre><code><br />; get a character (int 21h/1 or int 21h/7 or /8)<br />; is it a carriage return (13 or 0Dh)?<br />; if so, we&#039;ve got a time<br />; is it a &#039;:&#039;?<br />; if so, just skip it<br />; but we might want to switch between storing &quot;hours&quot; and storing :minutes&quot;?<br />; is it a valid decimal digit?<br />; if not, Houston we have a problem!<br />; Go &quot;BZZZZZT&quot; and start over?<br />; we have a good digit (character)<br />; do we need to &quot;convert&quot; it to a number? (maybe not...)<br />; Is it an &quot;hours&quot; digit?<br />; store it?<br />; and so on...<br />; jump back to get another character<br />; time logic...<br /></code></pre><br />Something like that?<br />You&#039;ve got:<br /><pre><code><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;8&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;5&#039;<br />&nbsp; &nbsp; &nbsp;  je yes<br /><br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;1&#039;<br />&nbsp; &nbsp; &nbsp;  cmp al,&#039;7&#039;<br />&nbsp; &nbsp; &nbsp;  je no<br /></code></pre><br /><br />That&#039;s not going to work. The second &quot;cmp&quot; in a row will set the flags, altering the flags set by the first &quot;cmp&quot;. You&#039;ve gotta do &#039;em one at a time...<br /><pre><code><br />cmp al, &#039;8&#039;<br />je good_login<br />; do what if not equal?<br />good_login:<br />&nbsp; &nbsp; cmp al, &#039;5&#039;<br />&nbsp; &nbsp; je good_times<br />; do something if not<br />good_times:<br />; print &quot;on time&quot;<br />;...<br /></code></pre><br />That might be all you need, depending on the requirements of the assignment, and on the &quot;rules&quot; for login/logout. If I log in at &quot;7:52&quot; and log out at &quot;5:04&quot;, is that &quot;on time&quot;? How about &quot;8:01&quot; and &quot;4:59&quot;? How about &quot;8:01&quot; and &quot;5:02&quot;?<br /><br />What about AM/PM? Do you want to make the user enter &quot;AM&quot; or &quot;PM&quot;? Or maybe make &#039;em use &quot;military&quot; (24-hour) time? You might want to expand your &quot;prompt&quot;, or you might assume that the user&#039;s been &quot;trained&quot; and just issue &quot;further instructions&quot; if they make a mistake. Administering an electric shock is supposed to be effective, too, but it would take special hardware...<br /><br />It might be to your advantage to multiply &quot;hours&quot; (the number, not the character) by 60 and add in the &quot;minutes&quot; (do we care about seconds?). Compare just one set of numbers? Login is 480 and logout is 1020, or so?<br /><br />It depends. Just writing code and seeing &quot;what it turns out to be&quot; can be fun, too, but you&#039;re probably better off if you know exactly what you want to do before you start trying to do it! :)<br /><br />We haven&#039;t mentioned getting the current time, but there are interrupts for that, if you need it. (see if the user is lying?) If you haven&#039;t got &quot;Ralf Brown&#039;s Interrupt List&quot;, there&#039;s a link to it in the &quot;sticky&quot; above - you&#039;ll want it!<br /><br />Nobody&#039;s angry, we just don&#039;t want to cheat you out of learning assembly. Of course, if someone else in your class is reading this, then you&#039;re &quot;sharing&quot; your code, and that&#039;s considered &quot;cheating&quot; too. You can&#039;t win! I&#039;m more into &quot;cooperating to solve problems&quot;, myself, but schools don&#039;t always see it that way...<br /><br />If I&#039;m angry, I sign &quot;Sincerely,&quot;!<br /><br />Best,<br />Frank<br /><br /></div>
    <div class="meta">Posted on 2011-10-09 15:04:41 by fbkotler</div>
   </div>
  </div>
 </body>
</html>
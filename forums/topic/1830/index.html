<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Masm Jump Table - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1830" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1830">Masm Jump Table</a></p>
   <div class="post" id="post-11648">
    <div class="subject"><a href="#post-11648">Masm Jump Table</a></div>
    <div class="body">The Masm Jump Table, it the cause of many greviences against Masm. So why is it there at all?<br /><br />Basically I'd just like to understand the advantages and disadvantages of Masms Jump Table for functions. <br /><br />Was it just the easiest way of doing things or did the boys at Microsoft feel it was the best way of doing things? :confused:</div>
    <div class="meta">Posted on 2001-11-11 15:57:52 by Eóin</div>
   </div>
   <div class="post" id="post-11661">
    <div class="subject"><a href="#post-11661">Masm Jump Table</a></div>
    <div class="body">Jump table, huh? Are you talking about the way DLL imports are handled,<br />or have I missed something completely?</div>
    <div class="meta">Posted on 2001-11-11 18:23:34 by f0dder</div>
   </div>
   <div class="post" id="post-11666">
    <div class="subject"><a href="#post-11666">Masm Jump Table</a></div>
    <div class="body">If you are talking about the import jump table, you can get rid of it by using hutch's L2EXTIA utility to recreate the INC files. I did this when he first released it, and haven't had any problems.<br /><br />It does require a MACRO in every program that uses the new INC files. I added the macro to the end of WINDOWS.INC, and just make sure that it is always my first INC.<br /><br />:)</div>
    <div class="meta">Posted on 2001-11-11 19:04:51 by S/390</div>
   </div>
   <div class="post" id="post-11690">
    <div class="subject"><a href="#post-11690">Masm Jump Table</a></div>
    <div class="body">I remember reading about that when a post like this happened a couple of months ago...  Never got a chance to play with it, but glad to here its got a good track record, cause im definitely interested in the &quot;findings&quot;.<br /><br />Hutch, Is this going to be included in your next release as well?<br /><br />NaN</div>
    <div class="meta">Posted on 2001-11-12 00:21:09 by NaN</div>
   </div>
   <div class="post" id="post-11697">
    <div class="subject"><a href="#post-11697">Masm Jump Table</a></div>
    <div class="body">Yep,<br /><br />Stuck it in its own directory with a text file that says what it does and I added the macro into the windows.inc file to support it.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2001-11-12 01:43:10 by hutch--</div>
   </div>
   <div class="post" id="post-11713">
    <div class="subject"><a href="#post-11713">Masm Jump Table</a></div>
    <div class="body">It would be nice to know.<br />From where this L2EXTIA can be downloaded?<br />Thanks.</div>
    <div class="meta">Posted on 2001-11-12 04:37:18 by Desirous</div>
   </div>
   <div class="post" id="post-11714">
    <div class="subject"><a href="#post-11714">Masm Jump Table</a></div>
    <div class="body">Hummm, there was a thread on the MASM32 forum that had a download link, but I can't seem to find it now. Either the link vanished when hutch moved his site, or I need to go to bed...<br /><br />hutch???<br /><br />:grin:</div>
    <div class="meta">Posted on 2001-11-12 05:10:10 by S/390</div>
   </div>
   <div class="post" id="post-11715">
    <div class="subject"><a href="#post-11715">Masm Jump Table</a></div>
    <div class="body">I found the thread but I could not find the link for the zip file so I am posting it again.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2001-11-12 06:06:59 by hutch--</div>
   </div>
   <div class="post" id="post-11722">
    <div class="subject"><a href="#post-11722">Masm Jump Table</a></div>
    <div class="body">Hutch: I was wondering if you just added the tool to the masm32 package, or also made a seperate dir for the includes? As it wouldn't matter for the size of the package, the installation could generate the includes twice, frist for the \include\ folder for the normal includes, and then again but in the other style in a dir like \exinclude\ or something...<br /><br />Thomas</div>
    <div class="meta">Posted on 2001-11-12 07:31:59 by Thomas</div>
   </div>
   <div class="post" id="post-11724">
    <div class="subject"><a href="#post-11724">Masm Jump Table</a></div>
    <div class="body">Yes, Hutch, please do so !  I like your tool and it has become a standard-include in my projects !<br /><br />(I'm feeling myself more free with it :grin: )<br /><br />Greetings, CALEB</div>
    <div class="meta">Posted on 2001-11-12 08:39:51 by Caleb</div>
   </div>
   <div class="post" id="post-11739">
    <div class="subject"><a href="#post-11739">Masm Jump Table</a></div>
    <div class="body">Appologies, I was referring to the import jump table, sorry.<br /><br />I wasn't looking fora way to remove it, though it is intresting to see that there is a way.<br /><br />I was just wondering why is it there. Is there an advantge to calling imports that way?</div>
    <div class="meta">Posted on 2001-11-12 12:36:38 by Eóin</div>
   </div>
   <div class="post" id="post-11741">
    <div class="subject"><a href="#post-11741">Masm Jump Table</a></div>
    <div class="body">Well, with the way implicit imports are done, you need to have a<br />table of function pointers - the IAT. Now, you can call these directly<br />(call dword ptr ), or you can use the &quot;jumpy&quot;<br />normaly approach (call j_messagebox, where j_messagebox does<br />the direct call). The reason for the &quot;jumpy&quot; approach is that it fits<br />in very well with the traditional C approach of header/library files,<br />and require no knowledge from the programmer/compiler to handle<br />the linking. Direct calls are possible in C too, with the use of macros<br />to redefine symbols a bit. Not pretty if you code it by hand, but<br />the declspec(dllimport) or whatever makes it prettier.<br /><br />As for avoiding the funcptr table totally... you'll have to use loadlibrary/getprocaddress,<br />or your own base-scanner and importer. The only advantage of <br />loadlib/gpa is that you can do dynamic DLL loads, which are useful<br />for eg. plugins or big dlls you only use temporarily.<br /><br />I say stick with implicit importing, and only use loadlibrary/getprocaddress<br />when there's a clear advantage (plugins, using new OS functionality<br />only if it's available, etc).</div>
    <div class="meta">Posted on 2001-11-12 12:44:19 by f0dder</div>
   </div>
   <div class="post" id="post-11761">
    <div class="subject"><a href="#post-11761">Masm Jump Table</a></div>
    <div class="body">I personally don't have any problems with the API lookup table in the generic format of MASM produced EXE files but enough people were interested in the idea so I wrote the utility to create the include files in that format.<br /><br />As far as MASM32, I have put the utility in its own directory so that advanced programmers who are interested can create their own directory of include files with it but I don't want to make things any more difficult for programmers who are starting with MASM32 by confronting them with multiple formats for include files so I have retained the standard MASM format in the include directory.<br /><br />I have actually played with a variation that made the include files with the &quot;invoke&quot; statement embedded in the prototype and it allows you to use the API directly with just a parameter list behind it like in a high level language but there is a problem in that other procedures that are local in code or in libraries cannot use it because they are not imports so i did not persist with it.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2001-11-12 18:20:27 by hutch--</div>
   </div>
  </div>
 </body>
</html>
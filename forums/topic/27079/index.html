<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>What time is it? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=27079" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=27079">What time is it?</a></p>
   <div class="post" id="post-194486">
    <div class="subject"><a href="#post-194486">What time is it?</a></div>
    <div class="body">Hi there! I've got a question.

Does anyone know what's the physical address where the system stores current date and time?

Thanks in advance.
_OuzO_</div>
    <div class="meta">Posted on 2001-03-02 11:17:00 by _OuzO_</div>
   </div>
   <div class="post" id="post-194487">
    <div class="subject"><a href="#post-194487">What time is it?</a></div>
    <div class="body">Well

first of all in Win physical adress does not mean nothing...advanced (eh...somehow) memory management features of the OS make each programm "think" he owns a 0...4Gigabytes of clear empty (eh somehow) adress space...

You can get the physical time from the CMOS or BIOS but then you need to write a VXD beacuse Win will not let you access physycal memory and input/output ports (to avoid crash)

...well to be honest Win95 will let you...but latter versions as 98, Me and mostly 2K will less and less let you do that</div>
    <div class="meta">Posted on 2001-03-02 23:18:00 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-194488">
    <div class="subject"><a href="#post-194488">What time is it?</a></div>
    <div class="body">It's not a "physical" location, but win does have a structure called SYSTEMTIME (see windows.inc). Then see the GetSystemTime and GetLocalTime functiions.

:)</div>
    <div class="meta">Posted on 2001-03-03 00:57:00 by S/390</div>
   </div>
   <div class="post" id="post-194489">
    <div class="subject"><a href="#post-194489">What time is it?</a></div>
    <div class="body">Yes, I want to by-pass Windows and get the physical time from CMOS. That's the point! May I  see CMOS as part of my address space? 

Where can I get info about CMOS?</div>
    <div class="meta">Posted on 2001-03-05 03:07:00 by _OuzO_</div>
   </div>
   <div class="post" id="post-194490">
    <div class="subject"><a href="#post-194490">What time is it?</a></div>
    <div class="body">070 - 07F CMOS RealTimeClock (AT)
----------------------------------

070 - address register of CMOS RealTimeClock.
To address Data register, write only.

071 - Data register of CMOS RealTimeClock, read and write.
Register 00 Seconds, Clock Time
Register 01 Seconds, Alarm Time
Register 02 Minutes, Clock Time
Register 03 Minutes, Alarm Time
Register 04 Hours, Clock Time
Register 05 Hours, Alarm Time
Register 06 Day of Week, 0=Monday
Register 07 Day of Month
Register 08 Month
Register 09 Year, 0=1980
Register 0A-0D Status register A-D
Register 0E Diagnose register
Register 0F Shutdown register

that's it.</div>
    <div class="meta">Posted on 2001-03-05 09:31:00 by Test Department</div>
   </div>
   <div class="post" id="post-194491">
    <div class="subject"><a href="#post-194491">What time is it?</a></div>
    <div class="body">Wow, GREAT!!!

Thanks alot!

_OuzO_</div>
    <div class="meta">Posted on 2001-03-05 11:25:00 by _OuzO_</div>
   </div>
   <div class="post" id="post-194492">
    <div class="subject"><a href="#post-194492">What time is it?</a></div>
    <div class="body">So if I want to read the month, first I must write  0x08 on port 0x70 and then read data from port 0x71. Is it true?</div>
    <div class="meta">Posted on 2001-03-07 08:00:00 by _OuzO_</div>
   </div>
  </div>
 </body>
</html>
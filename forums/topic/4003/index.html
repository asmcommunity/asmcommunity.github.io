<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>hThread from threadID? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4003" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4003">hThread from threadID?</a></p>
   <div class="post" id="post-27323">
    <div class="subject"><a href="#post-27323">hThread from threadID?</a></div>
    <div class="body">I want to get a threads context structure (GetThreadContext) on the breakpoint exception debug event. However the event information only gives me the thread ID, and GetThreadContext wants a thread handle. <br />Is there a way to get the handle from an ID?<br /><br />Thanks,<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-03-05 12:50:03 by Thomas</div>
   </div>
   <div class="post" id="post-27324">
    <div class="subject"><a href="#post-27324">hThread from threadID?</a></div>
    <div class="body">have a look at OpenThread</div>
    <div class="meta">Posted on 2002-03-05 12:54:03 by f0dder</div>
   </div>
   <div class="post" id="post-27326">
    <div class="subject"><a href="#post-27326">hThread from threadID?</a></div>
    <div class="body">Thanks, I was looking for that function, as OpenProcess exists as well. However it wasn't in my MSDN version (on CD) which isn't surprising as it's one from '98 :rolleyes: .. so I totally missed it.<br />It's the only version I had available on CD. I've tried downloading the PSDK more than once but each time some .cab files were corrupt.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-03-05 13:01:48 by Thomas</div>
   </div>
   <div class="post" id="post-27328">
    <div class="subject"><a href="#post-27328">hThread from threadID?</a></div>
    <div class="body">Hrm, bummer:<br /><br /><div class="quote"><br />Windows NT/2000/XP: Included in Windows 2000 and later.<br />Windows 95/98/Me: Included in Windows Me<br /></div></div>
    <div class="meta">Posted on 2002-03-05 13:06:55 by f0dder</div>
   </div>
   <div class="post" id="post-27329">
    <div class="subject"><a href="#post-27329">hThread from threadID?</a></div>
    <div class="body">Yeah I noticed that but it isn't really a problem. It's for a little tool for my own use to hook winsock calls and dump the info that is received and sent.. I wasn't planning to support win9x anyway as I already used the NT only PSAPI. But it doesn't matter as I'm using win2k myself.<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-03-05 13:18:53 by Thomas</div>
   </div>
   <div class="post" id="post-27368">
    <div class="subject"><a href="#post-27368">hThread from threadID?</a></div>
    <div class="body">from win32api.hlp<br /><div class="quote"><strong>The Win32 API does not provide a way to get the thread handle from the thread identifier</strong>. If the handles were made available this way, the owning process could fail because another process unexpectedly performed an operation on one of its threads, such as suspending it, resuming it, adjusting its priority, or terminating it. Instead, you must request the handle from the thread creator or the thread itself.</div></div>
    <div class="meta">Posted on 2002-03-05 16:22:36 by NEMO</div>
   </div>
   <div class="post" id="post-27372">
    <div class="subject"><a href="#post-27372">hThread from threadID?</a></div>
    <div class="body">NEMO: strange.. OpenProcess works great though.. the win32api help file is a little outdated...<br /><br />Thomas</div>
    <div class="meta">Posted on 2002-03-05 16:36:01 by Thomas</div>
   </div>
   <div class="post" id="post-27414">
    <div class="subject"><a href="#post-27414">hThread from threadID?</a></div>
    <div class="body">win32api.hlp == old ;)</div>
    <div class="meta">Posted on 2002-03-05 19:39:27 by f0dder</div>
   </div>
   <div class="post" id="post-27458">
    <div class="subject"><a href="#post-27458">hThread from threadID?</a></div>
    <div class="body">s**t....... i have to buy MSDN lib:grin:</div>
    <div class="meta">Posted on 2002-03-06 03:04:12 by NEMO</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>To be or not to be - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22234" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=38">Object Oriented Programming</a> &raquo; <a href="../?id=22234">To be or not to be</a></p>
   <div class="post" id="post-167149">
    <div class="subject"><a href="#post-167149">To be or not to be</a></div>
    <div class="body">Object placement and lifecycle using ObjAsm32<br /><br />Objects are entities that can be located in different places as they are needed. Usually they are instantiated as standalone entities and their lifecycle are determined by the “New??? and “Destroy??? Keywords. <br />Less obvious are objects placed in resources, better said as part of i.e. a resource dialog. In this case, ObjAsm32 limits the lifecycle between the WM_NCCREATE and WM_NCDESTROY messages sent to those objects.<br />Objects can also be created as local entities like variables that are created with the “Local??? keyword within a method or procedure. This is achieved using the “LocalEmbed??? macro that reserves the necessary stack space to locate the object instance. The difference to a standalone object is that the instance is not automatically initialized. It is required to use the “$ENew??? or “ENew??? macros to copy the object template to the local instance. Since the instance is automatically freed when the procedure or method is finished, it is not necessary to call the “Destroy??? macro but the “Done??? destructor to free allocated resources!<br />An object instance can be nested into another object using the “Embed??? macro. This case is different from a local object since the nested object remains alive with the hosting object that controls its initialization and finalization. Like a local object, a nested object should never be disposed using the “Destroy??? macro.<br />Finally, you can find an object instance in a more hidden place which is in an object that uses multiple inheritance. This topic will be explained in detail in the next ObjAsm32 version.<br />For a more flexible use of the method invoking, the OCall macro was enhanced to allow not only an instance pointer as first parameter, but also a symbol to the nested object. Internally, the instance pointer was computed avoiding any overhead.<br /><br />Summarizing, objects can be found in many places where they are required:<br /><br /><ul><br /><li>standalone (heap or any segment)</li><br /><li>in resources</li><br /><li>embedded into other objects</li><br /><li>embedded into methods or procedures</li><br /><li>in the base structure of multiple inheriting objects (next version)</li><br /></ul><br /><br />In the next days I’ll post a short update to show all this possibilities using the Demos and Projects of the current ObjAsm32 package.&nbsp; 8)<br /><br />Regards,<br /><br />Biterider<br /></div>
    <div class="meta">Posted on 2005-10-23 13:00:02 by Biterider</div>
   </div>
   <div class="post" id="post-167504">
    <div class="subject"><a href="#post-167504">Re: To be or not to be</a></div>
    <div class="body"><div class="quote"><br />in the base structure of multiple inheriting objects (next version)<br /></div><br />Multiple inheritance o_O :D<br />Something like<br /><pre><code><br />Object GameEngine, GameEngineID, CD3D_Engine,C_EAX_Audio,C_DInput<br />;...<br />ObjectEnd<br /></code></pre><br />?<br />If so, that&#39;s wonderful :D</div>
    <div class="meta">Posted on 2005-11-03 16:29:27 by Ultrano</div>
   </div>
   <div class="post" id="post-167515">
    <div class="subject"><a href="#post-167515">Re: To be or not to be</a></div>
    <div class="body">Hi Ultrano<br />There is no much difference between an embedded object and an inherited object. The key point for MI, as you know, is the instance pointer shifting. I&#39;m not sure if I should do it automatically or not... Currently there is a test version (1.3e) on the net.<br />I have to say that I&#39;m still the opinion that MI is not an essential issue and the final result can be achieved using alternative ways too.<br /><br />For the moment I&#39;m working on &quot;early and late binding&quot; and the MI isrunning with a lower priority&nbsp;  :)<br /><br />Biterider</div>
    <div class="meta">Posted on 2005-11-04 00:57:21 by Biterider</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>pipes - not cigars - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2865" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2865">pipes - not cigars</a></p>
   <div class="post" id="post-18430">
    <div class="subject"><a href="#post-18430">pipes - not cigars</a></div>
    <div class="body">Hello, This is my first post here. I am learning MASM :) , I was also told to watch out for the Hiroshiman-man !<br /><br />Anyway, I thought I would start my first post with a simple question.<br /><br />I have a buffer, call it buffer A where the user inputs anything.<br />I want my program to call another process, for examples sake, ftp 100.200.100.200.<br /><br />Then I want to be able to pipe forwards and backwards buffer A to the ftp session to 100.200.100.200<br /><br />here is part of the code,...<br /><br /><strong><br />invoke	GetStartupInfo, ADDR ParentStruct<br />	mov eax, hWrite <br />	mov ParentStruct.hStdOutput,eax <br />	mov ParentStruct.hStdError,eax <br />	mov ParentStruct.dwFlags, STARTF_USESHOWWINDOW+ STARTF_USESTDHANDLES <br />	mov ParentStruct.wShowWindow,SW_HIDE <br />	<br />	;	CREATE THE APPROPRIATE PROCESS<br />	invoke	CreateProcess,ADDR Shell,NULL,NULL,NULL,TRUE,\ <br />                                        NORMAL_PRIORITY_CLASS,\ <br />                                        NULL,NULL,ADDR ParentStruct,ADDR processInfo<br /><br /></strong><br /><br />but I don't know how to pipe from buffer A to the FTP session. I<br />Can anyone offer any advice or a link to somewhere with an example ?<br /><br />Thanks much in advance...</div>
    <div class="meta">Posted on 2002-01-09 21:04:40 by prana</div>
   </div>
   <div class="post" id="post-18432">
    <div class="subject"><a href="#post-18432">anonymous pipes</a></div>
    <div class="body">If I get you right, you want to launch (for instance) ftp.exe and<br />use that to... what? It shouldn't be too hard to relay output from<br />your app as input to the other process (as long as it uses standard<br />readfile on it's input handle) - iczelions tut on piping shows how<br />to accomplish this.<br /><br />If you want to use the pipe for sending actual file data, you'll probably<br />run into trouble, as I don't know any readily available ftp program<br />that accepts file data from stdin :).</div>
    <div class="meta">Posted on 2002-01-09 21:15:42 by f0dder</div>
   </div>
   <div class="post" id="post-18434">
    <div class="subject"><a href="#post-18434">anonymous pipes</a></div>
    <div class="body">yeah, you were told to watch for me by me lol :grin:<br /><br />got to love IRC :alright:</div>
    <div class="meta">Posted on 2002-01-09 21:19:06 by Hiroshimator</div>
   </div>
   <div class="post" id="post-18435">
    <div class="subject"><a href="#post-18435">anonymous pipes</a></div>
    <div class="body">yeah Iczellions tutorial pipes it with an example of compiling a piece an example.asm. However, it only sends the buffer and then receives the buffer before terminating. <br /><br />However in my case, the ftp.exe, I need it to be interactive, and continuous... err not sure if you know what I mean. Maybe it only needs a small tweak but I dunno how to do it....   :(</div>
    <div class="meta">Posted on 2002-01-09 21:19:39 by prana</div>
   </div>
   <div class="post" id="post-18437">
    <div class="subject"><a href="#post-18437">anonymous pipes</a></div>
    <div class="body">Hiro man, err umm where did ya get the piccie of the cat from ? I like it. <br /><br />Hmmm this is a great site,many good information. Just gotta get to know the place and its inhabitants :)</div>
    <div class="meta">Posted on 2002-01-09 21:25:41 by prana</div>
   </div>
   <div class="post" id="post-18441">
    <div class="subject"><a href="#post-18441">anonymous pipes</a></div>
    <div class="body">You might want to look at PeekNamedPipe (which, contrary to it's<br />name, can also be used for unnamed pipes). Also, since windows<br />is pretty Object Oriented in nature, you might be able to WaitForSingleObject<br />on the pipe handle to wait for data - haven't tried this, but it's worth<br />a try, and might beat a polling approach.</div>
    <div class="meta">Posted on 2002-01-09 21:32:48 by f0dder</div>
   </div>
   <div class="post" id="post-18449">
    <div class="subject"><a href="#post-18449">anonymous pipes</a></div>
    <div class="body">ok thanks :) I go and check it out.</div>
    <div class="meta">Posted on 2002-01-09 21:51:04 by prana</div>
   </div>
  </div>
 </body>
</html>
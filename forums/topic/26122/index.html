<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>I need a quick help !!! - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26122" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26122">I need a quick help !!!</a></p>
   <div class="post" id="post-190217">
    <div class="subject"><a href="#post-190217">I need a quick help !!!</a></div>
    <div class="body">I have written a program which should move a hidden window, and when a user sends a specific command it should show the window at the new position. Here is how the window is created:

invoke CreateWindowEx,WS_EX_CLIENTEDGE+WS_EX_TOPMOST+WS_EX_TOOLWINDOW,\
                      ADDR ClassName,\
                      ADDR AppName,\
                      WS_ICONIC+WS_SYSMENU,\
                      CW_USEDEFAULT,\
                      CW_USEDEFAULT,\
                      219,234,NULL,NULL,hInst,NULL

So for the first time, the window is placed at the CW_USEDEFAULT position and hidden. After the user sends the command, the WM_COMMAND message handler moves the window using the following code:

invoke MoveWindow,hWnd,eax,edx,219,234,TRUE

The eax and edx values are ok. I have checked them using a debugger.
So, after that, I show the window:

invoke ShowWindow,hWnd,SW_RESTORE

This works fine except for the first time the window is shown. The first time, my window stays at the CW_USEDEFAULT position although it is moved using the MoveWindow function.
Does anybody has an idea about what could be wrong here?</div>
    <div class="meta">Posted on 2001-01-25 15:04:00 by NoKe</div>
   </div>
   <div class="post" id="post-190218">
    <div class="subject"><a href="#post-190218">I need a quick help !!!</a></div>
    <div class="body">Check the return value of MoveWindow.</div>
    <div class="meta">Posted on 2001-01-25 19:53:00 by Iczelion</div>
   </div>
   <div class="post" id="post-190219">
    <div class="subject"><a href="#post-190219">I need a quick help !!!</a></div>
    <div class="body">maybe you can try the SetWindowPlacement function,
possibly the MoveWindow function fails if the window
is iconic.</div>
    <div class="meta">Posted on 2001-01-26 05:22:00 by beaster</div>
   </div>
   <div class="post" id="post-190220">
    <div class="subject"><a href="#post-190220">I need a quick help !!!</a></div>
    <div class="body">Thanks! Here we close this topic.</div>
    <div class="meta">Posted on 2001-01-27 06:41:00 by NoKe</div>
   </div>
  </div>
 </body>
</html>
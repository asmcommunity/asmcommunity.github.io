<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>multiline Tooltips? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2822" />
    <link rel="next" href="../?id=2822&amp;page=2" /> </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2822">multiline Tooltips?</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=2822&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=2822&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="2822" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=2822&amp;page=2">&gt;</a><a href="../?id=2822&amp;page=2">&raquo;</a></form>   <div class="post" id="post-18142">
    <div class="subject"><a href="#post-18142">multiline Tooltips?</a></div>
    <div class="body">Hi<br /><br />I'm almost new to ASM. And i don't know where really to search for an answer to this problem. So I'll ask you guys ;) <br />How can I make a multiline Tooltip?<br />Have I use a special character for the linebreak? &lt;- tried already some, but don't work. :(<br /><br />Tnx<br />Wolf<br /><br />PS: Excuse my poor english.</div>
    <div class="meta">Posted on 2002-01-08 09:16:25 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18147">
    <div class="subject"><a href="#post-18147">multiline Tooltips?</a></div>
    <div class="body">Hi !<br /><br /><a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/CommCtls/ToolTip/UsingTooltips.asp">http://msdn.microsoft.com/library/default.asp?url=/library/en-us/shellcc/platform/CommCtls/ToolTip/UsingTooltips.asp</a><br /><br />They are talking about multi-line tooltips there ! :alright:<br /><br /><div class="quote"><strong>Multiline ToolTips</strong><br /><br />Multiline ToolTips allow text to be displayed on more than one line. They are supported by version 4.70 and later of the common controls. Your application creates a multiline ToolTip by responding to a TTN_GETDISPINFO notification message. To force the ToolTip control to use multiple lines, send a TTM_SETMAXTIPWIDTH message, specifying the width of the display rectangle. Text that exceeds this width will wrap to the next line rather than widening the display region. The rectangle height will be increased as needed to accommodate the additional lines. The ToolTip control will wrap the lines automatically, or you can use a carriage return/line feed combination, \r\n, to force line breaks at particular locations.<br /><br />Note that the text buffer specified by the szText member of the NMTTDISPINFO structure can accommodate only 80 characters. If you need to use a longer string, point the lpszText member of NMTTDISPINFO to a buffer containing the desired text.<br /></div><br /><br />Regards,</div>
    <div class="meta">Posted on 2002-01-08 09:55:52 by JCP</div>
   </div>
   <div class="post" id="post-18149">
    <div class="subject"><a href="#post-18149">multiline Tooltips?</a></div>
    <div class="body">Oh. Yeah. MSDN.:stupid: <br /><br />TNX<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-08 09:59:12 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18162">
    <div class="subject"><a href="#post-18162">multiline Tooltips?</a></div>
    <div class="body">Wolf_HFS i thought since your new that you might not understand why you might be getting an assembly error trying to get your tooltip size modified. it appears that the NMTTDISPINFO STRUCT in the windows.inc file is bugged. its actually not the NMTTDIPINFO which holds error but it appears to be the NMHDR STRUCT that causing the error. you probably wont be needing to use this line in the NMTTDIPINFO STRUCT:<br /><br />;hdr           NMHDR        &lt;&gt;<br /><br />so just disable it with a semi-colon in front and it should elimated the error. well hopefully the info im providing is accurate info. just thought this may help.</div>
    <div class="meta">Posted on 2002-01-08 10:57:59 by smurf</div>
   </div>
   <div class="post" id="post-18186">
    <div class="subject"><a href="#post-18186">multiline Tooltips?</a></div>
    <div class="body">Don't really want to change the size <u>directly</u> using TTM_SETMAXTIPWIDTH message, cause I thinng the &quot;\r\n&quot;-way is the better one.<br />But I tryed to use the \r\n combination and no one work.<br />Tried both ways:<br /><div class="quote"><br />test db &quot;1st line\r\n2nd line&quot;,0        ; -&gt; Tooltip: &quot;1st line\r\n2nd line&quot;<br />and<br />test db &quot;1st line&quot;,13,10,&quot;2nd line&quot;,0        ; -&gt; Tooltip: &quot;1st line##2nd line&quot;  // where # is a square (illegal character)<br /></div><br />Any idea?<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-08 13:57:43 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18210">
    <div class="subject"><a href="#post-18210">multiline Tooltips?</a></div>
    <div class="body">&gt;&quot;They are supported by version 4.70 and later of the common controls.&quot;<br /><br />What version of windows do you have?</div>
    <div class="meta">Posted on 2002-01-08 16:45:27 by -T-</div>
   </div>
   <div class="post" id="post-18292">
    <div class="subject"><a href="#post-18292">multiline Tooltips?</a></div>
    <div class="body">I'm using Win XP. So I thing it must be 6.0.<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-09 01:07:53 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18314">
    <div class="subject"><a href="#post-18314">multiline Tooltips?</a></div>
    <div class="body">Maybe somone else could try to create a multiline Tooltip by using the \r\n-Syntax and could tell me if it works, and then maybe post this little piece of code?<br />Cause I doesn't really know how to implement the other way with the TTN_GETDISPINFO notification message. :(<br /><br />Tnx<br />Wolf</div>
    <div class="meta">Posted on 2002-01-09 04:40:04 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18339">
    <div class="subject"><a href="#post-18339">multiline Tooltips?</a></div>
    <div class="body">maybe the TTM_SETMAXTIPWIDTH is needed also with &quot;\r\n&quot; breaks?<br /><br />Did you check the version number of comctl32.dll? Some programs replace it with older versions, maybe windowsXP uses another dll for newer features</div>
    <div class="meta">Posted on 2002-01-09 09:58:01 by beaster</div>
   </div>
   <div class="post" id="post-18346">
    <div class="subject"><a href="#post-18346">multiline Tooltips?</a></div>
    <div class="body">TTM_SETMAXTIPWIDTH couldn't be the thing i need, cause I'm using more then one tooltip and I wanne break them at different positions (at the \r\n-Point ;)).<br /><br />In my System-Dir this file is in version 4.72.3110.1<br />In my System32-Dir this file is in version 5.82.2600.0<br />So it should work.<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-09 11:27:12 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18352">
    <div class="subject"><a href="#post-18352">multiline Tooltips?</a></div>
    <div class="body"><div class="quote">:grin:</div><br />:confused:<br />Nope. TTM_SETMAXTIPWIDTH isn't needed for &quot;\r\n&quot; breaks, cause I tryed it and it doesen't work.<br /><pre><code><br />    CDTip2   db &quot;Gr??e der CD \r\n&#40;650MB = 74Min &amp;&amp; 700MB = 80Min&#41;&quot;,0 <br />...<br />    invoke SendMessage,hTool,1048,0,30 ;TTM_SETMAXTIPWIDTH to 30<br />...<br /></code></pre><br /><br />Result is a Tooltip with 6 lines text and not replacing the \r\n by a line break.:mad: <br />I'm going mad.<br /><br />What i'm doing wrong? I know that it must work, cause I can read that @ MSDN. And there stands that \r\n alone will also do it.<br /><br />So. Any other sugestions? Plz<br /><br />Tnx <br />Wolf</div>
    <div class="meta">Posted on 2002-01-09 11:54:02 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18369">
    <div class="subject"><a href="#post-18369">multiline Tooltips?</a></div>
    <div class="body">\r\n maybe 0Dh,0Ah try like below<br /><pre><code><br />CDTip2   db &quot;Gr??e der CD&quot;,0dh,0ah,&quot;&#40;650MB = 74Min &amp;&amp; 700MB = 80Min&#41;&quot;,0 <br />...<br />    invoke SendMessage,hTool,1048,0,30 ;TTM_SETMAXTIPWIDTH to 30<br /></code></pre></div>
    <div class="meta">Posted on 2002-01-09 13:28:51 by LaptoniC</div>
   </div>
   <div class="post" id="post-18370">
    <div class="subject"><a href="#post-18370">multiline Tooltips?</a></div>
    <div class="body">really wired !!<br />I tried it with the MS &quot;Control Spy&quot; tool, but same effect.<br /><br /><div class="quote"><br />cause I can read that @ MSD<br /></div><br /><br />... this is not always a guarantee that it works ...<br /><br />Do you also give the text as response on TTV_GETDISPINFO? Maybe it does not work if you set the text initially?<br /><br />Otherwise I'm out of any more idea :(</div>
    <div class="meta">Posted on 2002-01-09 13:31:07 by beaster</div>
   </div>
   <div class="post" id="post-18372">
    <div class="subject"><a href="#post-18372">Got it!!!</a></div>
    <div class="body"><strong>Finaly i got it</strong> <br /><br />It is a mix of almost all what is standing here. But it's really confusing.<br />The solution of the problem is that I have to send a TTM_SETMAXTIPWIDTH message to the Tooltip with a width of <strong>SHRT_MAX</strong>! Then I'm able to use <strong>\n</strong> (which means character number 13) as a linebreak. Every other width-parameter will do what's the real porpose of that message: set the maximum size of the tooltip to iWidth.<br /><br />So here is my finaly code<br /><pre><code><br />...<br />CDTip2   db &quot;Gr??e der CD&quot;,13,&quot;&#40;650MB = 74Min - 700MB = 80Min&#41;&quot;,0 <br />...<br />invoke SendMessage,hTool,1048,0,32767    ;TTM_SETMAXTIPWIDTH to SHRT_MAX<br />...<br /></code></pre><br />(had to use the final values for the constants, cause my masm doesen't know them :confused: )<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-09 13:43:29 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18390">
    <div class="subject"><a href="#post-18390">multiline Tooltips?</a></div>
    <div class="body">Just creating your buffer with CRLF's makes the tooltip multiline.  I created a buffer like so:<br /><br /><pre><code><br />MultiLine   BYTE    &quot;1. First Line&quot;,0dh,0ah<br />            BYTE    &quot;2. Second Line&quot;,0dh,0ah<br />            BYTE    &quot;3. Third Line&quot;,0dh,0ah,0<br /></code></pre><br /><br />and it appears like this:<br /><br /><img src="http://www.pearcebevill.com/images/tooltip.bmp" /></div>
    <div class="meta">Posted on 2002-01-09 16:20:16 by rdaneel</div>
   </div>
   <div class="post" id="post-18478">
    <div class="subject"><a href="#post-18478">multiline Tooltips?</a></div>
    <div class="body">I don't know why, but this one doesen't work for me.<br />But tnx anyway.<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-10 01:05:10 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18486">
    <div class="subject"><a href="#post-18486">multiline Tooltips?</a></div>
    <div class="body">Post a fragment of your source that &quot;should&quot; be working (via. code braces), or attach your source so we can have a look at it.<br /><br />Its probably a simple mistake that takes another to see first. <br /><br />(( I wasted 6 hrs yesterday debugging PIC Asm code, and realized a 1 shoulda been a 2!! ))<br /><br />NaN</div>
    <div class="meta">Posted on 2002-01-10 02:17:07 by NaN</div>
   </div>
   <div class="post" id="post-18497">
    <div class="subject"><a href="#post-18497">multiline Tooltips?</a></div>
    <div class="body">Take a look at my 3rd post in this thread.<br />That's the code that should work.<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-10 04:25:14 by Wolf_HFS</div>
   </div>
   <div class="post" id="post-18515">
    <div class="subject"><a href="#post-18515">multiline Tooltips?</a></div>
    <div class="body">Sorry, my error.  I somehow got it in my head that you weren't able to get *anything* going, while others can.<br /><br />However, I personally would follow something like rdaneel's approach.  But if your looking to use a mask like \n\r for 13,10 codes, you *could* save yourself the headache and just define a typedef:<br /><br />$LR  typedef &lt;,13,10,&gt;<br /><br />use it as:<br /><br />TipText  db &quot;1) This is Line One&quot; <strong>$LR</strong> &quot;2) and this is line 2..&quot;,0<br /><br />It doesnt solve your problem, but in the most part it accomplishes the same task.  (Trying to make up for my earlier act of stupidity here ;)  )<br /><br />NaN</div>
    <div class="meta">Posted on 2002-01-10 06:43:45 by NaN</div>
   </div>
   <div class="post" id="post-18530">
    <div class="subject"><a href="#post-18530">multiline Tooltips?</a></div>
    <div class="body">Tnx for the tip. As a Newbie I dosen't know that I can make such helpfull things. :)<br /><br />Wolf</div>
    <div class="meta">Posted on 2002-01-10 09:32:25 by Wolf_HFS</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=2822&amp;page=1" style="visibility:hidden;">&laquo;</a><a href="../?id=2822&amp;page=0" style="visibility:hidden;">&lt;</a><input type="hidden" name="id" value="2822" /><input type="number" name="page" min="1" max="2" step="1" value="1" onchange="this.form.submit();" /><a href="../?id=2822&amp;page=2">&gt;</a><a href="../?id=2822&amp;page=2">&raquo;</a></form>  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>the function of STRUCT - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3069" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3069">the function of STRUCT</a></p>
   <div class="post" id="post-20094">
    <div class="subject"><a href="#post-20094">the function of STRUCT</a></div>
    <div class="body">What does the assembler instruction STRUCT do exactly? And how does it work?<br /><br />for example:<br /><pre><code><br />SYSTEMTIME STRUCT<br />  wYear             WORD      ?<br />  wMonth            WORD      ?<br />  wDayOfWeek        WORD      ?<br />  wDay              WORD      ?<br />  wHour             WORD      ?<br />  wMinute           WORD      ?<br />  wSecond           WORD      ?<br />  wMilliseconds     WORD      ?<br />SYSTEMTIME ENDS<br /></code></pre></div>
    <div class="meta">Posted on 2002-01-20 13:00:25 by TCT</div>
   </div>
   <div class="post" id="post-20097">
    <div class="subject"><a href="#post-20097">the function of STRUCT</a></div>
    <div class="body">Hmm, me neither, haven't asked that question myself, maybe i'll *********** the program, and check what it actually does...:)<br /><br />How does it work? (I'm not sure what you meant) you can do something like this:<br /><br />mov ax, SystemTime.wSecond<br /><br />ax now contains the wSecond value</div>
    <div class="meta">Posted on 2002-01-20 14:21:05 by stryker</div>
   </div>
   <div class="post" id="post-20100">
    <div class="subject"><a href="#post-20100">the function of STRUCT</a></div>
    <div class="body">watch also  <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=3057">this</a> thread to understand my question.<br /><br />My question belongs to the work of the compiler.<br />Because I want to know how I have to use variables defined with STRUCT (and some other instructions).<br /><br />Unfortunately is the mode of operation of the compiler a less described chapter so that it is hard for new programmers to use it with less effort.</div>
    <div class="meta">Posted on 2002-01-20 14:40:46 by TCT</div>
   </div>
   <div class="post" id="post-20110">
    <div class="subject"><a href="#post-20110">the function of STRUCT</a></div>
    <div class="body">&gt;&gt;My question belongs to the work of the compiler. <br /><br />Do you want to know how the compiler works on structures, how it operates? if that's what you want, im sorry, i really don't know the answer. Better ask betov who created SpAsm.<br /><br />&gt;&gt;Because I want to know how I have to use variables defined with STRUCT (and some other instructions).<br /><br />You mean! if you want to create your own structs, you want to know how you should defined your variables whether should it be a DWORD, WORD...? If yes, it really depends on what you actually want with your data.<br /><br />&gt;&gt;Unfortunately is the mode of operation of the compiler a less described chapter so that it is hard for new programmers to use it with less &gt;&gt;effort.<br /><br />hmm, i don't think so! it really depends on the compiler's implementation.<br /><br />:)</div>
    <div class="meta">Posted on 2002-01-20 15:21:59 by stryker</div>
   </div>
   <div class="post" id="post-20144">
    <div class="subject"><a href="#post-20144">the function of STRUCT</a></div>
    <div class="body">Let me see if I have got your question right, a STRUCT in assembler does much the same as in most other languages, it defines the relationship of a sequence of other data types as they will be placed in memory if the definition is used.<br /><pre><code><br />    POINT STRUCT<br />      x DWORD ?<br />      y DWORD ?<br />    POINT ENDS<br /></code></pre><br />This format defines 8 bytes in sequence as 2 times 4 bytes. When you use a STRUCT in your code, the &quot;prototype&quot; of combined data elements is arranged in memory as 8 bytes made up of 2 times 4 bytes.<br /><br />It gives the assembler the means of addressing the elements in the struct in this order so if you set the liner of code,<br /><pre><code><br />    LOCAL Pt&#58;POINT<br /><br />Then use the following,<br /><br />    mov Pt.x, eax<br />    mov Pt.y, ecx<br /></code></pre><br />The assembler copies the content of the EAX register into the first 4 bytes of the allocated memory for the struct and the contents of ECX into the second 4 bytes. The important thing is here is that you can refer to the allocated memory of each element by name instead of having to address it by start address plus offset.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-01-20 17:12:09 by hutch--</div>
   </div>
   <div class="post" id="post-20241">
    <div class="subject"><a href="#post-20241">the function of STRUCT</a></div>
    <div class="body">Thanks all<br /><br />I think now I can use STRUCT without problems.:)<br />But do also watch the other thread.</div>
    <div class="meta">Posted on 2002-01-21 03:40:25 by TCT</div>
   </div>
   <div class="post" id="post-20258">
    <div class="subject"><a href="#post-20258">the function of STRUCT</a></div>
    <div class="body">the advantage of a struc is That you can create large <br />defined arrays... <br /><br />please look <br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=2575">here</a></div>
    <div class="meta">Posted on 2002-01-21 05:28:14 by mob</div>
   </div>
  </div>
 </body>
</html>
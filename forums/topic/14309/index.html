<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Getting the MSB of a register - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14309" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=14309">Getting the MSB of a register</a></p>
   <div class="post" id="post-110711">
    <div class="subject"><a href="#post-110711">Getting the MSB of a register</a></div>
    <div class="body">Hi, <br />1st sorry if it's somewhere in a thread, i searched but couldn't find why i need. <br /><br />Let's say i have a value (1 Byte in AL ) how can i check for the MSB n save it to another register (while AL remains unchanged) ?<br />PS: If it's possible to tell me. How can i make this check (for the MSB) in a 32-bit register like eax?<br /><br />It may sound dull, but i'm new 2 assembly So plz explain it nicely :stupid: =)<br />Thanks in advance<br /><br />cya<br />CuTedEvil</div>
    <div class="meta">Posted on 2003-07-16 06:35:38 by CuTedEvil</div>
   </div>
   <div class="post" id="post-110720">
    <div class="subject"><a href="#post-110720">Getting the MSB of a register</a></div>
    <div class="body">i dunno exactly but maybe this could work:<br /><pre><code><br />test eax,0x80000000 ;the highest bit<br />setz bl<br /></code></pre><br />the test instruction sets the zero-flag if the highest bit is zero, otherwise its cleared. then this flag is transfered to bl. you can also react on the result without putting the result in bl with jump instructions like <strong>jz</strong> or <strong>jnz</strong>.<br />this one will also work with test al, 0x80 and test ax, 0x8000</div>
    <div class="meta">Posted on 2003-07-16 07:11:24 by hartyl</div>
   </div>
   <div class="post" id="post-110726">
    <div class="subject"><a href="#post-110726">Getting the MSB of a register</a></div>
    <div class="body">Look at the BSF instruction.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-07-16 08:22:45 by Raymond</div>
   </div>
   <div class="post" id="post-110729">
    <div class="subject"><a href="#post-110729">Getting the MSB of a register</a></div>
    <div class="body">Another solution is the BT instruction.  Awesome thing about this instruction is that it puts the bit in the Carry flag. :) <pre><code>bt eax, 31 ; get bit in carry flag<br />rcl ebx, 1 ; put bit in another register</code></pre></div>
    <div class="meta">Posted on 2003-07-16 08:35:21 by bitRAKE</div>
   </div>
   <div class="post" id="post-110740">
    <div class="subject"><a href="#post-110740">Getting the MSB of a register</a></div>
    <div class="body">Exactly wut i wanted ;) thank you guyz :grin: <br /><br />CuTedEvil</div>
    <div class="meta">Posted on 2003-07-16 10:06:00 by CuTedEvil</div>
   </div>
   <div class="post" id="post-110756">
    <div class="subject"><a href="#post-110756">Getting the MSB of a register</a></div>
    <div class="body">Copper Ted Evil:<br /><br />If you want to find the most significant set bit, then BS<strong>R</strong> is the choice as Raymond suggested.<br /><br />If you just want to get the state of the bit, then there are the following ways:<br /><br />cmp <em>reg</em>, max bit<br />; carry is NOT(MSB)<br /><br />or reg, reg<br />; sign bit is the MSB<br /><br />; eax = test value<br />cdq<br />; edx now has every bit set to the MSB, so and it or whatever<br /><br />bt as bitRake suggested.<br /><br />Also look at shl &amp; rol, but they modify the MSB.<br /><br />Mirno</div>
    <div class="meta">Posted on 2003-07-16 11:55:13 by Mirno</div>
   </div>
   <div class="post" id="post-110821">
    <div class="subject"><a href="#post-110821">Getting the MSB of a register</a></div>
    <div class="body">Thanks Mirno ;)<br /><br />CuTedEvil</div>
    <div class="meta">Posted on 2003-07-16 17:57:51 by CuTedEvil</div>
   </div>
  </div>
 </body>
</html>
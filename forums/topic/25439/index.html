<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Dialog boxes - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25439" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25439">Dialog boxes</a></p>
   <div class="post" id="post-185978">
    <div class="subject"><a href="#post-185978">Dialog boxes</a></div>
    <div class="body">Hey there guys,<br /><br />I have created a nice dialogbox with some DIB effects on them. Now I want to create a smaller dialog underneath that so I can place some buttons on there.<br />My problem is though that the new Dialog, including the buttons is created fine when I add it to my projet. But that new one needs to stay under my main (DIB) dialogbox. Now the newly made one stays at the same spot and the Main dialogbox can be moved. What I want to do is set the postion of the new one so that it always stays under the main one even if I move the main Dialog.<br /><br />This is what I did sofar:<br /><br />My MAIN DIALOG:<br /><br />cmp ,WM_INITDIALOG<br />invoke CreateDialogParam, hInstance, 300, hWnd, ButtonDlgProc, NULL<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mov hDlg,eax	<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke ShowWindow, hDlg,SW_SHOWNORMAL<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke SetWindowPos,hDlg,HWND_TOP,0,0, ScreenWidth,28, SWP_NOMOVE<br /><br />In my ButtonDLGproc I have this for loading my Bitmaps on the buttons.<br /><br />Wm_1:&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; 	&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  cmp ,WM_INITDIALOG<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  jnz Wm_2<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke	GetModuleHandle, NULL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mov hInstance,eax&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke LoadBitmap, hInstance, 105&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke SendDlgItemMessage, hWnd, 102, BM_SETIMAGE, IMAGE_BITMAP, eax <br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke	GetModuleHandle, NULL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mov hInstance,eax&nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke LoadBitmap, hInstance, 106&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke SendDlgItemMessage, hWnd, 103, BM_SETIMAGE, IMAGE_BITMAP, eax <br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke	GetModuleHandle, NULL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mov hInstance,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke LoadBitmap, hInstance, 107&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke SendDlgItemMessage, hWnd, 104, BM_SETIMAGE, IMAGE_BITMAP, eax <br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke	GetModuleHandle, NULL&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  mov hInstance,eax<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  invoke LoadBitmap, hInstance, 108&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; invoke SendDlgItemMessage, hWnd, 109, BM_SETIMAGE, IMAGE_BITMAP, eax <br /><br />This results in that my project can be made perfectly. But as I tryed to explain above it does not stay under my main dialog. Any tips for me guys? <br /></div>
    <div class="meta">Posted on 2006-10-16 07:50:56 by Veggy</div>
   </div>
   <div class="post" id="post-185996">
    <div class="subject"><a href="#post-185996">Re: Dialog boxes</a></div>
    <div class="body">You need to alter the ownership chain which, if I recall correctly, is changed with SetParent. You will probably also need to reset the owner of the main window before destroying the dialog. </div>
    <div class="meta">Posted on 2006-10-16 11:05:31 by tenkey</div>
   </div>
   <div class="post" id="post-185997">
    <div class="subject"><a href="#post-185997">Re: Dialog boxes</a></div>
    <div class="body">Hey there tenkey you have an example on that?<br /><br />Here is a picture I made of my situation, as I have the code as explained above.<br /><img src="http://img520.imageshack.us/img520/6291/maindialogvp7.png" /><br /><br />As you guys can see my buttons (dialog) is made in the middle and I need it to stick underneath the black screen and I am trying to let it stay at that spot. So if I move the main DIalog, the black screen, my buttons need to be moving also.</div>
    <div class="meta">Posted on 2006-10-16 11:20:18 by Veggy</div>
   </div>
   <div class="post" id="post-186019">
    <div class="subject"><a href="#post-186019">Re: Dialog boxes</a></div>
    <div class="body">Anyone who can help? I need my second Dialogbox to stick under the Main dialogbox, any tips on API&#39;s I should be using?</div>
    <div class="meta">Posted on 2006-10-17 08:22:20 by Veggy</div>
   </div>
   <div class="post" id="post-186049">
    <div class="subject"><a href="#post-186049">Re: Dialog boxes</a></div>
    <div class="body">Here is a link to <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/windowing/windows/windowreference/windowfunctions/setparent.asp"><u>SetParent</u></a>.<br /><br />Do something like<br /><br />invoke GetParent,hMainDlg ; get owner window<br />invoke SetParent,hDlg,eax ; make the new dialog the same level as &quot;main&quot; dialog<br />invoke SetParent,hMainDlg,hDlg ; put &quot;main&quot; dialog on top of new dialog<br /><br />You may need to redraw the windows in order to immediately see changes.<br /><br />WARNING: I believe the &quot;parent notify&quot; chain is also altered by this.</div>
    <div class="meta">Posted on 2006-10-18 17:45:08 by tenkey</div>
   </div>
  </div>
 </body>
</html>
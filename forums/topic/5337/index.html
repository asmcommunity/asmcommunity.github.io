<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>lea or mov - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5337" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5337">lea or mov</a></p>
   <div class="post" id="post-37829">
    <div class="subject"><a href="#post-37829">lea or mov</a></div>
    <div class="body">Q1:<br />I read of the following in the description of LEA:<br /><br />        &quot;- the MOV instruction can often save clock cycles when used in place of LEA on 8088 processors&quot;<br /><br /><br />So mov is faster than lea?<br />e.g.<pre><code><br />mov eax, offset dwAAA</code></pre><br />should replace<pre><code><br />lea eax, dwAAA</code></pre> anyway?<br /><br />Q2:<br />In Iczelion's tutorial it says when using INVOKE with local vars as parameter, the assembler will generate<pre><code><br />lea eax,&#91;ebp + x&#93;<br />push eax</code></pre><br />But why not<pre><code><br />push &#91;ebp + x&#93;</code></pre>?</div>
    <div class="meta">Posted on 2002-05-11 22:16:49 by C.Z.</div>
   </div>
   <div class="post" id="post-37838">
    <div class="subject"><a href="#post-37838">lea or mov</a></div>
    <div class="body">Come on bomb01. You just asked two questions in 15 minutes. Sorry be telling you this, but do you think you can learn assembly in a day? If you like it, practise, google around, use the search option of the forum, and use your brain a little bit. Isn't that easier than posting each question that comes to your head? ;)</div>
    <div class="meta">Posted on 2002-05-11 23:01:45 by CodeLover</div>
   </div>
   <div class="post" id="post-37851">
    <div class="subject"><a href="#post-37851">lea or mov</a></div>
    <div class="body">When i comes to the basics of *learning* assembly with windows 32.  I would say niether is any better *practically*.<br /><br />Im sure someone will attest that one is better for various reasons, and uses.  But for the sake of handling and sending windows messages, i would not worry about one way or the other.<br /><br />Myself, i lean on the lea side.  However, offset is better when your getting the address of somthing &quot;Static&quot; in memory, ie. It was there when you assemble your source.    However, i find i rarely write with mov-offset in mind, usually only when filling structures. <br /><br />Guess im more dynamic that way ;)<br /><br />NaN</div>
    <div class="meta">Posted on 2002-05-12 01:59:06 by NaN</div>
   </div>
   <div class="post" id="post-37857">
    <div class="subject"><a href="#post-37857">lea or mov</a></div>
    <div class="body">LEA is used in things like variables that are created on the stack as these variables do not have a static offset.<br /><br />They are different instructions that do different things, even though they overlap in function at times.<br /><br />MOV is a useful instruction that also pairs well most of the time but LEA allows you to do some reasonably complex addressing in a single instruction so it is very useful when working with indexes in memory.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-05-12 02:19:58 by hutch--</div>
   </div>
   <div class="post" id="post-37864">
    <div class="subject"><a href="#post-37864">lea or mov</a></div>
    <div class="body">NaN and hutch, thanks for clearing this up for me.</div>
    <div class="meta">Posted on 2002-05-12 03:48:25 by C.Z.</div>
   </div>
   <div class="post" id="post-37867">
    <div class="subject"><a href="#post-37867">lea or mov</a></div>
    <div class="body">Hi bomb01, specifically answering your Q1:<br />The answer is &quot;Yes&quot; <strong>IF</strong> you still bother about 8088's, otherwise use whatever is shorter (which will be LEA or MOV depending if you write 16bit or 32bit code).</div>
    <div class="meta">Posted on 2002-05-12 04:53:08 by Maverick</div>
   </div>
   <div class="post" id="post-37870">
    <div class="subject"><a href="#post-37870">lea or mov</a></div>
    <div class="body"><strong>Maverick</strong>, a lot of thanks!! Pity that I didn't notice &quot;8088&quot;..:grin:</div>
    <div class="meta">Posted on 2002-05-12 06:59:27 by C.Z.</div>
   </div>
   <div class="post" id="post-37871">
    <div class="subject"><a href="#post-37871">lea or mov</a></div>
    <div class="body">You're wellcome.</div>
    <div class="meta">Posted on 2002-05-12 07:51:55 by Maverick</div>
   </div>
   <div class="post" id="post-37887">
    <div class="subject"><a href="#post-37887">lea or mov</a></div>
    <div class="body">I use mov to keep it simple.  *FACT* Sometimes mov will not work and when that happen that is to perfect time to use lea than figure out the difference for each situation when this happens...</div>
    <div class="meta">Posted on 2002-05-12 11:06:31 by cmax</div>
   </div>
   <div class="post" id="post-37891">
    <div class="subject"><a href="#post-37891">lea or mov</a></div>
    <div class="body">mov won't work if u did <br />mov eax, offset var<br />and var is a LOCAL this is the time to use lea.</div>
    <div class="meta">Posted on 2002-05-12 11:29:02 by Kudos</div>
   </div>
  </div>
 </body>
</html>
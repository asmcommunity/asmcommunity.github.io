<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Different OSes - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2213" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2213">Different OSes</a></p>
   <div class="post" id="post-13974">
    <div class="subject"><a href="#post-13974">Different OSes</a></div>
    <div class="body">I understand that programs written for win9x will not always work on an NT system but will a prog written for NT always work on win9x?  What about XP? <br /><br />What is the difference in the code that makes it good for one but not the other OS?  Is it the use of registers or API that make the difference?  <br /><br />There are a lot of questions there but I don't expect someone to answer them all but if you could point me in the right direction.  <br /><br />Thanks in advance.</div>
    <div class="meta">Posted on 2001-12-04 20:40:34 by brewmanchu</div>
   </div>
   <div class="post" id="post-13975">
    <div class="subject"><a href="#post-13975">Different OSes</a></div>
    <div class="body">AoA<br /><br />Although a program using WIN32 API SHOULD work on any plateform using WIN32 i.e 9x or NT, but that is not always true.<br /><br />I have heard that XP has an option in which u can configure the application so that the application thinks that it is running under 9x or NT or 2000.<br /><br />Different OS have different requirements,<br />e.g 9x have to have small footprint but do not have to be that robust<br />NT has to been designed considering security and robusteness into mind.<br /><br />So although the API is the same but their internal implementation can be very different.<br />As well as the internal design is quite different.<br /><br />regards<br />goto</div>
    <div class="meta">Posted on 2001-12-04 21:30:27 by goto</div>
   </div>
   <div class="post" id="post-13984">
    <div class="subject"><a href="#post-13984">Not just Xp...</a></div>
    <div class="body">Windows 2000 also has a feature where you can run programs so that they will think you are using Win98, etc. I've never used it myself and I'm sure WinXp improves upon it, but it's called something along the lines of 'Application compatibility support'. Win2k users can get it from the update site.</div>
    <div class="meta">Posted on 2001-12-04 23:02:20 by matthew</div>
   </div>
   <div class="post" id="post-14010">
    <div class="subject"><a href="#post-14010">Different OSes</a></div>
    <div class="body">if your program meets all requirements of the MS APIs then it<br />runs on every platform.<br /><br />Often Win9x tolerates some errors, like forget saving registers,<br />or misaligned stack.<br /><br />WinNT/2000/XP is much more sensitive and errors will make your program crash more often.</div>
    <div class="meta">Posted on 2001-12-05 05:37:37 by beaster</div>
   </div>
   <div class="post" id="post-14013">
    <div class="subject"><a href="#post-14013">Different OSes</a></div>
    <div class="body">OK, I thought that you had to write the code a different way i.e. preserving more registers, linker options,...<br /><br />Thanks for the responses.</div>
    <div class="meta">Posted on 2001-12-05 06:19:44 by brewmanchu</div>
   </div>
   <div class="post" id="post-14023">
    <div class="subject"><a href="#post-14023">Different OSes</a></div>
    <div class="body">There are only a few reasons that I can think of that ends up making<br />a 9x program not run on nt-ish windowses.<br /><br />First and most common is programmers that don't know how to<br />preserve registers, pass &quot;sloppy&quot; parameters to API functions, or<br />forget to return valid return codes. I see it as a blessing that nt<br />systems catch this early, so you don't end up chewing through endless<br />customer reports.<br /><br />Next up, it's possible for 9x apps to do dirty stuff. Like gaining ring0<br />in improper ways. Or issuing DPMI interrupts. Or (ab)using various<br />very system-dependant structures.<br /><br />It's also possible for 9x apps to do some thunking so you can use<br />16bit code. This is an utterly stupid thing to do in most cases, but...<br />well... some stuff is hard to do without it, and I guess it can be justified<br />if you're porting an old 16bit app (but only in the initial phases).<br /><br />And the last thing... some stuff on NT systems require various privileges<br />that a default user might or might not have.<br /><br /><br />Now, as for nt programs not running on 9x, there can be a lot of<br />reasons. Remember that NT has the full win32 api, while the 9x<br />win32 api is only a subset (a rather complete subset, but still lacking<br />a few things). You don't have CreateRemoteThread in 9x. You can't<br />work with files larger than 4GB in 9x (yes, this CAN be a limitation).<br />Ok, the 4GB limit is also a fat32 limit (max filesize), but even if 9x<br />had NTFS (you can do some patchy stuff with some NT dlls to achieve this),<br />you will not be able to work with files &gt; 4GB. You'll notice a bunch<br />of &lt;blabla&gt;Ex funcitons not working on 9x, and a bunch of parameters<br />to some APIs with a note &quot;this must be NULL on 9x&quot; and similar.<br /><br />As for the compatibility modes in 2k and XP... who cares. I doubt it<br />will run the very dirty stuff that requires raw dos. It can't emulate<br />a 9x kernel to the full, so very dirty win32 apps will also fail. And the<br />rest that it might be able to run better... is not stuff I mess with.</div>
    <div class="meta">Posted on 2001-12-05 09:01:19 by f0dder</div>
   </div>
   <div class="post" id="post-14025">
    <div class="subject"><a href="#post-14025">Different OSes</a></div>
    <div class="body"><div class="quote"><br />I understand that programs written for win9x will not always work on an NT system but will a prog written for NT always work on win9x<br /></div><br />While this is generally true, be aware that there are API functions<br />that are specific to NT and have no analog in W9x. If you use any<br />of them in your program, then it will NOT run in W9x.</div>
    <div class="meta">Posted on 2001-12-05 09:04:55 by anon</div>
   </div>
  </div>
 </body>
</html>
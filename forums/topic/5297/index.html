<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Static Library - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5297" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=5297">Static Library</a></p>
   <div class="post" id="post-37466">
    <div class="subject"><a href="#post-37466">Static Library</a></div>
    <div class="body">Hi,<br />   First a little background, I am tring to use ezFCPlib from  <a target="_blank" href="http://freenetproject.org/cgi-bin/twiki/view/Main/FCPTools.">http://freenetproject.org/cgi-bin/twiki/view/Main/FCPTools.</a> Which is C/C++, it creates a static library. I converted the header using h2inc and some code clean up on my part. <br /><br />  The problem is when I try to link my test application. The error message from link is &quot;ezFCPlib_test.obj : error LNK2001: unresolved external symbol _fcpStartup@20&quot;.<br /><br />Any help would be appreciated.<br />If you want the lib , inc and my test app just let me know.<br /><br />jInuQ</div>
    <div class="meta">Posted on 2002-05-09 22:14:08 by jInuQ</div>
   </div>
   <div class="post" id="post-37469">
    <div class="subject"><a href="#post-37469">Static Library</a></div>
    <div class="body"><strong> jInuQ </strong>,<br />If you could it would give us a better understanding of what you may be doing... Just upload all files needed<br /><br />Sliver</div>
    <div class="meta">Posted on 2002-05-09 23:26:13 by Sliver</div>
   </div>
   <div class="post" id="post-37471">
    <div class="subject"><a href="#post-37471">Static Library</a></div>
    <div class="body">error LNK2001 this is from C++ stuff... If you are capuable of doing what youi did with h2inc go to masm32 and do the rest.  Clean your machine &quot;new install&quot; leave that MS6.0 or what ever OUT....of a real Machine</div>
    <div class="meta">Posted on 2002-05-09 23:43:44 by cmax</div>
   </div>
   <div class="post" id="post-37478">
    <div class="subject"><a href="#post-37478">Re: Static Library</a></div>
    <div class="body">Attached is the the include file, my test app asm and the static built library. As to the VC++ causing the problem, it won't be as I call link and ml with a hardcoded path and I don't have the bin directory of VC++ in my path. Also I need VC++ to compile the static lib.</div>
    <div class="meta">Posted on 2002-05-10 00:07:15 by jInuQ</div>
   </div>
   <div class="post" id="post-37485">
    <div class="subject"><a href="#post-37485">Static Library</a></div>
    <div class="body">Used my lib2inc program and it came up with intresting results...<br /><br />Only these prototypes were found in the lib?<br /><br /><pre><code><br />; ezFCPlib.lib PROTOTYPES<br />; ~~~~~~~~~~~~~~~~~~~~~~~<br /><br />WSAGetLastError PROTO<br />WSAStartup PROTO &#58;DWORD,&#58;DWORD<br />closesocket PROTO &#58;DWORD<br />connect PROTO &#58;DWORD,&#58;DWORD,&#58;DWORD<br />gethostbyname PROTO &#58;DWORD<br />htons PROTO &#58;DWORD<br />recv PROTO &#58;DWORD,&#58;DWORD,&#58;DWORD,&#58;DWORD<br />send PROTO &#58;DWORD,&#58;DWORD,&#58;DWORD,&#58;DWORD<br />socket PROTO &#58;DWORD,&#58;DWORD,&#58;DWORD<br /><br /></code></pre><br /><br />I think I have to do a little more research<br /><br />Sliver</div>
    <div class="meta">Posted on 2002-05-10 00:30:19 by Sliver</div>
   </div>
   <div class="post" id="post-37625">
    <div class="subject"><a href="#post-37625">Static Library</a></div>
    <div class="body">I got the same results. I also tried linking the .obj(from the ezFCPlib folder) with the link from the masm package and not the VC++ one. It didn't change anything. I also tried things like adding the /EXPORT swicth to the linker. Wouldn't export it. I tried linking my app with the /OPT:NOREF , /IMLIB:ezFCPlib.lib and it didn't make a difference.<br /><br />jInuQ<br /><br />&quot;Take your life in your own hands, and what happens? A terrible thing: no one to blame.&quot; -Erica Jong</div>
    <div class="meta">Posted on 2002-05-10 16:29:55 by jInuQ</div>
   </div>
   <div class="post" id="post-37654">
    <div class="subject"><a href="#post-37654">Static Library</a></div>
    <div class="body">I think this can help you:<br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=2891">http://www.asmcommunity.net/board/index.php?topic=2891</a> - How do you use Masm32 functions in Visual C++ programs <br /><br />or maybe not :)</div>
    <div class="meta">Posted on 2002-05-10 19:42:28 by pahan</div>
   </div>
   <div class="post" id="post-37790">
    <div class="subject"><a href="#post-37790">Re: Static Library</a></div>
    <div class="body">I read that thread and tried some ideas it brought up ,but it didn't seem to help. Must of just missed something. Anywho I was just wondering if there could be a problem because the library uses __cdecl Calling?</div>
    <div class="meta">Posted on 2002-05-11 15:29:41 by jInuQ</div>
   </div>
   <div class="post" id="post-38250">
    <div class="subject"><a href="#post-38250">Static Library</a></div>
    <div class="body">Well I tried rebuilding the library using both __fastcall and __stdcall. When done with __stdcall it exports all of the functions correctly in the lib. When done with __fastcall only part of the get exported. If I try to link with the __stdcall version I get can't find and some more libraries that are with VC++. If doesn't change anything when you try and link with the __fastcall version.</div>
    <div class="meta">Posted on 2002-05-14 21:11:44 by jInuQ</div>
   </div>
   <div class="post" id="post-38253">
    <div class="subject"><a href="#post-38253">&quot;I read that thread and tried some ideas it brought up&</a></div>
    <div class="body">I have nothing useful.  but if that is not search the Board first *very seriously* ...  What is<br /><br />Best of Luck to you  jInuQ</div>
    <div class="meta">Posted on 2002-05-14 21:34:35 by cmax</div>
   </div>
  </div>
 </body>
</html>
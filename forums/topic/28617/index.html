<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Making .code segment writable - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28617" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28617">Making .code segment writable</a></p>
   <div class="post" id="post-202289">
    <div class="subject"><a href="#post-202289">Making .code segment writable</a></div>
    <div class="body">Hi there!

A beginner question. I want to path some adresses in a jmp instruction in the code segment by overwriting the address with a mov, but the debugger tells me that I am not allowed to write to this part of the memory. I suppose, because the .code segment is read only in the PE image. How can I tell the TASM or the TLINK that the could segment is writable?

Thanks!</div>
    <div class="meta">Posted on 2001-07-03 09:42:00 by Warhawk</div>
   </div>
   <div class="post" id="post-202290">
    <div class="subject"><a href="#post-202290">Making .code segment writable</a></div>
    <div class="body">You can use a tool named: PeSAM (PE Section Attribute Modifier)

http://www.programmerstools.com/files/utilities/pesam.zip</div>
    <div class="meta">Posted on 2001-07-03 10:05:00 by elmenda</div>
   </div>
   <div class="post" id="post-202291">
    <div class="subject"><a href="#post-202291">Making .code segment writable</a></div>
    <div class="body">Either do that or tell the linker that the code section of your program is writeable with this linker switch:

/SECTION:.text,EWR

Bye!

Latigo</div>
    <div class="meta">Posted on 2001-07-03 11:35:00 by latigo</div>
   </div>
   <div class="post" id="post-202292">
    <div class="subject"><a href="#post-202292">Making .code segment writable</a></div>
    <div class="body">If you only need to patch your code at a single point in time,
it's probably better to use VirtualProtect to temporarily make
the code writable, then make in unwritable afterwards...</div>
    <div class="meta">Posted on 2001-07-03 18:28:00 by f0dder</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>richedit sends WM_CLOSE - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21150" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21150">richedit sends WM_CLOSE</a></p>
   <div class="post" id="post-160145">
    <div class="subject"><a href="#post-160145">richedit sends WM_CLOSE</a></div>
    <div class="body">hello everyone,<br />i have a richedit on my dialog (RichEdit20A).<br />pressing ESC while the richedit has the focus it sends the WM_CLOSE message to my DlgProc... this happens only if the richedit has the ES_MULTILINE style.<br />how can i avoid this? i don&#39;t want the dialog to close pressing ESC.<br /><br />blues</div>
    <div class="meta">Posted on 2005-05-17 08:10:01 by blues4u</div>
   </div>
   <div class="post" id="post-160216">
    <div class="subject"><a href="#post-160216">Re: richedit sends WM_CLOSE</a></div>
    <div class="body">you can check the control id in your dlgproc and do nothing in response to WM_CLOSE from the IDC_RICHEDIT control.</div>
    <div class="meta">Posted on 2005-05-18 18:21:37 by rdaneel</div>
   </div>
   <div class="post" id="post-160229">
    <div class="subject"><a href="#post-160229">Re: richedit sends WM_CLOSE</a></div>
    <div class="body">yes, i thought this as well, but according to the Win32 API documentation the message WM_CLOSE has no parameters (meaning both wParam and lParam are 0), so how to know from which control the WM_CLOSE comes from?<br /><br />blues</div>
    <div class="meta">Posted on 2005-05-19 03:28:02 by blues4u</div>
   </div>
   <div class="post" id="post-160255">
    <div class="subject"><a href="#post-160255">Re: richedit sends WM_CLOSE</a></div>
    <div class="body">i guess you will have to subclass that control and check it that way.&nbsp; seems like a lot of trouble though.</div>
    <div class="meta">Posted on 2005-05-19 11:50:02 by rdaneel</div>
   </div>
   <div class="post" id="post-160279">
    <div class="subject"><a href="#post-160279">Re: richedit sends WM_CLOSE</a></div>
    <div class="body">i solved the problem!<br />i do not destroy the dialog when it receives WM_CLOSE but only when it receives WM_SYSCOMMAND with notification SC_CLOSE... <br />this way it closes correctly with the &quot;X&quot; button and with Alt+F4 but it ignores the WM_CLOSE that the richedit sends automatically.<br />thanks for your help, you put me in the correct road with your first post.<br /><br />blues</div>
    <div class="meta">Posted on 2005-05-20 05:45:50 by blues4u</div>
   </div>
  </div>
 </body>
</html>
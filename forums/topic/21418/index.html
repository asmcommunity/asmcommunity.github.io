<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Setting Row Height in CustomDraw ListView - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=21418" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=21418">Setting Row Height in CustomDraw ListView</a></p>
   <div class="post" id="post-161766">
    <div class="subject"><a href="#post-161766">Setting Row Height in CustomDraw ListView</a></div>
    <div class="body"><br />I&#39;d like to set the Row Height for INDIVIDUAL ROWS of a ListView, where each Row contains MultiLines (customdrawn at the subitem stage).<br /><br />Setting the Row Height for ALL ROWS is pretty easy - this is done via the Icon size.<br />But afaik this won&#39;t work for individual rows unless you set up individual row icons.<br />That sounds like a waste of resources.<br /><br />Another way of setting the height of a Row is via the Font size.<br />Apparently, we can capture WM_SETFONT and use that to generate a WM_MEASUREITEM.<br />This simply won&#39;t do for multiline Rows.<br /><br />I note that the gamut of public sources use a fixed row size, meaning that any Rows with a single line of text are rather vacuous.. and that Rows with more lines than usual are not drawn correctly.<br /><br />Has anyone written anything like this without resorting to full OwnerDraw?<br /><br /></div>
    <div class="meta">Posted on 2005-07-07 03:25:00 by Homer</div>
   </div>
   <div class="post" id="post-161768">
    <div class="subject"><a href="#post-161768">Re: Setting Row Height in CustomDraw ListView</a></div>
    <div class="body">Here is an example of what I&#39;m talking about..<br /><br />In this example, I am overriding the drawing of Selected Item&#39;s SubItem Zero..<br />I have forced the Icon size to 16x64 to increase the Row heights.<br />I fetch the subitem text and make a multiline string from it by duplicating it a couple of times with crlf&#39;s inbetween.. then I Draw it myself.<br /><br />As you can see, multi line output in a single row is possible.<br />I&#39;ve seen custom listviews which had clickable URLs mixed with plaintext lines.<br />How was that achieved?<br />For that matter, how can I replace arbitrary subitems with arbitrary subclassed controls?<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=735" target="_blank">listview.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-07-07 04:44:39 by Homer</div>
   </div>
   <div class="post" id="post-161776">
    <div class="subject"><a href="#post-161776">Re: Setting Row Height in CustomDraw ListView</a></div>
    <div class="body">I think the only solution to making a highly customizable listview (variable row height, miscellaneous controls as items/subitems, etc.) is to craft your own.<br />Create &#39;rows&#39; (within some container) out of simple controls which will act as a container to other controls that might be placed on the &#39;row&#39;. Append scrollbar to it. And there you go - your own highly customizable listview.? :D <br /></div>
    <div class="meta">Posted on 2005-07-07 17:20:11 by arafel</div>
   </div>
   <div class="post" id="post-161789">
    <div class="subject"><a href="#post-161789">Re: Setting Row Height in CustomDraw ListView</a></div>
    <div class="body">That wasn&#39;t the answer I sought :P<br /><br />In other postings on this board I have read of (example) ComboBox controls being childed to a ListView. That sounds like cheating. It sounds like something I did with tabbed controls once.<br /><br />Regardless, if I was to OwnerDraw the control rather than CustomDraw it, I then can build that kind of arbitrary control, and still take advantage of the listview comctl to keep track of the items and subitems.. but I wanted to avoid that if possible.<br /><br />What are the popular workarounds?<br /></div>
    <div class="meta">Posted on 2005-07-07 22:11:14 by Homer</div>
   </div>
  </div>
 </body>
</html>
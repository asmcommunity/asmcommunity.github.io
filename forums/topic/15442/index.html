<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to block for a certain period of time - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15442" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15442">How to block for a certain period of time</a></p>
   <div class="post" id="post-119958">
    <div class="subject"><a href="#post-119958">How to block for a certain period of time</a></div>
    <div class="body">How to let a thread block for a certain period of time without calling Sleep, without using timer and without taking much CPU time?</div>
    <div class="meta">Posted on 2003-09-29 11:18:15 by optimus</div>
   </div>
   <div class="post" id="post-119965">
    <div class="subject"><a href="#post-119965">How to block for a certain period of time</a></div>
    <div class="body">Sleep/SleepEx are good... you could make an unsignaled event object and WaitForSingleObject if you really don't want to use Sleep, but unless you must wait on some object too, this would be sort of silly.</div>
    <div class="meta">Posted on 2003-09-29 11:30:03 by f0dder</div>
   </div>
   <div class="post" id="post-119970">
    <div class="subject"><a href="#post-119970">How to block for a certain period of time</a></div>
    <div class="body">oic. i just re-wrote my program, and it works now.<br /><br />btw: if i wanna have a high-accurate timer (e.g. , to let my code running every 1us), is it possible with out writing sth like a driver?</div>
    <div class="meta">Posted on 2003-09-29 11:45:00 by optimus</div>
   </div>
   <div class="post" id="post-119972">
    <div class="subject"><a href="#post-119972">How to block for a certain period of time</a></div>
    <div class="body">hm, microsecond accuracy under a generic multitasking OS with PC hardware? Ick! - what would you need this for?</div>
    <div class="meta">Posted on 2003-09-29 11:49:06 by f0dder</div>
   </div>
   <div class="post" id="post-119974">
    <div class="subject"><a href="#post-119974">How to block for a certain period of time</a></div>
    <div class="body">to implement real-time emulation in my 8051 emulator software.<br />(a traditional 8051 runs an instruction in 1us)</div>
    <div class="meta">Posted on 2003-09-29 11:51:16 by optimus</div>
   </div>
   <div class="post" id="post-119978">
    <div class="subject"><a href="#post-119978">How to block for a certain period of time</a></div>
    <div class="body">hm, I think it would be pretty hard to achieve 1us accuracy... might be possible, as long as you don't try to run anything &quot;critical&quot;.</div>
    <div class="meta">Posted on 2003-09-29 11:56:57 by f0dder</div>
   </div>
   <div class="post" id="post-119980">
    <div class="subject"><a href="#post-119980">How to block for a certain period of time</a></div>
    <div class="body">yes, my app only requires soft-real-time, just as accurate as 1 us.</div>
    <div class="meta">Posted on 2003-09-29 12:00:55 by optimus</div>
   </div>
   <div class="post" id="post-119983">
    <div class="subject"><a href="#post-119983">How to block for a certain period of time</a></div>
    <div class="body">waiting for a good solution...</div>
    <div class="meta">Posted on 2003-09-29 12:14:37 by optimus</div>
   </div>
   <div class="post" id="post-119984">
    <div class="subject"><a href="#post-119984">How to block for a certain period of time</a></div>
    <div class="body">The only thing I can think of, off the top of my head, is creating a timer loop to get high-precision timing - this itself isn't an easy task, and has been debated here (and otherwhere) before. Such a loop probably won't do any Sleep(), so the app will be using 100% CPU time :)</div>
    <div class="meta">Posted on 2003-09-29 12:19:02 by f0dder</div>
   </div>
   <div class="post" id="post-120017">
    <div class="subject"><a href="#post-120017">How to block for a certain period of time</a></div>
    <div class="body">It's not really possible to achieve such timing while still allowing the user to interact with the computer without disturbing the timing. Even with a modern high speed processor, the memory speed still limits you. You'll only be able to do this with a multi-processor system where the emulator runs with all interrupts disabled on the 2nd processor.</div>
    <div class="meta">Posted on 2003-09-29 17:51:11 by Sephiroth3</div>
   </div>
   <div class="post" id="post-120038">
    <div class="subject"><a href="#post-120038">How to block for a certain period of time</a></div>
    <div class="body">This should be possible. MatLab has a utility called real time workshop, which can run a real-time program on windows. (not 1us time resolution, but 20us)</div>
    <div class="meta">Posted on 2003-09-29 21:51:38 by optimus</div>
   </div>
   <div class="post" id="post-120085">
    <div class="subject"><a href="#post-120085">How to block for a certain period of time</a></div>
    <div class="body">Well, 20?s is an entirely different matter :P You could manage that by replacing the timer interrupt handler with your own, which runs the emulator and calls the original timer interrupt every so often. 1?s might be just a bit too much, but you could try.</div>
    <div class="meta">Posted on 2003-09-30 07:42:31 by Sephiroth3</div>
   </div>
  </div>
 </body>
</html>
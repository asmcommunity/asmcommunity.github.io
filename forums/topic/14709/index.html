<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>D3D is driving me nuts... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14709" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=10">Graphics &amp; Game Development</a> &raquo; <a href="../?id=14709">D3D is driving me nuts...</a></p>
   <div class="post" id="post-113977">
    <div class="subject"><a href="#post-113977">D3D is driving me nuts...</a></div>
    <div class="body">Okay, I'm having the same problem again.  When rendering in windowed mode, the window works just fine in all circumstances, EXCEPT when it's covered by another window, or the window is resized so the display surface is no longer visible.  It was fixed for a while when I upgraded to DirectX 9.0b, but now it's gone back to doing the same thing again.<br /><br />Could anyone else check this file and see if it will work right on their system?  It's supposed to just display a rotating icosahedron with a light orbiting it.  Also, I'm including the source code, in case anyone can spot what I'm doing wrong.<br /><br /><a target="_blank" href="http://www.solfire.com/~templeton/D3DTest4b.asm">Here</a> is the code, and <a target="_blank" href="http://www.solfire.com/~templeton/D3DTest4b.exe">here</a> is the executable.</div>
    <div class="meta">Posted on 2003-08-15 11:58:18 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-113984">
    <div class="subject"><a href="#post-113984">D3D is driving me nuts...</a></div>
    <div class="body">It works fine on mine.  P4 WinXP</div>
    <div class="meta">Posted on 2003-08-15 13:26:52 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-113993">
    <div class="subject"><a href="#post-113993">D3D is driving me nuts...</a></div>
    <div class="body">Try covering the entire app window with another window, and see if it still runs.  On my system (Athlon 1.2Ghz Win XP) the entire computer comes to a halt every few seconds when the window is covered, or if the window height is reduced to 0.</div>
    <div class="meta">Posted on 2003-08-15 15:14:20 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-114014">
    <div class="subject"><a href="#post-114014">D3D is driving me nuts...</a></div>
    <div class="body">Yes, I see what you mean now.  If I have time I'll look at your code.</div>
    <div class="meta">Posted on 2003-08-15 20:20:00 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-114055">
    <div class="subject"><a href="#post-114055">D3D is driving me nuts...</a></div>
    <div class="body">Hmm... on looking back, the original source code is pretty poorly commented.<br /><br /><a target="_blank" href="http://solfire.com/~templeton/asmstuff/D3DTest4c.asm">Here's</a> the updated source, and <a target="_blank" href="http://solfire.com/~templeton/asmstuff/D3DTest4c.exe">here's</a> the updated exec.  I also updated the viewport calculation code to handle window sizing better, but it still halts the system if the window is completely occluded.</div>
    <div class="meta">Posted on 2003-08-16 08:49:38 by Tatterdemalian</div>
   </div>
   <div class="post" id="post-115246">
    <div class="subject"><a href="#post-115246">D3D is driving me nuts...</a></div>
    <div class="body"><div class="quote"><br />Hmm... on looking back, the original source code is pretty poorly commented.<br /><br /><a target="_blank" href="http://solfire.com/~templeton/asmstuff/D3DTest4c.asm">Here's</a> the updated source, and <a target="_blank" href="http://solfire.com/~templeton/asmstuff/D3DTest4c.exe">here's</a> the updated exec.  I also updated the viewport calculation code to handle window sizing better, but it still halts the system if the window is completely occluded. </div><br /><br />I see what you mean as well, (Athlon 900MHz, Win2K SP4, Radeon 9100 ) perhaps you should halt rendering and sleep whenever the window has lost focus. (Don't falme me if u already do, cuz I didnt look at ur source yet  ) :grin:</div>
    <div class="meta">Posted on 2003-08-24 10:59:59 by x86asm</div>
   </div>
   <div class="post" id="post-115248">
    <div class="subject"><a href="#post-115248">D3D is driving me nuts...</a></div>
    <div class="body"><div class="quote"><br /><br /><br />I see what you mean as well, (Athlon 900MHz, Win2K SP4, Radeon 9100 ) perhaps you should halt rendering and sleep whenever the window has lost focus. (Don't falme me if u already do, cuz I didnt look at ur source yet  ) :grin: </div><br /><br />Yes, in your rendering loop, keep testing a flag, and if the flag is set (or not set ur choice) do not render but instead pass control of the CPU back to Windows by executing the &quot;Sleep&quot; API with a &quot;0&quot; parameter (with this parameter Windows will give the rest of ur time slice to another app). That way you wont be using the CPU.</div>
    <div class="meta">Posted on 2003-08-24 11:03:34 by x86asm</div>
   </div>
  </div>
 </body>
</html>
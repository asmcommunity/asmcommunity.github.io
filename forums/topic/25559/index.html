<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>system calls - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25559" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25559">system calls</a></p>
   <div class="post" id="post-186680">
    <div class="subject"><a href="#post-186680">system calls</a></div>
    <div class="body">Hi g33ks,<br /><br />I have bought a new Intel Duo Core based APPLE MacBook with Mac OS X 10.4.6 &amp; Darwin installed. I am trying my hands on assembly language and its creating errors here. On Unix  it works well. Big assembly codes were not working, so here is the simple sample code  I tried to run. Surprised even this sweet simple code generated errors.<br /><br /><pre><code>#test.s<br />.section .data<br />.section .text<br /><br />.globl _start<br />_start:<br /><br />movl $1, %eax<br />movl $0, %ebx<br />int $0x80</code></pre><br /><br />It resulted in errors of &#39;Segment name comma&#39; something... <br /><br /><pre><code>$ as test.s -o test.o<br />test.s:2:Expected comma after segment-name<br />test.s:3:Expected comma after segment-name</code></pre><br /><br />In all, I placed comma after segment name as -<br /><br /><pre><code>#test.s<br />.section .data,<br />.section .text,<br /><br />.globl _start<br />_start:<br /><br />movl $1, %eax<br />movl $0, %ebx<br />int $0x80</code></pre><br /><br />Then, the errors got resolved but EXIT status is not the one feeded in &#39;ebx&#39; register. Its somewhat against what is expected to be...<br /><br /><pre><code>$ as test.s -o test.o<br />$ ld test.o -o test<br />$ ./test<br />$ echo $?<br />164</code></pre><br /><br />Here as far as I know the exit status should be the value of EBX register. And, it should be &#39;0&#39; in this case. So why is this bahaving eccentric. Has it something to do with INTEL DUO CORE ?? Are registers changed there ??<br /><br />Please help ... My assembly level programming is pending .. and so are some of the exploits ... <br /><br />Thanks in advance,<br />--<br />Chill &amp; Cheers!</div>
    <div class="meta">Posted on 2006-11-23 11:28:01 by nack</div>
   </div>
   <div class="post" id="post-186689">
    <div class="subject"><a href="#post-186689">Re: system calls</a></div>
    <div class="body"><div class="quote"><br />and so are some of the exploits ... <br /></div><br /><br />Hmmmmmmmmmmm?<br /></div>
    <div class="meta">Posted on 2006-11-24 00:48:12 by f0dder</div>
   </div>
   <div class="post" id="post-186716">
    <div class="subject"><a href="#post-186716">Re: system calls</a></div>
    <div class="body"><div class="quote"><br />Hmmmmmmmmmmm?<br /></div><br /><br />ya f0dder! <br />I do have some exploits that have their code in assembly .. I always have to port to unix for this job :( or to get the shellcode... <br />I am not sure, whether or not will that make any difference in INTEL Duo Core? or what to do with mach darwin ... :?<br /><br />Thanks &amp; Cheers,<br />--<br />ack<br />Vulnearbility Research Analyst</div>
    <div class="meta">Posted on 2006-11-25 03:44:45 by nack</div>
   </div>
   <div class="post" id="post-186727">
    <div class="subject"><a href="#post-186727">Re: system calls</a></div>
    <div class="body">Well, nack, I suggest you (re)read <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=20825.msg158298#msg158298"><u><strong>The Community Rules</strong></u></a>.<br /><br />Topic locked, pending deletion.<br /><br />PS: Even a &quot;Vulnerability Research Analyst&quot; would know how to read technical manuals ;)</div>
    <div class="meta">Posted on 2006-11-25 17:10:27 by SpooK</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Help me converting C++ to ASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29210" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=29210">Help me converting C++ to ASM</a></p>
   <div class="post" id="post-206300">
    <div class="subject"><a href="#post-206300">Help me converting C++ to ASM</a></div>
    <div class="body">I need your help in this... I don&#039;t know much about C++, and a friend gave me a source, but I dont understand it completely :sad:<br /><br />The most important part for me is the account parameters, so if anyone can help me becoming this source code to ASM I appreciate so much your help ;)<br /><br /><pre><code>/* Uses the exported function in Engine.dll &quot;CEntity::GetPlayerEntity&quot;, all it requires is the number of the character in your current room */<br />PVOID getPlayer(DWORD roomNumber)<br />{<br />	PVOID getPlayerEntity = GetProcAddress(GetModuleHandle(&quot;Engine.dll&quot;), &quot;?GetPlayerEntity@CEntity@@SAPAV1@J@Z&quot;);<br />	__asm push roomNumber<br />	__asm mov eax, getPlayerEntity<br />	__asm call eax<br />	__asm mov getPlayerEntity, eax<br />	return getPlayerEntity;<br />}<br /><br />/* Returns a Non-Zero Value if true, an a zero value if false (Determines if the Object is the current CPlayer using CEntity::IsLocalEntity)*/<br />bool isCurrentEntity(PVOID entity)<br />{<br />	PVOID isCurrentEntity = GetProcAddress(GetModuleHandle(&quot;Engine.dll&quot;), &quot;?IsLocalEntity@CEntity@@QAEHXZ&quot;);<br />	__asm mov ecx, entity<br />	__asm mov eax, isCurrentEntity<br />	__asm call eax<br />	__asm mov isCurrentEntity, eax<br />	return (bool)isCurrentEntity;<br />}<br /><br />/* Calls the two functions above and uses a loop to return the current CPlayer Object if there even is a current cplayer */<br />PVOID getCurrentPlayer()<br />{<br />	PVOID currentPlayer;<br />	char msg;<br />	DWORD returnVal;<br /><br />	for(int i = 0; i &lt; 20; i++)<br />	{<br />		currentPlayer = getPlayer(i);<br />		if(currentPlayer != 0)<br />		{	<br />			returnVal = isCurrentEntity(currentPlayer);<br />			if(returnVal)<br />			{<br />				return currentPlayer;<br />			}<br />		}<br />	}<br />	return 0;<br />}</code></pre><br /><br />This is for Rakion ;)<br /><br />And I&#039;m sorry for my bad english &gt;.&lt;</div>
    <div class="meta">Posted on 2008-11-12 11:27:26 by GermainR27</div>
   </div>
   <div class="post" id="post-206301">
    <div class="subject"><a href="#post-206301">Re: Help me converting C++ to ASM</a></div>
    <div class="body">Why don&#039;t you compile it and send the .exe file through a disassembler or a debugger like <a target="_blank" href="http://www.ollydbg.de/">OllyDbg</a></div>
    <div class="meta">Posted on 2008-11-12 17:06:40 by Grich</div>
   </div>
   <div class="post" id="post-206309">
    <div class="subject"><a href="#post-206309">Re: Help me converting C++ to ASM</a></div>
    <div class="body">So, what are you trying to do? Making a trainer for Serious Sam?</div>
    <div class="meta">Posted on 2008-11-13 18:27:08 by f0dder</div>
   </div>
   <div class="post" id="post-206315">
    <div class="subject"><a href="#post-206315">Re: Help me converting C++ to ASM</a></div>
    <div class="body">I just wanna make a MultiHack, but I only need the Account Parameters... and that is the code I have posted recently</div>
    <div class="meta">Posted on 2008-11-14 15:06:04 by GermainR27</div>
   </div>
   <div class="post" id="post-206319">
    <div class="subject"><a href="#post-206319">Re: Help me converting C++ to ASM</a></div>
    <div class="body">i try to translate it to masm32, but i study masm32 little time so just for reference to you.(but i have very good c++ 8))<br /><br /><pre><br />		.386<br />		.model	flat, stdcall<br />		option	casemap:none<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;headfiles and lib reference<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include		windows.inc<br />include		user32.inc<br />include		gdi32.inc<br />include		kernel32.inc<br /><br />includelib	user32.lib<br />includelib	gdi32.lib<br />includelib	kernel32.lib<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;data seg<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />		.const<br />		<br />DllName		db	&#039;Engine.dll&#039;, 0<br />FunName1	db	&#039;?GetPlayerEntity@CEntity@@SAPAV1@J@Z&#039;, 0<br />FunName2	db	&#039;?IsLocalEntity@CEntity@@QAEHXZ&#039;, 0<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;code seg<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />		.code<br />		<br />getPlayer	proc	uses ebx roomNumber:DWORD<br />		<br />		invoke	GetModuleHandle, addr DllName<br />		mov	ebx, eax<br />		invoke	GetProcAddress, ebx, addr FunName1<br />		push	roomNumber<br />		call	eax<br />		<br />		ret<br />getPlayer	endp<br /><br />isCurrentEntity	proc	uses ebx ecx entity:PVOID<br />		<br />		invoke	GetModuleHandle, addr DllName<br />		mov	ebx, eax;<br />		invoke	GetProcAddress, ebx, addr FunName1<br />		mov	ecx, entity<br />		call	eax<br />		<br />		ret<br />isCurrentEntity endp<br /><br />getCurrentPlayer	proc	uses ebx<br />			<br />			xor	ebx, ebx<br />			.while(ebx &lt; 20)<br />			<br />				invoke	getPlayer, ebx<br />				<br />				.if(eax)<br />				<br />					invoke	isCurrentEntity, eax<br />					.if(eax)<br />						jmp @F<br />					.endif<br />				.endif<br />			<br />				inc ebx<br />			.endw<br />						<br />@@:			ret<br />getCurrentPlayer	endp<br /><br />;beginning point<br />start:<br /><br />		invoke	ExitProcess, NULL<br /><br />		<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />		end start<br /></pre></div>
    <div class="meta">Posted on 2008-11-15 03:52:59 by BtryKit</div>
   </div>
   <div class="post" id="post-206320">
    <div class="subject"><a href="#post-206320">Re: Help me converting C++ to ASM</a></div>
    <div class="body">bad formatted.......look this??????????????????????<br /><br /><pre><code><br />		.386<br />		.model	flat, stdcall<br />		option	casemap:none<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;headfiles and lib reference<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />include		windows.inc<br />include		user32.inc<br />include		gdi32.inc<br />include		kernel32.inc<br /><br />includelib	user32.lib<br />includelib	gdi32.lib<br />includelib	kernel32.lib<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;data seg<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />		.const<br />		<br />DllName		db	&#039;Engine.dll&#039;, 0<br />FunName1	db	&#039;?GetPlayerEntity@CEntity@@SAPAV1@J@Z&#039;, 0<br />FunName2	db	&#039;?IsLocalEntity@CEntity@@QAEHXZ&#039;, 0<br /><br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />;code seg<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br /><br />		.code<br />		<br />getPlayer	proc	uses ebx roomNumber:DWORD<br />		<br />		invoke	GetModuleHandle, addr DllName<br />		mov	ebx, eax<br />		invoke	GetProcAddress, ebx, addr FunName1<br />		push	roomNumber<br />		call	eax<br />		<br />		ret<br />getPlayer	endp<br /><br />isCurrentEntity	proc	uses ebx ecx entity:PVOID<br />		<br />		invoke	GetModuleHandle, addr DllName<br />		mov	ebx, eax;<br />		invoke	GetProcAddress, ebx, addr FunName1<br />		mov	ecx, entity<br />		call	eax<br />		<br />		ret<br />isCurrentEntity endp<br /><br />getCurrentPlayer	proc	uses ebx<br />			<br />			xor	ebx, ebx<br />			.while(ebx &lt; 20)<br />			<br />				invoke	getPlayer, ebx<br />				<br />				.if(eax)<br />				<br />					invoke	isCurrentEntity, eax<br />					.if(eax)<br />						jmp @F<br />					.endif<br />				.endif<br />			<br />				inc ebx<br />			.endw<br />						<br />@@:			ret<br />getCurrentPlayer	endp<br /><br />;beginning point<br />start:<br /><br />		invoke	ExitProcess, NULL<br /><br />		<br />;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;<br />		end start<br /></code></pre></div>
    <div class="meta">Posted on 2008-11-15 03:56:59 by BtryKit</div>
   </div>
   <div class="post" id="post-206321">
    <div class="subject"><a href="#post-206321">Re: Help me converting C++ to ASM</a></div>
    <div class="body">why? how to adjust formatt???????&nbsp; :shock:</div>
    <div class="meta">Posted on 2008-11-15 03:58:42 by BtryKit</div>
   </div>
   <div class="post" id="post-206325">
    <div class="subject"><a href="#post-206325">Re: Help me converting C++ to ASM</a></div>
    <div class="body">Thanks a lot :P<br /><br />I&#039;ll test it later, thanks ;)</div>
    <div class="meta">Posted on 2008-11-15 08:56:22 by GermainR27</div>
   </div>
  </div>
 </body>
</html>
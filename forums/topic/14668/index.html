<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Using numbers inside irp - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=14668" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=14668">Using numbers inside irp</a></p>
   <div class="post" id="post-113615">
    <div class="subject"><a href="#post-113615">Using numbers inside irp</a></div>
    <div class="body">I wander how could I use<br />integer (or other numeric params) with irp.<br />I usualy used string and had no problems,<br />lately I tried to write a macro that would<br />set bits indexes of wich specified in param with VARARG.<br />I tried this way:<br /><pre><code><br />  sbits macro bits&#58;VARARG<br />  result=0<br />   irp n,bits<br />   ind = 1 SHL n<br />   result = result OR ind<br />   endm<br />  exitm %result<br />  endm<br /></code></pre><br />But I got error warning from MASM about integer usage.<br /><br />I'm pretty sure about the end.<br />'Cause I wrote lots of macs like this<br />(set bits in spesified ranged of least and most segnificant<br />set)<br /><pre><code><br />stmb macro msb,lsb<br />	exitm %&#40;0-&#40;1 SHL lsb&#41;&#41; AND &#40;&#40;1 SHL &#40;msb+1&#41;&#41;-1&#41;<br />endm<br /></code></pre><br /><br />So I think I did something wrong in this part<br /><pre><code><br />   irp n,bits<br />   ind = 1 SHL n<br />   result = result OR ind<br />   endm<br /></code></pre><br /><br />Could you help, please.<br />I must admit I'm quite a dummy in macro writing :)</div>
    <div class="meta">Posted on 2003-08-11 09:43:24 by The Svin</div>
   </div>
   <div class="post" id="post-113618">
    <div class="subject"><a href="#post-113618">Using numbers inside irp</a></div>
    <div class="body">The problem is solved.</div>
    <div class="meta">Posted on 2003-08-11 10:16:51 by The Svin</div>
   </div>
  </div>
 </body>
</html>
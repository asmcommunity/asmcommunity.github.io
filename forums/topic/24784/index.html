<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Import library to module definition file converter - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24784" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24784">Import library to module definition file converter</a></p>
   <div class="post" id="post-181100">
    <div class="subject"><a href="#post-181100">Import library to module definition file converter</a></div>
    <div class="body">Here is the first version of my new tool import library to module definition file converter, lib2def<br /><br />The tool extracts module definition files from MS COFF import libraries:<br /><br /><pre><code>lib2def kernel32.lib</code></pre><br /><br />Output :<br /><br /><pre><code>LIBRARY kernel32<br />EXPORTS<br />&quot;_AddAtomA@4&quot;<br />&quot;_AddAtomW@4&quot;<br />&quot;_AllocConsole@0&quot;<br />.<br />.<br /></code></pre><br />lib2def accepts wildcards like *.lib</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2054" target="_blank">lib2def20.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-05-27 16:06:59 by Vortex</div>
   </div>
   <div class="post" id="post-181797">
    <div class="subject"><a href="#post-181797">Re: Import library to module definition file converter</a></div>
    <div class="body"><u>Version 1.1</u><br /><br />- In some rare situations, the tool didn&#39;t filter the symbols <span class="mono">_IMPORT_DESCRIPTOR_</span> and <span class="mono">_NULL_THUNK_DATA</span> , bug fixed<br />- Functions names without leading underscore were not written correctly, bug fixed</div>
    <div class="meta">Posted on 2006-06-14 14:49:31 by Vortex</div>
   </div>
   <div class="post" id="post-181832">
    <div class="subject"><a href="#post-181832">Re: Import library to module definition file converter</a></div>
    <div class="body">Do you by any chance know the format of *.pch files?<br /><br />An idea is to make a pch2inc converter. Given that pch files are preparsed header files, there would be no headache with parsing. There would be only a definitive binary format to convert from.</div>
    <div class="meta">Posted on 2006-06-14 20:23:40 by comrade</div>
   </div>
   <div class="post" id="post-181859">
    <div class="subject"><a href="#post-181859">Re: Import library to module definition file converter</a></div>
    <div class="body">Hi comrade,<br /> <br />Sorry, I don&#39;t know anything about the <span class="mono">pch</span> format. Maybe, you can search it in wotsit :<br /><br />http://www.wotsit.org/</div>
    <div class="meta">Posted on 2006-06-15 04:54:35 by Vortex</div>
   </div>
   <div class="post" id="post-181890">
    <div class="subject"><a href="#post-181890">Re: Import library to module definition file converter</a></div>
    <div class="body">I tried many sources, including wotsit, but with no luck :(</div>
    <div class="meta">Posted on 2006-06-15 14:00:40 by comrade</div>
   </div>
   <div class="post" id="post-181891">
    <div class="subject"><a href="#post-181891">Re: Import library to module definition file converter</a></div>
    <div class="body">comrade, I doubt you will find any official info on it - just like it&#39;s hard to find anything on .pdb files. What do you need it for anyway? The information in .pch files won&#39;t be very modular, I&#39;m afraid...<br /></div>
    <div class="meta">Posted on 2006-06-15 14:16:31 by f0dder</div>
   </div>
   <div class="post" id="post-181915">
    <div class="subject"><a href="#post-181915">Re: Import library to module definition file converter</a></div>
    <div class="body">I have a fair bit of info on PDB files, but on PCH I come up short - I <em>can</em> tell you where you need not look (because it isn&#39;t there):<br /><br />1) The Microsoft PE and COFF Specification (Revision 6.0)<br />2) Tool Interface Standard (TIS) Formats Specification for Windows (Version 1.0)<br /><br />The second file is where I would expect to find this information, but no luck. Note that these are both fairly old, but are the most recent versions of the files that I could find.<br /><br />I know that didn&#39;t help, but hopefully it will prevent you wasting time trying to find files that won&#39;t help. (I can provide copies of either or both files on request for you to check yourself.)<br /><br />Ossa</div>
    <div class="meta">Posted on 2006-06-15 20:49:17 by Ossa</div>
   </div>
   <div class="post" id="post-181917">
    <div class="subject"><a href="#post-181917">Re: Import library to module definition file converter</a></div>
    <div class="body">You can use the Debugging Tools library from Microsoft to read PDB files. Check the interfaces inside dbgeng.dll</div>
    <div class="meta">Posted on 2006-06-15 23:10:50 by comrade</div>
   </div>
   <div class="post" id="post-182241">
    <div class="subject"><a href="#post-182241">Re: Import library to module definition file converter</a></div>
    <div class="body">Comrade,<br />Email this dude...<br /><br />mpulver AT midiwall.com<br /><br />He is documenting the Nord PCH File Format.<br /><br />Paul<br /></div>
    <div class="meta">Posted on 2006-06-20 22:18:23 by PBrennick</div>
   </div>
   <div class="post" id="post-182249">
    <div class="subject"><a href="#post-182249">Re: Import library to module definition file converter</a></div>
    <div class="body">PBrennick, thanks for the tip, but i think the guy is working on some different PCH :) It has something to do with sound synthesizers. The program that uses this file extension is <a target="_blank" href="http://www.clavia.se/nordmodular/">Nord Modular</a></div>
    <div class="meta">Posted on 2006-06-21 00:30:58 by comrade</div>
   </div>
   <div class="post" id="post-182250">
    <div class="subject"><a href="#post-182250">Re: Import library to module definition file converter</a></div>
    <div class="body">Btw, Vortex, the public PDB symbols from microsoft also contain TYPE information. So if you can hook dat stuff up, you can probably make some insane pdb2inc that can also generate structs.</div>
    <div class="meta">Posted on 2006-06-21 00:32:00 by comrade</div>
   </div>
   <div class="post" id="post-185006">
    <div class="subject"><a href="#post-185006">Re: Import library to module definition file converter</a></div>
    <div class="body"><u>Version 2.0</u><br /><br />- The tool couldn&#39;t filter C++ functions in some cases, bug fixed.<br /><br />New version uploaded at the first posting.</div>
    <div class="meta">Posted on 2006-09-02 03:33:51 by Vortex</div>
   </div>
   <div class="post" id="post-187186">
    <div class="subject"><a href="#post-187186">Re: Import library to module definition file converter</a></div>
    <div class="body"><u>Version 2.1</u><br /><br />- Fixed bug with some FASTCALL functions<br /><br />http://vortex.masmcode.com/files/lib2def21.zip</div>
    <div class="meta">Posted on 2006-12-29 14:00:13 by Vortex</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Has anyone ever sorted structures - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2308" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2308">Has anyone ever sorted structures</a></p>
   <div class="post" id="post-14585">
    <div class="subject"><a href="#post-14585">Has anyone ever sorted structures</a></div>
    <div class="body">Hi everyone<br /><br />I was wondering if anyone has ever sorted an array of structures<br />(Like Lastname alphabetically)<br />I'm doing it using Visual C as my assembler, <br />Masm32 code would be just as cool,<br />What is strcmp in Masm32?<br /><br />Part of my problem I bet is my algorithm and me too!<br /><br />but I notice in my output only my lastname, and only once at that get's switched<br /><br />Here is my code<br /><br />sort::<br />     push ebp<br />     mov  ebp,esp<br />	 sub  esp,8<br />     lea edx,names1<br />	 put_ch 0ah<br />	 push edx<br />	 ;put_str <br />	 pop edx<br />     mov edi,0<br />     <br />outer:                                    <br />     mov esi,0<br />    <br />inner: <br /><br />    <br />     add edx,esi<br />     mov ebx,edx<br />	<br />     add ebx,36<br />	 push ebx<br />	 push edx<br />     call strcmp<br />	 pop edx<br />	 pop ebx<br /><br />	 cmp eax,1<br />	 je swap<br />     <br />inc_inner:  <br />     add esi,36<br />     cmp esi,108                  <br />     jl inner<br />     inc edi<br />     cmp edi,3<br />     jl outer<br />       <br />mov esp,ebp<br />	  pop ebp<br />	  ret<br /><br /><br />swap:<br />      mov eax,dword ptr<br />	  mov ecx,dword ptr<br />	  mov dword ptr,ecx<br />	  mov dword ptr ,eax<br />      jmp inner<br /><br />My Output<br /><br />before sort routine<br /><br />Randy Feckwith 19<br /><br />Candy Beckwith 29<br /><br />Dandy Aeckwith 39<br /><br />after sort routine<br /><br /><br />Randy Beckwith 19<br /><br />Candy Aeckwith 29<br /><br />Dandy  39<br /><br /><br />:stupid:</div>
    <div class="meta">Posted on 2001-12-10 22:46:21 by andy981</div>
   </div>
   <div class="post" id="post-14587">
    <div class="subject"><a href="#post-14587">Has anyone ever sorted structures</a></div>
    <div class="body">You can use QuickSort to sort just about anything.  All you need to write is an algo that returns: 0=Equal, 1=Greater, -1=Less.  Then you just pass an array of pointers to the structures.  I'd post my code, but I don't have a pretty example demostrating it's use.  Damn I need to get my code together one of these days.  ;)  If your still interested I'll post it.<br /><br /><strong>Edit</strong>: I don't mean to tease.  Here is a messy test...it worked last time I looked. ;)<br /><br /><strong>Edit</strong>: <strong>Edit</strong>: I've heard from others that my code is hard to follow unless you already understand QuickSort?</div>
    <div class="meta">Posted on 2001-12-10 23:25:04 by bitRAKE</div>
   </div>
   <div class="post" id="post-14588">
    <div class="subject"><a href="#post-14588">I Love to see that example</a></div>
    <div class="body">I don't care if there not pretty, <br />Prettier than what my compiler churns out,<br /><br />We need a section called the &quot;Hex Alley&quot; or &quot;The Big Hex Dump&quot; here where<br />people can post what they feel is un pretty code,<br /><br />The other night I combined a C cgi with an assembler procedure<br />A lot of just experamental junk,<br /> But something I would like to seen ,If I had'nt made it my self.<br /><br />Yes If you can post it or send an attachment I Love to see it<br /><br />THanks<br /><br />Andy:)</div>
    <div class="meta">Posted on 2001-12-10 23:32:19 by andy981</div>
   </div>
   <div class="post" id="post-14589">
    <div class="subject"><a href="#post-14589">You must have posted  that</a></div>
    <div class="body">You must have posted that<br />While I was writing my last post<br /><br />Thanks<br />Andy</div>
    <div class="meta">Posted on 2001-12-10 23:36:43 by andy981</div>
   </div>
   <div class="post" id="post-14590">
    <div class="subject"><a href="#post-14590">Has anyone ever sorted structures</a></div>
    <div class="body">Given that, it's most likely easy for you to follow.  :)  Just write a COMPARE macro to replace the one that is there.  The macro should exit with the flags set for a three-way branch (<strong>&lt;</strong>,<strong>=</strong>,<strong>&gt;</strong>).</div>
    <div class="meta">Posted on 2001-12-10 23:37:33 by bitRAKE</div>
   </div>
   <div class="post" id="post-14593">
    <div class="subject"><a href="#post-14593">WEll</a></div>
    <div class="body">Be honest it's a little hard for me to follow, <br />I'm not good with windows, so I just go cgi<br />Console Mode!<br />but I did see this <br /><br />invoke QuickSort, ADDR ArrayData, 0, 15<br /><br />I'm hoping to someone has some more primitive stuff,<br />But I do look at window material too.<br /><br />I wonder how one can get Masm32 libraires to mix Visual C<br />so you write assembly procedures with Masm32 and havem <br />hook up to Visual C programs.<br /><br />Evertime I try I get 101 errors, really!<br /><br />But it must be the way I'm doing it<br /><br />Oh well it's Late here <br /><br />THanks Bit Rake<br /><br />I really like seeing whatever code I can see,<br />Everyday it makes more sense<br /><br />Andy<br /><br /><br /><br /><br /><br /><br /><br />:)</div>
    <div class="meta">Posted on 2001-12-10 23:57:01 by andy981</div>
   </div>
   <div class="post" id="post-14596">
    <div class="subject"><a href="#post-14596">Has anyone ever sorted structures</a></div>
    <div class="body">QuickSort takes the pointer to the array and the first and last index that you want sorted - you could do a partial sort that way.  The macro is all in the end of the file.  I didn't write the popup windows code - that came from <strong>Hutch--</strong> (thx!).  I'll write the lastname COMPARE macro tomorrow.  Sleep comes now.  :)</div>
    <div class="meta">Posted on 2001-12-11 00:10:00 by bitRAKE</div>
   </div>
   <div class="post" id="post-14763">
    <div class="subject"><a href="#post-14763">Hi BitRake</a></div>
    <div class="body">Hi Bitrake<br /><br />I finished my assembly exam today, It tired me out,<br />If you want you too still<br />   I'd  liked to see that lastname COMPARE macro, <br />(It'll be really mentally digestable on a console project, then I could view it as a cgi)<br />   Off hand do you know , the Masm32 syntex to accomplish in<br />Visual C<br /><br />push ebx <br />push edx <br />call strcmp <br /><br />it must be something like<br />invoke strcmp, string1,string2<br /><br />Then I'd write what I have in Masm32,<br />But I really want to learn is how to access these Masm32 libraries in Visual C, Or get a better handle on C calls in assembly<br />So I can write killer asm procedures, to add to C programs particularly in loops, that where you have problems,<br /><br />Well whatever you decide <br />Thanks for all the help you've given me so far,<br /><br />By the way do you like writing CGIs<br />I do!<br /><br />Andy<br /><br />  :)</div>
    <div class="meta">Posted on 2001-12-12 20:14:01 by andy981</div>
   </div>
   <div class="post" id="post-14772">
    <div class="subject"><a href="#post-14772">Has anyone ever sorted structures</a></div>
    <div class="body">I just noticed <strong>Hutch--</strong> has included a QuickSort in the new MASM32 package - it is quite good, and should be used.  I haven't done any CGI, and I'm not interested in C unless it's for convertion to ASM.   :)</div>
    <div class="meta">Posted on 2001-12-12 22:56:36 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
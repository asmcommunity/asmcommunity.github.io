<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Does anyone know where serial.... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16675" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16675">Does anyone know where serial....</a></p>
   <div class="post" id="post-129557">
    <div class="subject"><a href="#post-129557">Does anyone know where serial....</a></div>
    <div class="body">where the serial interrupt ties in? A long time ago I wrote a protected mode operating system on '286. It was very simple and I was using it only to run a 55 AA memory test on expanded and extended memory. There were alot of memory failures in those days. Anyway I did write a keyBd handler for it and if I remember correctly it appeared at the same vector in the new IDT as the old real mode interrupt vector table. If this is the case than the two serial port interrupts being software interrupts 0C and 0B would share the IDT vectors with Segment not present and Stack segment fault. I did some research and found two sources that said there was only one serial interrupt at 14h in the IDT. If this is the case than how are they being redirected? Is it through the interrupt redirection bitmap. Can I still hook the two through vectors 0B and 0C? cornfused:(</div>
    <div class="meta">Posted on 2004-01-01 20:00:23 by mrgone</div>
   </div>
   <div class="post" id="post-129567">
    <div class="subject"><a href="#post-129567">Does anyone know where serial....</a></div>
    <div class="body">AFAIK <br /><br />COM1/COM3 use IRQ4 redirected to int 24h in SOL OS via IDT table<br />COM2/COM4 should use IRQ3<br /><br />And you are not expected to hook any INT vectors directly in Windows OS</div>
    <div class="meta">Posted on 2004-01-01 21:45:48 by BogdanOntanu</div>
   </div>
   <div class="post" id="post-129568">
    <div class="subject"><a href="#post-129568">Thank you Bogdan</a></div>
    <div class="body">Those are hardware IRQ's in the APIC. I know I'm not expected to, but surprize....lol.<br />No it's not hard to hook them. Just like DOS. SIDT gives address. In fact it directly follows GDT. You see the real problem I'm having is when I read a serial port I always get &quot;ff&quot;. Well they could be doing any number of things like changing the DLAB in the USART to masking it with the APIC. I want to catch the interrupt since I know it will be properly setup or initialized.</div>
    <div class="meta">Posted on 2004-01-01 21:58:22 by mrgone</div>
   </div>
  </div>
 </body>
</html>
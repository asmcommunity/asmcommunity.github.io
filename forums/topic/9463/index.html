<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>the best registers to use  ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=9463" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=9463">the best registers to use  ?</a></p>
   <div class="post" id="post-70012">
    <div class="subject"><a href="#post-70012">the best registers to use  ?</a></div>
    <div class="body">anybody can tell me about the best use of registers i mean the fastes in differend situation.</div>
    <div class="meta">Posted on 2002-12-09 06:01:37 by drakoforma</div>
   </div>
   <div class="post" id="post-70020">
    <div class="subject"><a href="#post-70020">the best registers to use  ?</a></div>
    <div class="body">All registers are equally fast to access but 'esp' can sometimes generate a larger opcode (in for example mov eax,  i think).</div>
    <div class="meta">Posted on 2002-12-09 06:51:13 by gliptic</div>
   </div>
   <div class="post" id="post-70033">
    <div class="subject"><a href="#post-70033">the best registers to use  ?</a></div>
    <div class="body">eax has been optimized for size and speed if I'm not wrong in arithmetical operations :<br /><br /><br />add eax, 401000<br /><br />05 00 10 40 00    ; 5 bytes<br /><br />add ecx, 401000<br /><br />81 C1 00 10 40 00   ; 6 bytes<br /><br />cmp eax, 12345<br /><br />3D 45 23 01 00     ; 5 bytes<br /><br />cmp ecx, 12345<br /><br />81 F9 45 23 01 00   ; 6 bytes<br /><br />[...]<br /><br />However, &quot;cmp eax, 12&quot; and &quot;cmp ecx, 12&quot; are equal lengh because when an 8 bits displacement follows the opcode it isn't optimised like the above (32 bits displacement)</div>
    <div class="meta">Posted on 2002-12-09 07:53:32 by Axial</div>
   </div>
   <div class="post" id="post-70034">
    <div class="subject"><a href="#post-70034">the best registers to use  ?</a></div>
    <div class="body">ALU ops on eax often have a smaller encoding (e.g. mov eax, 1234 doesn't require a ModR/M byte);<br />the Win32 calling convention lets you modify eax, ecx, edx (ebx, esi, edi, esp, ebp must be saved/restored).</div>
    <div class="meta">Posted on 2002-12-09 07:54:31 by Jan Wassenberg</div>
   </div>
   <div class="post" id="post-70057">
    <div class="subject"><a href="#post-70057">the best registers to use  ?</a></div>
    <div class="body"><div class="quote"><br />ALU ops on eax often have a smaller encoding (e.g. mov eax, 1234 doesn't require a ModR/M byte);<br /></div><br /><br />none of the -type ops require a ModR/M byte</div>
    <div class="meta">Posted on 2002-12-09 10:15:27 by longer</div>
   </div>
   <div class="post" id="post-70064">
    <div class="subject"><a href="#post-70064">the best registers to use  ?</a></div>
    <div class="body">That's true - mov was a bad example.<br />mov -&gt; cmp, add etc.</div>
    <div class="meta">Posted on 2002-12-09 11:31:36 by Jan Wassenberg</div>
   </div>
   <div class="post" id="post-70069">
    <div class="subject"><a href="#post-70069">Re: the best registers to use  ?</a></div>
    <div class="body"><div class="quote"><br />anybody can tell me about the best use of registers i mean the fastes in differend situation. </div><br /><br />I think you mean the frequently used registers:eax,ebx,ecx,edx,edi,esi,ebp :)</div>
    <div class="meta">Posted on 2002-12-09 12:40:39 by Vortex</div>
   </div>
   <div class="post" id="post-70191">
    <div class="subject"><a href="#post-70191">the best registers to use  ?</a></div>
    <div class="body">thx PPL</div>
    <div class="meta">Posted on 2002-12-10 06:36:16 by drakoforma</div>
   </div>
   <div class="post" id="post-70435">
    <div class="subject"><a href="#post-70435">the best registers to use  ?</a></div>
    <div class="body">Different registers are supposed to have different uses and sometimes when the appropiate registers are used with certain opcodes, the resulting size would be smaller. For example, xchg ebx, ecx takes 2 bytes, while xchg eax,ecx takes 1 byte. This is due to the fact that xchg opcode is optmised (well sort of) to be used with the eax and ax. I could give other examples, such as the opcode 'and'.</div>
    <div class="meta">Posted on 2002-12-11 07:25:22 by roticv</div>
   </div>
   <div class="post" id="post-70441">
    <div class="subject"><a href="#post-70441">the best registers to use  ?</a></div>
    <div class="body"><div class="quote"><br />Different registers are supposed to have different uses and sometimes when the appropiate registers are used with certain opcodes, the resulting size would be smaller. For example, xchg ebx, ecx takes 2 bytes, while xchg eax,ecx takes 1 byte. This is due to the fact that xchg opcode is optmised (well sort of) to be used with the eax and ax. I could give other examples, such as the opcode 'and'. </div><br /><br /><br /><br /> I was looking for that wher can i find more about this ?</div>
    <div class="meta">Posted on 2002-12-11 07:37:28 by drakoforma</div>
   </div>
   <div class="post" id="post-70452">
    <div class="subject"><a href="#post-70452">the best registers to use  ?</a></div>
    <div class="body">Have a look into the intel instruction doument. I have attached a printscreen of it. Hope you will get what is on the image :rolleyes:</div>
    <div class="meta">Posted on 2002-12-11 08:03:20 by roticv</div>
   </div>
  </div>
 </body>
</html>
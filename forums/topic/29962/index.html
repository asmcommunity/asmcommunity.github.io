<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>The hard way - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=29962" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=12">The Heap</a> &raquo; <a href="../?id=29962">The hard way</a></p>
   <div class="post" id="post-211550">
    <div class="subject"><a href="#post-211550">The hard way</a></div>
    <div class="body">I have some code I would like to convert to masm.<br />(I think it is C++.)<br /><br />I will post a little at a time if someone can help me.<br />The code detects usb devices plugged in.<br /><br />The &quot;asterisked&quot; ones are what I can&#039;t convert.<br /><br />Thanks.<br /><br />push 74<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />** PUSH OFFSET HWDetect.00404D78<br /><br />** CALL 0040398C<br /><br />xor ebx,ebx<br /><br />** MOV DWORD PTR SS:,EBX<br /></div>
    <div class="meta">Posted on 2010-05-02 07:19:47 by skywalker</div>
   </div>
   <div class="post" id="post-211551">
    <div class="subject"><a href="#post-211551">Re: The hard way</a></div>
    <div class="body">Are you allowed to &quot;convert&quot; someone&#039;s disassembled code?</div>
    <div class="meta">Posted on 2010-05-02 07:22:06 by ti_mo_n</div>
   </div>
   <div class="post" id="post-211554">
    <div class="subject"><a href="#post-211554">Re: The hard way</a></div>
    <div class="body"><div class="quote"><br />Are you allowed to &quot;convert&quot; someone&#039;s disassembled code?<br /></div><br /><br />Yes, the code and executable was posted on Code Project.<br />The program is only 44K, so I hope that it won&#039;t take too long.<br /><br />I disassembled his C++ code.<br /><br />IDA made a very large asm file, but I decided that using Ollydbg would be shorter as it has far fewer<br />statements to convert.<br /><br /></div>
    <div class="meta">Posted on 2010-05-02 08:29:40 by skywalker</div>
   </div>
   <div class="post" id="post-211557">
    <div class="subject"><a href="#post-211557">Re: The hard way</a></div>
    <div class="body">Disassembling C++ code is pretty much the worst way to convert it... use the code as-is, or understand what it&#039;s doing and port it to assembly.</div>
    <div class="meta">Posted on 2010-05-02 10:25:56 by f0dder</div>
   </div>
   <div class="post" id="post-211558">
    <div class="subject"><a href="#post-211558">Re: The hard way</a></div>
    <div class="body"><div class="quote"><br />use the code as-is, or understand what it&#039;s doing and port it to assembly.<br /></div><br /><br />Or pipe it through <a target="_blank" href="http://llvm.org/docs/CommandGuide/html/llvmgcc.html">llvm-gcc</a> and output to ASM :idea:</div>
    <div class="meta">Posted on 2010-05-02 13:02:49 by SpooK</div>
   </div>
   <div class="post" id="post-211559">
    <div class="subject"><a href="#post-211559">Re: The hard way</a></div>
    <div class="body"><div class="quote"><br /><div class="quote"><br />use the code as-is, or understand what it&#039;s doing and port it to assembly.<br /></div><br /><br />Or pipe it through <a target="_blank" href="http://llvm.org/docs/CommandGuide/html/llvmgcc.html">llvm-gcc</a> and output to ASM :idea:<br /></div>Still a bad idea, really - why do a compile-to-asm (or disassemble-from-compiled-c++) step when you can just link against compiled C++? Both those &quot;solutions&quot; give you unmaintainable, incomprehensible junk.</div>
    <div class="meta">Posted on 2010-05-02 14:53:10 by f0dder</div>
   </div>
   <div class="post" id="post-211560">
    <div class="subject"><a href="#post-211560">Re: The hard way</a></div>
    <div class="body"><div class="quote"><br />Disassembling C++ code is pretty much the worst way to convert it... use the code as-is, or understand what it&#039;s doing and port it to assembly.<br /></div><br /><br />The code requires an external dll not normally found on NT systems.<br /><br />There has to be a way to do it with a single executable.<br /><br /></div>
    <div class="meta">Posted on 2010-05-02 18:27:31 by skywalker</div>
   </div>
   <div class="post" id="post-211561">
    <div class="subject"><a href="#post-211561">Re: The hard way</a></div>
    <div class="body">Perhaps you should post a link to the CodeProject article+code - it&#039;s pretty hard to comment further without knowing any context... there&#039;s no way one could say anything about the two lines of code in your first post without sitting with the entire disassembly and spending a crazy amount of time.</div>
    <div class="meta">Posted on 2010-05-03 00:52:14 by f0dder</div>
   </div>
  </div>
 </body>
</html>
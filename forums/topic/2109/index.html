<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>easy question - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2109" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=2109">easy question</a></p>
   <div class="post" id="post-13406">
    <div class="subject"><a href="#post-13406">easy question</a></div>
    <div class="body">I have trapped the WM_Create message and I need to get at the nWidth and nHeight members of the CREATESTRUCT that lParam points to. I'm not sure how to do this I think it is something like lParam.nWidth but that dosen't work can someone explain what I should do thank you</div>
    <div class="meta">Posted on 2001-11-28 17:13:11 by asmnewbie1</div>
   </div>
   <div class="post" id="post-13410">
    <div class="subject"><a href="#post-13410">easy question</a></div>
    <div class="body">I think you should give a name to CREATESTRUCT structure. You can put, for example, in .data section:<br /><br />struct CREATESTRUCT &lt;&gt;<br /><br />Then,<br /><br />struct.cx<br />struct.cy<br />struct.x<br />struct.y<br /><br />may be used to work with the structure.<br /><br />Hoping to be helpful,<br /><br />CodeLover.</div>
    <div class="meta">Posted on 2001-11-28 17:24:17 by CodeLover</div>
   </div>
   <div class="post" id="post-13414">
    <div class="subject"><a href="#post-13414">easy question</a></div>
    <div class="body">To take CodeLover's answer one step further, do the following inside your message handler for WM_CREATE:<br /><br /><pre><code><br />mov    esi, lParam<br />assume esi &#58; ptr CREATESTRUCT<br />mov    eax, &#91;esi&#93;.hInstance<br />...etc...<br /></code></pre><br /><br />once you have finished with esi, do this:<br /><br /><pre><code><br />assume esi &#58; nothing<br /></code></pre><br /><br /><br />by doing this, you can just use esi (or the register of your choice) as a pointer to the CREATESTRUCT struct that you are passed, and MASM will calculate all the offsets for you.</div>
    <div class="meta">Posted on 2001-11-28 18:56:32 by sluggy</div>
   </div>
  </div>
 </body>
</html>
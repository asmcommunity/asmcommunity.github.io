<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>There has to be a faster way than this.. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25324" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25324">There has to be a faster way than this..</a></p>
   <div class="post" id="post-185218">
    <div class="subject"><a href="#post-185218">There has to be a faster way than this..</a></div>
    <div class="body">I wanna scale a number down to a limited value but since shr doesn&#39;t do this with operands i find myself using this method<br />It returns the shift amount to scale down a new value relative to the original value using shr operand<br /><br /><pre><code><br />FindShiftValue proc Value:DWORD,Max:DWORD<br />	<br />	xor eax,eax<br />	mov ecx,value<br />	@@:<br />	.if ecx&gt;Max<br />		shr ecx,1<br />		inc eax<br />		jmp @b<br />	.endif<br />	ret 	<br /><br />FindShiftValue endp </code></pre><br />	<br />But having got the result it means I have to got through the same method in reverse to scale an amount down! This seems horrendously slow to me.<br />I think I&#39;m being incredibly silly here. Can anyone please point me in faster direction....<br /></div>
    <div class="meta">Posted on 2006-09-10 11:40:17 by Nice Eddie</div>
   </div>
   <div class="post" id="post-185224">
    <div class="subject"><a href="#post-185224">Re: There has to be a faster way than this..</a></div>
    <div class="body">DOH!! RTMF eh&nbsp;  :oops:<br /><br /><pre><code>D3 /5 SHR r/m16,CL Unsigned divide r/m16 by 2, CL times</code></pre><br /><br />ignore - mod please delete</div>
    <div class="meta">Posted on 2006-09-10 13:59:34 by Nice Eddie</div>
   </div>
   <div class="post" id="post-185230">
    <div class="subject"><a href="#post-185230">Re: There has to be a faster way than this..</a></div>
    <div class="body"><div class="quote"><br />ignore - mod please delete<br /></div><br /><br />I don&#39;t see any difference between how questions are solved (by yourself or someone else), as both should be made available to the public for search purposes... someone else may just come across the same problem ;)</div>
    <div class="meta">Posted on 2006-09-10 22:27:56 by SpooK</div>
   </div>
   <div class="post" id="post-185231">
    <div class="subject"><a href="#post-185231">Re: There has to be a faster way than this..</a></div>
    <div class="body">Yeah I agree, I&#39;ve often found myself answering my own questions in public forums.. the post stays put.. more generally,it seems that the best way to solve any problem is to define it, and failing that, to redefine it :)<br /></div>
    <div class="meta">Posted on 2006-09-10 23:06:37 by Homer</div>
   </div>
   <div class="post" id="post-185234">
    <div class="subject"><a href="#post-185234">Re: There has to be a faster way than this..</a></div>
    <div class="body">Curse my effective writing style!&nbsp; :lol:<br /><br />I supose you&#39;re right, im just feeling a little stupid since Ive lost count of the number of times ive screamed at (real world) friends&nbsp; &#39;Read The Flipping Manual&#39;&nbsp; :P <br /><br />Good job none of them visit here or id be getting grilled about now. ;)</div>
    <div class="meta">Posted on 2006-09-11 00:54:27 by Nice Eddie</div>
   </div>
   <div class="post" id="post-185236">
    <div class="subject"><a href="#post-185236">Re: There has to be a faster way than this..</a></div>
    <div class="body">RTFM usually helps, but sometimes it works against you when you are already too focused on a problem. The best thing to do is walk away and come back to it later, RTFM first and then work from there :)</div>
    <div class="meta">Posted on 2006-09-11 02:00:27 by SpooK</div>
   </div>
  </div>
 </body>
</html>
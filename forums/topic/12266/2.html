<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Programming here. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=12266" />
  <link rel="prev" href="../?id=12266&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=12266">Programming here.</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=12266&amp;page=1" style="">&laquo;</a><a href="../?id=12266&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12266" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-95161">
    <div class="subject"><a href="#post-95161">Programming here.</a></div>
    <div class="body">????<br /><br />i've become crazy for over a mounth to read mbr under win95, created dll's 32 and 16 bit, qt thunking and so on...<br /><br />and was so easy ???     damned me.  <br /><br />:)</div>
    <div class="meta">Posted on 2003-04-10 12:20:36 by Bit7</div>
   </div>
   <div class="post" id="post-95166">
    <div class="subject"><a href="#post-95166">Programming here.</a></div>
    <div class="body">;)</div>
    <div class="meta">Posted on 2003-04-10 12:44:01 by david</div>
   </div>
   <div class="post" id="post-95176">
    <div class="subject"><a href="#post-95176">Programming here.</a></div>
    <div class="body">You'd better disable interrupts when you access the hard drive... What if there's a thread switch in the middle of the programming of the hard drive, and the new thread accesses it? Or, it could be that the hard drive is already carrying out an operation. Use the IOS services instead</div>
    <div class="meta">Posted on 2003-04-10 13:13:53 by Sephiroth3</div>
   </div>
   <div class="post" id="post-95179">
    <div class="subject"><a href="#post-95179">Programming here.</a></div>
    <div class="body">First, as I said it is a hack, second , I never had a problem with it :grin:<br />...In ring0 I dont think you would have a problem with any of what you mention, or am I wrong?</div>
    <div class="meta">Posted on 2003-04-10 13:49:38 by david</div>
   </div>
   <div class="post" id="post-95181">
    <div class="subject"><a href="#post-95181">Programming here.</a></div>
    <div class="body">You might not have suffered problems from it, but accessing your HD like that under an operating system is like playing with fire. If you want to play with IDE programming, fine - do it from a boot sector or own little kernel.<br /><br />If you just need raw access, use thunking like bit7 said, VXD with IOS services (am I right?) like sephiroth said, or CreateFile with the special names on NT.</div>
    <div class="meta">Posted on 2003-04-10 13:56:20 by f0dder</div>
   </div>
   <div class="post" id="post-95189">
    <div class="subject"><a href="#post-95189">Programming here.</a></div>
    <div class="body">Yes, fodder and Sephiroth3, and it doesn't matter if I did knew about those methods too, <br />but 'RealVampire' wanted an example of accesing the harddrive with I/O ports. :grin:<br />I think is a perfect short lean example source code of how to do it. And I said it was a hack, <br />and that it is not a serious way of doing stuff. At the same time I have to admit it never failed me.<br /><br />Anyways, I think you're over-reacting, pls calm down guys.</div>
    <div class="meta">Posted on 2003-04-10 14:22:04 by david</div>
   </div>
   <div class="post" id="post-95199">
    <div class="subject"><a href="#post-95199">Programming here.</a></div>
    <div class="body">with something that could theoretically end up trashing data, I don't think this is overreacting. In a single-tasking environment where you have full control over everything, it's not too bad to do this.<br /><br />I guess that it _should_ be safe even in a multitasking environment, perhaps even without CLI, as the OS harddrive stuff might run with interrupts disabled - not sure which effect (u)DMA has on this though.<br /><br />You just don't do direct hardware access from a real OS.</div>
    <div class="meta">Posted on 2003-04-10 14:45:07 by f0dder</div>
   </div>
   <div class="post" id="post-95221">
    <div class="subject"><a href="#post-95221">Programming here.</a></div>
    <div class="body">just courious .. is IDT address table writable also in NT / 2K... ?  i don't think...</div>
    <div class="meta">Posted on 2003-04-10 15:31:36 by Bit7</div>
   </div>
   <div class="post" id="post-95222">
    <div class="subject"><a href="#post-95222">Programming here.</a></div>
    <div class="body">It's not.</div>
    <div class="meta">Posted on 2003-04-10 15:34:46 by david</div>
   </div>
   <div class="post" id="post-95236">
    <div class="subject"><a href="#post-95236">Programming here.</a></div>
    <div class="body">ok, to make myself a bit clear and avoid misunderstanding.<br />I'm not, as such, saying you shouldn't mess around and poke at stuff. I am, however, suggesting you should do it &quot;safely&quot;, and not mess around too much before you have a general idea of how stuff works (or at least have most of the basic prerequisite knowledge to have a general idea what you're doing). This is to keep you from crashing your computer, losing data, etc.<br /><br />Programming your harddrive with port I/O is a quite dangerous thing to do. One little slip, and you risk mayhem. If you really feel like playing with it, do yourself a favour, and write a small bootsector to put on a floppy, and do the reading there. It will make sure there's no other software interfering, so there's less risk of serious crashes.<br /><br />If you play around with ring0 (especially the hacky way of entering), be very careful - it takes so little to crash your system, and the consequences of doing that while in ring0 could be filesystem corruption. Always run sync.exe from sysinternals.com before executing ring0 code, and take great care. And do NOT call any ring3 (like win32 APIs) from ring0.<br /><br />Play safe, have fun.</div>
    <div class="meta">Posted on 2003-04-10 16:10:36 by f0dder</div>
   </div>
   <div class="post" id="post-95279">
    <div class="subject"><a href="#post-95279">Programming here.</a></div>
    <div class="body">Yeah, I've change my mind. I'll experimented it on Blank Diskette. Its too dangerous done it on HDD. Anyway, If I did not OnLine for a long time, I failed. Please check my profile see home address and get here, maybe you can find  my dying message ( before Im suicide ). :grin:</div>
    <div class="meta">Posted on 2003-04-10 19:14:12 by realvampire</div>
   </div>
   <div class="post" id="post-95410">
    <div class="subject"><a href="#post-95410">Programming here.</a></div>
    <div class="body">:)<br />you could also take a look at <a target="_blank" href="http://bochs.sourceforge.net/">http://bochs.sourceforge.net/</a> for real safe experimentation with stuff like this.</div>
    <div class="meta">Posted on 2003-04-11 01:49:06 by f0dder</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=12266&amp;page=1" style="">&laquo;</a><a href="../?id=12266&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="12266" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
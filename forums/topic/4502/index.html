<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>font resource - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4502" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=4502">font resource</a></p>
   <div class="post" id="post-31433">
    <div class="subject"><a href="#post-31433">font resource</a></div>
    <div class="body">has someone an idea how to use .ttf fonts from the resource section?<br />also i can't add .ttf fonts under FONT in the resource. i have to add it as RCDATA else the resource linker didn't compile.<br /><br />102                    FONT    &quot;xxxxxx.ttf&quot;<br />this one didn't work!<br /><br />thanks</div>
    <div class="meta">Posted on 2002-03-29 07:04:14 by adapix</div>
   </div>
   <div class="post" id="post-31569">
    <div class="subject"><a href="#post-31569">font resource</a></div>
    <div class="body">Sorry, but it does work :grin:<br /><br />Here is a working solution... But there is one drawback that I spent some time reseaching on:  You *have* to write the truetype file back to disk at one point to install it properly.  There is a cool api that would get around this, but its only available to window NT/2000/XP...<br /><br />The only *adding* api's require a *file path*, not a handle, to the font being temporarily loaded.  The api's also talk about haveing to place this ttf file ONLY in the windows system directory to work, but i found this to be wrong on windows 98SE.  I can temporarily save this font file in the local directory the EXE is found in and still work fine!  However, since Microsoft doesnt feel this is correct it may not work on all platforms if you do choose to use the local directory over the system directory.<br /><br />Anyways, if you unpack into window/system, its more likely people wont look there for it (rather look at windows/temp ).   <br /><br />Last thought on this is the unpacked fill *MUST* remain undeleted while the font is in use (ie, while the program is still running).  This means if you run this program, then load Word 97, you can select the &quot;Joy Circuit&quot; font for use ~ as windows realizes its part of its system at that moment.   There is a way to make fonts private and not recognizable, but i didnt dig that deep...  (Requires some hearer or somthing)...<br /><br />Anywho there it is, thanx for the problem ~ I enjoyed hacking at it...<br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-03-29 23:14:27 by NaN</div>
   </div>
   <div class="post" id="post-31572">
    <div class="subject"><a href="#post-31572">font resource</a></div>
    <div class="body">hey nan nice work. you saved me some time. i wanted to use some ttf font in one of my future apps.</div>
    <div class="meta">Posted on 2002-03-30 00:20:05 by smurf</div>
   </div>
   <div class="post" id="post-31575">
    <div class="subject"><a href="#post-31575">font resource</a></div>
    <div class="body">Same, its something i knew i would need to fuss with sooner or later, and since adapix was asking, i felt compelled to procrastinate some more (trying to write up my 4th year technical report on robotics ~ i hate writing in engish, ASM is far better ;) )<br /><br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-03-30 00:37:56 by NaN</div>
   </div>
   <div class="post" id="post-31588">
    <div class="subject"><a href="#post-31588">font resource</a></div>
    <div class="body">nan did it again!<br /><br />big thanks nan it works. keeping the font unrecognizable would be great so i will look at this problem and if i found a way i will tell you.<br />i thought there is a way to use it direct from the resource but it seems that writing the file back to disk is the only way to implement it in an aplication.<br />saving the file in the local directory works also on winXP maybe it doesnt work on NT/2K platforms. i have to test it!<br /><br />thanks :alright:</div>
    <div class="meta">Posted on 2002-03-30 03:31:46 by adapix</div>
   </div>
   <div class="post" id="post-31592">
    <div class="subject"><a href="#post-31592">font resource</a></div>
    <div class="body">Ya... you might be able to do this on XP.   The API that looked like the one to use was <strong>AddFontMemResourceEx</strong>.<br /><br />Found <a target="_blank" href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/gdi/fontext_23zs.asp?frame=true&amp;hidetoc=true">Here</a>. Unfortunately, its only available for XP/2000/NT.<br /><br />As for the 9x tradeoff, the way i have it written is if you chose to place it in WINDOWS/SYSTEM, users wont know its there unless they know to look there for it.. (and the dir itself is quite cluttered as is! If you name it something crazy in there, they will have a poor chance of seeing it ~~ Unless your f0dder ;)  )  When the program quits, it simply cleans it up outa there and all is well, effectively you've hidden your font.<br /><br /><br />Best of luck!<br />:alright:<br />NaN</div>
    <div class="meta">Posted on 2002-03-30 03:49:58 by NaN</div>
   </div>
   <div class="post" id="post-31725">
    <div class="subject"><a href="#post-31725">font resource</a></div>
    <div class="body">this 'AddFontMemResourceEx' is realy the api i was looking for. so i can first check which system is running and if 9x is running i do it your way else i can use the api.</div>
    <div class="meta">Posted on 2002-03-31 02:26:09 by adapix</div>
   </div>
   <div class="post" id="post-31729">
    <div class="subject"><a href="#post-31729">font resource</a></div>
    <div class="body">Ya its too bad you have to do this... :rolleyes:<br /><br />:NaN:</div>
    <div class="meta">Posted on 2002-03-31 03:02:41 by NaN</div>
   </div>
  </div>
 </body>
</html>
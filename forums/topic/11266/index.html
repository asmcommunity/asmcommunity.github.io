<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>calling standard C library functions from asm - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11266" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11266">calling standard C library functions from asm</a></p>
   <div class="post" id="post-84948">
    <div class="subject"><a href="#post-84948">calling standard C library functions from asm</a></div>
    <div class="body">hi there,<br /><br />i wanted to call standard c library functions like printf , ststr , etc directly from masm code. But the problem is that i dont have the inc/lib files for C runtimes.<br /><br />any help will be highly appreciated :D<br /><br />thanks in advance !</div>
    <div class="meta">Posted on 2003-03-04 07:36:27 by himanshu</div>
   </div>
   <div class="post" id="post-84950">
    <div class="subject"><a href="#post-84950">calling standard C library functions from asm</a></div>
    <div class="body"><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=9531&amp;highlight=printf">http://www.asmcommunity.net/board/index.php?topic=9531&amp;highlight=printf</a><br /><br />Have a look at it, though it is in FASM.</div>
    <div class="meta">Posted on 2003-03-04 07:47:16 by roticv</div>
   </div>
   <div class="post" id="post-84957">
    <div class="subject"><a href="#post-84957">calling standard C library functions from asm</a></div>
    <div class="body">so this should work with masm ????</div>
    <div class="meta">Posted on 2003-03-04 07:59:25 by himanshu</div>
   </div>
   <div class="post" id="post-84962">
    <div class="subject"><a href="#post-84962">calling standard C library functions from asm</a></div>
    <div class="body">Yes,why not? :) You can check the thread:<br /><br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=10168&amp;highlight=A+very+small+lib">http://www.asmcommunity.net/board/index.php?topic=10168&amp;highlight=A+very+small+lib</a></div>
    <div class="meta">Posted on 2003-03-04 08:15:02 by Vortex</div>
   </div>
   <div class="post" id="post-84968">
    <div class="subject"><a href="#post-84968">calling standard C library functions from asm</a></div>
    <div class="body">btw who cares about masm anymore.FASM is delicious !!!!!</div>
    <div class="meta">Posted on 2003-03-04 09:03:23 by himanshu</div>
   </div>
   <div class="post" id="post-85002">
    <div class="subject"><a href="#post-85002">calling standard C library functions from asm</a></div>
    <div class="body">Hello,<br /><br />yet to importing from C libs, I'm writing this prototyp file self adding prototypes as needed, no prob with it, just to check how many args the func takes:<br /><br />     _strcmp proto C :DWORD, :DWORD<br /><br />done.<br /><br />Does anybody know how to avoid RT error doing some calls to static library (eg printf etc..)..?<br />I guess there should be done some extra init as the CRTWinMain is overriden by asm (if I look at that it does some init surely - heap and more), no problem with runtime lib.<br /><br />thanks.</div>
    <div class="meta">Posted on 2003-03-04 12:05:43 by _Servil_</div>
   </div>
   <div class="post" id="post-85124">
    <div class="subject"><a href="#post-85124">calling standard C library functions from asm</a></div>
    <div class="body"><div class="quote"><br />so this should work with masm ????<br />btw who cares about masm anymore.FASM is delicious !!!!!<br /></div><br /><br />Himanshu,I think you are a bit confused. :)</div>
    <div class="meta">Posted on 2003-03-05 01:52:47 by Vortex</div>
   </div>
   <div class="post" id="post-85130">
    <div class="subject"><a href="#post-85130">calling standard C library functions from asm</a></div>
    <div class="body">Here is a quick example of using C library functions in asm.<br /><br /><pre><code><br /><br />.386<br />.model flat,stdcall<br />option casemap&#58;none<br /><br />include \masm32\include\windows.inc<br />include \masm32\include\kernel32.inc<br />includelib \masm32\lib\kernel32.lib<br />includelib crtdll.lib<br /><br />printf PROTO C a1&#58;DWORD,&#58;VARARG<br />strcat PROTO C a1&#58;DWORD,a2&#58;DWORD<br /><br />.data<br />m1 db 'This is'<br />db 12 dup&#40;0&#41;<br />m2 db ' an example',0<br />format db '%s',0<br />.code<br />start&#58;<br />invoke strcat,ADDR m1,ADDR m2<br />invoke printf,ADDR format,ADDR m1<br />invoke ExitProcess,0<br />end start<br /><br /></code></pre></div>
    <div class="meta">Posted on 2003-03-05 02:21:48 by Vortex</div>
   </div>
   <div class="post" id="post-85176">
    <div class="subject"><a href="#post-85176">calling standard C library functions from asm</a></div>
    <div class="body">oh ,thanks man !</div>
    <div class="meta">Posted on 2003-03-05 07:00:25 by himanshu</div>
   </div>
   <div class="post" id="post-85191">
    <div class="subject"><a href="#post-85191">calling standard C library functions from asm</a></div>
    <div class="body">Himanshu,you are welcome. :)</div>
    <div class="meta">Posted on 2003-03-05 08:15:21 by Vortex</div>
   </div>
   <div class="post" id="post-85209">
    <div class="subject"><a href="#post-85209">calling standard C library functions from asm</a></div>
    <div class="body">i think i am going to like this cheerful board :D<br />winasm was never such fun !</div>
    <div class="meta">Posted on 2003-03-05 10:04:41 by himanshu</div>
   </div>
   <div class="post" id="post-85229">
    <div class="subject"><a href="#post-85229">Compliers like a guns.</a></div>
    <div class="body">Complier shoots out a fast program like a bullet.<br /><br />There are brands of guns and compliers.<br /><br />I like the feel and comfort of my gun, shoots the way I want it to.<br /><br />So I'll stick to my M$ ml.6.14.8444.<br /><br />That does not mean your gun does not kill a problem dead like mine, just, I like mine and you like yours.<br /><br />Regards,  P1</div>
    <div class="meta">Posted on 2003-03-05 12:17:39 by Pone</div>
   </div>
   <div class="post" id="post-85370">
    <div class="subject"><a href="#post-85370">calling standard C library functions from asm</a></div>
    <div class="body">hmmm... cant i just use the msvcrt.lib for importing C runtimes ??????</div>
    <div class="meta">Posted on 2003-03-06 05:14:24 by himanshu</div>
   </div>
   <div class="post" id="post-85440">
    <div class="subject"><a href="#post-85440">calling standard C library functions from asm</a></div>
    <div class="body">Yes,Himanshu you can use also the functions of msvcrt.dll<br /><br />Regards,<br /><br />Vortex</div>
    <div class="meta">Posted on 2003-03-06 12:31:51 by Vortex</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>To Hutch : problem with L2INCA ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1842" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=1842">To Hutch : problem with L2INCA ?</a></p>
   <div class="post" id="post-11729">
    <div class="subject"><a href="#post-11729">To Hutch : problem with L2INCA ?</a></div>
    <div class="body">I've come across a weird thing with L2INCA :<br /><br />1. I'm using W2K / SP2 and DDK for W2K<br /><br />2. I've build an .inc file for MASM from NTDDK\libfre\i386\ntoskrnl.lib<br /><br />3. There's a function, undocumented by M$ in ntoskrnl.lib that's called PsInitialSystemProcess that I want to use, however, that function will NOT appear in the resulting .inc file that L2INCA creates<br /><br />Now, I could just manually add PsInitialSystemProcess PROTO (the function takes no arguments) to ntoskrnl.inc but I figure L2INCA should have put the function in the resulting .inc file by itself.<br /><br />Please enlighten a poor, humble kernel programmer.</div>
    <div class="meta">Posted on 2001-11-12 10:08:56 by jmp $FCE2</div>
   </div>
   <div class="post" id="post-11733">
    <div class="subject"><a href="#post-11733">To Hutch : problem with L2INCA ?</a></div>
    <div class="body">Have a look at my protoize tool, I used it with success while I was<br />messing around with kernel stuff.</div>
    <div class="meta">Posted on 2001-11-12 11:04:26 by f0dder</div>
   </div>
   <div class="post" id="post-11768">
    <div class="subject"><a href="#post-11768">To Hutch : problem with L2INCA ?</a></div>
    <div class="body">jmp $FCE2,<br /><br />The two L2INC utilities only do what they claim to do which is convert decorated names in libraries to masm prototypes. Try f0dder's utility, it may do what you are after.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2001-11-12 20:18:02 by hutch--</div>
   </div>
   <div class="post" id="post-11779">
    <div class="subject"><a href="#post-11779">To Hutch : problem with L2INCA ?</a></div>
    <div class="body">@hutch : PsInitialSystemProcess really IS decorated within ntoskrnl.lib and ntoskrnl.exe also exports it. The only 'undocumented' thing about it is, that M$ doesn't mention it anywhere in their papers. Well, I think there's a small bit about it in 'Inside Windows 2000 3rd Ed.'<br /><br />No offense though, your Masm32 package IS awesome and helped me a great deal getting back into assembly. I hope you keep up the good work.<br /><br />@f0dder : thanks alot ! I will try protoize and see what it can do for me.<br /><br />update :<br /><br />it worked ! you're the man, f0dder :alright:</div>
    <div class="meta">Posted on 2001-11-13 00:42:55 by jmp $FCE2</div>
   </div>
  </div>
 </body>
</html>
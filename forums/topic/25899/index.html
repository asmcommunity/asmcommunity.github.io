<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Fraction of a division with Fixed Point Mathematics - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25899" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25899">Fraction of a division with Fixed Point Mathematics</a></p>
   <div class="post" id="post-188831">
    <div class="subject"><a href="#post-188831">Fraction of a division with Fixed Point Mathematics</a></div>
    <div class="body">Does anybody know how we can retrieve the fraction part of a division of two whole numbers using fixed point mathematics? I thought of a formula and it goes like this:<br /><br />1.	Divide dividend by the divisor. The quotient will be the whole part of the division.<br />2.	(If there is a remainder) Divide the divisor by the remainder. Keep the quotient and the remainder.<br />3.	(If there was a remainder) Divide 10 by the quotient of the division in the above stage.<br />4.	The quotient of the second stage subtracted from the quotient of the above division will be the first digit of the fraction.<br /><br />For example, divide 45 by 6:<br /><br />1.	45 divided by 6 will yield the quotient 7. Keep this number.<br />2.	The remainder of 45/6 = 3. Divide the divisor in the above stage (6) by 3 = 2, remainder = 0.<br />3.	Divide 10 by the quotient of the above stage.10/2 = 5.<br />4.	Subtract the remainder of the second stage from the quotient of the above stage 5-0 = 5.<br /><br />So the result will be 7 (from the first stage) and with the fraction of .5 (from the 4th stage).<br /><br /><br />Or let?s say 68 divided by 14:<br /><br />1.	68 divided by 14 yields the quotient of 4. Keep this number.<br />2.	The remainder of 68/14 = 12. Divide the divisor of the above stage by 12. 14/12 yields the quotient of 1 and the remainder of 2.<br />3.	Divide 10 by the quotient of the above stage which yields 10.<br />4.	Subtract the remainder of the second stage from the quotient of the above stage which will yield 10-2=8.<br /><br />Therefore the result will be 4 (from the first stage) and the fraction of 8 (from the 4th stage) = 4.8<br /><br />However, the formula that I <em>invented</em> is not always accurate. There are some pitfalls to avoid and it won?t always yield the correct result. I was wondering if anybody knows of a better way to do this.<br /><br />Here is the code that I have written for it:<br /><br /><pre><code><br />&nbsp; MOV&nbsp; &nbsp;  EAX , Dividend<br />&nbsp; XOR&nbsp; &nbsp;  EDX , EDX<br />&nbsp; MOV&nbsp; &nbsp;  EBX , Divisor<br />&nbsp; DIV&nbsp; &nbsp;  EBX<br />&nbsp; MOV&nbsp; &nbsp;  Quotient , EAX<br /><br />&nbsp; XOR&nbsp; &nbsp;  EAX , EAX<br />&nbsp; TEST&nbsp; &nbsp; EDX , EDX<br />&nbsp; JZ&nbsp; &nbsp; &nbsp; @NoFraction<br /><br />&nbsp; MOV&nbsp; &nbsp;  EAX , Divisor<br />&nbsp; MOV&nbsp; &nbsp;  EBX , EDX<br />&nbsp; XOR&nbsp; &nbsp;  EDX , EDX<br />&nbsp; DIV&nbsp; &nbsp;  EBX<br /><br />&nbsp; MOV&nbsp; &nbsp;  ECX , EDX<br />&nbsp; CMP&nbsp; &nbsp;  ECX , 1<br />&nbsp; JNE&nbsp; &nbsp;  @NotOne<br />&nbsp; XOR&nbsp; &nbsp;  ECX , ECX<br />&nbsp; @NotOne:<br /><br />&nbsp; MOV&nbsp; &nbsp;  EBX , EAX<br />&nbsp; MOV&nbsp; &nbsp;  EAX , 10<br />&nbsp; XOR&nbsp; &nbsp;  EDX , EDX<br />&nbsp; DIV&nbsp; &nbsp;  EBX<br /><br />&nbsp; SUB&nbsp; &nbsp;  EAX , ECX<br />&nbsp; @NoFraction:<br />&nbsp; MOV&nbsp; &nbsp;  Fraction , EAX</code></pre></div>
    <div class="meta">Posted on 2007-04-14 04:14:08 by XCHG</div>
   </div>
   <div class="post" id="post-188842">
    <div class="subject"><a href="#post-188842">Re: Fraction of a division with Fixed Point Mathematics</a></div>
    <div class="body">You should simply simulate what you have learned in grade school. Just continue dividing the <u>remainder multiplied by 10</u> by the initial divisor until the remainder is either 0 or you have the required number of decimal places.<br /><br />However, the result will definitely <strong>not</strong> be in a format which could <em>easily</em> be reused for other math operations. You may gain an additional perspective on the subject of fixed point math from the following:<br /><br />http://www.ray.masmcode.com/fixmath.html<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2007-04-14 20:23:09 by Raymond</div>
   </div>
   <div class="post" id="post-188846">
    <div class="subject"><a href="#post-188846">Re: Fraction of a division with Fixed Point Mathematics</a></div>
    <div class="body"><pre><code><br />pdec proto buf:DWORD,lo32:DWORD,hi32:DWORD,commas:DWORD,ljust:DWORD<br /><br />power10 proc public uses ebx ecx n:dword<br />&nbsp; &nbsp; mov eax,1<br />&nbsp; &nbsp; mov ebx,n<br />&nbsp; &nbsp; mov ecx,10<br />&nbsp; &nbsp; or ebx,ebx<br />&nbsp; &nbsp; jz done<br />&nbsp; next:<br />&nbsp; &nbsp; mul ecx<br />&nbsp; &nbsp; sub ebx,1<br />&nbsp; &nbsp; jnz next<br />&nbsp; done:<br />&nbsp; &nbsp; ret<br />power10 endp<br /><br />pflt proc public uses ebx ecx edx esi buf:DWORD,num:DWORD,divisor:DWORD,commas:DWORD,ljust:DWORD,dig:DWORD<br />&nbsp; &nbsp; local whole:dword,frac:dword<br />&nbsp; &nbsp; mov eax,num<br />&nbsp; &nbsp; sub edx,edx<br />&nbsp; &nbsp; mov esi,buf<br />&nbsp; &nbsp; div divisor<br />&nbsp; &nbsp; mov ebx,edx<br />&nbsp; &nbsp; INVOKE pdec,esi,eax,0,commas,ljust ;prints the &quot;whole&quot; part<br />&nbsp; &nbsp; lstrlen esi<br />&nbsp; &nbsp; lea esi,<br />&nbsp; &nbsp; invoke power10,dig<br />&nbsp; &nbsp; mul ebx<br />&nbsp; &nbsp; div divisor<br />&nbsp; &nbsp; mov edx,dig<br />&nbsp; &nbsp; mov word ptr ,&#39;.&#39;&nbsp; ;decimal point<br />&nbsp; &nbsp; or dl,80h<br />&nbsp; &nbsp; INVOKE pdec,esi,eax,0,0,edx&nbsp; ;print the decimal part<br />&nbsp; &nbsp; ret<br />pflt endp<br /></code></pre><br /><br />Haven&#39;t used it much but seems to work OK.</div>
    <div class="meta">Posted on 2007-04-15 02:39:26 by sinsi</div>
   </div>
   <div class="post" id="post-188863">
    <div class="subject"><a href="#post-188863">Re: Fraction of a division with Fixed Point Mathematics</a></div>
    <div class="body">Thank you Raymond. It is such a shame I had forgotten about that. Thank you sinsi.<br /><br />I coded this function that returns the quotient of the division in EDX and the fraction part of the division in EAX just like a normal integer. For example, 654/32 = 20.4375. So EDX = 20 and EAX = 4375.<br /><br /><pre><code>; ??????????????????????????????????????????????????<br />&nbsp; __FixedDivision:<br />&nbsp; &nbsp; ; QWORD __FixedDivision (DWORD Dividend, DWORD Divisor); StdCall;<br />&nbsp; &nbsp; ; QWORD.DWORD#0 = Fraction<br />&nbsp; &nbsp; ; QWORD.DWORD#1 = Quotient<br />&nbsp; &nbsp; PUSH&nbsp; &nbsp; EBX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Push the base index onto the stack<br />&nbsp; &nbsp; PUSH&nbsp; &nbsp; ECX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Push the count register onto the stack<br />&nbsp; &nbsp; PUSH&nbsp; &nbsp; ESI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Push the source index onto the stack<br />&nbsp; &nbsp; PUSH&nbsp; &nbsp; EDI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Push the destination index onto the stack<br />&nbsp; &nbsp; PUSH&nbsp; &nbsp; EBP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Push the base pointer onto the stack<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  EBP , ESP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Move the stack pointer to the base pointer<br />&nbsp; &nbsp; SUB&nbsp; &nbsp;  ESP , 0x00000008&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Allocate 8 bytes of the stack space<br />&nbsp; &nbsp; XOR&nbsp; &nbsp;  EAX , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Clear the accumulator to put into the stack space<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  DWORD PTR  , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; * = Quotient = 0<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  DWORD PTR  , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; * = Fraction = 0 (We have 0.0 for now)<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  ESI , DWORD PTR &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; *ESI = The  parameter<br />&nbsp; &nbsp; TEST&nbsp; &nbsp; ESI , ESI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; We can&#39;t go on with a dividend equal to zero<br />&nbsp; &nbsp; JZ&nbsp; &nbsp; &nbsp; .EP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Jump to the end of the procedure if Dividend is zero<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  EDI , DWORD PTR  ; Divisor&nbsp; &nbsp; ; *EDI = The  parameter<br />&nbsp; &nbsp; TEST&nbsp; &nbsp; EDI , EDI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; We can not divide by zero<br />&nbsp; &nbsp; JZ&nbsp; &nbsp; &nbsp; .EP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Jump to the end of the procedcure if Divisor is zero<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  ECX , 0x00000009&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; We can only have 9 digits of fraction in the result<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  EAX , ESI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Get the Dividend in EAX<br />&nbsp; &nbsp; XOR&nbsp; &nbsp;  EDX , EDX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Set the High Order DWORD of the Dividend to zero<br />&nbsp; &nbsp; DIV&nbsp; &nbsp;  EDI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Divide the Dividend by the Divisor<br />&nbsp; &nbsp; MOV&nbsp; &nbsp;  DWORD PTR  , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Get the Quotient in <br />&nbsp; &nbsp; TEST&nbsp; &nbsp; EDX , EDX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; See if there is a remainder<br />&nbsp; &nbsp; JZ&nbsp; &nbsp; &nbsp; .EP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Jump to the end of the procedure if there are no fractions<br />&nbsp; &nbsp; LEA&nbsp; &nbsp;  ESI , &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; *ESI = Pointer to the Fraction part in the stack<br />&nbsp; &nbsp; .GetFraction:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Here we should get the fraction (EDX*10/Divisor)<br />&nbsp; &nbsp; &nbsp; LEA&nbsp; &nbsp;  EAX , &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; EAX = Remainder, Multiply EAX by 10, Step 1<br />&nbsp; &nbsp; &nbsp; LEA&nbsp; &nbsp;  EAX , &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Multiply the remainder by 10, Step 2<br />&nbsp; &nbsp; &nbsp; XOR&nbsp; &nbsp;  EDX , EDX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Clear the High Order DWORD of the Dividend<br />&nbsp; &nbsp; &nbsp; DIV&nbsp; &nbsp;  EDI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; EAX = The next digit of the fraction part of the division<br />&nbsp; &nbsp; &nbsp; TEST&nbsp; &nbsp; EAX , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; See if the fraction part is zero<br />&nbsp; &nbsp; &nbsp; JZ&nbsp; &nbsp; &nbsp; .EP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Jump to the end of the procedure if yes (We don&#39;t want zeros)<br />&nbsp; &nbsp; &nbsp; MOV&nbsp; &nbsp;  EBX , DWORD PTR &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Get the previous fraction in EBX<br />&nbsp; &nbsp; &nbsp; ADD&nbsp; &nbsp;  EBX , EBX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Multiply the previous fraction by 10, Step 1<br />&nbsp; &nbsp; &nbsp; LEA&nbsp; &nbsp;  EBX , &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Multiply the previous fraction by 10, Step 2<br />&nbsp; &nbsp; &nbsp; ADD&nbsp; &nbsp;  EBX , EAX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Put the new fraction in the previous fraction part<br />&nbsp; &nbsp; &nbsp; MOV&nbsp; &nbsp;  DWORD PTR  , EBX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Put the new fraction in the stack<br />&nbsp; &nbsp; &nbsp; DEC&nbsp; &nbsp;  ECX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Decrement the number of fraction digits we should get<br />&nbsp; &nbsp; &nbsp; JNZ&nbsp; &nbsp;  .GetFraction&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Keep extracting the fraction part while ECX &gt; 0<br />&nbsp; &nbsp; .EP:&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; End of the procedure<br />&nbsp; &nbsp; &nbsp; MOV&nbsp; &nbsp;  EDX , DWORD PTR &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; *EDX holds the quotient now<br />&nbsp; &nbsp; &nbsp; MOV&nbsp; &nbsp;  EAX , DWORD PTR &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; *EAX holds the fraction part now<br />&nbsp; &nbsp; &nbsp; ADD&nbsp; &nbsp;  ESP , 0x00000008&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Deallocate 8 bytes of the stack space<br />&nbsp; &nbsp; &nbsp; POP&nbsp; &nbsp;  EBP&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Restore the base pointer<br />&nbsp; &nbsp; &nbsp; POP&nbsp; &nbsp;  EDI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Restore the destination index<br />&nbsp; &nbsp; &nbsp; POP&nbsp; &nbsp;  ESI&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Restore the source index<br />&nbsp; &nbsp; &nbsp; POP&nbsp; &nbsp;  ECX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Restore the count register<br />&nbsp; &nbsp; &nbsp; POP&nbsp; &nbsp;  EBX&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  ; Restore the base index<br />&nbsp; &nbsp; RET&nbsp; &nbsp;  0x08&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; Return to the calling procedure<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ; And sweep 2 parameters off the stack<br />; ??????????????????????????????????????????????????</code></pre></div>
    <div class="meta">Posted on 2007-04-16 01:41:10 by XCHG</div>
   </div>
   <div class="post" id="post-188938">
    <div class="subject"><a href="#post-188938">Re: Fraction of a division with Fixed Point Mathematics</a></div>
    <div class="body">XCHG<br /><br />Sorry for the delay. I&#39;ve been on the road for the past few days (migrating back up north).<br /><br />In your .GetFraction: section, testing the content of EAX is the wrong thing to do (i.e. try it with 12/11 as an example). Instead, you should be testing the content of EDX (the remainder) after you have updated the fraction part and just before you decrement the counter for the number of decimal places.<br /><br />Raymond<br /></div>
    <div class="meta">Posted on 2007-04-19 13:22:33 by Raymond</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ml.exe have some error - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4929" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=4929">ml.exe have some error</a></p>
   <div class="post" id="post-34588">
    <div class="subject"><a href="#post-34588">ml.exe have some error</a></div>
    <div class="body">Hutch, my ml.exe's version is 7.00.9466. However, some errors happen to windows.inc during the compiling. I have read all the files about the Masm v7.0, it was said that the windows.inc is right. If time admitting, please help me.<br /><br /><br />Best regards,<br />Michael</div>
    <div class="meta">Posted on 2002-04-23 00:41:53 by michael_lgx</div>
   </div>
   <div class="post" id="post-34593">
    <div class="subject"><a href="#post-34593">Re: ml.exe have some error</a></div>
    <div class="body"><div class="quote"><br />Hutch, my ml.exe's version is 7.00.9466. However, some errors happen to windows.inc during the compiling. I have read all the files about the Masm v7.0, it was said that the windows.inc is right. If time admitting, please help me.<br /><br /><br />Best regards,<br />Michael </div><br /><br />My compile options are following:<br />       ml /c /Cx /coff *.asm<br /><br />BTW, I have use the previous command with the 6.14.8444. It succeed compiling all my file without any errors, even warnning.<br /><br /><br />Best regards,<br />Michael</div>
    <div class="meta">Posted on 2002-04-23 01:22:29 by michael_lgx</div>
   </div>
   <div class="post" id="post-34599">
    <div class="subject"><a href="#post-34599">ml.exe have some error</a></div>
    <div class="body">Michael,<br /><br />I have not done much testing with ml.exe version 7 so i am not much use to you here. As far as I know, Microsoft have not supplied any documentation with this version so I have no way of determining what it does. I ran it in the MASM32 package just for testing and every thing built OK but I have not done comprehensive testing with it.<br /><br />I still use 6.14 and it is the version supplied with MASM32 because it does almost everything and its very well behaved.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-04-23 03:12:04 by hutch--</div>
   </div>
   <div class="post" id="post-34644">
    <div class="subject"><a href="#post-34644">ml.exe have some error</a></div>
    <div class="body">As long as you remember to set case sensivity on, and use the stdcall<br />calling convention, there shouldn't be any troubles. I use ml v7 as well.<br />Hutch, if you made your l2inc tool add &quot;stdcall&quot; to all the protos, it<br />would be possible to use other calling conventions for ones main<br />assembly files...</div>
    <div class="meta">Posted on 2002-04-23 09:57:26 by f0dder</div>
   </div>
   <div class="post" id="post-34685">
    <div class="subject"><a href="#post-34685">ml.exe have some error</a></div>
    <div class="body">Yeah it looks like a case sensitivity problem.<br />Put 'option casemap:none' after the .model line<br />or use the /Cp switch when compiling</div>
    <div class="meta">Posted on 2002-04-23 14:47:26 by grv575</div>
   </div>
   <div class="post" id="post-34713">
    <div class="subject"><a href="#post-34713">ml.exe have some error</a></div>
    <div class="body">f0dder,<br /><br />====================<br />Hutch, if you made your l2inc tool add &quot;stdcall&quot; to all the protos, it would be possible to use other calling conventions for ones main assembly files<br />====================<br /><br />The problem here is compatibility, MASM32 is designed around using STDCALL specs in the source file and where you need C calling convention, you specify it as in wsprintfA.<br /><br />Changing the existing system would break hundreds of thousands of programs that use the existing system which in itself works well.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-04-23 18:52:50 by hutch--</div>
   </div>
   <div class="post" id="post-34742">
    <div class="subject"><a href="#post-34742">ml.exe have some error</a></div>
    <div class="body">Actually it would break nothing. The current includes *require*<br />that you set the global calling convention to stdcall. However, you<br />can always override this in procs and protos... which means adding<br />&quot;stdcall&quot; to all the win32 api protos (except the Ccall ones like<br />wsprintf*), would mean that one could choose whatever internal<br />calling convention desired for whatever reason, without breaking<br />any existing applications.</div>
    <div class="meta">Posted on 2002-04-23 20:29:29 by f0dder</div>
   </div>
   <div class="post" id="post-34745">
    <div class="subject"><a href="#post-34745">ml.exe have some error</a></div>
    <div class="body"><div class="quote"><br />Yeah it looks like a case sensitivity problem.<br />Put 'option casemap:none' after the .model line<br />or use the /Cp switch when compiling </div><br /><br />grv575, I have used this switch in my program, however, I don't know why it doesn't work as I think. It seems that the structure, the union and Record have been different from the previous version.<br />Hutch, Just now, I have reinstall my masm v7.0, however, It happen the same errors to me with the ml.exe v6.14. So I think that maybe the Windows.inc has some errors. BTW, would you send the files under include directory in your machine to me. Last night, I have found that some structures or unions or records have be redeclared exactly. such as CREATE_THREAD_DEBUG_INFO, etc. I don't know why such errors happen to me if including windows.inc in my program.<br /><br />Best regards,<br />Michael</div>
    <div class="meta">Posted on 2002-04-23 20:38:29 by michael_lgx</div>
   </div>
   <div class="post" id="post-34758">
    <div class="subject"><a href="#post-34758">ml.exe have some error</a></div>
    <div class="body">These errors are all my fault. For one of my this program have to open the M510 switch, however, after I close this switch, it has succeed passing without any errors and warnings.<br /><br />Thanks so much for your help.<br /><br /><br />Best regards,<br />Michael</div>
    <div class="meta">Posted on 2002-04-23 21:13:52 by michael_lgx</div>
   </div>
  </div>
 </body>
</html>
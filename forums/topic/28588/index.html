<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Stack Size - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28588" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28588">Stack Size</a></p>
   <div class="post" id="post-202144">
    <div class="subject"><a href="#post-202144">Stack Size</a></div>
    <div class="body">Hi Everybody,

I know that windows allocates 1Mb of stack for each theard,
but when I try to use local variables (using LOCAL) larger
than 8Kb (I don't know the exact size) the program crashes.
This happens both in windows 9x and NT. Does anyone know
why this happens ?</div>
    <div class="meta">Posted on 2001-07-01 15:48:00 by titanium</div>
   </div>
   <div class="post" id="post-202145">
    <div class="subject"><a href="#post-202145">Stack Size</a></div>
    <div class="body">what is your initial thread stack size? (Parm 2 of CreateThread)
try to increase that value

the guard page mechanism of "Win32" only guards the "next" page
of the stack. if esp is jumping over that page due to the size of local variables, your app may crash.

to be sure, try: /stack:0x100000,0x100000 as parameter to the linker and set parameter 2 of every CreateThread() to Zero.</div>
    <div class="meta">Posted on 2001-07-01 16:32:00 by japheth</div>
   </div>
  </div>
 </body>
</html>
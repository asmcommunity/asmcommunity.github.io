<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Createfile and lpNumberOfBytesRead ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15298" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15298">Createfile and lpNumberOfBytesRead ?</a></p>
   <div class="post" id="post-118821">
    <div class="subject"><a href="#post-118821">Createfile and lpNumberOfBytesRead ?</a></div>
    <div class="body">Hi all,<br />This is my first post here.<br /><br />I'm currently working with some files API related. There is a little thing that i don't understand, what is this parameter for API file: lpNumberOfBytesRead<br /><br />Here's the structure of CreateFile:<br /><br />BOOL ReadFile(<br /><br />    HANDLE hFile,	// handle of file to read <br />    LPVOID lpBuffer,	// address of buffer that receives data  <br />    DWORD nNumberOfBytesToRead,	// number of bytes to read <br />    LPDWORD lpNumberOfBytesRead,	// address of number of bytes read <br />    LPOVERLAPPED lpOverlapped 	// address of structure for data <br />   );	<br /><br />I don't understand why i need a pointer to &quot;number of bytes read&quot; because i give this number on nNOBTR.<br /><br />Why i have to give this address, and for what it is used for?<br />Is this adress the pointer to nNOBTR ?<br /><br />Thank you very much.<br /><br />Regard, Neitsa.</div>
    <div class="meta">Posted on 2003-09-20 20:49:55 by Neitsa</div>
   </div>
   <div class="post" id="post-118822">
    <div class="subject"><a href="#post-118822">Createfile and lpNumberOfBytesRead ?</a></div>
    <div class="body">Since the number of bytes you request to read can be different than the actual number read, for example if you encounter the end of the file before all the requested bytes are read, you have to declare a variable to hold the result of number of bytes actually read and pass the address to the API<br /><br />LOCAL cbRead :DWORD<br /><br />invoke ReadFile,hFile,ADDR buffer,nBytesToRead,<strong>ADDR cbRead</strong>,NULL</div>
    <div class="meta">Posted on 2003-09-20 20:53:49 by donkey</div>
   </div>
  </div>
 </body>
</html>
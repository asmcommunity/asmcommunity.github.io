<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Integer overflow - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25294" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25294">Integer overflow</a></p>
   <div class="post" id="post-185027">
    <div class="subject"><a href="#post-185027">Integer overflow</a></div>
    <div class="body">http://wolfshade.home.ro/int_overflow.asm<br /><br />at line comented &quot;; modulo&quot; (pointed by debugger)<br /><br />i can&#39;t solve it, if needed i can include the rest of the code.</div>
    <div class="meta">Posted on 2006-09-02 23:25:26 by w0lfshad3</div>
   </div>
   <div class="post" id="post-185029">
    <div class="subject"><a href="#post-185029">Re: Integer overflow</a></div>
    <div class="body">You mean the line saying : div temp ?<br /><br />Div tries to divide eax:edx. Do you know what values are in both of those registers?</div>
    <div class="meta">Posted on 2006-09-02 23:30:34 by JimmyClif</div>
   </div>
   <div class="post" id="post-185030">
    <div class="subject"><a href="#post-185030">Re: Integer overflow</a></div>
    <div class="body">hmmm true edx has garbage, alltough it should have been reset by the rand function?<br /><br />How do i call rand from msvcrt.lib in VC environment? PROTO it then simply invoke it?</div>
    <div class="meta">Posted on 2006-09-02 23:40:32 by w0lfshad3</div>
   </div>
   <div class="post" id="post-185032">
    <div class="subject"><a href="#post-185032">Re: Integer overflow</a></div>
    <div class="body">&quot;proto&quot; it, &quot;invoke it&quot; and &quot;includelib&quot; it. or &quot;loadlibrary-getprocaddress&quot; it. don&#39;t forget that crt functions are &#39;cdecl&#39; - you&#39;re the one to balance the stack after the function returns.</div>
    <div class="meta">Posted on 2006-09-03 01:13:39 by ti_mo_n</div>
   </div>
   <div class="post" id="post-185046">
    <div class="subject"><a href="#post-185046">Re: Integer overflow</a></div>
    <div class="body">No, I don&#39;t believe it&#39;s supposed to preserve edx. Eax, edx and ecx are trash registers which are commonly assumed to be overwritten by procedures.<br /><br />Just clear edx before you divide, that&#39;s all ;)</div>
    <div class="meta">Posted on 2006-09-03 10:06:21 by JimmyClif</div>
   </div>
   <div class="post" id="post-185050">
    <div class="subject"><a href="#post-185050">Re: Integer overflow</a></div>
    <div class="body">thank you i keep forgetting about trash registers<br /><br /><div class="quote">&quot;proto&quot; it, &quot;invoke it&quot; and &quot;includelib&quot; it. or &quot;loadlibrary-getprocaddress&quot; it. don&#39;t forget that crt functions are &#39;cdecl&#39; - you&#39;re the one to balance the stack after the function returns.</div><br /><br />thanks about saving me another thread&nbsp; :lol:</div>
    <div class="meta">Posted on 2006-09-03 11:43:45 by w0lfshad3</div>
   </div>
   <div class="post" id="post-185098">
    <div class="subject"><a href="#post-185098">Re: Integer overflow</a></div>
    <div class="body">bump, by balancing the stack you mean if a function pushes n parameters then i would have to go:<br /><br />invoke function, param1, param2, ..., paramN<br />add esp, 4*N<br /><br />for cdecl ones?</div>
    <div class="meta">Posted on 2006-09-04 19:31:54 by w0lfshad3</div>
   </div>
   <div class="post" id="post-185105">
    <div class="subject"><a href="#post-185105">Re: Integer overflow</a></div>
    <div class="body">yes :)<br /><br />and know that some parameters (64-bit ones, like &quot;double&quot;, etc.) get split into two 32-bit parameters, so they count as 2 parameters, not 1.</div>
    <div class="meta">Posted on 2006-09-04 21:10:39 by ti_mo_n</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Find if any BYTE in a DWORD (or QWORD with MMX) is at zero. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=4632" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=4632">Find if any BYTE in a DWORD (or QWORD with MMX) is at zero.</a></p>
   <div class="post" id="post-32494">
    <div class="subject"><a href="#post-32494">Find if any BYTE in a DWORD (or QWORD with MMX) is at zero.</a></div>
    <div class="body">Forgive me if this info is useless.. but I recall there was a thread on strlen routines. I had no time to follow it and thus I don't know how far it went.. I just want to copy n'paste some code I had to write for another project, which detects (without branches) if in a DWORD there's at least one BYTE at 0. That could maybe help the strlen development.. that's up to you. Maybe you already found a much better solution, dunno.<br /><br />Anyway, here's how I solved my problem to detect if there's at least a zero BYTE in a DWORD:<br /><br /><pre><code><br />MOV     EBX,EAX            ; input DWORD is in EAX<br />SUB     EAX,$01010101<br />NOT     EBX<br />AND     EAX,$80808080<br />AND     EAX,EBX            ; output in EAX will be 0 only if no BYTE was at 0<br /></code></pre><br /><br />Should pair well even on old Pentiums. Sorry if it was useless, at least on the strlen issue.<br />You can extend the concept also to MMX or to other problems. Sorry no time this time to give a step by step detailed description of how it works.<br /><br />Sorry for having said so many times &quot;sorry&quot;. :tongue:</div>
    <div class="meta">Posted on 2002-04-05 07:07:19 by Maverick</div>
   </div>
   <div class="post" id="post-32499">
    <div class="subject"><a href="#post-32499">Find if any BYTE in a DWORD (or QWORD with MMX) is at zero.</a></div>
    <div class="body">I gave a quick check at the last strlen routine and that technique was already implemented.. I should have checked before :P<br /><br />Sorry (for the 5th time) :grin:</div>
    <div class="meta">Posted on 2002-04-05 08:30:13 by Maverick</div>
   </div>
   <div class="post" id="post-32510">
    <div class="subject"><a href="#post-32510">Find if any BYTE in a DWORD (or QWORD with MMX) is at zero.</a></div>
    <div class="body">Also, look at MMX StringLen.</div>
    <div class="meta">Posted on 2002-04-05 10:27:52 by bitRAKE</div>
   </div>
   <div class="post" id="post-34878">
    <div class="subject"><a href="#post-34878">Sorry</a></div>
    <div class="body">Sorry for being a newb, but what does the $ before the numbers do to the number?</div>
    <div class="meta">Posted on 2002-04-24 14:20:21 by Ronin Magus</div>
   </div>
   <div class="post" id="post-34880">
    <div class="subject"><a href="#post-34880">Find if any BYTE in a DWORD (or QWORD with MMX) is at zero.</a></div>
    <div class="body">It's simply another way to specify hexadecimal.  Not usually used for Intel assembly.  <strong>Maverick</strong> is a little stuck on the 680x0 assembler syntax - I was myself for the longest time. :)</div>
    <div class="meta">Posted on 2002-04-24 14:36:11 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
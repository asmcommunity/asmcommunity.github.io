<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>pop cs decoding - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=20744" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=20744">pop cs decoding</a></p>
   <div class="post" id="post-157921">
    <div class="subject"><a href="#post-157921">pop cs decoding</a></div>
    <div class="body">Well acording to IA 32 manual this should look like this:<br /><br />Segment register CS,DS, ES<br />000 sreg2 111<br />and CS is 01 in this case<br />so it should look like this:<br />000 01 111<br />and that is 0F (2 byte long opcode) <br />and segment registers FS, GS should be encoded as:<br />0000 1111? 10 sreg3 001...<br />Is it possible that IA32 manual is wrong on this issue, or such instruction doesn&#39;t exist or is it encoded as 2 byte long opcode?<br /><br />Any help would be appriciate, thanks<br /><br />Best regards...</div>
    <div class="meta">Posted on 2005-03-14 10:01:27 by deroko</div>
   </div>
   <div class="post" id="post-157923">
    <div class="subject"><a href="#post-157923">Re: pop cs decoding</a></div>
    <div class="body">segment fs and gs were added later so they were encoded as 2byte opcodes (those opcodes that begins with 0fh)</div>
    <div class="meta">Posted on 2005-03-14 10:56:33 by roticv</div>
   </div>
   <div class="post" id="post-157924">
    <div class="subject"><a href="#post-157924">Re: pop cs decoding</a></div>
    <div class="body">nah I asked about pop cs because it should be, acording to IA32 manual, assembled as 000 01 111b and that is 0F (0F 2 byte opcode), so I&#39;m not sure if? IA32 manual is wrong on this issue b/c it is imposible that pop cs is 0F, it has to be something else <br />It might be assembled as 2byte opcode and that is the only normal solution, or maybe such instruction doesn&#39;t exist :(<br /><br /></div>
    <div class="meta">Posted on 2005-03-14 11:50:36 by deroko</div>
   </div>
   <div class="post" id="post-157925">
    <div class="subject"><a href="#post-157925">Re: pop cs decoding</a></div>
    <div class="body">My applogies for misunderstanding you.<br /><br />pop cs does not exist</div>
    <div class="meta">Posted on 2005-03-14 12:02:27 by roticv</div>
   </div>
   <div class="post" id="post-157927">
    <div class="subject"><a href="#post-157927">Re: pop cs decoding</a></div>
    <div class="body">thanks :) <br /></div>
    <div class="meta">Posted on 2005-03-14 14:18:40 by deroko</div>
   </div>
   <div class="post" id="post-157930">
    <div class="subject"><a href="#post-157930">Re: pop cs decoding</a></div>
    <div class="body">In Volume 2, it is explicitly mentioned:<br />&quot;The POP instruction cannot pop a value into the CS register. To load the CS register from the stack, use the RET instruction.&quot;<br /><br />It might have been because of what you found.&nbsp; :)</div>
    <div class="meta">Posted on 2005-03-14 16:15:08 by Starless</div>
   </div>
   <div class="post" id="post-157931">
    <div class="subject"><a href="#post-157931">Re: pop cs decoding</a></div>
    <div class="body">POP CS is DB 0Fh<br />But it is supported only by 8086.<br />So it&#39;s now used as a prefix for 2 bytes opcode.</div>
    <div class="meta">Posted on 2005-03-14 16:45:58 by BJZ</div>
   </div>
   <div class="post" id="post-157932">
    <div class="subject"><a href="#post-157932">Re: pop cs decoding</a></div>
    <div class="body"><div class="quote"><br />In Volume 2, it is explicitly mentioned:<br />&quot;The POP instruction cannot pop a value into the CS register. To load the CS register from the stack, use the RET instruction.&quot;<br /><br />It might have been because of what you found.? :)<br /></div><br /><br />ahhh :( I didn&#39;t see that :)</div>
    <div class="meta">Posted on 2005-03-14 17:21:22 by deroko</div>
   </div>
  </div>
 </body>
</html>
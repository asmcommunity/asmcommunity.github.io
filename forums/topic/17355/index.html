<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>New NAGOA.inc released ONLY NASM no LINKER no RESOURCE  ( no - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=17355" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=17355">New NAGOA.inc released ONLY NASM no LINKER no RESOURCE  ( no</a></p>
   <div class="post" id="post-134436">
    <div class="subject"><a href="#post-134436">New NAGOA.inc released ONLY NASM no LINKER no RESOURCE  ( no</a></div>
    <div class="body">can be found here:<br /><br /><a target="_blank" href="http://194.65.3.199/win32asm/">http://194.65.3.199/win32asm/</a><br /><br /><br />3 examples ONLY NASM   without no linker and no resource builder  :<br /><br />1 -- simple message<br /><br />2 -- simple window<br /><br />3 -- Dialog Based<br /><br />4 -- DLL</div>
    <div class="meta">Posted on 2004-02-22 05:39:57 by Nguga</div>
   </div>
   <div class="post" id="post-134437">
    <div class="subject"><a href="#post-134437">MESSAGE EXAMPLE</a></div>
    <div class="body">%define ONLY_NASM<br />%include &quot;\lab\vasm\inc\nagoa.inc&quot;<br /><br />section .data<br /><br />section .text<br /><br />__start:<br /><br />nasm MessageBox , NULL,&quot;info&quot;,&quot;title&quot;,MB_OK<br />xor eax,eax<br />ret<br /><br /><br /><br />    ; --- [ IMPORTS MUST BE THE LAST PART OF PROGRAM ]<br /><br /><br />LAST_BEGIN<br /><br />__LIBS_         user32, 	&quot;user32.dll&quot;<br /><br />__IMPORT_    user32,MessageBox, &quot;MessageBoxA&quot;,0<br /><br />LAST_END<br /><br /><br /><br /><br />;-------------------------------------------<br />;  BIN OPTION IN NAGOA RAD IDE<br />; in  NAGOA RAD IDE menu go to , project -&gt; build settings -&gt;    BIN <br />;-------------------------------------------</div>
    <div class="meta">Posted on 2004-02-22 05:42:07 by Nguga</div>
   </div>
   <div class="post" id="post-134438">
    <div class="subject"><a href="#post-134438">A WINDOW AS MAIN APPLICATION</a></div>
    <div class="body">%define   ONLY_NASM<br />%include &quot;\lab\vasm\inc\nagoa.inc&quot;<br /> <br />section .data<br /><br />hInst               dd  0<br />ClassName        db  &quot;NaGoA&quot; , 0<br />WindowName     db  &quot; only NASM no linker ! &quot; , 0<br /><br /><br />section .text<br /><br /><br />__start:<br /><br /><br />proc WinMain,<br />stack msgs,MSG_size<br />stack hWnd,4<br />stack WC, WNDCLASSEX_size<br /><br /><br />        nasm RtlZeroMemory,ADDR_ WC,WNDCLASSEX_size<br />        mov dword ,WNDCLASSEX_size<br />        mov dword ,CS_VREDRAW + CS_HREDRAW + CS_DBLCLKS<br />        mov dword , WndProc<br />        mov dword ,15<br />        mov dword  , ClassName<br />        m2m   ,<br />        nasm LoadIconA,,IDI_APPLICATION<br />        mov  , eax<br />	mov  , eax <br />        nasm LoadCursorA,,IDC_ARROW<br />        mov  , eax<br />        nasm  RegisterClassExA, ADDR_ WC<br /><br />        nasm CreateWindowExA, WS_EX_WINDOWEDGE + WS_EX_CLIENTEDGE,\<br />                                ClassName,WindowName,\<br />                                WS_OVERLAPPEDWINDOW,200,\<br />                                200,200, 200,\<br />                                NULL,NULL,,NULL<br /><br />       nasm ShowWindow,eax,TRUE<br />       nasm UpdateWindow,0<br /><br />msg_loop:<br />            <br />        nasm GetMessageA,ADDR_ msgs ,0,0,0<br />        or      eax,eax<br />        jz      Fin_Bucle			<br />        nasm DispatchMessageA, ADDR_ msgs<br />        jmp     msg_loop<br /><br />Fin_Bucle:<br />	nasm	ExitProcess,0<br />endproc<br /><br />proc WndProc, hwnd, msg, wParam, lParam<br /><br />stack hdc,4<br />stack rect,RECT_size<br />stack ps,PAINTSTRUCT_size<br /><br />	mov	eax, <br />        cmp     eax, WM_PAINT<br />        je      .WM_PAINT<br />        cmp   eax, WM_DESTROY<br />        je      .WM_DESTROY<br />        nasm DefWindowProcA,,,,<br />	return<br /><br />.WM_PAINT:<br />  <br />  <br />        nasm  BeginPaint,,ADDR_ ps ;eax<br />        mov     ,eax<br />        nasm    GetClientRect,,ADDR_ rect  <br />      <br />        nasm DrawTextA,,&quot;Hi everybody!!!&quot;,\<br />                                        -1,ADDR_ rect ,\<br />                                         DT_SINGLELINE + DT_CENTER + DT_VCENTER<br />      <br />        nasm EndPaint, ,ADDR_ ps<br />        return<br /><br />.WM_DESTROY:<br />        nasm PostQuitMessage,0<br />endproc<br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />; --------  MUST BE THE LAST PART OF PROGRAM<br /><br />LAST_BEGIN<br /><br /><br />__LIBS_  kernel32,		&quot;kernel32.dll&quot;,	\<br />	    user32,			&quot;user32.dll&quot;<br /><br />__IMPORT_ kernel32, \<br />	GetModuleHandleA, &quot;GetModuleHandleA&quot;, 0, \<br />	ExitProcess, &quot;ExitProcess&quot;, 0,\<br />        RtlZeroMemory,&quot;RtlZeroMemory&quot;,0<br /><br />__IMPORT_ user32, \<br />	MessageBox, &quot;MessageBoxA&quot;, 0, 		LoadIconA, &quot;LoadIconA&quot;, 0, \<br />	LoadCursorA, &quot;LoadCursorA&quot;, 0,		RegisterClassExA, &quot;RegisterClassExA&quot;, 0, \<br />	CreateWindowExA, &quot;CreateWindowExA&quot;, 0, 	ShowWindow, &quot;ShowWindow&quot;, 0, \<br />	GetMessageA, &quot;GetMessageA&quot;, 0, 		DispatchMessageA, &quot;DispatchMessageA&quot;, 0 ,\<br />	DefWindowProcA, &quot;DefWindowProcA&quot;, 0, 	BeginPaint, &quot;BeginPaint&quot;, 0, \<br />	GetClientRect, &quot;GetClientRect&quot;, 0, 	EndPaint, &quot;EndPaint&quot;, 0, \<br />	DrawTextA, &quot;DrawTextA&quot;, 0, 		PostQuitMessage, &quot;PostQuitMessage&quot;, 0, \<br />	UpdateWindow, &quot;UpdateWindow&quot;, 0, 	GetWindowRect, &quot;GetWindowRect&quot;, 0, \<br />	GetDesktopWindow, &quot;GetDesktopWindow&quot;, 0, MoveWindow, &quot;MoveWindow&quot;, 0<br /><br /><br />LAST_END<br /><br /><br /><br /><br /><br /><br /><br />; PROJECT BUILD SETTINGS <br />; COMPILE BIN OPTION <br />; IN   NAGOA RAD IDE</div>
    <div class="meta">Posted on 2004-02-22 05:44:40 by Nguga</div>
   </div>
   <div class="post" id="post-134439">
    <div class="subject"><a href="#post-134439">DIALOG AS MAIN</a></div>
    <div class="body">%define ONLY_NASM<br />%define RSRC<br />%include &quot;\lab\vasm\inc\nagoa.inc&quot;<br /><br /><br />        section .data<br /><br />        hInst dd 0<br /><br /><br />; - - - - - - - - - - - - - - - - - - - -<br />	section .text<br /><br />__start:<br />	nasm	DialogBoxParam,,200,0,DlgProc,0<br />	ret<br />; - - - - - - - - - - - - - - - - - - - -<br />proc DlgProc ,hdlg, msg, wParam,lParam<br />	<br />	cmp	dword  , WM_INITDIALOG<br />	je	.WM_INITDIALOG<br />	cmp   dword  , WM_COMMAND<br />	je	.WM_COMMAND<br />	cmp	dword  , WM_CLOSE<br />	jne	.next_msg<br />        nasm ExitProcess , 0<br />        .next_msg<br />	return FALSE<br /><br />; - - - - - - - - - - - - - - - - - - - - <br />.WM_INITDIALOG:<br />	nasm	LoadMenu,,100<br />	nasm	SetMenu,,eax <br />	nasm SetDlgItemText,,400,&quot;The Dialog!&quot;<br />        return TRUE<br />; - - - - - - - - - - - - - - - - - - - -<br />.WM_COMMAND:<br />	cmp	dword  , 51<br />	je	.about<br />	cmp	dword  , 52<br />	je	.help<br />	cmp	dword  , 300<br />	jne	.next_1 <br />	nasm	EndDialog,,0<br />        .next_1<br />	return<br /><br /><br />; - - - - - - - - - - - - - - - - - - - -<br />.about:	<br />	nasm	MessageBox,,{ &quot;This Dialog!:&quot;, 10, 13,&quot;(c) numit_or 2002 &quot;} ,\<br />                                                                    &quot;About This Dialog!&quot;,MB_OK<br />        return<br />; - - - - - - - - - - - - - - - - - - - -<br />.help:	<br />        nasm	MessageBox,,{ &quot;This Dialog: demostrates the use of&quot;, 10, 13,\<br />                              &quot;resourses in flat PE programming&quot; }  ,  &quot;About This Dialog!&quot;,MB_OK<br />        return<br />; - - - - - - - - - - - - - - - - - - - -<br /><br /><br /><br />endproc  ;   END DIALOGPROC  ( - :<br /><br /><br /><br /><br /><br /><br /><br />    ; --- [ THIS MUST BE THE LAST PART OF PROGRAM ]<br /><br /><br />LAST_BEGIN<br />                        <br />               %include &quot;RC.ASM&quot;    <br />                                <br />__LIBS_    kernel32,	&quot;kernel32.dll&quot;, \<br />	       user32, 	&quot;user32.dll&quot;<br /><br /><br /><br />__IMPORT_ kernel32,\<br />	        GetModuleHandle, 	&quot;GetModuleHandleA&quot;,0,\<br />	        GetLastError,     	        &quot;GetLastError&quot;,0,\<br />	        ExitProcess, 		&quot;ExitProcess&quot;,0<br /><br /><br />__IMPORT_ user32,\<br />	  MessageBox, 		&quot;MessageBoxA&quot;,0, \<br />	  DialogBoxParam, 	&quot;DialogBoxParamA&quot;,0, \<br />	  LoadMenu, 		&quot;LoadMenuA&quot;,0, \<br />	  SetDlgItemText, 	&quot;SetDlgItemTextA&quot;,0, \<br />	  SetMenu, 	        	&quot;SetMenu&quot;, 0, \<br />	  EndDialog, 		&quot;EndDialog&quot;, 0<br /><br />LAST_END</div>
    <div class="meta">Posted on 2004-02-22 05:46:05 by Nguga</div>
   </div>
   <div class="post" id="post-134440">
    <div class="subject"><a href="#post-134440">RC FILE</a></div>
    <div class="body">DS_MYDIALOG equ  DS_MODALFRAME+DS_CENTER+DS_SETFONT+WS_MINIMIZEBOX+WS_POPUP+WS_VISIBLE+WS_CAPTION+WS_SYSMENU<br />BS_MYBUTTON equ  BS_PUSHBUTTON +BS_CENTER +BS_FLAT+WS_CHILD+WS_VISIBLE+WS_TABSTOP<br />ES_MYEDIT equ ES_LEFT+ES_READONLY+WS_CHILD+WS_VISIBLE+WS_BORDER<br /><br /><br /><br /><br /><br />RESOURCES MENU, 1, DIALOG, 1<br /><br /><br />BEGIN_RES_MENU<br />	RES_MENU 100<br />END_RES_MENU<br /><br /><br />BEGIN_RES_DIALOG<br />	RES_DIALOG 200<br />END_RES_DIALOG<br /><br /><br />menu_1:<br />  BeginOfMenu<br />  PopupMenuItem  	&quot;&amp;File&quot;<br />      NormalMenuItem 	ENDMENU, 300, &quot;&amp;Close&quot;<br />  PopupMenuItem  	&quot;&amp;Help&quot;, 0	<br />      NormalMenuItem 	0, 51, &quot;&amp;About&quot;<br />      NormalMenuItem 	MENUBREAK, 0, 0		; &lt;- add a zero here<br />      NormalMenuItem 	ENDMENU, 52, &quot;&amp;Help&quot;<br />end_menu_1<br /><br />; -------------------------------------------------------------------------------------<br /><br />dlg_1:<br /><br />BEGIN_DIALOG DS_MYDIALOG, 0,  2,  10, 10, 130, 55, 0<br />	CAPTION &quot;Dialog made using NASM&quot;<br />	FONT	8, &quot;MS Sans Serif&quot;<br /><br />	BeginControl BS_MYBUTTON, 0, 20, 5, 30, 14, 300, BUTTON<br />		UTEXT	&quot;&amp;Close&quot;<br />	EndControl<br /><br />	BeginControl ES_MYEDIT, 0, 58, 5, 48, 12, 400, EDIT<br />		NOTEXT<br />	EndControl<br />END_DIALOG<br /><br />end_dlg_1</div>
    <div class="meta">Posted on 2004-02-22 05:47:03 by Nguga</div>
   </div>
   <div class="post" id="post-134441">
    <div class="subject"><a href="#post-134441">A DLL</a></div>
    <div class="body">%define ONLY_NASM<br />%define DLL<br />%include &quot;\lab\vasm\inc\nagoa.inc&quot;<br /><br /><br />section .text<br /><br />__start:<br /><br />proc	DllEntry, hInstDLL, reason, reserved<br />	return  TRUE<br />endproc<br /><br /><br />proc	funct1, arg_1, arg_2<br />nasm MessageBox, NULL,,,MB_OK<br />return TRUE<br />endproc<br /><br /><br /><br />proc funct2, arg_1, arg_2<br />nasm MessageBox , NULL,,,MB_OK<br />return TRUE<br />endproc<br /><br /><br /><br />proc funct3, arg_1, arg_2<br />nasm MessageBox , NULL,,,MB_OK<br />return TRUE<br />endproc<br /><br /><br /><br /><br /><br />; - - MUST BE THE LAST THING IN THE CODE ALWAYS <br /><br />LAST_BEGIN<br /><br />__EXPORTS_ 	&quot;PE_DLL.DLL&quot;,\<br />		         funct1, 	&quot;funct1&quot;, \<br />		         funct2, 	&quot;funct2&quot;, \<br />		         funct3, 	&quot;funct3&quot;<br /><br /><br />__LIBS_	  	user32,&quot;user32.dll&quot;<br /><br />__IMPORT_         user32,\<br />	                MessageBox, &quot;MessageBoxA&quot;, 0<br />LAST_END<br /><br /><br /><br /><br /><br /><br />; PROJECT -&gt;  BUILD SETTINGS -&gt; COMPILE  BIN<br /><br />; PROJECT -&gt;    MAKE A DLL<br /><br />; IN NAGOA RAD IDE</div>
    <div class="meta">Posted on 2004-02-22 05:48:54 by Nguga</div>
   </div>
   <div class="post" id="post-134442">
    <div class="subject"><a href="#post-134442">New NAGOA.inc released ONLY NASM no LINKER no RESOURCE  ( no</a></div>
    <div class="body">Thanks nuMIT_or for NPEMAC.INC !!!<br /><br />:)</div>
    <div class="meta">Posted on 2004-02-22 05:51:22 by Nguga</div>
   </div>
   <div class="post" id="post-134778">
    <div class="subject"><a href="#post-134778">New NAGOA.inc released ONLY NASM no LINKER no RESOURCE  ( no</a></div>
    <div class="body">Thanks :)</div>
    <div class="meta">Posted on 2004-02-25 07:26:36 by ZobySound</div>
   </div>
  </div>
 </body>
</html>
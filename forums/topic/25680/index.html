<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need help with jmps - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25680" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25680">Need help with jmps</a></p>
   <div class="post" id="post-187383">
    <div class="subject"><a href="#post-187383">Need help with jmps</a></div>
    <div class="body">Hi @all,<br /><br />i&#39;m programming an assembler and I have some problems with the translation of the jmps and offsets into bin. I know that there are 1 byte, 2 bytes and 4 bytes - jmps are. <br /><br />In other words: <br />How can i find out how long the jmps (1,2 or 4 bytes long) are and translate this into bin.<br /><br />I think it&#39;s easier to explain the jmps on this little program:<br /><pre><code><br />jmp EntryPoint<br />mystr db &quot;Hello world$&quot; &lt;--<br />EntryPoint: mov AH,09h<br />mov DX,OFFSET mystr &lt;--<br />int 21h<br />mov AH,4Ch<br />int 21h<br />END<br /></code></pre><br />I hope i explained my problem good enough...it&#39;s hard for me, because my English is not so good.<br />I hope this is the right category.<br /></div>
    <div class="meta">Posted on 2007-01-05 14:05:08 by Nils:D</div>
   </div>
   <div class="post" id="post-187384">
    <div class="subject"><a href="#post-187384">Re: Need help with jmps</a></div>
    <div class="body">You can do it in 2 phases (or &#39;passes&#39;):<br />1) You compile the code and assume the all relative jumps are 4-byte wide.<br />2) You shorten the jumps which turned out to be shorter.</div>
    <div class="meta">Posted on 2007-01-05 21:36:06 by ti_mo_n</div>
   </div>
   <div class="post" id="post-187448">
    <div class="subject"><a href="#post-187448">Re: Need help with jmps</a></div>
    <div class="body">Could you give me a more detailled explanation of your theory ?</div>
    <div class="meta">Posted on 2007-01-10 14:49:59 by Nils:D</div>
   </div>
   <div class="post" id="post-187459">
    <div class="subject"><a href="#post-187459">Re: Need help with jmps</a></div>
    <div class="body">There are two ways. You can look up all of the opcodes between here and there, add them together, and see how far it is. Or, as previously suggested, compile and then see. In the old days, programms were done the previous way as there weren&#39;t compilers to do it! You had to sometimes assemble a few times to make sure all of the jumps were right. ;)</div>
    <div class="meta">Posted on 2007-01-11 09:46:25 by Jeronimo0d0a</div>
   </div>
   <div class="post" id="post-187469">
    <div class="subject"><a href="#post-187469">Re: Need help with jmps</a></div>
    <div class="body">Ok, thx. I will try it :) </div>
    <div class="meta">Posted on 2007-01-12 11:44:10 by Nils:D</div>
   </div>
  </div>
 </body>
</html>
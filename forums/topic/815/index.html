<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>VxD Question - Validating a range of memory ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=815" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=815">VxD Question - Validating a range of memory ?</a></p>
   <div class="post" id="post-5052">
    <div class="subject"><a href="#post-5052">VxD Question - Validating a range of memory ?</a></div>
    <div class="body">Hi guys,<br /><br />I'm in the process of writing my very first VxD and was wondering about the procedure for validating a range of memory.<br /><br />I d/l the VMM reference and found a couple of API's that look like they might work...<br /><br />Given a selector:offset type address like 0030:C24B3B78 and a size for the memory block,<br /><br />1) I called Map_Flat to get the linear addresses for the beginning and end of the address range<br /><br />2) Then I got the page numbers from the converted linear addresses by shifting right 12 bits and then called _PageCheckLinRange on the pages within my given adress range.<br /><br />Tracing the code in SoftICE, it appears to be working... BUT this is my first encounter with VxDs, linear addressing, and paging so I was hoping for a little feedback as to wheather this is the best procedure for verifying a range of memory in a VxD.<br /><br />Thanks In Advance,<br />Clandestiny<br /><br />PS. Many thanks to Iczelion for his excellent VxD tuts :)</div>
    <div class="meta">Posted on 2001-08-27 13:01:16 by Clandestiny</div>
   </div>
  </div>
 </body>
</html>
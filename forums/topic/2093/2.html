<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Some ideas Math2 - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=2093" />
  <link rel="prev" href="../?id=2093&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=5">Algorithms &amp; Source Code</a> &raquo; <a href="../?id=2093">Some ideas Math2</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=2093&amp;page=1" style="">&laquo;</a><a href="../?id=2093&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="2093" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-16574">
    <div class="subject"><a href="#post-16574">Some ideas Math2</a></div>
    <div class="body">You've done it very well.<br />It's optimal from both math and asm point of view (well pared).<br />Now try to do it in FPU.<br />Assume that<br />.data?<br />x real8<br />y real8<br />subOfXYsq real8<br />BTW I hope you use debugger.<br />Actually nothing talks as clear as learning instructions and<br />testing pieces of code in favour of using a debugger.<br />And consequently of need to manage fast and easy loading written code into a debugger (I do it by one key stroke in my shell).</div>
    <div class="meta">Posted on 2001-12-29 03:37:26 by The Svin</div>
   </div>
   <div class="post" id="post-16611">
    <div class="subject"><a href="#post-16611">Some ideas Math2</a></div>
    <div class="body">here is my try in fpu (like i said before i'm not good in this )<br /><br /><br /><pre><code><br />fld x ;st&#40;0&#41;=x<br /><br />fadd y ;fst&#40;0&#41;=x+y<br />fld x ; st&#40;1&#41;=x+y , st&#40;0&#41;=y<br />fsub y ; st&#40;1&#41;=x-y<br />fmul <br />fstp subOfXYsq</code></pre><br /><br /><br /><br /><br />bye<br />eko</div>
    <div class="meta">Posted on 2001-12-29 10:56:12 by eko</div>
   </div>
   <div class="post" id="post-19025">
    <div class="subject"><a href="#post-19025">Some ideas Math2</a></div>
    <div class="body">eko:<br />Here is one simple task more. (5th grade)<br />eax = side of square1<br />ecx = side of squre2<br />We don't know which one is bigger.<br />Task:<br />Find positive (abs) difference of perimeters of these two squares<br />without branching.<br />Give solutions both for fpu and integer.<br />----------------------------------------------------------------------------------<br />Another task:<br />Find sum of sign-changing HEX figures in dword.<br />Sign-changing means if you have value in hex 1234AFBCh<br />you need to find<br />1-2+3-4+A-F+B-C<br />It can be represented by difference of sum of odd figures and even figures<br />(1+3+A+B)-(2+4+F+C)<br /><br />Get Anger.hlp with instruction set, and using it try to optimize for optimal paring.<br /><br />Good Luck!<br />We don't know tricks - we just invent them ;)</div>
    <div class="meta">Posted on 2002-01-13 23:02:01 by The Svin</div>
   </div>
   <div class="post" id="post-19343">
    <div class="subject"><a href="#post-19343">Some ideas Math2</a></div>
    <div class="body">I thought about the task above and have posted my first tries.<br />Please don't look if you wish to solve yourself.  ;)</div>
    <div class="meta">Posted on 2002-01-15 12:58:23 by bitRAKE</div>
   </div>
   <div class="post" id="post-22205">
    <div class="subject"><a href="#post-22205">Some ideas Math2</a></div>
    <div class="body">I couldn't help myself :)<br />Good code.<br />1st is the same logic but one clock faster than mine.<br />I missed an obvious thing that - - 1 is the same as +1 :)<br />Problem of second code, dispite of good ideas, is dependences<br />it is 11 clocks timing:<br />mov edx,eax	 ;1<br />and eax,0F0F0F0Fh ;0<br /><br />shr edx,4		 ;1<br />and edx,0F0F0F0Fh ;1<br />or  edx,10101010h   ;1<br />sub edx,eax	 ;1<br />mov eax,edx	 ;1<br />shr edx,16	 ;1<br />add eax,edx	 ;1<br />add al,ah		 ;1<br />and eax,0FFh	 ;1<br />sub eax,64	 ;1<br /><br />here is one (I have 5 different versions) possible solution<br />to make it independence ( 7 clocks):<br /><br />     mov ebx,eax<br />     shr eax,4<br /><br />     and ebx,0f0f0f0fh<br />     and eax,0f0f0f0fh<br /><br />     mov edx,ebx<br />     mov ecx,eax<br /><br />     rol edx,16<br />     rol ecx,16<br /><br />     add ebx,edx<br />     add eax,ecx<br /><br />     add bl,bh<br />     add al,ah<br /><br />     sub al,bl</div>
    <div class="meta">Posted on 2002-01-31 18:24:52 by The Svin</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=2093&amp;page=1" style="">&laquo;</a><a href="../?id=2093&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="2093" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
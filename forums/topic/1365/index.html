<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Need mmx help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1365" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1365">Need mmx help</a></p>
   <div class="post" id="post-8774">
    <div class="subject"><a href="#post-8774">Need mmx help</a></div>
    <div class="body">Hi, I have the following code<br /><br /><pre><code>tadj Proc <br />Local col<br />	mov ecx,&#91;edi&#93;.GC.h<br />	sub ecx,edx<br />	imul ecx,&#91;edi&#93;.GC.w<br />	add eax,ecx<br />	mov ebx,&#91;edi&#93;.GC.b.p<br />	lea ebx,&#91;ebx&#93;&#91;eax*4&#93;<br /><br />	mov ecx,&#91;esi&#93;<br />	shr ecx,24<br />	;nd ecx,0ffh<br /><br />	push ebx<br />	mov ebx,dword ptr &#91;ebx&#93;<br /><br />	mov eax,ebx<br />	mov edx,&#91;esi&#93;<br />	and edx,0ffh<br />	and eax,0ffh<br />	sub edx,eax<br />	imul edx,ecx<br />	sar edx,8<br />	add eax,edx<br />	mov byte ptr col,al<br /><br />	mov eax,ebx<br />	mov edx,&#91;esi&#93;<br />	shr eax,8<br />	shr edx,8<br />	and edx,0ffh<br />	and eax,0ffh<br />	sub edx,eax<br />	imul edx,ecx<br />	sar edx,8<br />	add eax,edx<br />	mov byte ptr col&#91;1&#93;,al<br /><br />	mov eax,ebx<br />	mov edx,&#91;esi&#93;<br />	shr eax,16<br />	shr edx,16<br />	and edx,0ffh<br />	and eax,0ffh<br />	sub edx,eax<br />	imul edx,ecx<br />	sar edx,8<br />	add eax,edx<br />	mov byte ptr col&#91;2&#93;,al<br /><br />	mov eax,col<br />	pop ebx<br />	mov dword ptr &#91;ebx&#93;,eax<br />ret<br />tadj EndP<br /></code></pre><br /><br />Its a pixel plotting routine that works in a DIBSection and its written to allow tranparent plotting.<br /><br />Anyway, I'd love to know if it could be optimised with mmx instructions, maybe someone already has an optimised version of this somewhere. <br /><br />Otherwise if anyone can point me to some sources on mmx instructions, listings, help files, etc so that I could teach myself I'd also be most grateful.<br /><br />I tried searching google but to no avail, theres not alot of assembly info on the more advanced instruction sets, and I'd love to study them.<br /><br />:stupid: Thanks.</div>
    <div class="meta">Posted on 2001-10-06 07:47:53 by EÃ³in</div>
   </div>
   <div class="post" id="post-8857">
    <div class="subject"><a href="#post-8857">Need mmx help</a></div>
    <div class="body">Look at developer.intel.com and download some of .pdf manuals. There are all the informations you need about the MMX, SSE, etc.<br /><br />The exact address for Pentium IV manuals is:<br /><a target="_blank" href="http://developer.intel.com/design/pentium4/manuals/">http://developer.intel.com/design/pentium4/manuals/</a><br />You will find Volume 2 the most useful.</div>
    <div class="meta">Posted on 2001-10-07 07:28:31 by Tomasz Grysztar</div>
   </div>
  </div>
 </body>
</html>
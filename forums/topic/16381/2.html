<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>masm might as well be C. - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16381" />
  <link rel="prev" href="../?id=16381&amp;page=1" />   </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16381">masm might as well be C.</a></p>
<form class="pagination" action="../" method="get"><a href="../?id=16381&amp;page=1" style="">&laquo;</a><a href="../?id=16381&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="16381" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>   <div class="post" id="post-127340">
    <div class="subject"><a href="#post-127340">masm might as well be C.</a></div>
    <div class="body"><div class="quote"><br />yikes, this is not the first time I heard someone say this about MASM. It's a good assembler makes coding a lot easier. </div><br />For some easier is just not 1337 enough :rolleyes: , oustside of the local variable problem and the BSS array of structures bug there is little to complain about in MASM so people complain about it being too good :)</div>
    <div class="meta">Posted on 2003-12-10 21:28:42 by donkey</div>
   </div>
   <div class="post" id="post-127343">
    <div class="subject"><a href="#post-127343">masm might as well be C.</a></div>
    <div class="body"><div class="quote">why not use C</div><br />I agree with x86asm that assembly on the Z80 was relatively easy. I started by hand coding small programs. Eventually, I hand coded my own assembler to work with my hand coded &quot;word processor&quot;.<br /><br />That's where I got sold on assembly when I realized all its possibilities. I even coded a program to extract square roots with 10000 decimal places on that Z80. Try that in C or any other HLL!!!!!<br /><br />When I switched to a regular PC, I was lucky to start with MASM in 16-bit DOS. Again, I believed that assembly was considerably more adaptable to any chore than HLLs, specially when speed was important.<br /><br />And when I switched to 32-bit Windows assembly, my choice was obviously MASM32 which was the most familiar from the point of view of syntax. Although some HLL features are available, they don't have to be used. But, some of them certainly make life a lot easier and reduce the risk of error (such as the invoke macro).<br /><br />Again, assembly gives the choice of doing things in very different ways as compared to using HLLs such as C, C++, etc. A good example is the app which I've just about completed, my current avatar having been partly designed with it (it's a computer simulation of the old Spirograph game). With assembly, I did not have to use an HLL's function imposed on me to display pixels on the screen. I could even bypass the slow Windows' SetPixelV function!!!<br /><br />Assembly is fun even with some HLL features<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-12-10 21:56:12 by Raymond</div>
   </div>
   <div class="post" id="post-127358">
    <div class="subject"><a href="#post-127358">Re: masm might as well be C.</a></div>
    <div class="body"><div class="quote"><br />Obviously masm isnt a C compiler, obviously it can be used to write asm code perfectly fine.<br />But after going through icezilions tutorial... alot of &quot;macros&quot; and whatever else masm implements, <br />seem to make its syntax alot like C. Im not saying this is good or bad, but when i code in asm i like to code in asm. Things like LOCAL (define a local variable), .IF .BREAK .WHILE, invoke - seem to make masm source code look alot like C source code. so wuts the point? why not just use C? </div><br /><br />You'll *really* like HLA :-)<br /><br />As many others have said, as long as the assembler lets you code the way *you* want to, why should you care about the extra features it supports?<br /><br />The truth is, all those &quot;macros&quot; found in Iczelion's tutorials are largely responsible for the resurgence in interest in assembly language. Maybe *you* like to see all those pushes before each call, but most people don't. The Iczelion tutorials were among the first pieces of decent example code that demonstrated the fact that you didn't have to use &quot;1960's software engineering&quot; when writing assembly code. This has forever changed the way people view assembly language.<br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-12-11 00:48:05 by rhyde</div>
   </div>
   <div class="post" id="post-127367">
    <div class="subject"><a href="#post-127367">a personal opinion</a></div>
    <div class="body">Hy, bnice2137<br /><br />I agree with you, I don't like all those macros or structures that make MASM similar to an HLL language. They hide the effective use of registers and you lose control over what you are doing.  I &quot;translated&quot; one of the wonderful Iczelion's tutorial in a way that left me only with PROCs and variables and then went further eliminating these too! WndProc was reduced to just a label and I accessed the parameters in a direct way... :)<br /><br />I did that for educational purposes, I normally use PROCs and variables in MASM but I don't use LOCAL, ASSUME...etc...<br /><br />I use NASM for 16 bit applications.<br /><br />Althought I don't like it, I admit that MACRO-assembly is a great thing. It gives you the flexibility of a language like C with the power of a traditional assembler. You can easily translate standard C programs into ASM maintaining the elegance of C. It seems that a lot of people prefer the Macro approach, I don't. What makes me happy is that the choice is free. :)<br /><br />Regards,<br />fooCoder</div>
    <div class="meta">Posted on 2003-12-11 04:17:35 by fooCoder</div>
   </div>
   <div class="post" id="post-127377">
    <div class="subject"><a href="#post-127377">masm might as well be C.</a></div>
    <div class="body">well i would rather code it this way rather than using <br />cmp al,9h jae shit<br /> and then breaking my head where it would jump and <br />how do i code the .elseif looking every change in debugger<br />and i know no c or no asm its just common thinking<br /><br />convertproc:<br />mov esi,offset realans<br />mov edi,offset convans<br />mov ecx,8<br />tillend:<br />mov al,byte ptr <br />shr al,4<br />.if(al&gt;9h)<br />call shit<br />.elseif<br />add al,30h<br />.endif<br />mov byte ptr ds:,al<br />add edi,1<br />mov al,byte ptr <br />and al,0fh<br />.if(al&gt;9h)<br />call shit<br />.elseif<br />add al,30h<br />.endif<br />mov byte ptr ds:,al<br />add edi,1<br />dec ecx<br />inc esi<br />loopd tillend<br />retn<br /><br />shit:<br />add al,7h<br />add al,30h<br />mov byte ptr ds:,al<br />retn<br /><br />retn</div>
    <div class="meta">Posted on 2003-12-11 06:39:12 by bluffer</div>
   </div>
   <div class="post" id="post-127380">
    <div class="subject"><a href="#post-127380">masm might as well be C.</a></div>
    <div class="body"><div class="quote"><br /><br />I agree with x86asm that assembly on the Z80 was relatively easy. I started by hand coding small programs. Eventually, I hand coded my own assembler to work with my hand coded &quot;word processor&quot;.<br /><br />That's where I got sold on assembly when I realized all its possibilities. I even coded a program to extract square roots with 10000 decimal places on that Z80. Try that in C or any other HLL!!!!!<br /><br />When I switched to a regular PC, I was lucky to start with MASM in 16-bit DOS. Again, I believed that assembly was considerably more adaptable to any chore than HLLs, specially when speed was important.<br /><br />And when I switched to 32-bit Windows assembly, my choice was obviously MASM32 which was the most familiar from the point of view of syntax. Although some HLL features are available, they don't have to be used. But, some of them certainly make life a lot easier and reduce the risk of error (such as the invoke macro).<br /><br />Again, assembly gives the choice of doing things in very different ways as compared to using HLLs such as C, C++, etc. A good example is the app which I've just about completed, my current avatar having been partly designed with it (it's a computer simulation of the old Spirograph game). With assembly, I did not have to use an HLL's function imposed on me to display pixels on the screen. I could even bypass the slow Windows' SetPixelV function!!!<br /><br />Assembly is fun even with some HLL features<br /><br />Raymond </div><br /><br />When the winter break comes I plan on building a simple Z80 system, I'm gonna have some fun ;)</div>
    <div class="meta">Posted on 2003-12-11 07:04:50 by x86asm</div>
   </div>
   <div class="post" id="post-127406">
    <div class="subject"><a href="#post-127406">masm might as well be C.</a></div>
    <div class="body">Sinclair ZX Spectrum and Amstrad CPC series used all the Z80 CPU. I remember,in early 90's,the only assembler for Amstrad was developed by a company named Hisoft.</div>
    <div class="meta">Posted on 2003-12-11 12:07:05 by Vortex</div>
   </div>
   <div class="post" id="post-127413">
    <div class="subject"><a href="#post-127413">masm might as well be C.</a></div>
    <div class="body">Id like to change the thread title. :grin: &quot;MASM is great. Use macros at own disgression.&quot; But shouldnt it be looked down on if people dont learn asm, only to use the macros? (not saying that icezilions tutorial was intended to teach asm..)<br />But does that happen? macro is to masm as visual basic is to programming. well, maybe not as extreme. (applying only to newbies, everyone else go about your business.)</div>
    <div class="meta">Posted on 2003-12-11 12:50:49 by bnice2137</div>
   </div>
   <div class="post" id="post-127460">
    <div class="subject"><a href="#post-127460">masm might as well be C.</a></div>
    <div class="body">I think what has been missed with the original topic is that operating systems like Windows are primarily writen in C syntax so to write Windows code in assembler, you need to be able to handle C style syntax in a flexible and transparent way.<br /><br />MASM long ago made the point that it can emulate C style programming and that has been its great strength that has resurrected assembler from the terrible code styles that used to be around to modern 21st century style code.<br /><br />I have the next service pack for MASM32 in beta at the moment and it has substantially extended the library macro combination to improve code throughput so that assembler programmers can shift from hacking through crap like Windows API code and concentrate on algorithm design and useful productive code.<br /><pre><code><br />    Case WM_NOTIFY<br />    ; ---------------------------------------------------<br />    ; The toolbar has the TBSTYLE_TOOLTIPS style enabled<br />    ; so that a WM_NOTIFY message is sent when the mouse<br />    ; is over the toolbar buttons.<br />    ; ---------------------------------------------------<br />      mov eax, lParam<br />      mov ecx, &#91;eax+4&#93;    ; get the idFrom member<br />      mov eax, &#91;eax&#93;      ; get the hwndFrom member<br /><br />      Switch eax<br />        Case hToolTips<br />          Switch ecx<br />            Case 50<br />              fn SendMessage,hStatus,SB_SETTEXT,0,&quot;Clear Editor&quot;<br />            Case 51<br />              fn SendMessage,hStatus,SB_SETTEXT,0,&quot;Open Binary File&quot;<br />            Case 52<br />              fn SendMessage,hStatus,SB_SETTEXT,0,&quot;Save Assembler DB file&quot;<br />            Case 53<br />              fn SendMessage,hStatus,SB_SETTEXT,0,&quot;Copy To Clipboard&quot;<br />            Case 54<br />              fn SendMessage,hStatus,SB_SETTEXT,0,&quot;Exit program&quot;<br />          Endsw<br />      Endsw<br /></code></pre><br />This capacity is NOW, a switch case emulation macro by Greg Falen and a new macro in MASM32 that extends quoted text support to all API and other function calls. There are of course a lot more.<br /><br />If this was &quot;black box&quot; style coding using DLLs, there would be good reason to be suspicious of it but it has the full source code available and the macros that make it faster and easier to use so it is pure assembler written in MASM that is fully accessible to the programmer who uses it.<br /><br />The difference is a modern assembler is powerful enough to do this form of emulation and it is clear enough for programmers to extend and write their own libraries and macros so they can construct a pseudo high level language of their own in pure assembler.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2003-12-11 21:09:03 by hutch--</div>
   </div>
   <div class="post" id="post-127473">
    <div class="subject"><a href="#post-127473">masm might as well be C.</a></div>
    <div class="body">I fully agree with this point, however, I want to caution that you can get carried away with macros.  At some point you have to remind yourself your still writing for assembler.  Im personally not sure why your need a 'fn' macro to replace 'invoke'.  Its a difference of 4 extra letters, however it will slow down the assembler more than it has to each time it encounters it.  IMO, this is the hardest part of macro use and design (knowing when enough is enough).<br /><br />Regards,<br />:NaN:</div>
    <div class="meta">Posted on 2003-12-11 23:45:26 by NaN</div>
   </div>
   <div class="post" id="post-127481">
    <div class="subject"><a href="#post-127481">masm might as well be C.</a></div>
    <div class="body">NaN,<br /><br />The fn macro loops through the parameters in any invoke call and when it find quoted text, it replaces it with an address in the initialised data section that contains the text.<br /><br />It is actually calling a macro called &quot;reparg&quot; that does this on any parameter. There is also a choice of &quot;testarg&quot; to ensure that a quoted text is not put in the wrong place but this is not implimented in the &quot;fn&quot; macro.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2003-12-12 01:54:57 by hutch--</div>
   </div>
   <div class="post" id="post-127591">
    <div class="subject"><a href="#post-127591">masm might as well be C.</a></div>
    <div class="body">So with all this high level syntax, i should just say, &quot;C might as well be MASM&quot;. Who needs C!? Though i do love C... and linux...</div>
    <div class="meta">Posted on 2003-12-12 14:33:18 by bnice2137</div>
   </div>
   <div class="post" id="post-127595">
    <div class="subject"><a href="#post-127595">masm might as well be C.</a></div>
    <div class="body">The thing is that there are very few high level constructs in MASM. Macros like the one Hutch displayed are not part of the language. It is analogous with creating a procedure in C that saves a bitmap called _SaveBitmap and then saying that C includes that function. It does not, but it is possible to do it in C and you can put it into a library and use it as if it were. For myself I do not use macros at all, I find that they tend to blur the language and for the most part you can usually do better when dealing with things on a per case basis. The nice thing about MASM is that it allows for both eventualities.</div>
    <div class="meta">Posted on 2003-12-12 16:08:05 by donkey</div>
   </div>
   <div class="post" id="post-127614">
    <div class="subject"><a href="#post-127614">masm might as well be C.</a></div>
    <div class="body">bnice2137,<br /><br />I gather you are using NASM and also work in linux and together this is usually seen as a good combination. I know a number of guys who code NASM for linux who get very good results, usually in conjunction with a C compiler.<br /><br />The approach I take with MASM which is usually Windows specific is to use its facilities rather than avoid them as it raises code throughput once you are familiar with how it works. I also have to address people with skills in other languages like C, basic or pascal who need to get up to pace in assembler quickly.<br /><br />Leveraging their existing skills helps to make more people more proficient in assembler more quickly and it is why assembler is in its ascendency again. Fortunately with an assembler as powerful as MASM, you really do have the choice of very low to moderately high level programming styles and you can easily mix them.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2003-12-12 19:50:22 by hutch--</div>
   </div>
<form class="pagination" action="../" method="get"><a href="../?id=16381&amp;page=1" style="">&laquo;</a><a href="../?id=16381&amp;page=1" style="">&lt;</a><input type="hidden" name="id" value="16381" /><input type="number" name="page" min="1" max="2" step="1" value="2" onchange="this.form.submit();" /></form>  </div>
 </body>
</html>
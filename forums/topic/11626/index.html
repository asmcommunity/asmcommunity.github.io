<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Question about procedures and pushing variables befor callin - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11626" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11626">Question about procedures and pushing variables befor callin</a></p>
   <div class="post" id="post-88059">
    <div class="subject"><a href="#post-88059">Question about procedures and pushing variables befor callin</a></div>
    <div class="body">Variables are inserted into code before starting the code in procedure or maby poped in theyre place when the instruction needs one of them :confused:</div>
    <div class="meta">Posted on 2003-03-19 03:45:20 by AceEmbler</div>
   </div>
   <div class="post" id="post-88062">
    <div class="subject"><a href="#post-88062">Question about procedures and pushing variables befor callin</a></div>
    <div class="body">Are you asking about passing parameters to a procedure via the stack? Usually you access the parameters indirectly by using bp after setting up a stack frame.<br /><br />I found a description of the process here: <a target="_blank" href="http://www.cs.wpi.edu/~jburge/courses/c02/cs2011/lectures/Lecture16.PDF">http://www.cs.wpi.edu/~jburge/courses/c02/cs2011/lectures/Lecture16.PDF</a></div>
    <div class="meta">Posted on 2003-03-19 04:22:55 by Masmer</div>
   </div>
   <div class="post" id="post-88067">
    <div class="subject"><a href="#post-88067">Question about procedures and pushing variables befor callin</a></div>
    <div class="body">Ace,<br /><br />In most instances in 32 bit windows, you use the STDCALL calling convention where the parameters are pushed in reverse order and then the address of the procedure is called.<br /><pre><code><br />  push par2        ; push 2nd parameter<br />  push par1        ; push first parameter<br />  call procedure   ; call address<br /><br />  mov retval, eax  ; get return value<br /></code></pre><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2003-03-19 05:41:56 by hutch--</div>
   </div>
   <div class="post" id="post-88084">
    <div class="subject"><a href="#post-88084">Question about procedures and pushing variables befor callin</a></div>
    <div class="body">and for calling all those c libraries, params are pushed in the correct order and after calling the function you restore the stack :)</div>
    <div class="meta">Posted on 2003-03-19 08:38:24 by himanshu</div>
   </div>
   <div class="post" id="post-88087">
    <div class="subject"><a href="#post-88087">:)</a></div>
    <div class="body">also i think before you read the doc, you can get a little more idea reading this post<a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=11425">http://www.asmcommunity.net/board/index.php?topic=11425</a>  :D, also you can see other ways against the use with ebp, and only use esp, in some of the post i put this <a target="_blank" href="http://usuarios.lycos.es/oldbreakpoint/ASM/Stack/index.php">link</a>, only see the images, and the explanation, the other words are about other things :)<br /><br />Have nice day.</div>
    <div class="meta">Posted on 2003-03-19 08:57:11 by rea</div>
   </div>
   <div class="post" id="post-88094">
    <div class="subject"><a href="#post-88094">Question about procedures and pushing variables befor callin</a></div>
    <div class="body">copy that ;)  thanks</div>
    <div class="meta">Posted on 2003-03-19 09:27:02 by AceEmbler</div>
   </div>
  </div>
 </body>
</html>
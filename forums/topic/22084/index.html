<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>press enter to quit - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=22084" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=22084">press enter to quit</a></p>
   <div class="post" id="post-166264">
    <div class="subject"><a href="#post-166264">press enter to quit</a></div>
    <div class="body">ok i am a beginner assembler programmer, teaching myself how to code asm. through tutorials etc. i thought i&#39;d learn com based (consol) asm first so i can get the meat, before i go and use windows. as that way i am not clouded by loads of skeleton code to do with the window. i just have infront of me the code that does what i want it to.<br /><br />i wrote a simple input code. based on information i had aquired from posts, and tutorials. and reading Hla.<br /><a target="_blank" href="http://board.flatassembler.net/topic.php?t=4122">http://board.flatassembler.net/topic.php?t=4122</a><br /><br />now i want to advance the code, IF you don&#39;t hit the correct key, the code just loops and theres no way to exit, ok proberly ctrl+c and obviously closing the window.<br /><br />but i was wondering how i could watch constantly for the enter key. if that key is pressed the code automatically stops.<br />how could i do this.<br />o if you hadn&#39;t realised i am using fasm.</div>
    <div class="meta">Posted on 2005-09-25 03:16:45 by Damnation</div>
   </div>
   <div class="post" id="post-166265">
    <div class="subject"><a href="#post-166265">Re: press enter to quit</a></div>
    <div class="body">Hi there! <br />I&#39;ve wrote that example for you. There are several ways to generate &#39;hotkeys&#39; in you applications. In this example ,i represent the eaysiest way to do it:<br /><br />with WM_CHAR message ,after this message is catched ,the wParam will hold the keycode of the pressed key.<br />My suggestion is if you app is not a huge one or too compex to use this method.<br />The other one is most convinient for large program and use it in my programs all the time - Accelerator table. Read more about that if you whant to:<br /><br />http://msdn.microsoft.com/library/en-us/wceshellui5/ html/wce50conLoadingandActivatinganAcceleratorTable.asp<br />&nbsp; </div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=991" target="_blank">PressEnter.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-09-25 04:40:03 by shaka_zulu</div>
   </div>
   <div class="post" id="post-166267">
    <div class="subject"><a href="#post-166267">Re: press enter to quit</a></div>
    <div class="body">I decide to make an example with accelerator table too! Is a little bit comlex but this is the better option !!!<br />Greetings and thanks for reply !!!<br /> ;)</div>
    <div class="meta">Posted on 2005-09-25 07:49:22 by shaka_zulu</div>
   </div>
   <div class="post" id="post-166269">
    <div class="subject"><a href="#post-166269">Re: press enter to quit</a></div>
    <div class="body">took alook at the first example. was stumped, i did mine in dos well com. but i didn&#39;t know where to post on here. so i am not sure if the code will automatically look for key input, i know i had to place certain values into ah, and then use interupts before, i guess i am using the wrong forum. but anyway all info for the future.<br />and i will now take alot at the other example you drew up.<br /><br />thank you for both examples. they will prove to be very helpful.</div>
    <div class="meta">Posted on 2005-09-25 08:25:01 by Damnation</div>
   </div>
   <div class="post" id="post-166303">
    <div class="subject"><a href="#post-166303">Re: press enter to quit</a></div>
    <div class="body">Ok,i see,here is your code:<br /><br />.286<br />.model small<br />.stack 0100h<br /><br />.data<br />msg1 db &#39;Press Enter to Quit: &#39;,10,13,&quot;$&quot;<br /><br />.code<br />start:<br /> @@:<br /> lea dx,msg1<br /> mov ah,9<br /> int 21h<br /> mov ah,1<br /> int 21h<br /> cmp al,0dh<br /> jne @B<br /> @@:<br /> ret<br />end start<br /><br />You can use it in .exe or .com 16 bit<br /><br />And i&#39;ve attached a 32bit console mode app,with the same task - Look it !<br />Bye for now and thanks for reply!<br /> :)</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=994" target="_blank">Press_Enter_Console.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2005-09-26 08:18:28 by shaka_zulu</div>
   </div>
   <div class="post" id="post-166306">
    <div class="subject"><a href="#post-166306">Re: press enter to quit</a></div>
    <div class="body">thanx, i am going to take alook in abit, just catching up on things, got home from work<br />and got thrown in a bath by my gf, she hates the smell of raw meat (butcher).<br />and thanx for a re-write of my code.<br />i am going to study it and edit it.<br /><br />the @@ and jne @B<br /><br />i can&#39;t remembre what fasm docs said on the @@ labels.<br />but jne @B<br />the letters next to the @<br />how do they work, i have seen in a small source file<br />@B and @F <br />and didn&#39;t quite understand.<br /><br />and why is there<br />start:<br />@@: &lt;- i supporse that jne @B, jumps to here to start again if a different key is pressed?<br /><br />but why is there<br />@@: &lt;- those here?<br />ret </div>
    <div class="meta">Posted on 2005-09-26 08:33:38 by Damnation</div>
   </div>
   <div class="post" id="post-166307">
    <div class="subject"><a href="#post-166307">Re: press enter to quit</a></div>
    <div class="body">@@: is an anonymous label. @B means previous anonymous label and @F means anonymous label forward. Hope it makes some sense.</div>
    <div class="meta">Posted on 2005-09-26 08:35:31 by roticv</div>
   </div>
   <div class="post" id="post-166311">
    <div class="subject"><a href="#post-166311">Re: press enter to quit</a></div>
    <div class="body">perfect, are there any other @&lt;enter character here&gt;<br />that i should be aware of. as that makes perfect sense, and is very useful.</div>
    <div class="meta">Posted on 2005-09-26 10:32:46 by Damnation</div>
   </div>
   <div class="post" id="post-166313">
    <div class="subject"><a href="#post-166313">Re: press enter to quit</a></div>
    <div class="body">Nope not that I know of.</div>
    <div class="meta">Posted on 2005-09-26 11:20:57 by roticv</div>
   </div>
   <div class="post" id="post-166319">
    <div class="subject"><a href="#post-166319">Re: press enter to quit</a></div>
    <div class="body">good good, that information has shed alot of light on a fair amount of source code that i have gathered to study.</div>
    <div class="meta">Posted on 2005-09-26 13:13:01 by Damnation</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>GoAsm header file project - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=25528" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=25528">GoAsm header file project</a></p>
   <div class="post" id="post-186524">
    <div class="subject"><a href="#post-186524">GoAsm header file project</a></div>
    <div class="body">Some time ago I began a project to translate the C header files to GoAsm syntax. This turned out to be a very large task, much larger than I first anticipated. Due to external pressures the development was slow and drawn out over many months but I have the first set of headers ready for testing. The list is not complete by any standards, there are still some huge files to go through and I can only work on them when I have time. The following is a list of the objectives of the project...<br /><br /><ul><br />[*]To make a complete set of definitions encompassing all Windows versions up to Windows 2003 Server<br />[*]To use the .H extension and stick to the same file list as C in order to match MSDN<br />[*]To have the version of the header verifiable within GoAsm source code<br />[*]To create a standard set of GoAsm macros for use in projects<br />[*]To extend the defintions with knowledge acquired through the boards<br />[*]To provide a complete set of vtables and guids for COM applications<br />[*]To limit the number of compile time switches to a select list<br /></ul><br /><br />An example of extending the definitions is the addition of APIs in shellapi.h, in that file a switch is present (SHUSEORDINALS) that allows you to convert the settlement API commands to ordinal calls. This allows you to use many XP only APIs in almost every version of Windows. Also some undocumented APIs are included with the SHUSEUNDOC switch.<br /><br />This set of includes is only usable with GoAsm as the syntax is very specific to that assembler and in some cases completely incompatible with others. Specifically MASM will choke on the files.<br /><br />Known issues:<br /><br />In some cases the definitions will adversely and catastrophically affect the INVOKE pseudo-macro, Jeremy has been informed. &lt;FIXED in GOASM version 0.55.14&gt;<br /><br />There are sporatic cases where I forgot to translate a C declaration or did not properly edit the line, for example I might have left something like<br /><br />trt STRUCT<br />DWORD cbSize DD<br />ENDS<br /><br />This will throw an error, just post it here and I will correct it.<br /><br />For the current version use the WIN32_LEAN_AND_MEAN switch, the headers for that compile directive are done (though not completely tested).<br /><br />Testing and additions are very welcome.<br /><br />EDIT<br />I&#39;ve moved the file to my website in order to have the version consistent across all boards. Just click on GoAsm headers in the main index<br /><br />www.assembler.ca</div>
    <div class="meta">Posted on 2006-11-13 15:05:48 by donkey</div>
   </div>
   <div class="post" id="post-186543">
    <div class="subject"><a href="#post-186543">Re: GoAsm header file project</a></div>
    <div class="body"><div class="quote">In some cases the definitions will adversely and catastrophically affect the INVOKE pseudo-macro, Jeremy has been informed.<br /></div><br /><br />The latest version of GoAsm available from <a target="_blank" href="http://www.jorgon.freeserve.co.uk/Goasm.zip">here</a>:-<br /><ul><br /><li>sorts out the above bug, and some lesser ones</li><br /><li>adds automatic structure alignment in Win32 (this was already happening when using local data)</li><br /><li>adds support for <strong>#dynamiclinkfile</strong> which allows you to specify in the asm source a dll/ocx/exe/drv file which exports functions used in your program, instead of in the linker&#39;s command line or command file (<em>you need <a target="_blank" href="http://www.jorgon.freeserve.co.uk/Golink.zip">GoLink 0.26.5</a> for this to work</em>)</li><br /></ul><br /><br /> </div>
    <div class="meta">Posted on 2006-11-14 13:19:00 by jorgon</div>
   </div>
  </div>
 </body>
</html>
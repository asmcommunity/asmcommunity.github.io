<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>simplified segment control ? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1442" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1442">simplified segment control ?</a></p>
   <div class="post" id="post-9302">
    <div class="subject"><a href="#post-9302">simplified segment control ?</a></div>
    <div class="body">How can I find out what exactly is the compiler doing when I'm using the simplified segment control directives (.data, .code, etc) ?If I wanted to substitute them with complete control directives, what would give me exactly the same executable ?<br /><br />So far, I have substituted the following two lines<br />&lt;B&gt;.MODEL flat, stdcall<br />OPTION casemap:none&lt;/B&gt;<br /><br />with these ones:<br />&lt;/B&gt;OPTION CASEMAP:NONE, LANGUAGE:STDCALL, SEGMENT:FLAT<br />ASSUME cs:FLAT, ds:FLAT, es:FLAT, ss:FLAT, fs:ERROR, gs:ERROR&lt;/B&gt;<br /><br />and I declare my segments like this:<br />&lt;B&gt;_DATA		SEGMENT DWORD PUBLIC 'DATA'<br />_TEXT		SEGMENT DWORD PUBLIC 'CODE'&lt;/B&gt;<br /><br />The linker still generates segments named .text, .data, .reloc, etc. , but my final executable is bigger. Any one knows how can I substitute the &lt;B&gt;.data?&lt;/B&gt; simplified directive with a complete  one ? Also, how can I change the default name &quot;.text &quot; for the code segment ? I recall reading somewhere that it is possible to override this default.<br /><br />Thanks for your help</div>
    <div class="meta">Posted on 2001-10-12 15:30:49 by Unregistered</div>
   </div>
   <div class="post" id="post-9653">
    <div class="subject"><a href="#post-9653">simplified segment control ?</a></div>
    <div class="body">Have you tried reading the MASM manual - it's your best resource to solve this problem (IMHO).</div>
    <div class="meta">Posted on 2001-10-17 23:51:48 by bitRAKE</div>
   </div>
   <div class="post" id="post-9675">
    <div class="subject"><a href="#post-9675">simplified segment control ?</a></div>
    <div class="body">to prevent MASM from generating the standard segments you have to avoid the .model directive (and option LANGUAGE of course). But without that, you cannot use MASM32 include files (at least not without some modifications)</div>
    <div class="meta">Posted on 2001-10-18 03:47:31 by japheth</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Want general purpose TASM macros? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19266" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19266">Want general purpose TASM macros?</a></p>
   <div class="post" id="post-148745">
    <div class="subject"><a href="#post-148745">Want general purpose TASM macros?</a></div>
    <div class="body">A few years ago I made some general-purpose macros for TASM that give certain C-like abilities to TASM.  I was converting a large amount of ASM code to C, so I wanted to be able to make an &quot;intermediate&quot; ASM version whose structure easily translated to C.  Since then I discovered that it is useful to use these macros in all ASM code.  Some of the features:<br /><br />- Generate addresses for &quot;if&quot; blocks (note-- code isn't generated, just addresses), and &quot;loop&quot; blocks<br />- Declare and use local stack variables and stack parameters without wasting ebp<br />- &quot;Case&quot; blocks, which are like &quot;switch&quot; blocks in C, which automatically create a jump table based on the &quot;case&quot; statements<br />- Easily define and write &quot;stdcall&quot; functions (other formats can be added, since it's just macros)<br />- Checks (at compile time) for certain illegal stack changes (for example, if ESP is changes by a different amount between IF..ELSE and ELSE..ENDIF)<br /><br />I also have something for structures, but I recently changed everything to Ideal mode, and the strucs in ideal mode are way better than mine, so I ditched them.<br /><br />Anyway, I released them a few years ago but they garnered little attention.   Is this something that would be worth cleaning up and releasing?  Or are there better tools for all of this?  I know there is some high level stuff in MASM, but I kind of dislike it because it generates code, and I hate using its stack stuff because it wastes ebp.  The other good thing about using macros is that you can pretty easily tell what the rules are, and you can upgrade things whenever you want.</div>
    <div class="meta">Posted on 2004-08-30 02:10:47 by yessopotamus</div>
   </div>
  </div>
 </body>
</html>
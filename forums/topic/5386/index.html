<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Invoke and proto - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=5386" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=5386">Invoke and proto</a></p>
   <div class="post" id="post-38274">
    <div class="subject"><a href="#post-38274">Invoke and proto</a></div>
    <div class="body">I noticed unknown to me thing, <br />for using invoke and checking args with it, it's not always necessary to write proto.<br />Enough if the function is written before invoke.</div>
    <div class="meta">Posted on 2002-05-15 03:32:10 by The Svin</div>
   </div>
   <div class="post" id="post-38278">
    <div class="subject"><a href="#post-38278">Invoke and proto</a></div>
    <div class="body">Alex,<br /><br />Thats normal in MASM but it makes your procedures order dependent with no advantage in size or speed.  I routinely write all of my prototypes before the code so that I can order my code any way I like.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-05-15 03:51:21 by hutch--</div>
   </div>
   <div class="post" id="post-38282">
    <div class="subject"><a href="#post-38282">Invoke and proto</a></div>
    <div class="body">Unfortunatly the is no (at least known to me) proto about data :)<br />MASM doesn't like it to be forward.<br />What about local lables. I found the only way out (before I used<br />lbl = $ but in long source it is not comfortable) to use fool proc statments since lables declared within it unseen to other code.</div>
    <div class="meta">Posted on 2002-05-15 04:02:36 by The Svin</div>
   </div>
   <div class="post" id="post-38302">
    <div class="subject"><a href="#post-38302">Invoke and proto</a></div>
    <div class="body">Alex,<br /><br />I have never found problems with data reference, MASM does not allow forward reference but you can get around it in a number of ways, write the data you need directly in the code section if its read only, locally write it to the DATA or DATA? sections with,<br /><pre><code><br />    .data?<br />      your_variable dd ?<br />    .code<br /></code></pre><br />If you need to be able to modify it.<br /><br />The only gripe I have with MASM is not being able to write on the fly LOCAL variables in a procedure, they must always be at the top which is a pain. This capacity would make a number of code designs easier to use.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-05-15 06:07:41 by hutch--</div>
   </div>
   <div class="post" id="post-38304">
    <div class="subject"><a href="#post-38304">Invoke and proto</a></div>
    <div class="body">Well, I use it frequently in this way you showed,<br />that is exactly what being handy to use (I mean the ability to put any section data in any part of source) at the same create a problem 'cause if I write:<br /><br />  mov eax,somedata ;1<br />  push ecx<br />.data?<br />somedata dd ?<br />.code<br />  pop ebx<br />  inc somedata ;2<br />Line marked 2 is not a problem for masm, but about line marked 1<br />it says it can't find it.<br /><br />PS. Want to thank you for L2EXTIA.EXE and the method.<br />I created the same thing (extcalls) my way and it was less comfortable and more time consuming.</div>
    <div class="meta">Posted on 2002-05-15 06:15:28 by The Svin</div>
   </div>
   <div class="post" id="post-38362">
    <div class="subject"><a href="#post-38362">Invoke and proto</a></div>
    <div class="body">I probavly haven't got it quite right, but doesn't the assembler<br />take all the .DATA sections and put them all together in a data<br />segment starting wherever the first .DATA section is?  This way at<br />least you can declare non-local variables sort of on the fly, right?<br /> And not worry about the eds register getting all confused?</div>
    <div class="meta">Posted on 2002-05-15 10:36:42 by Bighillwill</div>
   </div>
  </div>
 </body>
</html>
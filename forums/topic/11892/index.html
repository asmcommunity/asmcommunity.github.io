<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>?EDIT?  in NASM - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11892" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11892">?EDIT?  in NASM</a></p>
   <div class="post" id="post-91068">
    <div class="subject"><a href="#post-91068">?EDIT?  in NASM</a></div>
    <div class="body">I face a strange problem with the ?EDIT? window creation by CreateWindowEx function. I use nagoa from <a target="_blank" href="WWW.VISUAL-ASSEMBLER.PT.VU">WWW.VISUAL-ASSEMBLER.PT.VU</a> .<br />. The code is as followes:<br /><pre><code><br />;in Window.asm file<br /><br />%include &quot;nagoa.inc&quot;<br />%include &quot;vars.inc&quot;<br />&#91;BITS 32&#93;<br /><br /><br />;%define MFT_STRING <br />&#91;SECTION CODE USE32 CLASS=CODE&#93;<br /><br />..start&#58;<br />	call GetModuleHandleA, 0<br />	mov dword &#91;Instance&#93;, eax<br /><br />	call GetCommandLineA<br />	mov dword &#91;CommandLine&#93;, eax<br /><br />        invoke WinMain, &#91;Instance&#93;, NULL, eax, SW_SHOW<br /><br />	call ExitProcess, eax<br /><br /><br /><br />WinMain&#58;<br /><br />%define	hInstance	        ebp+8<br />%define   hPrevInstace	ebp+12<br />%define	lpCmdLine	        ebp+16<br />%define	nCmdShow	ebp+20<br /><br /><br />enter 0, 0  <br /><br /><br /><br />	mov dword &#91;WndClassEx+WNDCLASSEX.cbSize&#93;, WNDCLASSEX_size<br />	mov dword &#91;WndClassEx+WNDCLASSEX.style&#93;, &#40;CS_HREDRAW&#41;|&#40;CS_VREDRAW&#41; <br />	mov dword &#91;WndClassEx+WNDCLASSEX.lpfnWndProc&#93;, WindowProc<br />	mov dword &#91;WndClassEx+WNDCLASSEX.cbClsExtra&#93;, 0 <br />	mov dword &#91;WndClassEx+WNDCLASSEX.cbWndExtra&#93;, 0 <br />	mov eax, dword &#91;hInstance&#93;<br />	mov dword &#91;WndClassEx+WNDCLASSEX.hInstance&#93;, eax<br /><br />	call LoadIconA, NULL, IDI_APPLICATION<br />	mov dword &#91;WndClassEx+WNDCLASSEX.hIcon&#93;, eax<br />	mov dword &#91;WndClassEx+WNDCLASSEX.hIconSm&#93;, eax<br /><br />	call LoadCursorA, NULL, IDC_ARROW<br />	mov dword &#91;WndClassEx+WNDCLASSEX.hCursor&#93;, eax<br /><br />	mov dword &#91;WndClassEx+WNDCLASSEX.hbrBackground&#93;, COLOR_BTNFACE+1<br />	mov dword &#91;WndClassEx+WNDCLASSEX.lpszMenuName&#93;,  MENU<br />	mov dword &#91;WndClassEx+WNDCLASSEX.lpszClassName&#93;, ClassName<br />              <br />        call RegisterClassExA, WndClassEx<br />	test eax, eax<br />	jnz .DoAndShow<br />	jmp .erro<br /><br /><br /><br /> .DoAndShow&#58;<br />	<br />        <br />        call CreateWindowExA, NULL,ClassName, WindowName, &#40;WS_OVERLAPPED&#41;|&#40;WS_CAPTION&#41;|&#40;WS_SYSMENU&#41;, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, &#91;Instance&#93;, NULL<br /><br /><br /><br />        test eax, eax<br />	je near .erro<br />        mov dword &#91;WindowHandle&#93;, eax<br /><br /><br />   	<br />	mov dword &#91;temp&#93;,eax <br />	call ShowWindow,&#91;temp&#93;,&#91;nCmdShow&#93;	<br />	call ShowWindow, &#91;WindowHandle&#93;, &#91;nCmdShow&#93;<br /><br />        <br /><br /><br /><br /><br />; Loop Messages in order to get all of them..<br />;============================<br />.Messageloop<br />        call GetMessageA, Msg, NULL, 0, 0<br /><br />	test eax, eax<br />	je .Fim<br /><br />	cmp eax, -1<br />	je .erro<br /><br />	;call TranslateMessage, Msg<br />	call DispatchMessageA, Msg<br /><br />	jmp .Messageloop<br /><br />.Fim&#58;<br />	mov eax, dword &#91;Msg+MSG.wParam&#93;<br /><br />	leave<br />	ret 16<br />.erro<br />        xor eax, eax<br /><br />	leave<br />	ret 16<br /><br /><br />WindowProc&#58;<br />;===============================================<br />;here the messages that are inputed by the user are processed , did he clicked button x ....<br />;*****************************************************<br />;*	WindowProc&#40;hwnd, uMsg, wParam, lParam&#41;;		                         *<br />;*****************************************************<br />%define	hwnd 	ebp+8      <br />%define	uMsg	        ebp+12   <br />%define   wParam	ebp+16     <br />%define   lParam	ebp+20<br /><br /><br />	enter 0, 0<br /><br />	mov eax, dword &#91;uMsg&#93;<br />       	cmp eax, WM_DESTROY<br />	je near .Destroy<br /> 	cmp eax, WM_CREATE<br />	je near .Create<br />	cmp eax, WM_COMMAND<br />	je near .Command<br /><br />        <br />.Defaut&#58;<br />	call DefWindowProcA, &#91;hwnd&#93;, &#91;uMsg&#93;, &#91;wParam&#93;, &#91;lParam&#93;<br />	leave<br />	ret 16<br /><br /><br />;==================================<br />;Create here your front hend of your aplication!!  Make a button a combobox etc..<br />;==================================<br />.Create<br /><br />  call CreateWindowExA,8,&quot;STATIC&quot;,&quot;Cust Code&quot;,&#40;WS_VISIBLE&#41; | &#40;WS_CHILD&#41;,20,20,150,25,&#91;hwnd&#93;,NULL,0,NULL<br /><br />  call CreateWindowExA,8,&quot;EDIT&quot;,&quot;test&quot;,&#40;WS_VISIBLE&#41; | &#40;WS_CHILD&#41; |&#40;ES_MULTILINE&#41; |&#40;ES_LEFT&#41; |&#40;WS_EX_CLIENTEDGE&#41;,120,20,150,25,&#91;hwnd&#93;,NULL,0,30<br />xor eax, eax<br />	leave<br />	ret 16<br /><br />    <br />.Command&#58;<br />	mov eax, dword &#91;wParam&#93;	<br />        ;cmp ax, ID_number  ID_number is the ID of your object button combobox etc..<br />	;je near your_procedure<br />        ;etc.. for other ID?s<br />	;OWN&#58;What to do when each button clicked one by one?<br />        xor eax, eax<br />	leave<br />	ret 16<br /><br />.work&#58;<br /><br /><br />	<br /><br />.Destroy<br /><br />        call PostQuitMessage, 0	<br /><br />        xor eax, eax<br />	leave<br />	ret 16<br />;in vars.inc file<br />&#91;SECTION DATA USE32 CLASS=DATA&#93;<br /><br />ClassName               db &quot;myWindowClassName&quot; ; just give a name for the class<br /><br />Instance	                dd 0<br />CommandLine		dd 0<br /><br />WndClassEx		resb	         WNDCLASSEX_size<br /><br /><br />WindowName		db	&quot;Nagoa Name of your WINDOW &#58;&#41;&quot;, 0<br />WindowHandle		dd 0<br /><br />Msg	         		resb 	MSG_size<br /><br />mii                   resb MENUITEMINFO<br />hmenu   resd          00h<br />MENU       db 'MAINMENU',0<br /><br />temp dd 0<br /></code></pre><br /><br /><br />Compile and run:<br />nasm ?f obj window.asm<br />alink ?oPE window.obj nagoa.obj<br /><br />note: nagoa.obj is a file with full of imported functions from dll (kernel32.dll etc).<br /><br />All the above is a template except the Child window in .Create, which I have created. Well, my problem is this:<br />  When I did the same insertion of CreateWindowEx in VC++ template I can edit the ?EDIT? window. But in asm I am not able to use my any key except the delete key. If I select the text ?test? and delete it with delete key it is getting deleted. And also if I copy from other text source and paste it in the ?EDIT? box with my mouse it does the copy and paste operation. But I cannot write a single char with the keyboard operation. I did the same with the VC++ it is working fine with the things with edit, deleting a char with backspace etc.<br /><br />Can some body help what to do? If any information needed I will post further.</div>
    <div class="meta">Posted on 2003-03-27 23:38:46 by sathyashrayan</div>
   </div>
   <div class="post" id="post-91205">
    <div class="subject"><a href="#post-91205">?EDIT?  in NASM</a></div>
    <div class="body"><pre><code>	;call TranslateMessage, Msg<br />	call DispatchMessageA, Msg<br /></code></pre>It looks like you commented out the call to TranslateMessage. This call generates the WM_CHAR messages needed by EDIT. Undo the commenting.</div>
    <div class="meta">Posted on 2003-03-28 09:59:09 by tenkey</div>
   </div>
   <div class="post" id="post-91326">
    <div class="subject"><a href="#post-91326">?EDIT?  in NASM</a></div>
    <div class="body">Hai,<br />  My god, I must put some acid in my eye for over looking the program.  <br />Thanks a lot for the help. It is working. Many thanks to you.<br /><br />BY<br />N.Sathyashrayan</div>
    <div class="meta">Posted on 2003-03-28 20:02:37 by sathyashrayan</div>
   </div>
   <div class="post" id="post-91355">
    <div class="subject"><a href="#post-91355">Nguga</a></div>
    <div class="body">are you using NaGoA ?<br /><br />well pust the project   in zip format , do you have the latest nagoa.inc ?<br /><br /><br /><br />here a window example:<br />===============================================<br />%include '\lab\vasm\inc\nagoa.inc'<br /><br />;;--- funcions we made<br />def WinMain<br />def WinProc<br /><br /><br />..start:<br /><br />        call GetModuleHandle, NULL<br />        CONST hInstance, dd 0<br />	mov dword, eax<br />	call GetCommandLine, NULL<br />        CONST CmdLine, dd 0<br />	mov dword, eax<br />	call WinMain, , NULL, eax, SW_SHOWDEFAULT<br />	call ExitProcess, NULL<br /><br /><br />rotin WinMain, hInstance, hPrevInstance, lpCmdLine, nCmdShow<br /><br />	stack wc,WNDCLASSEX_size<br />        stack msg, MSG_size<br />        stack hwnd, 4<br /> <br />	mov dword, WNDCLASSEX_size<br />	mov dword, CS_VREDRAW | CS_HREDRAW<br />	mov dword, WinProc<br />	mov dword, NULL<br />	mov dword, NULL<br />	m2m dword, <br />	mov dword,COLOR_WINDOW+1<br />	mov dword, NULL<br />        CONST ClassName, db &quot;NombreDeClase&quot;,0 <br />	mov dword, ClassName<br />	call LoadIconA, NULL, IDI_APPLICATION<br />	mov dword, eax<br />	mov dword, eax<br />	call LoadCursor, NULL, IDC_ARROW<br />	mov dword, eax<br />	lea eax, <br />        call RegisterClassEx, eax<br />	call CreateWindowEx, NULL, ClassName, &quot;PedroGC macro&quot;, WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, , NULL<br />	mov dword, eax<br />	call ShowWindow, , <br />	call UpdateWindow, <br />.loop<br />	lea eax, <br />        call GetMessage, eax, NULL, 0, 0<br />	cmp eax, 0<br />	jb .erro<br />	je .fin<br />	lea eax, <br />	call TranslateMessage, eax<br />	lea eax, <br />	call DispatchMessage, eax<br />	jmp .loop<br />	.erro:<br />	call MessageBoxA, 0, &quot;ERROR&quot;, &quot;Saliendo&quot;, MB_OK<br />	.fin:<br />	mov eax, dword<br />endrotin<br /><br />rotin WinProc, hWnd, uMsg, wParam, lParam<br />	mov eax, dword<br />	cmp eax, WM_DESTROY<br />	je .WM_DESTROY<br />	;-----DEFAULT<br />		call DefWindowProc, , , ,<br />		return<br />	.WM_DESTROY<br />		call PostQuitMessage, 0<br />endrotin</div>
    <div class="meta">Posted on 2003-03-28 22:44:52 by Nguga</div>
   </div>
   <div class="post" id="post-91460">
    <div class="subject"><a href="#post-91460">?EDIT?  in NASM</a></div>
    <div class="body">Sir,<br />  I must first tell that I am not doing the project for any money but I wanted to prove it is possible to do a full application in win32 without using any of the tools given by Microsoft. I am great full to get a replay from the author himself.<br /><br />  I don?t have the nagoa.inc which has the ?rotin? as above. But five days before I posted a message in the mag board. I will do that again.The message is as follows:<br />================message===========================<br />Hai,<br />      I would like to receive some help. I started to create a full win32asm application in NASM and alink. I have nagoa from <a target="_blank" href="WWW.VISUAL-ASSEMBLER.PT.VU">WWW.VISUAL-ASSEMBLER.PT.VU</a> .<br />I just use the software for including files ?nagoa.inc? and nagoa.obj for linking. As a template I used the window.asm from snippets . All I wanted to create a ?EDIT? child window on the main window.<br />   So I did the following in a file called dylog.asm.<br /><br />;dylog.asm<br />%include 'nagoa.inc'<br /><br />proc m_child,classname,x,y,wi,hi,parent,menu,buff  ;proc and endproc from nagoa.inc<br />  call CreateWindowEx , 9, ,NULL, (WS_VISIBLE) | (WS_CHILD) | (ES_MULTILINE) | (ES_LEFT),,,,,,,0,<br />  test eax,0<br />  jz err<br />  <br />endproc   <br /><br /><br /><br /><br />err:<br />     xor eax,eax<br />     leave<br />     ret 16  <br /><br /><br />Now in the main file window.asm (which comes as a snippets) <br /><br />invoke m_child,'EDIT',10,10,20,20,WindowHandle,NULL,NULL<br /><br />At the time of linking<br /><br />Alink ?oPE window.obj nagoa.obj<br /><br />the message  was <br /><br />ALINK v1.6 (C) Copyright 1998-9 Anthony A.J. Williams.<br />All Rights Reserved<br /><br />Loading file window.obj<br />Loading file nagoa.obj<br />matched Externs<br />matched ComDefs<br />Generating PE file window.exe<br />Relocs 0:Warning 32 bit offset in 16 bit field<br /><br />The line ?Relocs 0:Warning 32 bit offset in 16 bit field? is where the mistake is and as soon as the window displays the EDIT is not getting displayed and exits with a illigial operation message.  In case any more information is needed I am ready to sent.<br />====================END====================<br /> I don?t know weather the same over looking problem of mine as above. If not then I think it related with the %macro proc,endproc. Because I created a simple proc and called it in the application it was showing a the message<br /><br />Relocs 0:Warning 32 bit offset in 16 bit field<br />From alink.<br />and showing illegal operation<br />Or it should be the parameter-passing problem of mine. Please clear it.<br /><br />NOTE:<br />    I don?t understand the word  ?pust the project in zip format? from your replay because of language problem. I think it is paste or put.<br /><br />by<br />N.Sathyashrayan</div>
    <div class="meta">Posted on 2003-03-29 10:45:45 by sathyashrayan</div>
   </div>
   <div class="post" id="post-91479">
    <div class="subject"><a href="#post-91479">you must use NAGOA  is better</a></div>
    <div class="body">this is working!<br />============<br /><br /><br />%include &quot;\lab\vasm\inc\nagoa.inc&quot;<br /><br /><br /><br /><br />CommandLine    dd 0<br />wc                  resb  WNDCLASSEX_size<br />hWnd               dd 0<br />msg	              resb  MSG_size<br />Instance          dd  0<br />ClassName        db    &quot;myWindowClassName&quot; <br />ID_EDIT1         equ 100<br /><br /><br /><br />..start:<br />	call GetModuleHandleA, 0<br />        mov dword , eax<br />        call GetCommandLineA<br />	mov dword , eax<br />        invoke WinMain, , NULL, eax, SW_SHOW<br />        call ExitProcess, eax<br /><br />rotin WinMain, hInstance, hPrevInstance, lpCmdLine, nCmdShow<br /><br />       mov dword , WNDCLASSEX_size<br />       mov dword , CS_HREDRAW|CS_VREDRAW<br />       mov dword , WindowProc<br />       mov dword , 0<br />       mov dword , 0<br />       mov eax, dword <br />       mov dword , eax<br />       call LoadIconA, NULL, IDI_APPLICATION<br />       mov dword , eax<br />       mov dword , eax<br />       call LoadCursorA, NULL, IDC_ARROW<br />       mov dword , eax<br />       mov dword , COLOR_BTNFACE+1<br />       mov dword ,  NULL<br />       mov dword , ClassName<br />       call RegisterClassExA,wc<br />       test eax, eax<br />       jnz .DoAndShow<br />       return<br /><br />.DoAndShow:<br />	 call CreateWindowExA, NULL,ClassName,&quot;EDIT example!&quot;, (WS_OVERLAPPED)|(WS_VISIBLE)|(WS_CAPTION)|(WS_SYSMENU),152,145,417,272, NULL, NULL, , NULL<br />	<br />        mov dword , eax<br />	call ShowWindow, , <br />        call UpdateWindow,<br /><br />.loop<br />	lea eax, <br />        call GetMessage, eax, NULL, 0, 0<br />	cmp eax, 0<br />	jb .erro<br />	je .fin<br />	lea eax, <br />	call TranslateMessage, eax<br />	lea eax, <br />	call DispatchMessage, eax<br />	jmp .loop<br />	.erro:<br />	call MessageBoxA, 0, &quot;ERROR&quot;, &quot;Saliendo&quot;, MB_OK<br />	.fin:<br />	mov eax, dword<br />endrotin<br /><br /><br />rotin WindowProc,hwnd,uMsg,wParam,lParam<br /><br />	mov eax, dword <br />	cmp eax, WM_DESTROY<br />	je near .Destroy<br />	cmp eax, WM_CREATE<br />	je near .Create<br />	cmp eax, WM_COMMAND<br />	je near .Command<br /><br />.Defaut:<br />	call DefWindowProcA, , , , <br />	return<br />	<br />.Create:<br /><br />; -- create EDIT window here<br /><br />%assign .style	WS_CHILD | WS_VISIBLE | WS_HSCROLL | WS_VSCROLL | ES_AUTOHSCROLL |ES_AUTOVSCROLL|ES_MULTILINE<br /><br />call CreateWindowExA, WS_EX_CLIENTEDGE, &quot;EDIT&quot;,&quot;initial text!&quot;, .style ,8,16,385,213,, ID_EDIT1, , NULL <br />                                       <br /><br />xor eax,eax<br />return<br /><br /><br /><br />.Command:<br /><br />	mov eax, dword 	<br />        ;cmp ax, ID_number  ;ID of your object button combobox etc..<br />	;je near your_procedure<br />        ;etc.. for other ID?s<br />        xor eax,eax<br />        return<br /><br />.Destroy:<br /><br />        call PostQuitMessage, 0	<br />        xor eax,eax<br />endrotin</div>
    <div class="meta">Posted on 2003-03-29 12:32:27 by Nguga</div>
   </div>
   <div class="post" id="post-91481">
    <div class="subject"><a href="#post-91481">are you afraid of using NAGOA?</a></div>
    <div class="body">fuck the commercial and capitalism !<br />you can use whatever you want from NAGOA make money be HAPPY...<br /><br /><br />friends are the best we take from this short period in this state!!!<br /><br />we leave on error!!!!!!!<br /><br />be happy!</div>
    <div class="meta">Posted on 2003-03-29 12:35:28 by Nguga</div>
   </div>
   <div class="post" id="post-91488">
    <div class="subject"><a href="#post-91488">another way iczelion style</a></div>
    <div class="body">%include '\lab\vasm\inc\nagoa.inc'<br /><br />;;--- funcions we made<br />def WinMain<br />def WinProc<br /><br /><br />..start:<br /><br />        call GetModuleHandle, NULL<br />        CONST Instance, dd 0<br />	mov dword, eax<br />	call GetCommandLine, NULL<br />        CONST CmdLine, dd 0<br />	mov dword, eax<br />	call WinMain, , NULL, eax, SW_SHOWDEFAULT<br />	call ExitProcess, NULL<br /><br /><br />rotin WinMain, hInstance, hPrevInstance, lpCmdLine, nCmdShow<br /><br />stack wc,WNDCLASSEX_size,msg, MSG_size,hwnd, 4<br /> <br />	mov dword, WNDCLASSEX_size<br />	mov dword, CS_VREDRAW | CS_HREDRAW<br />	mov dword, WinProc<br />	mov dword, NULL<br />	mov dword, NULL<br />	m2m dword, <br />	mov dword,COLOR_WINDOW+1<br />	mov dword, NULL<br />        CONST ClassName, db &quot;NombreDeClase&quot;,0 <br />	mov dword, ClassName<br />	call LoadIconA, NULL, IDI_APPLICATION<br />	mov dword, eax<br />	mov dword, eax<br />	call LoadCursor, NULL, IDC_ARROW<br />	mov dword, eax<br />	lea eax, <br />        call RegisterClassEx, eax<br />	call CreateWindowEx, NULL, ClassName, &quot;PedroGC macro&quot;, WS_OVERLAPPEDWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, NULL, NULL, , NULL<br />	mov dword, eax<br />	call ShowWindow, , <br />	call UpdateWindow, <br />.loop<br />	lea eax, <br />        call GetMessage, eax, NULL, 0, 0<br />	cmp eax, 0<br />	jb .erro<br />	je .fin<br />	lea eax, <br />	call TranslateMessage, eax<br />	lea eax, <br />	call DispatchMessage, eax<br />	jmp .loop<br />	.erro:<br />	call MessageBoxA, 0, &quot;ERROR&quot;, &quot;Saliendo&quot;, MB_OK<br />	.fin:<br />	mov eax, dword<br />endrotin<br /><br />rotin WinProc, hWnd, uMsg, wParam, lParam<br />	mov eax, dword<br />	cmp eax, WM_DESTROY<br />	je near .DESTROY<br />        cmp eax,WM_CREATE<br />        je .CREATE<br />        cmp eax,WM_COMMAND<br />        je .COMMAND<br />	;-----DEFAULT<br />		call DefWindowProc, , , ,<br />		return<br />        ;-----CREATE EDIT WINDOW<br />        .CREATE:<br />       <br /> CONST ID_EDIT1, equ 100<br /><br />%assign .style	WS_CHILD | WS_VISIBLE | WS_HSCROLL | WS_VSCROLL | ES_AUTOHSCROLL |ES_AUTOVSCROLL|ES_MULTILINE<br /><br />call CreateWindowExA, WS_EX_CLIENTEDGE, &quot;EDIT&quot;,&quot;initial text!&quot;, .style ,8,16,385,213,, ID_EDIT1, , NULL <br />        <br />        return FALSE<br />        .COMMAND:<br />        ;mov eax, dword <br />        ;cmp ax, ID_number  ; ID of your edit<br />        ;je near your_procedure<br />        return FALSE<br />	<br />       .DESTROY:<br />		call PostQuitMessage, 0<br />endrotin</div>
    <div class="meta">Posted on 2003-03-29 12:45:23 by Nguga</div>
   </div>
   <div class="post" id="post-91647">
    <div class="subject"><a href="#post-91647">?EDIT?  in NASM</a></div>
    <div class="body">Sir,<br />  The proc macro is working in the new version (13-mar-2003) of nagoa.inc.<br />I don?t have the rotin macro but that is OK.<br />Thanks<br />N.Sathyashrayan.</div>
    <div class="meta">Posted on 2003-03-29 22:56:24 by sathyashrayan</div>
   </div>
   <div class="post" id="post-91780">
    <div class="subject"><a href="#post-91780">proc macro..</a></div>
    <div class="body">the proc macro is not very good becouse we can not use the same parameter in other proc its way there is new one!<br /><br /><br />for example this can not be done with proc macro<br /><br />proc FuncionName_1 , Arg_1 , Arg_2<br /><br />endproc<br /><br />proc FuncionName_2 , Arg_1 , Arg_2<br /><br />endproc<br /><br /><br />;=============================<br /><br />its way NAGOA has a new macro called rotin made by PedroGC <br />were we can use same Arguments and stack vars names in other<br />Funcions.<br /><br /><br />rotin FuncionName_1 , Arg_1 , Arg_2<br /><br />stack var_1,4                   ; var_1 = ebp-4<br />stack var_2,4                   ; var_2 = ebp-4-4<br />stack msg,MSG_size        ;  msg   = ebp-4-4-MSG_size<br /><br /><br />; code to do<br /><br />return       ; were return is a jump to endrotin<br /><br />return 1     ; were return is a jump to endrotin and eax=1<br /><br />return 0    ; were return is a jump to endrotin and eax=0<br /><br />endrotin    <br /><br />rotin FuncionName_2 , Arg_1 , Arg_2<br /><br />stack var_1,4                   ; var_1 = ebp-4<br />stack var_2,4                   ; var_2 = ebp-4-4<br />stack msg,MSG_size        ;  msg   = ebp-4-4-MSG_size<br /><br /><br />; code to do<br /><br />return       ; were return is a jump to endrotin<br /><br />return 1     ; were return is a jump to endrotin and eax=1<br /><br />return 0    ; were return is a jump to endrotin and eax=0<br /><br />endrotin    <br /><br /><br /><br />there was a old macro made by hgb but we need to make <br /><br />points before the Arguments or Stack vars that was resolved<br /><br />with a tryck by PedroGC called undef resolved<br /><br /><br /> <br />the new version of NAGOA will be based only in 2 macros<br /><br />the hgb macro and the PedroGC macro so that the proc will<br />be also = to rotin .   and the hgb funcion will be there also<br />becouse the future will be with no linker and no resource builder<br />all made in NASM  , nuMIT_or has already an EXE , DLL , and<br />a RESOURCE EXE example made only using NASM , so us you <br />know there already the EXE only NASM in last NAGOA very soon<br />DLL and RESOURCE only NASM !! , so hgb macro is and also<br />nuMIT_or PROC macro is very usefull for onlyNASM !<br /><br />but for normal NAGOA using NASM + GORC + ALINK is better<br />using rotin macro .</div>
    <div class="meta">Posted on 2003-03-30 11:28:48 by Nguga</div>
   </div>
  </div>
 </body>
</html>
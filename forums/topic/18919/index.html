<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>How to force a control to do built-in custom draw? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18919" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18919">How to force a control to do built-in custom draw?</a></p>
   <div class="post" id="post-146413">
    <div class="subject"><a href="#post-146413">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Yip, the title says it all.<br /><br />Specifics:<br />1)  Listview is subclassed so that it will process WM_MOUSEMOVE messages and then work out on which item the mouse is positioned.<br />2)  The Custom draw feature of the ListView is set up correctly to notify the parent upon each item redraw.<br /><br />And sofar the System send the notification only when you select the item but i need to send it as soon as the mouse is over the item......<br />  So what i need to know is there a way to send this message explicitly or do i have to fill out all the stuctures that accompanies the WM_NOTIFY message -&gt; .code==NM_CUSTOMDRAW -&gt; .dwDrawStage==CDDS_ITEMPREPAINT.<br /><br />PS: The Listview extended style of track hot has a 5 second delay or whot eva according to each system and i need an instant message sent.<br /><br />Was just wandering....<br /><br /><br /><br />Kindly,<br />Black iCE</div>
    <div class="meta">Posted on 2004-07-19 10:52:09 by Black iCE</div>
   </div>
   <div class="post" id="post-146418">
    <div class="subject"><a href="#post-146418">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Humm, didn't look that closely at your question, so sorry if this isn't at all what you want - but what about doing InvalidateRect when you get the mouse move?</div>
    <div class="meta">Posted on 2004-07-19 11:19:54 by f0dder</div>
   </div>
   <div class="post" id="post-146423">
    <div class="subject"><a href="#post-146423">How to force a control to do built-in custom draw?</a></div>
    <div class="body">F0dder, all adivise is most welcome from every1.<br /><br />I looked into InvalidateRect but it speaks about the window update  region and then i will have to process the WM_PAINT message again - which will slam me right back at why can't i draw. I might be trying something that is beyond my expertieze but that is why i ask you all. But i am weighing both options out and have 2 versions of the app already each going in diffrent directions. But the advatage about the WM_NOTIFY is that all info is provided plus it can be narrowed down to the specific item that you wish to get updates from.</div>
    <div class="meta">Posted on 2004-07-19 11:29:02 by Black iCE</div>
   </div>
   <div class="post" id="post-146425">
    <div class="subject"><a href="#post-146425">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Uploaded whot i have got.<br /><br />Just need a way to bind the WM_MOUSEMOVE with the WM_NOTIFY have a look and experiment at your lesure!:grin:<br /><br /><strong> Removed cause resolved... upload at end of thread</strong></div>
    <div class="meta">Posted on 2004-07-19 11:35:47 by Black iCE</div>
   </div>
   <div class="post" id="post-146430">
    <div class="subject"><a href="#post-146430">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Hey found the solution!<br /><br />When the mouse is over the item then i'll just have to send a WM_LBUTTONDOWN  message to the ListView window which will send the custom draw message to my main window procedure.<br /><br />Now i just hope this does not interfere with actually selecting the item.:confused: <br /><br />Black iCE</div>
    <div class="meta">Posted on 2004-07-19 12:46:45 by Black iCE</div>
   </div>
   <div class="post" id="post-146437">
    <div class="subject"><a href="#post-146437">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Ok so whot i have is the Frame rect drawing on the items, but now how do i remove the old frame drawn ie send a erase background instruction and how do i draw the frame the whole width of the ListView window?<br /><br />Once again play-around. (Note Using XP styles and api calls in listview)</div>
    <div class="meta">Posted on 2004-07-19 15:14:35 by Black iCE</div>
   </div>
   <div class="post" id="post-146500">
    <div class="subject"><a href="#post-146500">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Hey you - ova here!!! Yes, <br /><br />how would you make something draw with a null background, cause currently the Listview items are drawn with a white background and i can't seem to find the API or whot eva to do.<br /><br /><br /><br /><strong>I apologise if i sounded rude, i am just a little-alot lost</strong><br /><br />Shot,<br />Black iCE<br /><br /> added in apology... sounded bad after i read it myself....:grin:</div>
    <div class="meta">Posted on 2004-07-20 12:55:19 by Black iCE</div>
   </div>
   <div class="post" id="post-146511">
    <div class="subject"><a href="#post-146511">How to force a control to do built-in custom draw?</a></div>
    <div class="body">Couldn't make the item transparent so i cheated by making the control transparent.<br />invoke SendMessage,g_hWndLVMenu,<strong>LVM_SETBKCOLOR</strong>,NULL,<br />       CLR_NONE.<br /><br />Still looks bad so if any1 can figure out how to make the icon+text  have a null background please tell me.<br /><br />Black iCE<br /><br /> chaned line of code for readibility....</div>
    <div class="meta">Posted on 2004-07-20 22:54:49 by Black iCE</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>masm macro help - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=19720" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=19720">masm macro help</a></p>
   <div class="post" id="post-151689">
    <div class="subject"><a href="#post-151689">masm macro help</a></div>
    <div class="body">Hi, i want to create a macro that does the folowing:<br /><br />macro nop<br />and it will return<br />push 90h<br /><br />macro ret<br />and it will return<br />push 0C3h<br /><br />Is this possible? Thanks.</div>
    <div class="meta">Posted on 2004-10-22 16:15:15 by x-dream</div>
   </div>
   <div class="post" id="post-151693">
    <div class="subject"><a href="#post-151693">masm macro help</a></div>
    <div class="body">nop<br /><br />retn<br /><br /><br /><pre><code>_NOP MACRO<br />    push 90h<br />ENDM<br /><br />_RET MACRO<br />    push 0C3h<br />ENDM</code></pre>I don't know what use they are over the instructions?  :?:</div>
    <div class="meta">Posted on 2004-10-22 17:19:15 by bitRAKE</div>
   </div>
   <div class="post" id="post-151713">
    <div class="subject"><a href="#post-151713">masm macro help</a></div>
    <div class="body">Thanks for your reply, but i would like a more generic approach that i can enter many different opcodes.</div>
    <div class="meta">Posted on 2004-10-23 05:35:00 by x-dream</div>
   </div>
   <div class="post" id="post-151714">
    <div class="subject"><a href="#post-151714">masm macro help</a></div>
    <div class="body">I would not recommend it, but, if you must replace the instructions...<br /><br />Use <strong>option nokeyword</strong> to tell MASM to ignore those instructions you are going to replace.<br />For example,  bitRAKE's macro can be renamed as in the following example:<br /><pre><code><br />option nokeyword&#58;&lt;nop&gt;<br />nop MACRO<br />    push 90h<br />ENDM<br /></code></pre><br /><br />Be careful and do not overuse this option.</div>
    <div class="meta">Posted on 2004-10-23 05:57:19 by Starless</div>
   </div>
   <div class="post" id="post-151720">
    <div class="subject"><a href="#post-151720">masm macro help</a></div>
    <div class="body"><div class="quote">I would not recommend it, but, if you must replace the instructions...<br /><br />Use <strong>option nokeyword</strong> to tell MASM to ignore those instructions you are going to replace.<br />For example,  bitRAKE's macro can be renamed as in the following example:<br /><pre><code><br />option nokeyword&#58;&lt;nop&gt;<br />nop MACRO<br />    push 90h<br />ENDM<br /></code></pre><br /><br />Be careful and do not overuse this option.</div><br /><br />This wasnt my question... <br /><br />i want it to be able to do<br /><br />macro xor eax,eax<br />macro mov eax,ebx<br />macro mov esi,offset something<br /><br />and it returns it in push</div>
    <div class="meta">Posted on 2004-10-23 09:28:36 by x-dream</div>
   </div>
   <div class="post" id="post-151726">
    <div class="subject"><a href="#post-151726">masm macro help</a></div>
    <div class="body">Use FASM as this is not possible in MASM.</div>
    <div class="meta">Posted on 2004-10-23 11:50:47 by bitRAKE</div>
   </div>
  </div>
 </body>
</html>
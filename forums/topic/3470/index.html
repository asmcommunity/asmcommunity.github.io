<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Strings First Letters - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=3470" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=3470">Strings First Letters</a></p>
   <div class="post" id="post-23008">
    <div class="subject"><a href="#post-23008">Strings First Letters</a></div>
    <div class="body">How do you search down a row of strings comparing first letter ONLY than start scanning or comparing the whole string from the point where the letter is founded:<br /><br />Could someone post an example .  I want to get HelloWorld for starter.... with the letter <strong>H</strong> <br /><br />Apple<br />Andy<br />Bear<br />Baby<br />Bark<br />Candy<br />CanNot<br />CanDo<br />Dog<br />Eat<br />Found<br />Gather<br />HelloMother<br />HelloFather<br />HelloWorld<br />HelloYouGuys<br />HelloZerox<br /><br />I don't want it compare the whole word.....THAT IS WHAT I AM TRYING TO GET AWAY FROM....<br /><br />Just compare first letter if not found move down to next line and see if it is there..(and so on)<br /><br />THAN START COMPARING ALL WORD beginning with the letter (H) until you find <strong>HelloWorld</strong> <br /><br />Thanks in Advance</div>
    <div class="meta">Posted on 2002-02-06 00:55:47 by cmax</div>
   </div>
   <div class="post" id="post-23014">
    <div class="subject"><a href="#post-23014">Strings First Letters</a></div>
    <div class="body">As its too late, and im too tired/lazy :grin: , i will outline pseudo asm:<br /><br /><pre><code><br />-Load &quot;Hello World&quot; in a global cmp buffer &#40;call it Q&#41;<br /><br />  LOCAL buffer called Z<br />  currentline = 1<br /><br />&#58;&#58;HERE&#58;&#58;<br />  copy CurLine text into Spare Buffer &#40;Z&#41;<br /><br />  mov esi, addr Q<br />  mov edi, addr Z<br />  mov ecx, stringlenth of Q<br />  rep cmpsb<br />  if&#40; ecx == 0&#41;<br />      &#123; Sting Found! Break out!&#125;<br />  else<br />     &#123; currentline++<br />         if currline != END &#123; goto &#58;&#58;HERE&#58;&#58; &#125;<br />         else &#123; String Not in list! Break Out! &#125;<br />     &#125;<br /></code></pre><br /><br />its a wicked hybrid of C and ASM, i hope you can follow ok... too tired to clean it up better :P<br /><br />Good Luck<br />NaN</div>
    <div class="meta">Posted on 2002-02-06 02:10:27 by NaN</div>
   </div>
   <div class="post" id="post-23020">
    <div class="subject"><a href="#post-23020">Thanks NaN</a></div>
    <div class="body">I will wait until you are back in shape.  I don't want to rush this because we need the <strong>Fastest</strong> and <strong>Flawless</strong> possible way of doing this and I'm wondering if the if's statement may be to slow for something like this.... But looking at it it seems to be a great way of doing it....But i better wait...<br /><br />Thank you</div>
    <div class="meta">Posted on 2002-02-06 03:31:25 by cmax</div>
   </div>
   <div class="post" id="post-23022">
    <div class="subject"><a href="#post-23022">Strings First Letters</a></div>
    <div class="body"><strong>&quot;if currline != END { goto ::HERE::&quot;</strong> <br /><br />&quot;The goto HERE&quot; .... can you just go to the first letter in a (LINE) since you know which letter that you want to goto All Ready........ and begin from there?<br /><br />If so you would not even have to start comparing until you get to that line? But i guest you still have to compare just to get there. Take your time...I wait...</div>
    <div class="meta">Posted on 2002-02-06 03:39:52 by cmax</div>
   </div>
   <div class="post" id="post-23036">
    <div class="subject"><a href="#post-23036">Strings First Letters</a></div>
    <div class="body">cmax,<br /><br />it will have a bit to do with how you are loading the individual strings to test them but if its a buffer that each string is loaded into one after another, just store the sample string in one buffer and the loaded word in the other and do a string compare. Exit on first mismatch while scanning the string. A match occurs if the loaded string scans to the end.<br /><br />Lets see what NaN brings up when he has had some sleep.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-06 05:35:14 by hutch--</div>
   </div>
   <div class="post" id="post-23071">
    <div class="subject"><a href="#post-23071">Strings First Letters</a></div>
    <div class="body">Ok, will do, but it was more or less a game plan for you to work with :)<br /><br />I cant do anything from here in the school lab, but tonight i will code something up...  <br /><br />If you want speed however, you may want to abandon your need to compare letter by letter, and use hutch's BM algorithm..  I've use it in the past for a &quot;RAD&quot; autocomplete engine.  Where if i type &quot;i - n - v &quot; the search parses a list of 10000 + words and comes up with &quot;invoke&quot; to finish the thought. (worked surprisingly fast).<br /><br />But if you only have a hundred or so strings to search this either will do.  What i posted was only one solution, bounded by your constraints.<br /><br />Anywho, just some thoughts..<br />NaN</div>
    <div class="meta">Posted on 2002-02-06 11:11:26 by NaN</div>
   </div>
   <div class="post" id="post-23108">
    <div class="subject"><a href="#post-23108">Strings First Letters</a></div>
    <div class="body"><strong>&quot;if you only have a hundred or so strings to search this either will do&quot;</strong> <br /><br />No more than that for me...<br /><br />I hate to be a baby about it, and i don't want to guest thinking that i figured it all out properly...so I had to wait for your bottom line...That always did it for me...<br /><br />Thanks again NaN</div>
    <div class="meta">Posted on 2002-02-06 13:13:22 by cmax</div>
   </div>
   <div class="post" id="post-23137">
    <div class="subject"><a href="#post-23137">Strings First Letters</a></div>
    <div class="body">i coded this just to see if i could do it. i couldnt think of a faster way and if there is one i would like to see it.</div>
    <div class="meta">Posted on 2002-02-06 17:27:22 by smurf</div>
   </div>
   <div class="post" id="post-23139">
    <div class="subject"><a href="#post-23139">Strings First Letters</a></div>
    <div class="body">BM isn't the answer to everything ;). It's a search, not a compare...<br />it also has setup overheard which means it works best for searching<br />through a long block.<br /><br />hutch: there can be quite some speed gains from manually testing the<br />first char of the strings you're comparing before CALLing the comparison<br />routine, even though the comparison routine bails out on first mismatch.<br />This was done (mostly for fun) in the Quake1 QC compiler, and it sped<br />up the code by between 10-30%... so in some cases, the overhead of<br />call can mean a *lot*.<br /><br />Smurf, &quot;rep cmpsb&quot; is slow. The only string instructions you want to<br />use are &quot;rep movsd&quot; and &quot;rep stosd&quot;, and only with dwords, and dword<br />aligned source and destination. Except of course if you're coding for<br />size, where all string instructions can be used with good results.</div>
    <div class="meta">Posted on 2002-02-06 18:21:09 by f0dder</div>
   </div>
   <div class="post" id="post-23141">
    <div class="subject"><a href="#post-23141">Strings First Letters</a></div>
    <div class="body">MMX can be used for multi-byte comparisions<br />with great speed and little to no set-up.  I'll<br />leave the algorithm to the reader.<br /><br /><strong>Hint</strong>: There is one example on this board. ;)</div>
    <div class="meta">Posted on 2002-02-06 18:26:03 by bitRAKE</div>
   </div>
   <div class="post" id="post-23142">
    <div class="subject"><a href="#post-23142">Strings First Letters</a></div>
    <div class="body">Basic linear search of a string table. This algorithm does not require a sorted table. Keep in mind that <strong>repe cmpsb</strong> has an early out -- it stops comparing when it detects different characters.<br /><pre><code>.data ; NOTE&#58; &#91;b&#93;offset&#91;/b&#93; is implied in DD instructions<br /><br />; Here is the table of string &#91;b&#93;pointers&#91;/b&#93;<br />table dd string01, string02, ...<br />      dd string11, string12, ...<br />last_entry dd searchkey ; ensure search key will always be found<br /><br />; Here are the predefined strings<br />string01 db &quot;A1&quot;,0<br />string02 db &quot;A2&quot;,0<br />;...<br />string11 db &quot;Hall&quot;,0<br />string12 db &quot;Help&quot;,0<br />;...<br /><br />; This is the string we are searching for &#40;the search key&#41; in the table<br />searchkey db &quot;Help&quot;,0<br /><br />.code<br />      mov ebx, offset table ; get address of 1st string ptr entry<br />sloop&#58;<br />      mov edi, &#91;ebx&#93; ; get string ptr stored in table<br />      mov esi, offset searchkey ; get ptr to the search key<br />      ; ... insert string compare &#40;edi, esi&#41; code here<br />      ; ... if success, JMP to sfound<br />match_failed&#58;<br />      add ebx,4 ; match failed, point to next string ptr entry<br />      jmp sloop<br />sfound&#58;<br />      ; search failed if EBX == offset last_entry<br />      ; otherwise, EBX points to string ptr entry<br /></code></pre></div>
    <div class="meta">Posted on 2002-02-06 18:49:38 by tank</div>
   </div>
   <div class="post" id="post-23167">
    <div class="subject"><a href="#post-23167">Strings First Letters</a></div>
    <div class="body">Cmax, give it a whirl...  post your results if your concerned...  I just got in (late) from the lab.. (Friggn robot P**S'n me off)...  So Im burnt and going to bed...  If your still stumped tomorrow, i will try and get it for you then...<br /><br />Best of luck..<br />NaN</div>
    <div class="meta">Posted on 2002-02-06 22:47:53 by NaN</div>
   </div>
   <div class="post" id="post-23179">
    <div class="subject"><a href="#post-23179">Strings First Letters</a></div>
    <div class="body">NaN, im in no rush.  <br /><br />After seeing all the things that you Aministator do, I know sometime you just have to wait or even miss.  That's why I Posts with a main key word .   I just hope for an refrerece to go to when i come back to the subject and that the info would be easy to find for me and anybody else.<br /><br />This board just keep you PoP-InG.  One new subject after another...<br /><br />I'm on my way to strutures now...BIG TIME....<br />Frist i want to Break-em All Down.... Than learn how to use them...<br /><br />Thats the way a little boy do when he get a new train set...They tear them up a few days after Xmas than in march or April you come home and he got it running again...<br /><br />Dame...<br /><br />Do we ever get a mental break...<br /><br />I saw all of the Robots on a BitMap post by ....<br />Who was that ...<br />Was that you ... <br /><br />Kool<br /><br />By the way... All of the ideas here is ready to be put to work, any more would only be a PLUS pretaining to this subject... Hope most answers can be founded here...<br /><br />Thanks</div>
    <div class="meta">Posted on 2002-02-07 01:23:19 by cmax</div>
   </div>
   <div class="post" id="post-23196">
    <div class="subject"><a href="#post-23196">Strings First Letters</a></div>
    <div class="body">Interestingly enough a linear search is probably the fastest way to do it IF the data is sequential. The advantage of doing it this way is that you save the load THEN compare time by sequentially reading it in memory.<br /><br />===================<br />BM isn't the answer to everything . It's a search, not a compare...<br />===================<br /><br />Any search algo does comparison, they will not work if you don't. If the byte data is only short, a linear scan is faster but a BM catches it up REAL fast. :)<br /><br />cmax,<br /><br />let us know how you store the different strings as this will effect how you can find the text you are after the fastest.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-07 05:49:41 by hutch--</div>
   </div>
   <div class="post" id="post-23202">
    <div class="subject"><a href="#post-23202">Strings First Letters</a></div>
    <div class="body">I just had a quick play and here is the result. It assumes that you store the data in a linear fashion so I used your string samples and put them in the .DATA section.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-02-07 06:20:56 by hutch--</div>
   </div>
   <div class="post" id="post-23318">
    <div class="subject"><a href="#post-23318">Strings First Letters</a></div>
    <div class="body">I'm probably wrong but isnt this type of<br />problem best solved by a hash table? I'm going<br />to write some code to test this, will post as <br />soon as its done.<br /><br />take care<br />prs</div>
    <div class="meta">Posted on 2002-02-08 01:13:10 by prs</div>
   </div>
   <div class="post" id="post-23328">
    <div class="subject"><a href="#post-23328">Strings First Letters</a></div>
    <div class="body"><strong>Maybe it don't make no since!</strong> <br /><br />I'll just remove this...<br /><br />Thanks anyway everybody....</div>
    <div class="meta">Posted on 2002-02-08 02:56:40 by cmax</div>
   </div>
   <div class="post" id="post-23332">
    <div class="subject"><a href="#post-23332">Strings First Letters</a></div>
    <div class="body"><div class="quote"><em>Originally posted by cmax </em><br />In real time running the program of course we could never tell because its still lighting fast TO THE USER.<br />But as programmers we are suppose to take care of these things even thought the users will never tell the difference....</div><br /><br /><br />Just a question, are you on drugs or somethings? ;-)<br /><br /><br />Random</div>
    <div class="meta">Posted on 2002-02-08 03:38:56 by random</div>
   </div>
   <div class="post" id="post-23339">
    <div class="subject"><a href="#post-23339">Strings First Letters</a></div>
    <div class="body">Forget the question if it was that bad...<br /><br />Sorry</div>
    <div class="meta">Posted on 2002-02-08 05:32:09 by cmax</div>
   </div>
   <div class="post" id="post-23345">
    <div class="subject"><a href="#post-23345">Strings First Letters</a></div>
    <div class="body">LSD?</div>
    <div class="meta">Posted on 2002-02-08 06:03:51 by random</div>
   </div>
  </div>
 </body>
</html>
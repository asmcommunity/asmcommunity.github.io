<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Dicovered something new to me.  Enlighten me if you can plea - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=7774" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=7774">Dicovered something new to me.  Enlighten me if you can plea</a></p>
   <div class="post" id="post-56388">
    <div class="subject"><a href="#post-56388">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">I was just playing around with MASM, trying to see what I could stick a dword ptr too.....  And looking at my opcode book...<br /><br />There is an indirect version of jmp :eek:   <br /><br />Hmmm, there is an indirect version of call, so I probably should have known that :o <br /><br />I noticed then, that the MASM generated jump table uses the indirect form of jmp:<br /><br />jmp dword ptr (some API call)<br /><br />Then I tried doing crazy stuff:<br /><pre><code><br />jmp      dword ptr &#91;eax+ebx*2+36&#93;<br /></code></pre><br />Yes that works, and it is only 4 bytes of code.<br /><br />or...<br /><pre><code><br />jmp dword ptr foobar<br /><br />foobar&#58;<br />     db 00,00,00,00<br /></code></pre><br />Yes that sets EIP to address 0.<br /><br />My mind is currently trying to take in what this all means....  Jump Tables...<br /><br />Anything else?  Anyone have a clever, useful application for indirect jmp?<br /><br />Thanks.<br /><br /><br /><br /><br /><br /><br /><br /><br />I also tried crazy stuff like call word ptr foobar, but call to a word ptr is completly useless in win32asm, as you cannot access memory that far down.</div>
    <div class="meta">Posted on 2002-09-06 12:59:08 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-56389">
    <div class="subject"><a href="#post-56389">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">Jump tables are one very usefull application  anyway, <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=2265">MASM</a> &amp; <a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=7561">FASM</a></div>
    <div class="meta">Posted on 2002-09-06 13:11:06 by EÃ³in</div>
   </div>
   <div class="post" id="post-56484">
    <div class="subject"><a href="#post-56484">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">Thanks Eoin for those two link.  I know nothing of using macros however, i write everything longhand.<br /><br />I guess it is pretty hard for people to say how they use a particular instruction.  Depends on context.<br /><br />So I found out I can do some pretty wacky things with jmp.  Now to find some more wacky things with other instructions.</div>
    <div class="meta">Posted on 2002-09-07 04:53:52 by ThoughtCriminal</div>
   </div>
   <div class="post" id="post-56491">
    <div class="subject"><a href="#post-56491">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">OOP!<br /><br />See NaN's and Thomas's OOP package, you'll find that all methods are referred via pointers.  All Call's to methods are indirect calls.<br /><br />Anything where control needs to be sent to one of N routines, and WHICH routine that needs to be called/jmped to can be determined at one time, can take advantage of pointers.  Say at init you find that you have processor X, you have several routines optimized for processor X,Y,Z, you just change one pointer and voila! you have one pointer for the routine pointing to the routine optimized for processor X.</div>
    <div class="meta">Posted on 2002-09-07 05:58:31 by AmkG</div>
   </div>
   <div class="post" id="post-56516">
    <div class="subject"><a href="#post-56516">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">Where do I find these OOP packages?  Just do a search on this site?</div>
    <div class="meta">Posted on 2002-09-07 10:17:53 by drhowarddrfine</div>
   </div>
   <div class="post" id="post-56608">
    <div class="subject"><a href="#post-56608">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">ThoughtCriminal,<br /><br />MASM can handle both the default jump table at the end for API calls or direct calls. There is a utility in MASM32 that creates include files that use an EXTERNDEF format that assemble as direct calls. All you need to do is construct a set of includes with it from the libraries you are using.<br /><br />Regards,<br /><br /><a href="mailto:hutch@movsd.com">hutch@movsd.com</a></div>
    <div class="meta">Posted on 2002-09-07 23:56:58 by hutch--</div>
   </div>
   <div class="post" id="post-56611">
    <div class="subject"><a href="#post-56611">Dicovered something new to me.  Enlighten me if you can plea</a></div>
    <div class="body">There's a OOP framework in the \Masm32\Oop folder.</div>
    <div class="meta">Posted on 2002-09-08 00:52:51 by Qweerdy</div>
   </div>
  </div>
 </body>
</html>
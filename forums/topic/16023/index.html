<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>dialog controls disappear - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16023" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16023">dialog controls disappear</a></p>
   <div class="post" id="post-124174">
    <div class="subject"><a href="#post-124174">dialog controls disappear</a></div>
    <div class="body">Hello Everybody,<br /><br />I'm using CreateCompatibleDC and StetchBlt to resize bitmaps on my dialog boxes.  This all works great and bitmaps are correct size and location when I change font size.<br /><br />I process the WM_PAINT message and pass dc and parameters to my proc.  <br /><br />The problem is when the dialog box is hidden then re-activated only the two bitmaps are visible - all the controls are gone until I drag the dialog box.  Then they re-appear.  <br /><br />I've tried InvalidateRect but this doesn't seem to work.  Any suggestions welcome.<br /><br />best regards,<br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-11-12 09:53:06 by czDrillard</div>
   </div>
   <div class="post" id="post-124177">
    <div class="subject"><a href="#post-124177">dialog controls disappear</a></div>
    <div class="body">I think you have to process the WM_SIZE message to redraw your alterations.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-11-12 10:45:39 by Raymond</div>
   </div>
   <div class="post" id="post-124188">
    <div class="subject"><a href="#post-124188">dialog controls disappear</a></div>
    <div class="body">Did you remember to call BeginPaint and EndPaint?</div>
    <div class="meta">Posted on 2003-11-12 13:53:11 by Sephiroth3</div>
   </div>
   <div class="post" id="post-124213">
    <div class="subject"><a href="#post-124213">dialog controls disappear</a></div>
    <div class="body">To Sephiroth3,<br /><br />Yes I call begin Paint then my proc then end paint.  I didn't want to do it this way but I needed the dc from begin paint.  I wanted to do all this under WM_INITDIALOG message but don't know how to get a dc that I can paint on.<br /><br />To Raymond,<br /><br />How do I get a DC when processing WM_SIZE?  GetDC doesn't seem to work with StrechBlt function.<br /><br />Thanks for your replies.<br /><br />best regards,<br /><br />czDrillard</div>
    <div class="meta">Posted on 2003-11-12 19:58:01 by czDrillard</div>
   </div>
   <div class="post" id="post-124214">
    <div class="subject"><a href="#post-124214">dialog controls disappear</a></div>
    <div class="body">Hi :)<br />My 0.02: I think you should call GetDC or GetWindowDC for that. There should be no problems using StretchBlt... maybe the problem is somewhere else? (Passing wrong parameters somewhere).<br /><br /><span style="font-size:9px>BTW, cool signature :alright:</span></div>
    <div class="meta">Posted on 2003-11-12 20:00:34 by QvasiModo</div>
   </div>
   <div class="post" id="post-124222">
    <div class="subject"><a href="#post-124222">dialog controls disappear</a></div>
    <div class="body">As QvasiModo suggested, you can probably call GetDC when processing the WM_INITDIALOG message. If that is correct, make sure to keep the return value in a <u>global</u> variable.<br /><br />Raymond</div>
    <div class="meta">Posted on 2003-11-12 22:34:15 by Raymond</div>
   </div>
  </div>
 </body>
</html>
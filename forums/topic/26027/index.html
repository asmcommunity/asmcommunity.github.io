<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Bitfield class - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=26027" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=26027">Bitfield class</a></p>
   <div class="post" id="post-189653">
    <div class="subject"><a href="#post-189653">Bitfield class</a></div>
    <div class="body">Hi,<br /><br />I?m not new here, I just lost my old account, but I haven&#39;t wrote much anyway. Done some reading, though.<br />Here is a small class for bitfield handling, for the cases where memory usage is important.<br />Of couse it&#39;s slower than accessing field bytewise, but for larger ones it may be suitable.<br />I&#39;ve wrapped it in a class to become familiar with OOP in Asm. Maybe I&#39;ll get lucky and get some responses<br />on style and other stuff.<br /><br />Greetings and hello,<br />Godzilla3000</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2379" target="_blank">BitField.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2007-06-22 10:58:15 by Godzilla3000</div>
   </div>
   <div class="post" id="post-189658">
    <div class="subject"><a href="#post-189658">Re: Bitfield class</a></div>
    <div class="body">Wouldn&#39;t it be better to use dwords instead of bytes as bit-containers?</div>
    <div class="meta">Posted on 2007-06-22 21:23:29 by Ultrano</div>
   </div>
   <div class="post" id="post-189660">
    <div class="subject"><a href="#post-189660">Re: Bitfield class</a></div>
    <div class="body"><div class="quote"><br />Wouldn&#39;t it be better to use dwords instead of bytes as bit-containers?<br /></div><br />Definitely, and even better to use qwords if you&#39;ve got a 64-bit machine, but I&#39;m guessing that your question was rhetorical anyway.&nbsp; ;)<br /><br />Plus, if you align them to 16 bytes (128 bits), you can use SSE for completely clearing them faster or for doing operations between two sets of bits much faster.&nbsp; You can get the extra cache line and pairing performance on those operations too if you align to 64 bytes and do 4 SSE instructions at a time.<br /><br />Cheers!</div>
    <div class="meta">Posted on 2007-06-23 04:13:20 by hackulous</div>
   </div>
   <div class="post" id="post-189661">
    <div class="subject"><a href="#post-189661">Re: Bitfield class</a></div>
    <div class="body">Thanks for your responses, they were very helpful. I will put them in code as soon as I get<br />some grip on SSE-Instructions. The suggestion concerning the usage of dwords is easier to implement,<br />so I&#39;ll work on that earlier.<br /><br />Greetz</div>
    <div class="meta">Posted on 2007-06-23 09:17:04 by Godzilla3000</div>
   </div>
   <div class="post" id="post-189664">
    <div class="subject"><a href="#post-189664">Re: Bitfield class</a></div>
    <div class="body"><div class="quote"><br />I will put them in code as soon as I get some grip on SSE-Instructions. The suggestion concerning the usage of dwords is easier to implement, so I&#39;ll work on that earlier.</div><br />Don&#39;t worry too much about the SSE stuff unless you really want to learn it, &#39;cause it is more complicated.&nbsp; It took me a while to learn how to use it, and longer to learn how to use it well.<br /><br />Best of luck to ya!&nbsp; :)</div>
    <div class="meta">Posted on 2007-06-24 03:36:32 by hackulous</div>
   </div>
   <div class="post" id="post-189665">
    <div class="subject"><a href="#post-189665">Re: Bitfield class</a></div>
    <div class="body">Well, don&#39;t worry about SSE unless you have <strong>huge</strong> bitfields that you want to clear :)<br /></div>
    <div class="meta">Posted on 2007-06-24 08:21:47 by f0dder</div>
   </div>
   <div class="post" id="post-189674">
    <div class="subject"><a href="#post-189674">Re: Bitfield class</a></div>
    <div class="body"><div class="quote"><br />Well, don&#39;t worry about SSE unless you have <strong>huge</strong> bitfields that you want to clear :)<br /></div><br />That is quite a good point.&nbsp; You probably wouldn&#39;t be using these bitfields for the kinds of applications that&#39;d make it be a bottleneck anyway.&nbsp; There are algorithms where SSE really speeds up the loads of intense bitfield operations they use, but you&#39;d probably want custom inlined stuff in those cases anyway, and they&#39;re not the types of algorithms you&#39;d see in most everyday applications.&nbsp; NP-hard graph algorithms just aren&#39;t something you find everywhere.<br /><br />It is nonetheless neat that you can pretty much operate on 512 bits in parallel if you organize the SSE code just right, but it&#39;s likely useless if you&#39;ve got less than 512 bits to operate on. Even with 1024 bits, it may or may not be a useful improvement for algorithms that aren&#39;t really straining the CPU.</div>
    <div class="meta">Posted on 2007-06-24 23:02:40 by hackulous</div>
   </div>
  </div>
 </body>
</html>
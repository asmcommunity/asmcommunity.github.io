<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Duplicity Of Edit Control - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=15050" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=15050">Duplicity Of Edit Control</a></p>
   <div class="post" id="post-116818">
    <div class="subject"><a href="#post-116818">Duplicity Of Edit Control</a></div>
    <div class="body">Hello, Win32ASM Community messageboard !<br />It's my first message here.<br /><br />If you'll run attached EditControl.exe, you'll see in Edit: &quot;Text #2&quot;.<br /><br />WinSight, TheCustomiser, WinSpy++, Winspect, WinSteal, Count Characters<br />and many other programs will read also: &quot;Text #2&quot;.<br /><br />But few programs - Spy++, Spy (by Kobi), CopyText (by VSAP),<br />Window Scanner (InqSoft), Apirator (my draft) - will read: &quot;Text #1&quot; !<br /><br />Can somebody explain this effect ?<br /><br />----<br /><a target="_blank" href="http://www.geocities.com/xmemor">http://www.geocities.com/xmemor</a></div>
    <div class="meta">Posted on 2003-09-03 18:29:40 by kero</div>
   </div>
   <div class="post" id="post-116849">
    <div class="subject"><a href="#post-116849">Duplicity Of Edit Control</a></div>
    <div class="body">You can test any editbox with help of InqSoft Window Scanner,<br />that read and write both types of texts above.<br /><br /><a target="_blank" href="http://s0m.narod.ru/iws_inst.zip">http://s0m.narod.ru/iws_inst.zip</a> (from Home page),<br /><a target="_blank" href="http://www.geocities.com/xmemor/2lz/iws_inst.zip">http://www.geocities.com/xmemor/2lz/iws_inst.zip</a><br /><br />----<br /><a target="_blank" href="http://www.geocities.com/xmemor">http://www.geocities.com/xmemor</a></div>
    <div class="meta">Posted on 2003-09-04 01:05:55 by kero</div>
   </div>
   <div class="post" id="post-116851">
    <div class="subject"><a href="#post-116851">Duplicity Of Edit Control</a></div>
    <div class="body"><strong>kero</strong><br /><em>run attached EditControl.exe</em><br />EditControl.exe crushed under w2ksp4 because DlgProg <strong>must have</strong> four parameters and <strong>ret 10h</strong> instead of two and <strong>ret 08h</strong></div>
    <div class="meta">Posted on 2003-09-04 01:19:39 by P2M</div>
   </div>
   <div class="post" id="post-116885">
    <div class="subject"><a href="#post-116885">Duplicity Of Edit Control</a></div>
    <div class="body">Oh, of course! <br />Last moment before my first post i &quot;reduced&quot; asm-file... eclipse.<br />I'm under kindly Win98 :)  Thanx, P2M.<br /> <br />Attach - replaced.<br /><br />----<br /><a target="_blank" href="http://www.geocities.com/xmemor">http://www.geocities.com/xmemor</a></div>
    <div class="meta">Posted on 2003-09-04 04:13:39 by kero</div>
   </div>
   <div class="post" id="post-116978">
    <div class="subject"><a href="#post-116978">Re: Duplicity Of Edit Control</a></div>
    <div class="body"><div class="quote">Can somebody explain this effect ?<br /></div><br /><br />it seems to be that setting edit's control caption and setting it's text are 2 different things:confused:</div>
    <div class="meta">Posted on 2003-09-04 16:10:59 by NEMO</div>
   </div>
   <div class="post" id="post-117014">
    <div class="subject"><a href="#post-117014">Duplicity Of Edit Control</a></div>
    <div class="body"><strong>kero</strong><br /><em>Can somebody explain this effect ?</em><br />MS Spy++ (ver. 6.00.8168) use GetWindowText and show 'Text #1'.<br />MS Spy++ (ver. 7.00.8168) use WM_GETTEXT and show 'Text #2'.<br /><br />Attached code is demo both methods.<br /><br />PS from msdn <a target="_blank" href="http://msdn.microsoft.com/library/en-us/winui/winui/windowsuserinterface/windowing/windows/windowreference/windowfunctions/getwindowtext.asp">GetWindowText Function (Windows User Interface)</a><div class="quote">This function cannot retrieve the text of an edit control in another application ... If the target window is owned by another process and has a caption, GetWindowText retrieves the window caption text ... To retrieve the text of a control in another process, send a WM_GETTEXT message directly instead of calling GetWindowText.</div></div>
    <div class="meta">Posted on 2003-09-04 22:43:07 by P2M</div>
   </div>
   <div class="post" id="post-117015">
    <div class="subject"><a href="#post-117015">Duplicity Of Edit Control</a></div>
    <div class="body">GetWindowText retrives its classname<br />WM_GETTEXT retrives its content</div>
    <div class="meta">Posted on 2003-09-04 23:10:29 by roticv</div>
   </div>
   <div class="post" id="post-117111">
    <div class="subject"><a href="#post-117111">Duplicity Of Edit Control</a></div>
    <div class="body">P2M:<br />	&quot;MS Spy++ (ver. 6.00.8168) use GetWindowText and show 'Text #1'.<br />	 MS Spy++ (ver. 7.00.8168) use WM_GETTEXT and show 'Text #2'.&quot;<br /><br />Very interesting (i use Spy++ v.6). Did MS comment this change ?<br /><br />BTW, before starting this thread i was on MSDN and re-red about GetWindowText<br />and other Text API. But i didn't find passable answer for me.<br /><br />&quot;This function cannot retrieve the text of an edit control in another application...&quot; <br /><br />Cannot retrieve Text #2, but what about Text #1 of SAME edit control ?<br /><br /><br />P.S. At last today i found needful info in <br />&quot;Programming Applications for Microsoft Windows&quot; by Jeffrey Richter.<br /><br />It seems to be, Nemo, that we have Editbox as &quot;2-channel control&quot;.<br /><br />Because standard Editbox is old control from Win16, where controls worked<br />in one address space, and present MS Windows looks after old programs<br />and makes all needful work. So Editbox in Win32 has 2 buffers:<br />one - &quot;official&quot;, and one - &quot;unofficial&quot;, inherited.<br /><br />And if i have introduced this conception wrong let guru correct me.<br /><br />---<br />geocities.com/xmemor</div>
    <div class="meta">Posted on 2003-09-05 13:30:22 by kero</div>
   </div>
   <div class="post" id="post-205499">
    <div class="subject"><a href="#post-205499">Undocumented EditBox (continuation after 5 years)</a></div>
    <div class="body">This example presents usual Edit Box as top-level window, which can have different TitleBar&#039;s and TaskBar&#039;s texts.<br /><br />Set TitleBar&#039;s text: <br />check both checkboxes, <br />type text in higher control (Edit, child of Edit :-) ), <br />and press button &quot;SendMessage (WM_SETTEXT)&quot; or button &quot;SetWindowText&quot;.<br /><br />Set TaskBar&#039;s text:<br />uncheck checkbox &quot;EditProc/DefWindowProc (WM_SETTEXT)&quot;,<br />type text in same child Edit, <br />and press any of same buttons.<br /><br />Also trigger: <br />right-click on any of same buttons changes its function from &quot;Set&quot; to &quot;Get&quot; and vice versa.<br /><br />Also simple window finder: <br />set focus on &quot;SendMessage (WM_S/GETTEXT)&quot; or &quot;S/GetWindowText&quot; button, <br />place cursor over target window,<br />and press SPACE or ENTER key <br />(+ pressed CTRL key =&gt; GA_ROOT ancestor).<br /><br />Note: for XP-style - press button &quot;STAP_ALLOW_NONCLIENT on/off&quot;.<br /><br />---<br />It is easy to make similar examples for &quot;msctls_statusbar32&quot; and &quot;combobox&quot;.<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2593" target="_blank">undocedit.zip</a></li>
      <li><a href="../../attachments/?id=2594" target="_blank">undocedit.png</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2008-06-17 23:08:41 by kero</div>
   </div>
  </div>
 </body>
</html>
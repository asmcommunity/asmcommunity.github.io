<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>sDraw : software 2D rasterizer for complex GUI - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=24967" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=24967">sDraw : software 2D rasterizer for complex GUI</a></p>
   <div class="post" id="post-182683">
    <div class="subject"><a href="#post-182683">sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Similar to my previous 2D engines ILIX (opensource/free) and iDraw (inhouse commercial), but relies completely on the CPU. Thus, is very fast at drawing some specific complex graphics (much faster than DirectDraw/D3D), but is a bit slower at raw Blt. <br /><br />Alphablending, additive blending, custom blends, ROP drawing - this is the target, 50% complete. <br /><br />Uses a GDI DIB for output, the internal drawing and clipping is custom. <br /><br />Current version: 0.4 , major-build-version:02<br />To add:<br />- more blending ops and drawing ROPs<br />- implement clippers: sdEnterClip(x,y,wid,hei), sdLeaveClip(), sdAdjustDrawOffset, sdForceClipper(wid,hei)<br />- load compressed images (with alpha-channel)<br />- load jpg/gif/png without alpha-channel<br />- documentation<br /><br />The sDraw.exe is a demo of the blending and speed of sDraw, forced to update at 50fps. Takes less than 1% cpu here :D<br /><br />: the attachment is in one of my next post in this thread</div>
    <div class="meta">Posted on 2006-06-30 17:06:44 by Ultrano</div>
   </div>
   <div class="post" id="post-182717">
    <div class="subject"><a href="#post-182717">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">I&#39;ll definately look into this for my 2d Development, but I have to say that you must have a nice PC, since it took 46 to 52 % of my processor (a p3 866). In any case it&#39;ll probably run quite nice considering that WAS forced to 50 FPS.</div>
    <div class="meta">Posted on 2006-07-01 15:29:32 by Bobbias</div>
   </div>
   <div class="post" id="post-182736">
    <div class="subject"><a href="#post-182736">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Hmm, what&#39;s your videocard? And the screen width/height/bpp<br /><br />My PC isn&#39;t a beast, relatively, but I&#39;m very pleased with it:<br />Sempron 2200+<br />512MB DDR400,&nbsp;  bandwidth: 2.7GB/s<br />Radeon 9200SE<br />1024x768, 32bpp<br />GDI&#39;s BitBlt is hardware-accelerated (good drivers here ^^ )<br /><br />I had a p3 700Mhz some time ago, I was always angry at its awful performance - its memory interface sucked (mobo+RAM&#39;s fault partially), happily gave it away with the mobo, RAM and case. <br /><br /><br />sDraw, isn&#39;t good/dedicated for games, I should warn you :) . But still, the blending functions can be a turning point in your decision. <br />For nowaday 2D/3D games, I would recommend Direct3D9, but it will be too much for a newcomer into gamedevelopment. <br /><br />I&#39;ve finished sDraw to the point that I can use it for my purposes, what&#39;s left for a public release is:<br />1) make independent from my code-base (something like the MASM32 package)<br />2) documentation, but will be in C-style mostly<br />3) examples in asm, C, VB</div>
    <div class="meta">Posted on 2006-07-01 22:07:17 by Ultrano</div>
   </div>
   <div class="post" id="post-182751">
    <div class="subject"><a href="#post-182751">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Well, I&#39;m running an Nvidia GeFroce FX 5600 (256 MB vid ram) underclocked VERY slightly (it was overheating :/)<br />P3 866MHz<br />384 MB ram (no idea on the specs of the ram)<br />1280x1024, 32 bpp<br /><br />And in any case, I think that for the basic games I&#39;d be making, sDraw is probably good enough. And I used to know a little about working in DX, but not any more, they&#39;ve released way too many versions, that my knowledge fell behind, and now I need to relearn DX somewhat.</div>
    <div class="meta">Posted on 2006-07-02 02:42:46 by Bobbias</div>
   </div>
   <div class="post" id="post-182786">
    <div class="subject"><a href="#post-182786">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">uses 0-1% cpu usage on my 3200 athlon xp-ati 9250 <br /><br />nice! 8)</div>
    <div class="meta">Posted on 2006-07-02 10:12:26 by asmrixstar</div>
   </div>
   <div class="post" id="post-182808">
    <div class="subject"><a href="#post-182808">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Almost finished and polished it up, toyed a bit to make 2 example-apps. <br />Now, sDraw is independent from my SDK, there are both .lib and .dll versions. <br /><br />The sdDeleteSprite() proc is buggy now, crashes - will fix it sometime. You needn&#39;t use it anyway.<br /><br /><br />The Documentation will come last, I guess ^^&quot;<br /><br /> <sub>Final attachment in final post</sub></div>
    <div class="meta">Posted on 2006-07-02 16:43:14 by Ultrano</div>
   </div>
   <div class="post" id="post-182810">
    <div class="subject"><a href="#post-182810">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">nice work, thx for sharing</div>
    <div class="meta">Posted on 2006-07-02 17:04:41 by asmrixstar</div>
   </div>
   <div class="post" id="post-182818">
    <div class="subject"><a href="#post-182818">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Hi, Ultrano<br /><div class="quote">(much faster than DirectDraw/D3D), but is a bit slower at raw Blt. </div><br />How can it be faster than the hardware? Which version of direct3d are you reffering to? DDraw7 is dead-slow because of its design. What operations exactly are faster?<br /><br />BTW: It&#39;s using ~25% of my Pentium4 2.4GHz, GF FX 5200, 1GB RAM<br /><br /><br /><div class="quote">And I used to know a little about working in DX, but not any more, they&#39;ve released way too many versions, that my knowledge fell behind, and now I need to relearn DX somewhat.<br /></div><br />Hi Bobbias. Learn Direct3d 9.0c and (any) newer. Nothing else! ;)</div>
    <div class="meta">Posted on 2006-07-02 22:06:29 by ti_mo_n</div>
   </div>
   <div class="post" id="post-182821">
    <div class="subject"><a href="#post-182821">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Well, if I&#39;m just writing something that doesn&#39;t require massive graphics libraries, and isn&#39;t exactly complicated (a la pong) I should be able to write it using GDI or something like sDraw.<br /><br />Also, as a side note, anyone know what the comperative speeds between D3D (9.0c) and OpenGL are? (I guess it&#39;s got a lot to do with your card, but if you know someplace that has info like that, I&#39;d liek to see it)</div>
    <div class="meta">Posted on 2006-07-02 23:20:49 by Bobbias</div>
   </div>
   <div class="post" id="post-182825">
    <div class="subject"><a href="#post-182825">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">ti_mo_n , in this case vga hardware is slower:<br /> the triangular data usually is rather random, here it was auto-generated just for a test. This was done with DirectDraw - 23fps and no alpha-effects aren&#39;t enough for me. <br />The idea is that &quot;mov ,eax&quot; is faster than sending the individual pixels to the VGA :) <br />Happy ATi user here ^_^</div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1777" target="_blank">case.gif</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-07-03 03:29:40 by Ultrano</div>
   </div>
   <div class="post" id="post-182851">
    <div class="subject"><a href="#post-182851">sDraw1.0 ready</a></div>
    <div class="body">version 1.0 finally ready (documentation took 2 days)&nbsp; ;)<br />Features and stuff ... read it all in the .chm :)<br /><br /><br /><br /><span style="font-size:6pt>jump again to last post</span></div>
    <div class="meta">Posted on 2006-07-03 12:34:31 by Ultrano</div>
   </div>
   <div class="post" id="post-182856">
    <div class="subject"><a href="#post-182856">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">I&#39;m getting a <em>You are not allowed to access this section</em> when trying to download the sdraw06.zip attachment :-s<br /><br /><strong>EDIT:</strong> doh, that explains it :)<br /></div>
    <div class="meta">Posted on 2006-07-03 12:51:46 by f0dder</div>
   </div>
   <div class="post" id="post-183574">
    <div class="subject"><a href="#post-183574">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Version 1.1:<br />- added drawing of arbitrary lines with subpixel accuracy (but no antialiasing)<br />- added some simple sDrawRectXXX funcs<br />- font loading and text-drawing! (fonts are embedded as compressed 8bpp bitmaps)<br /><br />The documentation has info on the new procs, but I didn&#39;t make any example. Well, I attached a screenshot of my usage of sDraw in a commercial app of mine. There the &quot;Automation Editor&quot; window is completely drawn with sDraw, all other windows are drawn with DirectDraw. </div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=1866" target="_blank">sDraw1.1_public.zip</a></li>
      <li><a href="../../attachments/?id=1864" target="_blank">untitled.png</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2006-07-15 21:41:12 by Ultrano</div>
   </div>
   <div class="post" id="post-183578">
    <div class="subject"><a href="#post-183578">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body"><div class="quote"><br />Version 1.1:<br />- added drawing of arbitrary lines with subpixel accuracy (but no antialiasing)<br />- added some simple sDrawRectXXX funcs<br />- font loading and text-drawing! (fonts are embedded as compressed 8bpp bitmaps)<br /><br />The documentation has info on the new procs, but I didn&#39;t make any example. Well, I attached a screenshot of my usage of sDraw in a commercial app of mine. There the &quot;Automation Editor&quot; window is completely drawn with sDraw, all other windows are drawn with DirectDraw. <br /></div><br />I have some code that in parallel draws several pixels after conversion from SSE, as I scale it anyway from 1.0f range to 255 integer range, wouldnt it be easy to add fullscreen antialiasing while copying from backbuffer with scale neighbouring pixels differently while get advantage of better bandwidth with movq /movdqa?<br />whats the difference between antialiasing and SAIx2 ?because this will become similar to SAIx2 smoothening<br /><br /></div>
    <div class="meta">Posted on 2006-07-15 23:04:58 by daydreamer</div>
   </div>
   <div class="post" id="post-183588">
    <div class="subject"><a href="#post-183588">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">sDraw is designed exclusively for GUI. Such gaming procs are far, far from being useful here. <br /><br /><br />Blt scaling should be directly and easily done via DDraw, since the GPU will do it 50-100 times faster and better. <br /><br />FSAA is not for any current CPU. Do the math with the simplest, FSAAx2:<br />(30fps) * (2 windows) * (1024x768) * (FSAA 2x2+1+1) * (4 bpp) = 1080MB/s <br />Ah, where did I forget that we actually draw stuff before antialiasing it? So, add<br />(30fps) * (2 windows) * (1024x768) * (FSAA 2x2) * (Average overdraw=2) * (4 bpp) = 1440MB/s<br />Total 2520MB/s (oh, that&#39;s even more than what AGP 8x can provide)<br /><br />Oh, that&#39;s just for two DrawRect(0,0,1024,768) - we didn&#39;t add read-bandwidth from surfaces! So, we add..., then alpha-blended, then...<br /><br />You get the idea :)<br /><br />SAIx2 is kind of the opposite of FSAAx2. Instead of which, one should better use the DDraw stretch. Unless it&#39;s used for the final stretch of an emulator of old consoles that draw sprites via palettes. <br /></div>
    <div class="meta">Posted on 2006-07-16 04:27:51 by Ultrano</div>
   </div>
   <div class="post" id="post-187495">
    <div class="subject"><a href="#post-187495">sDraw version 1.2</a></div>
    <div class="body">Made the .lib again stand-alone, with all bug-fixes and additional features I&#39;ve done for the past months.<br /><br />New: <br />- Easy drawing to internal sSprites (bitmaps), instead of just to the back-buffer.<br />- More exported variables, for advanced use<br />- Loading of .jpg files and data<br />- More flexible initial-clipping via sdStartEx, and sdEndEx<br />- Interworking with GDI (use any GDI drawing func over the backbuffer)<br />- Fetching of background-data for transparency-effects when interworking with GDI<br />- Fast H-line and V-line procs<br />- some optimizations<br />- a new example: how to make a custom-control, drawn with sDraw<br /></div>
    <div class="attachments">Attachments:
     <ul>
      <li><a href="../../attachments/?id=2225" target="_blank">sDraw1.2.zip</a></li>
     </ul>
    </div>
    <div class="meta">Posted on 2007-01-13 10:44:05 by Ultrano</div>
   </div>
   <div class="post" id="post-187504">
    <div class="subject"><a href="#post-187504">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">P.S: whoops, had compiled the .lib with wrong params... <br /><br /></div>
    <div class="meta">Posted on 2007-01-13 20:34:18 by Ultrano</div>
   </div>
   <div class="post" id="post-187506">
    <div class="subject"><a href="#post-187506">Re: sDraw : software 2D rasterizer for complex GUI</a></div>
    <div class="body">Great :) I look forward to trying it</div>
    <div class="meta">Posted on 2007-01-14 01:50:11 by mango</div>
   </div>
  </div>
 </body>
</html>
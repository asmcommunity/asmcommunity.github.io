<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>mov or lea - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16105" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16105">mov or lea</a></p>
   <div class="post" id="post-124905">
    <div class="subject"><a href="#post-124905">mov or lea</a></div>
    <div class="body">whats the diference and how to use lea useful?<br />and what is better:<br />mov eax,offset buffer<br />or <br />lea eax,buffer<br /><br />ps: i never used it in my programs because i dont know what it <u>really</u> do?</div>
    <div class="meta">Posted on 2003-11-20 12:47:55 by zabnik</div>
   </div>
   <div class="post" id="post-124906">
    <div class="subject"><a href="#post-124906">mov or lea</a></div>
    <div class="body">For addresses <strong>lea reg32,Var</strong> is used to move the address of a local or stack based variable into the register, <strong>mov reg32,OFFSET Var</strong> is used to move the address of a static variable into the register. Use <strong>mov</strong> where you can, <strong>lea</strong> only if necesary.</div>
    <div class="meta">Posted on 2003-11-20 12:54:49 by donkey</div>
   </div>
   <div class="post" id="post-124936">
    <div class="subject"><a href="#post-124936">mov or lea</a></div>
    <div class="body">zabnik,<br /><br />As Donkey has said, you use LEA for data that is a LOCAL variable. It works like this in a proc,<br /><pre><code><br />LOCAL var&#58;DWORD<br />    ........<br />    lea eax, var<br />    ........<br /></code></pre><br />When you allocate a LOCAL variable in a proc, it is created at runtime on the stack so it does not have an OFFSET like data stored in the .DATA section which is known at assembly time. Depending on how many LOCAL values are allocated in the procedure, a LOCAL is something like,<br /><pre><code><br />    &#91;ebp-64&#93;<br /></code></pre><br />which is the stack address in a register with a minus displacement. When the procedure is finished, the data in the local variable is lost as the stack is reused by the next procedure.<br /><br />Regards,<br />http://www.asmcommunity.net/board/cryptmail.php?tauntspiders=in.your.face@nomail.for.you&amp;id=2f46ed9f24413347f14439b64bdc03fd</div>
    <div class="meta">Posted on 2003-11-20 18:21:28 by hutch--</div>
   </div>
   <div class="post" id="post-124962">
    <div class="subject"><a href="#post-124962">mov or lea</a></div>
    <div class="body">lea is useful if you want to do some maths operations<br />lea eax,    ==     eax *=5<br /><br />You can use it to access item in a matrix</div>
    <div class="meta">Posted on 2003-11-21 03:17:45 by greenant</div>
   </div>
   <div class="post" id="post-125015">
    <div class="subject"><a href="#post-125015">thank you</a></div>
    <div class="body">thank you very much<br />---<br />did any1 saw my attachent?</div>
    <div class="meta">Posted on 2003-11-21 10:49:52 by zabnik</div>
   </div>
   <div class="post" id="post-125018">
    <div class="subject"><a href="#post-125018">mov or lea</a></div>
    <div class="body">6 ppl downloaded your file as for now i dont think they have done that just to make you happy :cool:</div>
    <div class="meta">Posted on 2003-11-21 11:26:53 by AceEmbler</div>
   </div>
  </div>
 </body>
</html>
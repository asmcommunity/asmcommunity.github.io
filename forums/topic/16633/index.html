<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Thread problem - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=16633" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=16633">Thread problem</a></p>
   <div class="post" id="post-129258">
    <div class="subject"><a href="#post-129258">Thread problem</a></div>
    <div class="body">Heres my problem,i coded a app that uses mdi and had all the child windows like mini clients that let u connect to multiple server simutaniously and comunicate with them.The problem is to preserve all the child windows control handles I had to create ever child window in a new thread and to top it off i had to create thread for each connection.The only thing is how do I effectively get child window in one thread to communicatenwith the winsock thread,like to send data,receiving is ok. I tryed events there not every effective.also if theres  away to preserve the control handles with make new thread and setting everything using LOCAL etc...due tell</div>
    <div class="meta">Posted on 2003-12-29 10:27:48 by Webring</div>
   </div>
   <div class="post" id="post-129285">
    <div class="subject"><a href="#post-129285">Thread problem</a></div>
    <div class="body">Having many threads is not good, especially if you're a newbie with it - because you may be lucky to make the program work ok, but if you don't make an excellent locking/synchronization system, you'll end up sometimes with strange GPFs , locks of the PC and garbage data . If you have 1 thread, it'll all be ok. <br />There are several ways to get out of your problem (if you insist on having threads), but they lead to a little different ways of program workflow.<br />1) To get thread ID, and verify if code is working in some thread, also you'll have to store the threads in some array<br />2) To send initialization value of CreateThread (the last argument), and to use it the way you want, usually in a &quot;local&quot; var <br />3) To set the window's USER_DATA to the thread's ID or anything you can identify a thread with. Use the SetWindowLong and &quot;invoke GetWindowLong,hWnd,GWL_USERDATA&quot;. <br />4) GetTopWindow might be of some help<br />5) invoke GetWindow,hWnd,GW_CHILD<br /><br />But I really recommend you don't use threads, and use the GetWindowLong to store/get pointer to a structure of your own, that describes the window with as many variables as you want :) . <br />Since you want many child windows that will behave independently but alike, you can use OOP, you can use my OOP macros at<br /><a target="_blank" href="http://www.asmcommunity.net/board/index.php?topic=15422&amp;pagenumber=2">http://www.asmcommunity.net/board/index.php?topic=15422&amp;pagenumber=2</a><br /><br />you can ask for as much help as you need :alright:</div>
    <div class="meta">Posted on 2003-12-29 16:42:20 by Ultrano</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>can I see the code generated by my macros - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=10878" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=10878">can I see the code generated by my macros</a></p>
   <div class="post" id="post-82006">
    <div class="subject"><a href="#post-82006">can I see the code generated by my macros</a></div>
    <div class="body">I would like to see the expansion of my macros before the HLA compiler turns it into MASM code.<br />In terms of other compilers--e.g., PL/I--that would be a virtual &quot;first pass listing&quot; ( &quot;virtual&quot; in the sense that it doesn't matter whether that text ever exists as a complete file for further processing).  If that is not available in version 1, will it be in version 2?   (I'd use that even if it were only available as a dead-end option that means that there would be no &quot;second pass&quot; compilation.)</div>
    <div class="meta">Posted on 2003-02-15 15:07:25 by benanne12</div>
   </div>
   <div class="post" id="post-82155">
    <div class="subject"><a href="#post-82155">Re: can I see the code generated by my macros</a></div>
    <div class="body"><div class="quote"><br />I would like to see the expansion of my macros before the HLA compiler turns it into MASM code.<br />In terms of other compilers--e.g., PL/I--that would be a virtual &quot;first pass listing&quot; ( &quot;virtual&quot; in the sense that it doesn't matter whether that text ever exists as a complete file for further processing).  If that is not available in version 1, will it be in version 2?   (I'd use that even if it were only available as a dead-end option that means that there would be no &quot;second pass&quot; compilation.) </div><br /><br />Yep, that would be a nice feature all right.<br />However, in HLA v1.x macros are handled by the &quot;compile-time language&quot;, not via preprocessing as with most languages.  That is, HLA doesn't expand the macro and<br />then process the text associated with that macro.  The best way to think of it is<br />as processing one token in the macro, passing the results on to HLA for compilation, then processing the next token in the macro, etc.<br /><br />HLA v2.0 will solve this problem using a different approach.  HLA v2.0 will have replaceable code generators (e.g., a code generator for COFF, a code generator for ELF, etc...).  One set of code generators will be source code generators;  HLA will still be capable of producing MASM or Gas or FASM or etc. output by selecting the appropriate &quot;code&quot; generator.  HLA v2.0 will provide an HLA code generator specifically for the purpose of taking a look at what happens when the compile-time language processes the file.<br />This will show you &quot;macro expansions&quot;, the effects of conditional assembly, etc.<br /><br />I was tempted, at one time, to put such a code generator into HLA v1.x.  But HLA v1.x's code generation algorithms *really* want to produce code with the &quot;dest,src&quot; operand organization (which is why HLA uses &quot;.intel_syntax&quot; for Gas output).  Creating an HLA code generator is probably more work than it's worth at this point.<br /><br />Cheers,<br />Randy Hyde</div>
    <div class="meta">Posted on 2003-02-16 15:45:16 by rhyde</div>
   </div>
  </div>
 </body>
</html>
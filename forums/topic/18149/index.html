<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Child window rect - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=18149" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=18149">Child window rect</a></p>
   <div class="post" id="post-140250">
    <div class="subject"><a href="#post-140250">Child window rect</a></div>
    <div class="body">How to get a child window rect relative to the parent window's client erea?</div>
    <div class="meta">Posted on 2004-04-27 04:58:20 by Vaxon</div>
   </div>
   <div class="post" id="post-140251">
    <div class="subject"><a href="#post-140251">Child window rect</a></div>
    <div class="body">LOCAL rc:RECT<br />LOCAL hwnd:HWND<br /><br />invoke GetClientRect,hwnd,ADDR rc<br /><br />: I would call this function on both, the child and the main window and respectavly calculate the positioning through rc.<span class="text-right">. Subtracking effective rc. data from each other. Just watch out it the child window does not have negative x and y co-ordinates.<br /><br /></div>
    <div class="meta">Posted on 2004-04-27 05:08:35 by Black iCE</div>
   </div>
   <div class="post" id="post-140254">
    <div class="subject"><a href="#post-140254">Child window rect</a></div>
    <div class="body">So rect.top and rect.left for a child's client erea are not 0?</div>
    <div class="meta">Posted on 2004-04-27 05:21:42 by Vaxon</div>
   </div>
   <div class="post" id="post-140255">
    <div class="subject"><a href="#post-140255">Child window rect</a></div>
    <div class="body">sometimes when i use common control, i use -ve values to get it lookin good. like at my Rebar posts.<br /><br />Your question, only when you draw your own controls.</div>
    <div class="meta">Posted on 2004-04-27 05:29:18 by Black iCE</div>
   </div>
   <div class="post" id="post-140268">
    <div class="subject"><a href="#post-140268">Child window rect</a></div>
    <div class="body"><div class="quote"><br />The GetClientRect function retrieves the coordinates of a window's client area. The client coordinates specify the upper-left and lower-right corners of the client area. Because client coordinates are relative to the upper-left corner of a window's client area, the coordinates of the upper-left corner are (0,0).<br /></div></div>
    <div class="meta">Posted on 2004-04-27 09:29:57 by f0dder</div>
   </div>
   <div class="post" id="post-140269">
    <div class="subject"><a href="#post-140269">Child window rect</a></div>
    <div class="body"><pre><code>invoke GetClientRect, &#91;hChild&#93;, offset rect<br /><br />invoke MapWindowPoints, &#91;hChild&#93;, &#91;hParent&#93;, offset rect, 1 ; for x,y,cx,cy<br />invoke MapWindowPoints, &#91;hChild&#93;, &#91;hParent&#93;, offset rect, 2 ; for x,y,x2,y2</code></pre><br />cx,cy are the width and height of the child<br />x2,y2 are the coodinates in parent coordinates of the lower right corner of the child<br /><br />You use the one you need for the particular application.</div>
    <div class="meta">Posted on 2004-04-27 09:32:05 by donkey</div>
   </div>
   <div class="post" id="post-140333">
    <div class="subject"><a href="#post-140333">Child window rect</a></div>
    <div class="body">Thank you. I needed that for a tooltip window. It seems to be much easier to pass window handle instead of an id and leave rect blank in the TOOLINFO structure to add a tool.</div>
    <div class="meta">Posted on 2004-04-28 05:39:47 by Vaxon</div>
   </div>
  </div>
 </body>
</html>
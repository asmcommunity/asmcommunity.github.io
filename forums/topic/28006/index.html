<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>SetWindowsHookEx & more ... - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=28006" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=28006">SetWindowsHookEx & more ...</a></p>
   <div class="post" id="post-199012">
    <div class="subject"><a href="#post-199012">SetWindowsHookEx & more ...</a></div>
    <div class="body">Im writing a keylogger, all works fine but when i push ´ the system displays two ´´ and the keylog grabs nothing to the file.

Whats happening?

Thx.</div>
    <div class="meta">Posted on 2001-05-10 13:15:00 by elmenda</div>
   </div>
   <div class="post" id="post-199013">
    <div class="subject"><a href="#post-199013">SetWindowsHookEx & more ...</a></div>
    <div class="body">An odd symptom -- sounds like ' is going to the
wrong handle, i.e. to the window instead of to
the log file. ' has ascii 27h and scan code 28h;
is either of these numbers something special in
your source?
Larry</div>
    <div class="meta">Posted on 2001-05-12 03:15:00 by Larry Hammick</div>
   </div>
   <div class="post" id="post-199014">
    <div class="subject"><a href="#post-199014">SetWindowsHookEx & more ...</a></div>
    <div class="body">Which keyboard layout are you using?</div>
    <div class="meta">Posted on 2001-05-14 15:44:00 by Milos</div>
   </div>
   <div class="post" id="post-199015">
    <div class="subject"><a href="#post-199015">SetWindowsHookEx & more ...</a></div>
    <div class="body">Im very angry, all works ok ... but when i press the key ´ or i tried: áéó  ... it displays ´´

Now im writing with the keylogger activated ... look at this:
´´  <- i push only one time the key ´  but the system displays two ´ 

´´a´´e´´i´´o´´u  <- :? 

Help!! i hook "WH_JOURNALRECORD"</div>
    <div class="meta">Posted on 2001-05-14 16:17:00 by elmenda</div>
   </div>
   <div class="post" id="post-199016">
    <div class="subject"><a href="#post-199016">SetWindowsHookEx & more ...</a></div>
    <div class="body">Are you hooking the WM_CHAR and WM_DEADCHAR messages?
From MSDN Online:
<div class="quote">
TranslateMessage generates the WM_DEADCHAR message when it processes the WM_KEYDOWN message from a dead key. Although the wParam parameter of the WM_DEADCHAR message contains the character code of the diacritic for the dead key, an application typically ignores the message. Instead, it processes the WM_CHAR message generated by the subsequent keystroke. The wParam parameter of the WM_CHAR message contains the character code of the letter with the diacritic. If the subsequent keystroke generates a character that cannot be combined with a diacritic, the system generates two WM_CHAR messages.
</div></div>
    <div class="meta">Posted on 2001-05-17 22:14:00 by tank</div>
   </div>
  </div>
 </body>
</html>
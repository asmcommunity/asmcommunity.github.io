<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>Disable Keyboard &amp; Mouse - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=11001" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=11001">Disable Keyboard &amp; Mouse</a></p>
   <div class="post" id="post-82863">
    <div class="subject"><a href="#post-82863">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">Is there a way to TOTALLY diable the Keyboard and Mouse for the whole operating system than re-able them with out re-booting.  ( But i would have no problem if i am force to Re-Boot if all is not possible )<br /><br />Do anyone have info about thiis.  I did a search for diable but have not turned up anything as of yet.... Still searching...<br /><br /> I know how to do this for my own window but not the whole system.  And i need to diable all until a block of code has finish running.  I was trying to do it with the programan handle but had no success.  <br /><br />Thanks in advance</div>
    <div class="meta">Posted on 2003-02-20 22:54:55 by cmax</div>
   </div>
   <div class="post" id="post-82875">
    <div class="subject"><a href="#post-82875">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">Try to search for &quot;di<strong>s</strong>able&quot; also :).</div>
    <div class="meta">Posted on 2003-02-21 00:44:22 by gliptic</div>
   </div>
   <div class="post" id="post-82928">
    <div class="subject"><a href="#post-82928">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">You would think that i would have figured that out by now.  <br /><br />Anyway what i am trying to do is write my own installer.  Is there an example source anywhere in ASM.  Or are there any ready made ASM installers around.</div>
    <div class="meta">Posted on 2003-02-21 07:40:27 by cmax</div>
   </div>
   <div class="post" id="post-83194">
    <div class="subject"><a href="#post-83194">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">I dont know how preaty it would be. But it should be possible to do what you want with SetWindowsHookEx, hook the KB and Mouse and in your call back proc, edit all the messages before they get sent to any apps. But that'll be slow and messy. other than that you are probably looking at rin0 which is beyond my presant horizon.... good luck</div>
    <div class="meta">Posted on 2003-02-22 17:43:42 by dionysus</div>
   </div>
   <div class="post" id="post-83237">
    <div class="subject"><a href="#post-83237">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">All I can tell you by now is that you can disable mouse and keyboard by<br />clicking &quot;Start&quot;|&quot;Run...&quot; and enter:<br /><br />rundll32 mouse, disable<br /><br />and<br /><br />rundll32 keyboard, disable<br /><br />Which obviously calls the DISABLE functions of the mouse.drv and<br />keyboard.drv ... unfortunately, you can't use ENABLE that way, since<br />it needs some parameter, obviously.<br /><br />aweX &lt;-</div>
    <div class="meta">Posted on 2003-02-23 02:24:24 by aweX</div>
   </div>
   <div class="post" id="post-85535">
    <div class="subject"><a href="#post-85535">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">I thought this thread had no more replys.  What was said here is enough for me to work with.<br /><br />Thanks Guys</div>
    <div class="meta">Posted on 2003-03-07 01:24:20 by cmax</div>
   </div>
   <div class="post" id="post-86000">
    <div class="subject"><a href="#post-86000">...</a></div>
    <div class="body">I only know how to disable Keyboard, I dont know about Mouse.<br /><br /><pre><code><br />In al,0x21<br />xor al,2<br />Out 0x21,al<br /><br /></code></pre></div>
    <div class="meta">Posted on 2003-03-09 08:50:31 by realvampire</div>
   </div>
   <div class="post" id="post-86781">
    <div class="subject"><a href="#post-86781">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">Thanks <strong>realvampire</strong> ,<br /><br />This is Great.  I think i can just hide the mouse with my expanded Window than i got to re-boot the machine anyway afterward.  <br /><br />Thanks again<br /><br />PS:  One question realvampire,  for the record do you know how to bring it back without re-booting or do i have to re=boot.</div>
    <div class="meta">Posted on 2003-03-12 18:57:37 by cmax</div>
   </div>
   <div class="post" id="post-86786">
    <div class="subject"><a href="#post-86786">hmmm.?</a></div>
    <div class="body">What record? Boot record? or what ?</div>
    <div class="meta">Posted on 2003-03-12 19:54:44 by realvampire</div>
   </div>
   <div class="post" id="post-86841">
    <div class="subject"><a href="#post-86841">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">I may have said that wrong.  I wanted to know how to do these things and i do require to re-boot the machine but while i am here asking about it it could not hurt to find out if it can be done with out re-booting to get it the keyboard and mouse back.  dionysus post about hooking may be the only way to do that.  <br /><br />I don't understand 16 bit code yet ....  I don't know how to work your code.  it seems that is a c code numbers not asm numbers.  Did not just want to come back saying i did not understand that style of coding.</div>
    <div class="meta">Posted on 2003-03-13 06:15:30 by cmax</div>
   </div>
   <div class="post" id="post-86843">
    <div class="subject"><a href="#post-86843">C?</a></div>
    <div class="body">I Understood about 16-Bit now. :)</div>
    <div class="meta">Posted on 2003-03-13 06:20:16 by realvampire</div>
   </div>
   <div class="post" id="post-87047">
    <div class="subject"><a href="#post-87047">Disable Keyboard &amp; Mouse</a></div>
    <div class="body"><div class="quote"><br />All I can tell you by now is that you can disable mouse and keyboard by<br />clicking &quot;Start&quot;|&quot;Run...&quot; and enter:<br /><br />rundll32 mouse, disable<br /><br />and<br /><br />rundll32 keyboard, disable<br /><br />Which obviously calls the DISABLE functions of the mouse.drv and<br />keyboard.drv ... unfortunately, you can't use ENABLE that way, since<br />it needs some parameter, obviously.<br /><br />aweX &lt;- </div><br /><br />what nasty knowledge...:cool:</div>
    <div class="meta">Posted on 2003-03-14 06:12:07 by Homer</div>
   </div>
   <div class="post" id="post-87473">
    <div class="subject"><a href="#post-87473">...</a></div>
    <div class="body"><pre><code><br />Disable_KeyBoard Proc<br /><br />in al,0x21<br />xor al,2<br />out ox21,al<br /><br />ret<br />Disable_KeyBoard endp<br /><br />Enable_Key Proc<br /><br />in al,0x21<br />test al,2<br />jnz brs<br />xor al,2<br />out 0x21,al<br /><br />brs&#58;<br />ret<br />Enable_Key endp<br /><br /></code></pre><br /><br />That might Help.</div>
    <div class="meta">Posted on 2003-03-16 17:31:05 by realvampire</div>
   </div>
   <div class="post" id="post-87474">
    <div class="subject"><a href="#post-87474">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">for what type of system does this keyboard disabler work on? for me it did nothing. I was still able to type as usual.</div>
    <div class="meta">Posted on 2003-03-16 17:38:17 by Guy on ASM</div>
   </div>
   <div class="post" id="post-87477">
    <div class="subject"><a href="#post-87477">Me....,</a></div>
    <div class="body">It work for all system.<br />If you still able to type try this.<br /><br /><pre><code><br />mov al,0xFFh<br />out al,0x21<br /></code></pre><br /><br />Not just keyboard, also Timer and everything on IRQ 0~7 will be disable</div>
    <div class="meta">Posted on 2003-03-16 18:13:20 by realvampire</div>
   </div>
   <div class="post" id="post-91682">
    <div class="subject"><a href="#post-91682">Disable Keyboard &amp; Mouse</a></div>
    <div class="body">i just stumbled on this api, maybe it's what you need (haven't tried it tho)<br /><br /><strong>BlockInput Function</strong><br /><br />The BlockInput function blocks keyboard and mouse input events from reaching applications. <br /><br /><strong>Syntax</strong><br /><br />BOOL BlockInput(<br />          BOOL fBlockIt<br />);<br /><br /><strong>Parameters</strong><br /><br />fBlockIt<br /> Specifies the function's purpose. If this parameter is TRUE, keyboard and mouse input events are blocked. If this parameter is FALSE, keyboard and mouse events are unblocked. Note that only the thread that blocked input can successfully unblock input. <br /><br /><strong>Return Value</strong><br /><br />If the function succeeds, the return value is nonzero.<br /><br />If input is already blocked, the return value is zero. To get extended error information, call GetLastError. <br /><br /><br /><br /><strong>Remarks</strong><br /><br />When input is blocked, real physical input from the mouse or keyboard will not affect the input queue's synchronous key state (reported by GetKeyState and GetKeyboardState), nor will it affect the asynchronous key state (reported by GetAsyncKeyState). However, the thread that is blocking input can affect both of these key states by calling SendInput. No other thread can do this.<br /><br />The system will unblock input in the following cases: <br /><br /><br />The thread that blocked input unexpectedly exits without calling BlockInput with fBlock set to FALSE. In this case, the system cleans up properly and re-enables input. <br />Windows 95/98/Me: The system displays the Close Program/Fault dialog box. This can occur if the thread faults or if the user presses CTRL+ALT+DEL. <br />Windows 2000/XP: The user presses CTRL+ALT+DEL or the system invokes the Hard System Error modal message box (for example, when a program faults or a device fails). <br /><br />Function Information<br /><br />Import library User32.lib <br />Minimum operating systems Included in Windows 98, Windows 2000</div>
    <div class="meta">Posted on 2003-03-30 03:36:54 by Joshua</div>
   </div>
  </div>
 </body>
</html>
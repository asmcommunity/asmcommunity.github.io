<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>ReadFile &amp; Buffer - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=1736" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=3">MAIN</a> &raquo; <a href="../?id=1736">ReadFile &amp; Buffer</a></p>
   <div class="post" id="post-11095">
    <div class="subject"><a href="#post-11095">ReadFile &amp; Buffer</a></div>
    <div class="body">I want to translate the following C snippet in assembley:<br />----------------------------------<br />FILE *filenum; //the file is filled with integer number<br />int v[1000];    //betwen two integer number are 0D,0A characters<br /><br />while(!feof(filenum))<br />{<br />fscanf(filenum,&quot;%d&quot;,&amp;v<em>);<br />i++;<br />}<br />------------------------------------<br />I could use ReadFile API and put the whole file in a buffer, but I don't know if the numbers will be in the v<em> place! and then i must<br />rearrang the buffer and throw away others ASCIIS witch are not <br />numbers.<br />Or I can use fscanf, importing from a VC++ library(but I want the<br />fastest reading and maybe fscanf isn't so fast!)<br />Or i can code somethig like ReadFile and read character by character from the file and then put each number in the big array, but i will invoke ReadFIle too many times...<br /><br />Please tell me witch method shall i use to be the fastest!<br />All i want to do it to read numbers from a file and then invoke a<br />sorting function witch will sort the number array.<br /><br />Thanks,<br />         MatriX</div>
    <div class="meta">Posted on 2001-11-03 16:35:31 by MatriX</div>
   </div>
   <div class="post" id="post-11106">
    <div class="subject"><a href="#post-11106">ReadFile &amp; Buffer</a></div>
    <div class="body">I suggest skipping the translation and write code from scratch.  Problems you should focus on are:<br />&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull;Can you reserve memory or need to allocate it.<br />&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull;What format is the filie in (Constant record lengths, etc.)<br />&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;bull;What is the best sorting method</div>
    <div class="meta">Posted on 2001-11-03 17:53:29 by eet_1024</div>
   </div>
  </div>
 </body>
</html>
<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8" />
  <title>how to define section .stack in OBJ COFF? - Forums - ASM Community</title>
  <link rel="stylesheet" type="text/css" href="../../../style.css" />
  <link rel="canonical" href="../?id=13433" />
     </head>
 <body>
  <div id="header">
   <h1><a href="../../../">ASM Community</a></h1>
  </div>
  <div id="content">
   <p class="breadcrumbs"><a href="../../../">Home</a> &raquo; <a href="../../">Forums</a> &raquo; <a href="../../board/?id=47">Assemblers</a> &raquo; <a href="../?id=13433">how to define section .stack in OBJ COFF?</a></p>
   <div class="post" id="post-104051">
    <div class="subject"><a href="#post-104051">how to define section .stack in OBJ COFF?</a></div>
    <div class="body">how to define section .stack in OBJ COFF?<br />I want to compile obj coff file with the help of Open Watcom Linker Version 1.0,<br />but the linker report error:<br />Warning! W1014: stack segment not found<br /><br />What to do?<br /><br /><br /><br />;============================================<br />format COFF<br /><br />section '.code' code  <br /><br />public _start<br /><br /><br /><br />_start:<br />	jmp	_main<br />	db	'WATCOM'		; ????? ?????? ??? DOS/4GW<br /><br /><br />_main:<br /><br />	sti			; ???? ??????????<br />	cld			; ???? ???????????<br /><br /><br /><br /><br />;	mov	ax,0ee02h		; EBX then contains linear address<br />;	int	31h			; of code-segment<br />;	mov	,ebx 	; linear address of codeseg<br />;	mov	,ax		; this is an 8kb buffer in low memory<br />;	add	esi,80h<br />;	mov	,esi<br />;	mov	edi,0a0000h<br />;	sub	edi,ebx<br />;	mov	,edi<br />;	mov	edi,0b8000h<br />;	sub	edi,ebx<br />;	mov	,edi<br /><br /><br /><br /><br />mov eax,0A0000h <br />mov , byte 1<br /><br /><br /> ;<br /> ; Terminate<br /> ;<br />           mov ax, 4c00h<br />           int 21h<br />;=====================================================<br /><br /><br />lnk file:<br />op st=8192<br />form os2 le<br />file fastc2.obj<br />name fastc2.exe<br />op start=_start<br />op stub=wdosxle.exe<br /><br /><br /><br />fasm fastc2.asm fastc2.obj<br />wlink @fastc2.lnk<br /><br /><br />log file:<br />flat assembler  version 1.45<br />3 passes, 344 bytes.<br /><br />Warning! W1014: stack segment not found</div>
    <div class="meta">Posted on 2003-05-20 10:23:51 by AndreyCh</div>
   </div>
  </div>
 </body>
</html>